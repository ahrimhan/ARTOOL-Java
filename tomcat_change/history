commit 2438a590935be744d117ec100e92ad69cd48ce95
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 26 17:08:17 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51704
    Make calls to File.mkdirs() more robust and handle errors in a few places where they were ignored and should not have been.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1162169 13f79535-47bb-0310-9956-ffa450edef68

commit 71f224becc666341e2a44d8f5679313696f3f917
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 26 16:03:57 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51558
    No need to force the use of the StandardManager with addWebapp() since StandardContext will add it if it is not set.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1162149 13f79535-47bb-0310-9956-ffa450edef68

commit cf524636e700ee59f53b0a750c45682528b518b7
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Aug 26 13:07:16 2011 +0000

    Followup for r1157874 which is a Fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=51583
    Break loop immediately, because con is never set to null and you'll try releasing it twice.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1162102 13f79535-47bb-0310-9956-ffa450edef68

commit 55ca0cffca811ae53c25017c9f09413c9d9d8891
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Aug 26 12:24:56 2011 +0000

    Make the fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=50394 done in r1148815 more explicit.
    No functional change.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1162082 13f79535-47bb-0310-9956-ffa450edef68

commit b0a48d7d03c5a60b41462a5aabb7fc1e2f8d580e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Aug 25 14:45:13 2011 +0000

    Tweak the message validation.
    Body messages don't have terminators
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1161584 13f79535-47bb-0310-9956-ffa450edef68

commit 6ce061da85227b647299f1d20c85611df5fbd086
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Aug 25 13:06:04 2011 +0000

    Correct message
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1161549 13f79535-47bb-0310-9956-ffa450edef68

commit c9292215d4035578d8da42ba5315c8bc6dd07e7c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Aug 25 12:30:22 2011 +0000

    Revert r1160772 & r1160774.
    These changes turned out to be unnecessary.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1161540 13f79535-47bb-0310-9956-ffa450edef68

commit b5c6dbf7942ce1d12ae112d8ebbba630d90dadb0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Aug 25 10:38:32 2011 +0000

    Detect incomplete AJP messages and reject the associated request if one is found
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1161486 13f79535-47bb-0310-9956-ffa450edef68

commit 3f825e4f6adfd774cfb5931a5ac2913b715f419d
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Aug 25 00:25:33 2011 +0000

    Followup to r1161322.
    Do not pass exception to message template, because exception itself is logged as well.
    Remove argument from message templates that is never passed.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1161339 13f79535-47bb-0310-9956-ffa450edef68

commit 1b7e69d452f7a59c07a67cf4b540847fafbf3fd8
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Aug 24 23:46:50 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51713
    Improve message that is logged if there is a typo in the value of protocol in a <Connector> element.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1161322 13f79535-47bb-0310-9956-ffa450edef68

commit 67c98b9a45351faf568fdcaa0802d1970f624817
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Aug 24 22:45:00 2011 +0000

    Fix two typos in tomcat.nsi (uppercase vs. lowercase in a macro call and in a message)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1161310 13f79535-47bb-0310-9956-ffa450edef68

commit e2f76e96f2114f4b78ae32bbffd7033981e3f847
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Aug 24 22:25:03 2011 +0000

    Forward-port r1159673 and r1159680 from tc7.0.x
    Fixes http://issues.apache.org/bugzilla/show_bug.cgi?id=51688
    JreMemoryLeakPreventionListener now protects against AWT thread creation. (schultz)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1161303 13f79535-47bb-0310-9956-ffa450edef68

commit e69606ad2c6c0628f328406f0f0e457ab3d19e09
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 23 16:22:03 2011 +0000

    Add the ability to swallow input by specifying a null chunk
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1160776 13f79535-47bb-0310-9956-ffa450edef68

commit dd1219b7133b4d5427909845346661cbd7b393ab
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 23 16:20:42 2011 +0000

    Add ability to track bytes read
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1160774 13f79535-47bb-0310-9956-ffa450edef68

commit bcb82c65b37d8f2378e67e0a0f735998a268c332
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 23 16:17:20 2011 +0000

    Rename
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1160772 13f79535-47bb-0310-9956-ffa450edef68

commit 366c013f2890c17bb6b4ca9b4ba7bf1324fc4f2e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 23 14:50:27 2011 +0000

    Pull up refillReadBuffer()
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1160721 13f79535-47bb-0310-9956-ffa450edef68

commit 8816aa86c0aa12549e6aeafb51554a810e2ab2a5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 23 14:47:50 2011 +0000

    Re-order. No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1160720 13f79535-47bb-0310-9956-ffa450edef68

commit 56feb6a40871b572f9e1c652902197c04745efdd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 23 12:19:20 2011 +0000

    Pull up finish() so output() is used consistently to wrote closing message
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1160652 13f79535-47bb-0310-9956-ffa450edef68

commit ebe2c9ee2fe659f780ecc2cf3d61d8be98b56634
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 23 11:40:05 2011 +0000

    Pull up flush()
    APR (like BIO and NIO) now writes each AJP packet to the socket as soon as it is ready
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1160639 13f79535-47bb-0310-9956-ffa450edef68

commit fa9499c1696438e7cb0d3178ebe62fc4de5849f3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 23 11:07:29 2011 +0000

    Pull up AJP SocketOutputBuffer
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1160626 13f79535-47bb-0310-9956-ffa450edef68

commit 8f1a8d5dc9e214efcf355556c4c8fbc824e1e9ad
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 23 11:00:02 2011 +0000

    Rename since this message is used for response headers and response body
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1160619 13f79535-47bb-0310-9956-ffa450edef68

commit e19bc546a2a5f69b3c39faf479a632334679530e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 23 10:41:02 2011 +0000

    Organise code. No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1160611 13f79535-47bb-0310-9956-ffa450edef68

commit 813fd4e7eed4b3e2fc8884f0ed00c8aa83c42273
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 23 09:17:59 2011 +0000

    Remove unnecessary (duplicate) code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1160592 13f79535-47bb-0310-9956-ffa450edef68

commit 6f33c47702a0093296e90da021ab4068888e3180
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 22 17:56:32 2011 +0000

    Remove deprecated code for Tomcat 8
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1160348 13f79535-47bb-0310-9956-ffa450edef68

commit b0046314fecd12915518bbce1b1d1426a1003695
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 22 17:55:14 2011 +0000

    Ensure AjpMessage header is correct for the direction in which the message is being sent
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1160347 13f79535-47bb-0310-9956-ffa450edef68

commit e9b91547bf0fc4626434bfe7716f426f1b954762
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 22 17:23:12 2011 +0000

    Correct comment
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1160343 13f79535-47bb-0310-9956-ffa450edef68

commit 7ff852d942d3b8409aa13ed7b3a9d73a80164aec
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 16 20:40:23 2011 +0000

    Comment typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1158437 13f79535-47bb-0310-9956-ffa450edef68

commit 6817c605f7e378efce488914f4b566cfe2361b78
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 16 19:28:06 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49683
    Use separate timeouts for socket  Timeout and keep-alive timeout
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1158426 13f79535-47bb-0310-9956-ffa450edef68

commit 956cde7a5f2f9b3255c4a1c4fddff105f3d21e9f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 16 15:52:19 2011 +0000

    Timeouts are ints
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1158335 13f79535-47bb-0310-9956-ffa450edef68

commit cd9936ef62295a13631514ed76e2897e292b869d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 16 15:51:49 2011 +0000

    Remove unused method
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1158334 13f79535-47bb-0310-9956-ffa450edef68

commit d8219002a9d908c6b584231bd4c173f49b299653
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 16 15:45:46 2011 +0000

    Align keep-alive disable capability across all HTTP processors
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1158331 13f79535-47bb-0310-9956-ffa450edef68

commit c1a69b4170ad6ac5e457de40c6b68d5fe5da5029
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 16 12:19:49 2011 +0000

    Align keep-alive count tracking for HTTP
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1158227 13f79535-47bb-0310-9956-ffa450edef68

commit 5f9533d57684339ebd2c5add26b6f05aafb1434b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 16 11:12:13 2011 +0000

    Make handling of keep-alive timeout consistent
    No need for local variable, processor has the keep-alive timeout
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1158199 13f79535-47bb-0310-9956-ffa450edef68

commit 99beeebf438ce36e094599578a851f7a6384d52e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 16 11:11:31 2011 +0000

    Fix generics warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1158198 13f79535-47bb-0310-9956-ffa450edef68

commit db0f71eb5f084225907f3b5021fa1f1869cc3834
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 16 11:02:08 2011 +0000

    No need for local variable, processor already has the keep-alive timeout
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1158195 13f79535-47bb-0310-9956-ffa450edef68

commit 08761300d0d1932a6b463e233645f4624838b7c4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 16 10:03:00 2011 +0000

    nOnce -> nonce for consistency
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1158176 13f79535-47bb-0310-9956-ffa450edef68

commit 24d44ae427cfac360273e97ae9cf80e42ac4ac4e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 16 09:06:22 2011 +0000

    BIO doesn't use comet but align code with NIO/APR.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1158160 13f79535-47bb-0310-9956-ffa450edef68

commit 69c56f6ab4ca49b5e1a64a21ab6c1710a11111ce
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 16 08:46:07 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51658
    Fix copy/paste error that could trigger an NPE.
    Based on a suggestion by Felix Schumacher
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1158155 13f79535-47bb-0310-9956-ffa450edef68

commit 4ad8f121a6278e635ef4cb067618c1f97a038498
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 15 18:50:25 2011 +0000

    Clean-up I do not intend to back-port (non-critical and changes the Host API)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1157943 13f79535-47bb-0310-9956-ffa450edef68

commit 0922fc3cf5b4c6fc44b3b81680a5f1ea2295a7df
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 15 18:38:16 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51654
    Log an error message if an appBase is specified that is not a directory and disable automatic deployment to prevent subsequent errors.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1157939 13f79535-47bb-0310-9956-ffa450edef68

commit 6aa1505f306f04fde9d5748d27a08bc328263e7f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 15 16:53:42 2011 +0000

    Fix benchmark tests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1157908 13f79535-47bb-0310-9956-ffa450edef68

commit 6c047873f8888e4e7e13dc4e8cede5a2866856f5
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Aug 15 15:06:35 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51583
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1157874 13f79535-47bb-0310-9956-ffa450edef68

commit 2c37780a6ed2b7d8bb58de769201385cd1af541f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 15 14:25:05 2011 +0000

    Remove unused method
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1157860 13f79535-47bb-0310-9956-ffa450edef68

commit d2d4be8bc6c4d33c683ada58ab02c64c360ada66
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 15 13:52:18 2011 +0000

    Also seeing similar failures with NIO & APR
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1157847 13f79535-47bb-0310-9956-ffa450edef68

commit 762a730b7cfbad6b72cf0c2df2db4639527c17bf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 15 13:14:12 2011 +0000

    Better fix for timing issues on Linux with unit tests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1157834 13f79535-47bb-0310-9956-ffa450edef68

commit 5953a9c6884062f3bb108f2a09f3601565d1ce5c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 15 13:03:34 2011 +0000

    Attempt to fix timing issues on Linux unit tests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1157832 13f79535-47bb-0310-9956-ffa450edef68

commit c31d61eca6d11db79a007ac4ab1c6ebce719893f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 15 12:29:58 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51653
    Move custom error handling from Host to Context.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1157810 13f79535-47bb-0310-9956-ffa450edef68

commit 8370bbe38582c3ca6b5bd86811ad49dfa39b3316
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 12 18:24:21 2011 +0000

    Align OutputBuffer initialisation across the connectors
    Reduce visibility of properties and methods
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1157204 13f79535-47bb-0310-9956-ffa450edef68

commit 65bd0354e652413c99d98d67555582d673bf3883
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 12 17:59:22 2011 +0000

    Align InputBuffer initialisation across the connectors
    Remove unused code
    Reduce visibility of properties and methods
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1157198 13f79535-47bb-0310-9956-ffa450edef68

commit 0635e1ec93eb5f1d938eb4d4c3216a48d471f220
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Aug 12 15:40:01 2011 +0000

    remove file not needed anymore
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1157161 13f79535-47bb-0310-9956-ffa450edef68

commit 1f8fa99b9d8c7ec19baa49bf127272bd10296e1b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 12 15:17:50 2011 +0000

    Push down inputStream as it is only used by BIO
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1157151 13f79535-47bb-0310-9956-ffa450edef68

commit 5266ab0ec84811797163d42b9650d24e94f64485
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 12 09:09:32 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51650
    Code clean-up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1157018 13f79535-47bb-0310-9956-ffa450edef68

commit 97b3cecb7df56bfa0bf5e61401926fc66691afcb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 12 09:00:24 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51649
    Document ThreadLocalLeakPreventionListener
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1157015 13f79535-47bb-0310-9956-ffa450edef68

commit 5813ada089c1d3c9e6ce5c06961e42754d24f018
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Aug 11 13:17:20 2011 +0000

    Document two new compiler warnings added in Eclipse 3.7 Indigo.
    These could be Warnings, but more experience is needed first. "Ignore" are their default values.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1156608 13f79535-47bb-0310-9956-ffa450edef68

commit 613d8afa7fbc474ac787eb1ce17316b39a095fd0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Aug 11 12:46:27 2011 +0000

    Follow up to r1156530. Filter URL (mainly in case of &).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1156602 13f79535-47bb-0310-9956-ffa450edef68

commit a0aff89c0d6621208581c81f4a321f5c3c2d294c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Aug 11 08:13:56 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=41718
    RFC2616 says redirects should include a response body.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1156530 13f79535-47bb-0310-9956-ffa450edef68

commit 64b6837cab8bd30d90017686013d0afc4705e9dd
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Thu Aug 11 07:39:44 2011 +0000

    Unregisters MBean of DataSource when web application stops.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1156519 13f79535-47bb-0310-9956-ffa450edef68

commit aec013980540b364dec73b8e065f125b552a54c8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Aug 10 18:37:56 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=41673
    Use platform line endings when reporting error messages
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1156304 13f79535-47bb-0310-9956-ffa450edef68

commit e730092392181b7069adadc06dd9c87b06737f38
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Aug 10 17:57:25 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51644
    Annotation scanning was broken for contexts with a multi-level context path such as /a/b
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1156276 13f79535-47bb-0310-9956-ffa450edef68

commit e9128f78d8ea92ec6e47acd649d754815dde59c3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Aug 10 13:33:59 2011 +0000

    Remove unnecessary svn:mergeinfo properties
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1156174 13f79535-47bb-0310-9956-ffa450edef68

commit d8b8d60abf499818f7c9d1b0162276e086ec2b74
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Aug 10 13:22:52 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51640
    Improve memory leak protection for DriverManager
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1156171 13f79535-47bb-0310-9956-ffa450edef68

commit 363a33847c7510cced615b509d020653bb8bf2eb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Aug 10 11:43:09 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51641
    Connections map uses NioChannel, not <SocketWrapper<NioChannel>
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1156115 13f79535-47bb-0310-9956-ffa450edef68

commit 8a6f3b2df9080767c460ae032d13c1931e32089a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 9 15:41:09 2011 +0000

    Ideas for Tomcat 8
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1155408 13f79535-47bb-0310-9956-ffa450edef68

commit 281b3fc8402ac38008a7f8666dac56d5ee810f91
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 9 15:36:44 2011 +0000

    Prep the changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1155406 13f79535-47bb-0310-9956-ffa450edef68

commit 7450531d6c73c89c491ea6cbf6328db17c477a26
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 9 15:25:46 2011 +0000

    Missed a version change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1155400 13f79535-47bb-0310-9956-ffa450edef68

commit 94bfa35276dc3f0a8c37306aef33f5308657e4fc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 9 15:22:38 2011 +0000

    Update the same Eclipse files
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1155398 13f79535-47bb-0310-9956-ffa450edef68

commit f71cd39a7b63f7765ab32644e5a12d32b78e3498
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 9 15:21:59 2011 +0000

    Update Maven release versions
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1155397 13f79535-47bb-0310-9956-ffa450edef68

commit 54fc1ed2e279d41671c61eeced1f44a38ba8a8e7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 9 15:21:14 2011 +0000

    Remove some old info.
    Update the change log info.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1155395 13f79535-47bb-0310-9956-ffa450edef68

commit 9de6859762e6acdaedf03572000de92401045558
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 9 15:18:58 2011 +0000

    Update version numbers to 8.0.x
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1155393 13f79535-47bb-0310-9956-ffa450edef68

commit b21a63186320ef75199e9037cb1249447ff26ed7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 9 08:28:18 2011 +0000

    Update post tag
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1155257 13f79535-47bb-0310-9956-ffa450edef68

commit 16f562f9de6abf655552911ee05864cc18aa8603
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 8 10:42:49 2011 +0000

    Upadte to 1.1.22 of the native connector
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1154911 13f79535-47bb-0310-9956-ffa450edef68

commit 4f79c3f078b272c89f7623efafd0637628585201
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 8 10:20:40 2011 +0000

    Add missing getter and setter for the alwaysUseSession attribute of the authenticators.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1154902 13f79535-47bb-0310-9956-ffa450edef68

commit 3ea1a990b3050f358d7c7886812506c18e000896
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 8 09:57:05 2011 +0000

    Correctly indicate if socket is closing when calling recycle for the AJP NIO processor. Note since the flag is unused in this case there were no bugs triggered by the re-factoring error. (rjung)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1154897 13f79535-47bb-0310-9956-ffa450edef68

commit 23a59064ed5b5ba5c8eed3d8f40aa14ef6fce6b5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 7 10:47:38 2011 +0000

    Correctly nest locks and unlocks to resolve FindBugs warning
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1154691 13f79535-47bb-0310-9956-ffa450edef68

commit 73d8ff3603c2f82343e5c84103fbed285bba5c1f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 7 10:37:16 2011 +0000

    Only try and create the dir if it doesn't already exist
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1154689 13f79535-47bb-0310-9956-ffa450edef68

commit 12b69dcbb123d1482635793e0483e93ccdbfb795
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Aug 6 20:58:51 2011 +0000

    Rename socket -> socketWrapper
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1154586 13f79535-47bb-0310-9956-ffa450edef68

commit 8b1619834172b35e46b4c5b24ee492d7169b3b9c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Aug 6 20:56:54 2011 +0000

    Align HTTP NIO with BIO and APR and hold a reference to the socket wrapper not the raw socket in the Processor.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1154584 13f79535-47bb-0310-9956-ffa450edef68

commit 5834d5c195a4a0740c9615baf04fbacb55ca668d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Aug 6 20:49:52 2011 +0000

    Start to align process method
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1154583 13f79535-47bb-0310-9956-ffa450edef68

commit a22698488e5d9dbbee196d89e4ef0cd4f3999666
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Aug 6 20:28:35 2011 +0000

    Fix some false npe warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1154579 13f79535-47bb-0310-9956-ffa450edef68

commit e80a3b9a0861d1218f7279dbe8b791d3c581b8f8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Aug 6 20:19:29 2011 +0000

    Missing @Override markers
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1154575 13f79535-47bb-0310-9956-ffa450edef68

commit 1c438294f7d78ca05f797a399da5375c7583930e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Aug 6 20:00:39 2011 +0000

    Fix a small number of warnings reported by FindBugs.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1154574 13f79535-47bb-0310-9956-ffa450edef68

commit f50f14b1276841ed6b964b28c8f97a6560bfe657
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Aug 6 19:24:49 2011 +0000

    Remove error message since a) it is provides very little / no useful information and b) writing to stderr is just plain wrong.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1154571 13f79535-47bb-0310-9956-ffa450edef68

commit 175e177341f3bfc22b6264aeed4110875a5cfe2c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 5 18:08:53 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51621
    Add additional required JARs to the deployer distribution.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1154330 13f79535-47bb-0310-9956-ffa450edef68

commit 0b85ee8c8d50cbb0e409db833cd1bb7162fb2c1f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 5 17:17:48 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51615
    Code clean-up.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1154321 13f79535-47bb-0310-9956-ffa450edef68

commit a0b31a729c1feafef74280c9ea26c0e217408ab8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 5 16:31:41 2011 +0000

    Prevent spurious log warnings on container stop if a child component has previously failed.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1154298 13f79535-47bb-0310-9956-ffa450edef68

commit ed207e6c50daf408989077be469b27d33dc05cfb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 5 16:29:58 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51610
    Make lifecycle transitions more robust at handling unchecked exceptions
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1154297 13f79535-47bb-0310-9956-ffa450edef68

commit fe6a361ea868c18a7f602afaeec2e27276833316
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 5 16:26:21 2011 +0000

    Expand description
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1154296 13f79535-47bb-0310-9956-ffa450edef68

commit 10e689da23a4ca5934768c694cbe0c53e09f0ec6
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Thu Aug 4 11:45:53 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51614
    Avoid two times calls of store.load() and session.expire() in PersistentManager.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1153854 13f79535-47bb-0310-9956-ffa450edef68

commit 767ce588a6194d8c107d43bbe0bc7793f05ace4b
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Aug 4 04:01:23 2011 +0000

    Allow to have several AccessLogValve instances in the same scope (e.g. in the same Context).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1153745 13f79535-47bb-0310-9956-ffa450edef68

commit b2f43e07d9e79a8b3d6548af9aec7989200cc773
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Aug 4 03:53:27 2011 +0000

    Split "condition" attribute of AccessLogValve into two, "conditionIf" and "conditionUnless".
    Implement conditional logging that logs only if a request attribute is present.
    The old attribute "condition" is provided as well, for backwards compatibility, and is equal to "conditionUnless".
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1153742 13f79535-47bb-0310-9956-ffa450edef68

commit 3c19582a90d28b0c28de577cdd9afafdaf315074
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Aug 3 22:57:35 2011 +0000

    Update logging documentation
    1. Place a better note that Log4J configuration is not needed if it is only osed by one's webapp.
    2. Rearrange Log4J configuration section and document how configure it to be used by a single CATALINA_BASE only.
    3. Add "productive usage considerations" subsection to JULI one.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1153696 13f79535-47bb-0310-9956-ffa450edef68

commit 8017f8522081aa85479fa07274570793c409288d
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Aug 3 16:41:47 2011 +0000

    Explicitly configure what icon is used with Tomcat in the list of uninstallable programs on Windows.
    
    Before this it somehow used the icon from Tomcat<N>.exe (feather(, but when the service name contains "-" Windows somehow was not able to find the icon and displayed a default one. With this change the Tomcat (cat) icon will be used.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1153573 13f79535-47bb-0310-9956-ffa450edef68

commit 4475e36e6f703995341e370be67c186723665a3e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Aug 3 10:36:33 2011 +0000

    Add info on ciphers
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1153423 13f79535-47bb-0310-9956-ffa450edef68

commit 103a6c1b136e959639d2c2579f26a306dc758dc6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Aug 3 07:53:29 2011 +0000

    Update to daemon 1.0.7
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1153379 13f79535-47bb-0310-9956-ffa450edef68

commit a838a6a751bffbeb19313be67ec8ee6a95b4400e
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Tue Aug 2 11:51:20 2011 +0000

    Committing connection if autoCommit is false.
    Make sure committed connection is returned to the pool if datasource is enabled.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1153099 13f79535-47bb-0310-9956-ffa450edef68

commit 7b1cdebb9ec38392bd811b9e7be6c76bd70ec727
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 2 09:22:24 2011 +0000

    Prevent direct invocation of the Windows uninstaller without a service name from executing since the uninstall will not be complete.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1153075 13f79535-47bb-0310-9956-ffa450edef68

commit d60311add4c46a9e5f8fef29747273c1e7ced406
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Aug 2 09:13:39 2011 +0000

    Remove path attribute from examples of <Context> where this attribute is not needed.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1153074 13f79535-47bb-0310-9956-ffa450edef68

commit 34059fc0f6617c451610f2479af434f74ccd92fd
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Aug 2 03:54:38 2011 +0000

    Correct relative links. It is followup to r1151537.
    CTR: Docs
    
    These pages are already inside "docs", so there should be no "docs/" in relative links.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1153016 13f79535-47bb-0310-9956-ffa450edef68

commit 05ad303be8762b1b10d88c5bb0c20af698889c94
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 2 00:54:27 2011 +0000

    Quote the service name parameter in the registry as well as in the shortcut
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1152988 13f79535-47bb-0310-9956-ffa450edef68

commit 58ba7bb9892b3325f787d55fbd81a9527e234977
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 1 17:03:56 2011 +0000

    Correctly handle uninstall with the Windows installer of the service is installed with a name that contains a '-' character.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1152863 13f79535-47bb-0310-9956-ffa450edef68

commit a57e5b459c876c0a3ef22a2aa49f667b85a4bc87
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 1 14:41:28 2011 +0000

    Remove unused files
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1152805 13f79535-47bb-0310-9956-ffa450edef68

commit aba6ee29da33e940fb3822b87313870614303abc
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Aug 1 09:59:44 2011 +0000

    Simplify mapping for jsp servlet in the default web.xml.
    Multiple url-pattern values in the same servlet-mapping are supported since Servlet 2.5.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1152722 13f79535-47bb-0310-9956-ffa450edef68

commit 0e7ebf1a92676246b62800f710fd541b3bd4ba16
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Aug 1 09:53:04 2011 +0000

    Remove resolveHosts attribute from AccessLogValve configuration in the default server.xml.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1152719 13f79535-47bb-0310-9956-ffa450edef68

commit 1cfb398ad8de11a90f0794bb3b26bd939e6abbc7
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Aug 1 09:41:53 2011 +0000

    Additional comments about resolveHosts attribute of AccessLogValve.
    - The resolveHosts attribute could be used to change the meaning of "common" and "combined" patterns (as it still does in JDBCAccessLogValve), so I mentioned in the docs what to do when that is what the admin wants.
    - Align Javadoc with Configuration Reference.
    - Mention the effect of enableLookups attribute of connector on ExtendedAccessLogValve.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1152716 13f79535-47bb-0310-9956-ffa450edef68

commit bf066eabad710363773e08c87468d38a10bcdbae
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 31 19:34:14 2011 +0000

    Ensure that calls to StandardWrapper methods() that may trigger creation of a Servlet instance always do so in way that correctly instantiates a Servlet instance.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1152621 13f79535-47bb-0310-9956-ffa450edef68

commit 61ffba3b6c0b60edcb7c7a45ac73e807855af860
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 31 18:21:56 2011 +0000

    Remove unnecessary call. Reduce timeout.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1152610 13f79535-47bb-0310-9956-ffa450edef68

commit d27b411209def6ebd6678d4945c6be2217ee8b70
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 31 17:39:25 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51588
    Make it easier to extend the AccessLogValve to add support for custom elements.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1152601 13f79535-47bb-0310-9956-ffa450edef68

commit 72645f5207d76e4d62fc4426f8b1439e06bc4502
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 31 17:08:43 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51586
    Expand error handling to cover anything that is recoverable (or might be recoverable) when loading classes during HandlesTypes processing.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1152595 13f79535-47bb-0310-9956-ffa450edef68

commit 8921d57c6e526fa72bb0de99d2ae97952dd49635
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 31 16:59:39 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51584
    Ensure file paths are encoded/decoded when translated to/from URLs so special characters don't cause issues.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1152593 13f79535-47bb-0310-9956-ffa450edef68

commit 23a775b168f5b7cb05b95f353a2585811aaad348
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Jul 30 13:57:51 2011 +0000

    Improve class loading documentation
    
    Improve documentation about $CATALINA_HOME/endorsed.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1152463 13f79535-47bb-0310-9956-ffa450edef68

commit 7829d57deeb4647fe5b20813d04c444c1467b8f3
Author: Rainer Jung <rjung@apache.org>
Date:   Fri Jul 29 22:08:20 2011 +0000

    Set "reuse" flag of final AJP "END_RESPONSE"
    packet to "0" if we plan to close the connection.
    
    mod_jk will respect it and I just committed
    the same to mod_proxy_ajp in httpd trunk.
    
    If the web server does not respect it, things do
    not get worse by nevertheless setting the flag,
    because the patch does not change whether we actually
    close the connection or not.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1152385 13f79535-47bb-0310-9956-ffa450edef68

commit a052b055fc9e206e373689c6f2c0b4b3c54180c4
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Jul 29 19:49:58 2011 +0000

    Improve class loading documentation
    
    Review existing documentation. Rephrase and reformat some statements.
    
    Documented $CATALINA_BASE/bin/tomcat-juli.jar.
    Documented new JARs in $CATALINA_HOME/lib, that were not present in Tomcat 6.
    
    More changes to this document are to follow.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1152352 13f79535-47bb-0310-9956-ffa450edef68

commit 76f08c58417bb4233b9b80a11b8904254bee5041
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 29 18:28:42 2011 +0000

    Add a unit test that confirms that comet sockets are closed when the connector is stopped.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1152333 13f79535-47bb-0310-9956-ffa450edef68

commit df238ce5cbcea68bc513573a4f6727ebbc1942fe
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 29 12:52:26 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51567
    Update the class loading page of the documentation web application to include information on the search order for the common class loader when separate values are used for $CATALINA_HOME and $CATALINA_BASE.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1152192 13f79535-47bb-0310-9956-ffa450edef68

commit f565bf34d356382f6251e726fdc3b70ed8ae0d84
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 28 18:16:39 2011 +0000

    Ensure APR socket is not added to multiple pollers.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1151953 13f79535-47bb-0310-9956-ffa450edef68

commit 8c80f11bd870d3b974c16a636f62c9cd09756b68
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 28 17:12:42 2011 +0000

    Improve error handling for APR connector if sendfile fails
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1151930 13f79535-47bb-0310-9956-ffa450edef68

commit 8ba73277a47b5616e02acdaafc9132dbad339b2e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 28 12:50:04 2011 +0000

    Catch less specific exception to deal with intermittent failures with OpenJDK
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1151825 13f79535-47bb-0310-9956-ffa450edef68

commit 8b9fc8a22cbb8801e12231407e263c3f27a9d59a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 27 16:58:36 2011 +0000

    Typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1151532 13f79535-47bb-0310-9956-ffa450edef68

commit 5b50a3b215c641df6de73b725a42e7c0edf8eabe
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 27 15:11:35 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48997
    Fixed some typos and correct cross-referencing to the HTTP Connector documentation with the SSL How-To page of the documentation web application.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1151493 13f79535-47bb-0310-9956-ffa450edef68

commit a4ec3d1cb06a391189635a4ce0ef233ea6e25a5e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 27 12:23:28 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49122
    Layout improvements and tweaks
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1151444 13f79535-47bb-0310-9956-ffa450edef68

commit 79d6f83ade4523f6a59afe85dad52abd91cc44da
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Wed Jul 27 09:58:20 2011 +0000

    Correct LocalStrings.properties.
    Some invalid messagekeys are removed.
    e.g.
     remove AsyncSocketSender.XXX and FastAsyncSocketSender.XXX keys.
     ReplicationValve.XXX and SimpleTcpCluster.XX are removed from org.apache.catalina.tribes.transport.LocalStrings.properties.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1151408 13f79535-47bb-0310-9956-ffa450edef68

commit 866d0296f1c88ccc1d8a8dc0938564f7faa96f76
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 27 09:13:36 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51561
    Recommend the use of digest.[bat|sh] to generate digests rather than calling RealmBase directly.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1151395 13f79535-47bb-0310-9956-ffa450edef68

commit d5cfd5643bdd5809746c90502a0f33ee4207665c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 27 09:10:11 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51557
    Ignore HTTP headers that do not comply with RFC 2616 and use header names that are not tokens.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1151394 13f79535-47bb-0310-9956-ffa450edef68

commit 135212cdb1883cecabb2c10fbdea889cda421c1a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 27 08:55:02 2011 +0000

    This is now available
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1151389 13f79535-47bb-0310-9956-ffa450edef68

commit ef9e78d9d7b73ec564cebbfe1c75a72d16f51eae
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 26 20:56:27 2011 +0000

    Fix SSL unit test failures with APR/native
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1151240 13f79535-47bb-0310-9956-ffa450edef68

commit 248c9c71023bdc976029853f09a274c03c97b45d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 26 12:28:00 2011 +0000

    Tests are run with all three HTTP connectors. No need for separate tests.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1151074 13f79535-47bb-0310-9956-ffa450edef68

commit 235298d52bf47efe93586a31a360cd040584b2cd
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Jul 26 09:49:26 2011 +0000

    Update to checkstyle 5.4
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1151046 13f79535-47bb-0310-9956-ffa450edef68

commit ba9dddc3fea097eaa7bca8b0bfbb81802e92a4ac
Author: Tim Whittington <timw@apache.org>
Date:   Tue Jul 26 09:41:36 2011 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=51545
    
    Adding ability to log current request thread name in ExtendedAccessLogValve using Tomcat specific x-threadname pattern format token.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1151043 13f79535-47bb-0310-9956-ffa450edef68

commit da7877efc6d1e92e15d34e8f3d765b941ef5a0ab
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 26 08:25:46 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51555
    Permit an additional lifecycle transition. Allow destroy() to be called on components that are initialized. This can occur in some start failure scenarios.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1151016 13f79535-47bb-0310-9956-ffa450edef68

commit 7391e6f614a4537ebad4f8c1ba0048f02f5218ba
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Jul 26 02:58:29 2011 +0000

    Converting tribes tests to JUnit 4 - done.
    Update changelog.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1150975 13f79535-47bb-0310-9956-ffa450edef68

commit 67113bfd97dad7f0ec940cd01e32d6a18a0c8847
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Jul 26 02:39:35 2011 +0000

    Converted tribes tests to JUnit 4.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1150974 13f79535-47bb-0310-9956-ffa450edef68

commit 45e3a88cd58fa88f891bbc5a80ff5c6a34a9f74c
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 25 22:20:19 2011 +0000

    Conversion of TomcatBaseTest classes to JUnit 4 completed.
    Rename TomcatBaseTestJUnit4 -> TomcatBaseTest.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1150939 13f79535-47bb-0310-9956-ffa450edef68

commit 67b920e4baed104413004d144d7a2fe58250dc44
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 25 22:09:37 2011 +0000

    Converted the tests to JUnit 4.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1150933 13f79535-47bb-0310-9956-ffa450edef68

commit 0474e7a61850ba465eb1d3766b8bc4aeeecfea44
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 25 21:04:30 2011 +0000

    Converted the tests to JUnit 4.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1150907 13f79535-47bb-0310-9956-ffa450edef68

commit 5094aae811c84a4b7ba4d9d228dfb9ae8512e0a0
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 25 20:46:11 2011 +0000

    Converted the tests to JUnit 4.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1150899 13f79535-47bb-0310-9956-ffa450edef68

commit 6642eaa16d97ec1b11cd60e2a761f9c844edca37
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 25 20:30:58 2011 +0000

    Converted the tests to JUnit 4.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1150890 13f79535-47bb-0310-9956-ffa450edef68

commit 7cf115500a312b6e676fe8b51c9f8bafbe40cddb
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 25 20:11:41 2011 +0000

    Converted the tests to JUnit 4.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1150877 13f79535-47bb-0310-9956-ffa450edef68

commit c1193ce50fe72004af371bd5609ab550d778c6ef
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 25 19:54:21 2011 +0000

    Converted the tests to JUnit 4.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1150866 13f79535-47bb-0310-9956-ffa450edef68

commit 3433528953d76ba208b1ba9cd045a01a93bb67ab
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 25 19:45:04 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51550
    Stop the adaptor swallowing internal errors.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1150864 13f79535-47bb-0310-9956-ffa450edef68

commit 7a28ce6e5a5b97a3b4dfb8759a8e9b51bd15d8d4
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 25 19:25:22 2011 +0000

    Converted the tests to JUnit 4.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1150855 13f79535-47bb-0310-9956-ffa450edef68

commit 7190b55acb07b729bf8c39d0fc256e0524fede20
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 25 18:56:58 2011 +0000

    Converted the tests to JUnit 4.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1150846 13f79535-47bb-0310-9956-ffa450edef68

commit 56801408ba8801a54392441486aab9cb0b68844f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 25 16:23:39 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51544
    Correctly resolve bean methods in EL so accessible methods that are overridden by inaccessible methods do not cause an IllegalAccessException.
    Modify test case to catch this problem on Oracle and OpenJDK JREs.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1150767 13f79535-47bb-0310-9956-ffa450edef68

commit 63480d6df7e0e262b0bc3057e3ef875374f0983e
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 25 16:10:50 2011 +0000

    Converted the tests to JUnit 4.
    
    TomcatBaseTestJUnit4 is a copy of TomcatBaseTest converted to JUnit 4,
    to be used until conversion is completed.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1150764 13f79535-47bb-0310-9956-ffa450edef68

commit 011f88a100262914506ead2bf17f9300853c34ff
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 25 15:57:51 2011 +0000

    Converted the tests to JUnit 4.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1150761 13f79535-47bb-0310-9956-ffa450edef68

commit e797afbb7a1a569bea835d2e63162bd7fabe3b8f
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 25 15:22:30 2011 +0000

    Converted the tests to JUnit 4.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1150747 13f79535-47bb-0310-9956-ffa450edef68

commit 33528f63f37e0682d185c33a5e9eda2c14c6b3c7
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 25 14:45:37 2011 +0000

    Converted the tests to JUnit 4.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1150727 13f79535-47bb-0310-9956-ffa450edef68

commit 4201c073267c3552f7db9e5875163e9aec48f889
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 25 13:18:20 2011 +0000

    Update checkstyle rules to treat imports of "org.junit" as a separate group vs. "org".
    
    Convert simple tests in the following packages to JUnit 4:
    org.apache.catalina.filters.*
    org.apache.catalina.ha.session.*
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1150690 13f79535-47bb-0310-9956-ffa450edef68

commit c38de62b18a53da3729d188a39df5fade2ee1e67
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 25 12:04:32 2011 +0000

    Converted tests in org.apache.catalina.deploy to JUnit 4.
    
    1) textXXX() -> @Test added
    2) protected setUp() -> @Before public setUp()
    3) in TestSecurityConstraint: There is no assertEquals(boolean, boolean) method in JUnit 4,
    so those calls were replaced with assertTrue() and assertFalse().
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1150652 13f79535-47bb-0310-9956-ffa450edef68

commit 74c86af2556aad063155a413ddacee2d8e1f58c5
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 25 11:54:05 2011 +0000

    Update checkstyle configuration to allow static imports of org.junit.Assert members.
    This is for JUnit 4.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1150644 13f79535-47bb-0310-9956-ffa450edef68

commit 640065568adb6fd330c06ff54a39812677b31d1d
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 25 10:40:03 2011 +0000

    Update project to use JUnit 4 libraries.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1150623 13f79535-47bb-0310-9956-ffa450edef68

commit 70885fe9e243b33583508950439733e35a701c71
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 24 11:12:58 2011 +0000

    Another test case for bug 51544
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1150339 13f79535-47bb-0310-9956-ffa450edef68

commit 50ca987347e6f50d397c6644c9697db26f666f1f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 24 10:59:10 2011 +0000

    Add tests for bug 51544 (note tests pass - can't reproduce error yet)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1150336 13f79535-47bb-0310-9956-ffa450edef68

commit a629d4ef9a79c63fbd124794f7194cf93033931c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 24 10:58:36 2011 +0000

    Add tests for bug 51544 (note tests pass - can't reproduce error yet)
    Fix some find bugs issues
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1150335 13f79535-47bb-0310-9956-ffa450edef68

commit b8287bd2bd6d5228342e7aefcd37d69314e1e44f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 23 08:56:10 2011 +0000

    Make rules on settng path clearer
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1150070 13f79535-47bb-0310-9956-ffa450edef68

commit 5e5ad8121a48ef65f15568c7c4a91b08ad464eac
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 22 18:09:54 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=41709
    Provide exception messages for ISEs when response is already committed
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1149678 13f79535-47bb-0310-9956-ffa450edef68

commit 09cddd923586b1ad0a5a398c82b83e7957976a30
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 22 12:09:13 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=41498
    Add info for allRolesMode
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1149582 13f79535-47bb-0310-9956-ffa450edef68

commit 2060a796fa6b54a7e450895b495b3b4040a43f85
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 21 18:19:29 2011 +0000

    AJP NIO is still experimental but is fully functional.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1149294 13f79535-47bb-0310-9956-ffa450edef68

commit c7780d3ff43f13c80a06150945d3ace01fb08157
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 21 13:29:01 2011 +0000

    Improve i18n support.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1149172 13f79535-47bb-0310-9956-ffa450edef68

commit 29a97b5000a2f79508fed84fd791b6d95d14f021
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 21 13:20:40 2011 +0000

    Promote the Set Character Encoding filter to the filters package so it is more widely available.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1149166 13f79535-47bb-0310-9956-ffa450edef68

commit f423f2074399d8aa9d3cbd08e942005435772440
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Jul 21 11:08:23 2011 +0000

    Improve wording in a message and in one entry in changelog.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1149118 13f79535-47bb-0310-9956-ffa450edef68

commit f4fd8c3ecc2122bbcf5109475f64fe4fd194ce53
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Jul 21 10:52:46 2011 +0000

    Trivial improvements to access log valve docs. Fix typos noted by André Warnier.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1149104 13f79535-47bb-0310-9956-ffa450edef68

commit e5efa3fe76ea9005b2b3577f29d26ad8b774c319
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Thu Jul 21 09:40:03 2011 +0000

    Fix for 51056. remove SSLv2 from all.
    Needs native 1.1.21.
    Now to allow SSLv2 you have to use:
    SSLProtocol="SSLv2+SSLv3" for example.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1149092 13f79535-47bb-0310-9956-ffa450edef68

commit 5d0347ed61a5c648ace51bc2900256b3fd7382ef
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 20 19:41:18 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51532
    JSP files with dependencies in JARs were recompiled on every access leading to poor performance.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1148915 13f79535-47bb-0310-9956-ffa450edef68

commit f28135977efc6e43add17f982089aa7881b34d4f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 20 15:35:11 2011 +0000

    Remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1148818 13f79535-47bb-0310-9956-ffa450edef68

commit 904b39efdb1b4a48792149520f1214323559f036
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Wed Jul 20 15:28:05 2011 +0000

    Improve fix for PR50394 Requires native 1.1.21
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1148815 13f79535-47bb-0310-9956-ffa450edef68

commit f33867f0f795a5b782086b1e3af7e8849f7866ab
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 19 19:19:45 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51516
    Correct property to change SSO session cookie name
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1148491 13f79535-47bb-0310-9956-ffa450edef68

commit cf3298d666f3b36b56e39a48c2e39a20e67185ad
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 19 18:49:03 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51531
    Update for ecj 3.7
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1148483 13f79535-47bb-0310-9956-ffa450edef68

commit 8b80e5facbfc8ad4796ead097f1aa6b62d2a32b1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 19 18:20:23 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51509
    Fix potential concurrency issue in CSRF prevention filter that may lead to some requests failing that should not.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1148471 13f79535-47bb-0310-9956-ffa450edef68

commit f2ed06195474dffed38c05a1fc4268ad95f1d3c7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 19 13:51:42 2011 +0000

    Add info on which connectors these fixes apply to.
    Correct order.
    Add periods to the end of the sentences.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1148321 13f79535-47bb-0310-9956-ffa450edef68

commit 584e55e3c4135d3dad9c29775f67bfde6ea96711
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Tue Jul 19 12:11:18 2011 +0000

    Add changelog for 1148254 and 1148216
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1148288 13f79535-47bb-0310-9956-ffa450edef68

commit b7f99dbdec8997a551b37515d8efc3d4f4720318
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 19 11:41:08 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51518
    Correct error in web.xml parsing rules for the <others/> tag when using absolute ordering.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1148277 13f79535-47bb-0310-9956-ffa450edef68

commit 62166b2850e2547ee2cf1831cfe8edc4ece02687
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Tue Jul 19 09:36:08 2011 +0000

    Fix for PR50394
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1148254 13f79535-47bb-0310-9956-ffa450edef68

commit e8b06cdb510319b90350d2e2be2c075f8e8f6a58
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 19 09:22:22 2011 +0000

    Add release date for 7.0.19
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1148249 13f79535-47bb-0310-9956-ffa450edef68

commit eaf87543d382b6d16c3858247bbb17fac04bc2db
Author: Rainer Jung <rjung@apache.org>
Date:   Tue Jul 19 09:14:09 2011 +0000

    Add test cases for syntax checking of jarsToSkip.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1148245 13f79535-47bb-0310-9956-ffa450edef68

commit 9edf4e31a65157d9b24eedfb8f15be6101004301
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 19 09:03:41 2011 +0000

    Add section title
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1148242 13f79535-47bb-0310-9956-ffa450edef68

commit 46e90ba0b9def8e0039261e26f2b67a713ae1868
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Tue Jul 19 08:06:46 2011 +0000

    Fix for PR49595
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1148216 13f79535-47bb-0310-9956-ffa450edef68

commit 022c3840366fb50bfbaffce060fbc85ce241fa98
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 18 16:18:54 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51503
    Add additional validation to Windows installer and Tomcat start for connector port numbers
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1147949 13f79535-47bb-0310-9956-ffa450edef68

commit 4cf43693c4ec05eed256faef7132e5f0548b592a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 18 15:15:26 2011 +0000

    Cleaner code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1147925 13f79535-47bb-0310-9956-ffa450edef68

commit 2795e5e90ca4e4aeb048788fe4131e5457d3f81d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 18 15:12:48 2011 +0000

    Update to changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1147923 13f79535-47bb-0310-9956-ffa450edef68

commit 734620fc120f03c3df7b56287e479a2641c65e00
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 18 15:10:29 2011 +0000

    Only test for timeouts if timeout is greater than zero (aligns with BIO and APR)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1147921 13f79535-47bb-0310-9956-ffa450edef68

commit 28f2bd83d8a62bf99dad56affa1b33c52f4d6332
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 18 15:09:43 2011 +0000

    Modify the test to ensure that the default connection timeout (-1) is used and so that pipe-lining doesn't trigger false positive results
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1147920 13f79535-47bb-0310-9956-ffa450edef68

commit c63b18dca59a2912a0f5c69fbf19dc370a7985ee
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 18 15:01:41 2011 +0000

    Minor improvement to javadoc
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1147915 13f79535-47bb-0310-9956-ffa450edef68

commit 0477718d031328dedd85b759377a7cd578fcd75d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 15 17:51:10 2011 +0000

    Add some units info to the Javadocs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1147263 13f79535-47bb-0310-9956-ffa450edef68

commit 618c38f0ba04b58b41d28d1ba3635b31e9a208b7
Author: Rainer Jung <rjung@apache.org>
Date:   Fri Jul 15 07:48:27 2011 +0000

    Missing svn:eol-style.
    
    Please fix your svn config. Thanks.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1146994 13f79535-47bb-0310-9956-ffa450edef68

commit 761b8086d35746a34e289aad6310013a8de41732
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Jul 14 09:58:31 2011 +0000

    Corrected typo in the value of tomcat.util.scan.DefaultJarScanner.jarsToSkip property
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1146623 13f79535-47bb-0310-9956-ffa450edef68

commit 0c2dc544e37faaf72b3b41ac01dcdc8c909033d8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 13 22:31:04 2011 +0000

    Update ready for next release
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1146505 13f79535-47bb-0310-9956-ffa450edef68

commit f63d4f32de72a0d054cc1cabe90feb10a47896d1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 13 15:20:43 2011 +0000

    CATALINA_BASE is always set, so simplify
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1146096 13f79535-47bb-0310-9956-ffa450edef68

commit a595f4e2626fe3dd934945f573b94be89d8c262e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 13 14:47:32 2011 +0000

    CATALINA_BASE is always set, so simplify
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1146069 13f79535-47bb-0310-9956-ffa450edef68

commit a6b53e90ec9bdbc3b1e8d45b078e839cfc843e80
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 13 13:36:44 2011 +0000

    Add CVE reference for sendfile issues
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1146010 13f79535-47bb-0310-9956-ffa450edef68

commit f12b89bc6964b526f2a1a65c5181c161e1e56531
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 13 13:28:24 2011 +0000

    When running under a security manager and using sendfile, validate sendfile attributes to prevent sendfile being used to bypass the security manager.
    Part of the fix for CVE-2011-2526
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1146005 13f79535-47bb-0310-9956-ffa450edef68

commit 73d1191f15ab41aeb9ee14720bf54408f84ed332
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 13 12:45:57 2011 +0000

    No need to include class in message, results in "classclass"
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1145981 13f79535-47bb-0310-9956-ffa450edef68

commit ce6201f9aef3c6c67936ec7d59c8a97f1f2f5af0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 12 17:50:11 2011 +0000

    Protect against crashes in the HTTP APR connector if sendfile is configured to send more data than is available in the file.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1145694 13f79535-47bb-0310-9956-ffa450edef68

commit 2f7410a3f62db3d46444a7e8b25d14503946002f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 12 15:14:27 2011 +0000

    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1145627 13f79535-47bb-0310-9956-ffa450edef68

commit 30ba033dd4a8328376d0f98c58c28238b3b866ce
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 12 12:51:35 2011 +0000

    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1145571 13f79535-47bb-0310-9956-ffa450edef68

commit f494e0958eb8fc5fb8cc1c1f574bc45973b95d2e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 12 08:34:20 2011 +0000

    Correct a comment
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1145489 13f79535-47bb-0310-9956-ffa450edef68

commit 95b5ed9aff11163e458a5de36e7448bc4fe8853b
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jul 11 22:33:54 2011 +0000

    Maybe someone wants to realize that change.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1145388 13f79535-47bb-0310-9956-ffa450edef68

commit 98549fc258049806966e7cf722c204f766510e5a
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jul 11 22:30:45 2011 +0000

    Never compare docs and code:
    
    - enableLookups for connector was
      "false" by default at least the last 5 years.
    
    - resolveHosts for normal and extended
      access log valve wasn't functional in
      the last 4 years (see e.g. r494191) and
      IMHO since noone complaint switching
      enableLookups to "true" instead is an
      appropriate alternative. So document
      that "resolveHosts" is no longer supported.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1145387 13f79535-47bb-0310-9956-ffa450edef68

commit ee9732c609fb592d2a946d76aa4046b4db6fbb44
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 11 22:27:06 2011 +0000

    Protect against infinite loops in the HTTP NIO connector if sendfile is configured to send more data than is available in the file. (markt)
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1145383 13f79535-47bb-0310-9956-ffa450edef68

commit 46a2490ee17c0ae4a6f14c53983a456214df801c
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jul 11 22:08:30 2011 +0000

    A little bit of docs is better than nothing ...
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1145381 13f79535-47bb-0310-9956-ffa450edef68

commit 4bd947dd871e4d17f78c0fb94fc51530a70fd1f1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 11 22:08:06 2011 +0000

    Remove unused attribute
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1145380 13f79535-47bb-0310-9956-ffa450edef68

commit 851d5a34a830908fe889a83a6078176b9c1168a9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 11 21:10:08 2011 +0000

    Remove unused import
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1145355 13f79535-47bb-0310-9956-ffa450edef68

commit 8df8ee295a04558de75acb1c090d5312035fb504
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jul 11 19:06:15 2011 +0000

    Use en_US as locale for creationdate in WebdavServlet.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1145296 13f79535-47bb-0310-9956-ffa450edef68

commit 7ca76af676031c29a3ccee52e52b20d4665bc7a6
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 11 18:40:48 2011 +0000

    Followup to r1145209
    Do not expose TCN_FULL_VERSION as a public constant, but calculate it when needed.
    Using this way it will be easier to throw away the code in AprEndpoint when it becomes unneeded.
    I do not mind reintroducing the constant if it were used in two or more places.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1145285 13f79535-47bb-0310-9956-ffa450edef68

commit 77c51f528808dccde93cece599196b11e72fc297
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 11 18:10:11 2011 +0000

    Expose recently added "encoding" and "locale" options of AccessLogValve through JMX.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1145268 13f79535-47bb-0310-9956-ffa450edef68

commit 5574b72219cd499d520209dc5cef0db28d5cde11
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jul 11 17:13:06 2011 +0000

    - Remove unused code:
      Cookie dates are formatted elsewhere.
      This class used a very strange format:
      " EEEE, dd-MMM-yy kk:mm:ss zz"
    - Add log.isDebugEnabled()
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1145246 13f79535-47bb-0310-9956-ffa450edef68

commit 0d5c05bf4ffa1d67657a043e50504359964f4062
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jul 11 16:51:54 2011 +0000

    Always use en_US as locale for timestamps in
    ExtendedAccessLogValve.
    
    The format is specified in
    
    http://www.w3.org/TR/WD-logfile.html
    
    and states that the supported timestamps
    "yyyy-MM-dd" and "HH:mm:ss" are defined with
    ascii digits and GMT.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1145238 13f79535-47bb-0310-9956-ffa450edef68

commit cfce44a5add68eac2846e103dcfde1e1a0c19793
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 11 16:46:28 2011 +0000

    * JULI FileHandler, AccessLogValve:
    Create a directory automatically when it is specified as a part of the file name, e.g. in the prefix attribute. Earlier this happened only if it was specified with the directory attribute.
    * AccessLogValve:
    Log a failure if access log file cannot be opened.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1145237 13f79535-47bb-0310-9956-ffa450edef68

commit 77c41fb6375a827838afeff93edacb497a6316b3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 11 16:10:15 2011 +0000

    Revert unintended commit
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1145225 13f79535-47bb-0310-9956-ffa450edef68

commit 118ceccb395a3d6652929cfee2ba5236f508a8ab
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 11 16:08:23 2011 +0000

    Improve logging of error conditions
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1145224 13f79535-47bb-0310-9956-ffa450edef68

commit baaaba38c50fbcb25339e38ed1fbde4cc46e07af
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jul 11 15:44:10 2011 +0000

    BZ 51477: Support all SSL protocol combinations in the
    APR/native connector.
    
    This only works when using the native library
    version 1.1.21 or later which is not yet released.
    
    Older tcnative versions will use an unchanged
    config parser. Otherwise non-supported protocol
    combinations would be unnoticed.
    
    For easier review of the changes in AprEndpoint
    use "svn -x -w" to ignore white space.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1145209 13f79535-47bb-0310-9956-ffa450edef68

commit e7025763aede1a47923f7099faed11999262e5ed
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 11 15:13:13 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46252
    Allow to specify character set to be used to write the access log in AccessLogValve.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1145200 13f79535-47bb-0310-9956-ffa450edef68

commit 42e58ed95cb0a5b24303608c1f793066d805cf4d
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jul 11 14:18:32 2011 +0000

    Fix javadoc.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1145186 13f79535-47bb-0310-9956-ffa450edef68

commit a384a6af82733bf48f28f8927bf18ee2a14524b4
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jul 11 13:17:09 2011 +0000

    Allow choosing a locale for timestamp formatting
    in AccessLogValve. Only relevant to timestamps
    explicitely given by SimpleDateFormat syntax.
    
    Also: use Locale.US for CLF and for timestamps
    that are part of the access log file name.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1145166 13f79535-47bb-0310-9956-ffa450edef68

commit 3a407222b2ca780cdd8b99b582731cf080c5e0b2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 11 13:16:29 2011 +0000

    Ignore doc copied in during build process
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1145165 13f79535-47bb-0310-9956-ffa450edef68

commit bd2ab5fdfcc75a44b66d0e792f8e696b2218b2b5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 11 13:05:30 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51494
    Prevent an NPE when a long running request completes if the associated web application was destroyed while the request was processing
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1145160 13f79535-47bb-0310-9956-ffa450edef68

commit a663238b8a590f0218c88f2685428395733b2ebc
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jul 11 12:16:36 2011 +0000

    Replace <tt> by <code> in docs.
    The physical markup <tt> was only
    used in few places. Mostly we use
    the logical markup <code>.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1145137 13f79535-47bb-0310-9956-ffa450edef68

commit a28a54e6680ab48fae8e8326d1df8d40537012b1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 11 09:37:58 2011 +0000

    Update changelog for bz51490 fixes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1145093 13f79535-47bb-0310-9956-ffa450edef68

commit 4f15ec93b40937f61536a58f82be54a51ff1622e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 11 09:32:32 2011 +0000

    Fix broken HTML
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1145088 13f79535-47bb-0310-9956-ffa450edef68

commit bb2f53e8dafa74166a8dc9d834fb43dbe3072a36
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 11 09:31:09 2011 +0000

    Fix broken HTML
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1145086 13f79535-47bb-0310-9956-ffa450edef68

commit a6b1a14ea603f148cd3adb493bd262a7c130116e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 11 09:29:28 2011 +0000

    Reduce variable scope to reduce testing issues
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1145084 13f79535-47bb-0310-9956-ffa450edef68

commit 1a3a26b2f1d8388aafb633ecee3dc5c57de787d4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 11 09:28:25 2011 +0000

    Ensure it is clear when tag isn't working
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1145083 13f79535-47bb-0310-9956-ffa450edef68

commit 7baec0a1ee9df8cb76ffb39c98f313554310bbce
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 11 09:19:59 2011 +0000

    Fix broken HTML
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1145081 13f79535-47bb-0310-9956-ffa450edef68

commit d29027b046785638074e4dc2310d712b5995b595
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 10 22:05:01 2011 +0000

    Add a simple AJP test.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144976 13f79535-47bb-0310-9956-ffa450edef68

commit 636dfb5893f69bfb93cc24b9f156393d4c92ac03
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 10 21:59:51 2011 +0000

    Make it easier to test that the right response was returned
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144972 13f79535-47bb-0310-9956-ffa450edef68

commit a731e68b2dc76bbfd25ff31d7004af216ed038fd
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Jul 10 21:24:15 2011 +0000

    Set includeantruntime in jdbc-pool javac
    build tasks.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144966 13f79535-47bb-0310-9956-ffa450edef68

commit 7f79201468f90455fd3896f3d27d7e1a75ebe472
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Jul 10 21:23:33 2011 +0000

    Fix version pattern in jdbc-pool manifest.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144964 13f79535-47bb-0310-9956-ffa450edef68

commit c3a9062de264ba31120393f5c70cb122ca752df0
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Jul 10 20:29:30 2011 +0000

    Add jdbc-pool to jarsToSkip.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144955 13f79535-47bb-0310-9956-ffa450edef68

commit cd5268c28c2c41ce178051309ddd6e723ec1aa9f
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Jul 10 20:08:26 2011 +0000

    Reorganize jdbc-pool inclusion in releases.
    
    Split build (code and docs) from clean.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144951 13f79535-47bb-0310-9956-ffa450edef68

commit 8c485d46084779ae9d76b128e599fee0974a55a2
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Jul 10 20:07:26 2011 +0000

    Add changelog entry for Filip's inclusion
    of jdbc-pool in releases.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144950 13f79535-47bb-0310-9956-ffa450edef68

commit d31b56130858be104e830d6fd110a4b4bd68c45f
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Jul 10 20:04:28 2011 +0000

    Move new changelog entries to correct subsection.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144948 13f79535-47bb-0310-9956-ffa450edef68

commit 074ecafb8b54b5e011101a4e3a1dc5d72f1ac4a9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 10 14:40:00 2011 +0000

    Make it easier for tests to override the protocol (e.g. to test AJP)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144868 13f79535-47bb-0310-9956-ffa450edef68

commit bc9b6f757b80e4d64ab44d55c5a25a335bb3806d
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Jul 10 14:33:12 2011 +0000

    Add missing thread name in RequestProcessor when Servlet 3 Async
    is used.
    
    Fixes null thread name in access log and probably JMX MBean.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144865 13f79535-47bb-0310-9956-ffa450edef68

commit 6510df468e325b506aacb4e81e1a97eea8d7b7fe
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Jul 10 13:03:49 2011 +0000

    Disable one test validation in TestAsyncContextImpl
    if an AccessLogValve has been activated.
    
    The test relies on receiving data via
    StandardEngine.logAccess() which is already
    handled by the other AccessLog.
    
    By default no AccessLogValve is activated, so the
    validation is still done.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144854 13f79535-47bb-0310-9956-ffa450edef68

commit 055aa4d15a474a6e76f51f9b62bca839ac4f8b5b
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Jul 10 11:22:40 2011 +0000

    Another regression in 7.0.18: year number formatting
    in AccessLogValve is broken due to type "yyy" instead of "yyyy".
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144833 13f79535-47bb-0310-9956-ffa450edef68

commit ea8d425088e352385f6ee0491da52816b55cec49
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 10 11:02:22 2011 +0000

    Remove unused code.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144823 13f79535-47bb-0310-9956-ffa450edef68

commit 2bc6c2a87666f41c43c4faca2af75092afcd433b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 10 10:59:45 2011 +0000

    7.0.18 not released
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144818 13f79535-47bb-0310-9956-ffa450edef68

commit 9416bf93d3acc935c229750d2501f20dabe4044c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 10 10:53:51 2011 +0000

    7.0.18 not released
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144817 13f79535-47bb-0310-9956-ffa450edef68

commit b8051f48e60aa18626a5251a79babf3f6071f9c2
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Jul 10 10:10:33 2011 +0000

    Add option test.accesslog to activate AccessLog
    for unit tests.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144802 13f79535-47bb-0310-9956-ffa450edef68

commit 23537e40db7187e55422341fad30517a07bcb387
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Jul 10 06:53:36 2011 +0000

    Fix regression producing invalid MBean names when using IPV6
    addresses for connectors.
    
    - revert r1135088
    
    - remove the surrounding quotes only when
      passing the name to the endpoint, so they
      don't end up in the middle of thread names.
      The thread names are used as MBean attribute
      values, but not in MBean names.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144785 13f79535-47bb-0310-9956-ffa450edef68

commit 9fc939b67d3bae47bf705282173b518a415aa46c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 9 16:56:49 2011 +0000

    Update to Eclipse JDT Compiler 3.7
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144706 13f79535-47bb-0310-9956-ffa450edef68

commit fffd1079d57c5850cbed6559952b5323b55bf7d9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 9 16:38:39 2011 +0000

    Update to Commons Daemon 1.0.6
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144701 13f79535-47bb-0310-9956-ffa450edef68

commit d8a8ca66a724484d5ebd7565c313dd6b90f92885
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 9 16:05:42 2011 +0000

    Remove some more unnecessary code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144690 13f79535-47bb-0310-9956-ffa450edef68

commit e41934252f1662d5891c7b352862f74ef6ecab73
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 9 15:21:46 2011 +0000

    Add regression fix to changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144682 13f79535-47bb-0310-9956-ffa450edef68

commit d1c241f21674110882025f9caa8c3697cb27bb40
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 9 00:28:44 2011 +0000

    Fix Comet with HTTP/APR connector
    r1144391 switched the key for the processor map for this connector from the socket to the socket wrapper. That prevented Comet from being able to retrieve the processor from the map when processing a comet event.
    This commit changes all the connectors to map the socket (or rather whatever the SocketWrapper wraps) to the processor rather than the SocketWrapper.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144557 13f79535-47bb-0310-9956-ffa450edef68

commit 7cc3412f30b8fbfca7f4bb009307d4a666240c1c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 8 18:01:30 2011 +0000

    Pull up Handler.process
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144405 13f79535-47bb-0310-9956-ffa450edef68

commit 5207258c798565204197eea299859d9d67b5277a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 8 17:28:25 2011 +0000

    Align AJP and HTTP prior to pulling up Handler.process
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144393 13f79535-47bb-0310-9956-ffa450edef68

commit b1c6f088c1b2c32d82c31d9c3c45b5eb7c0e4474
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 8 17:19:38 2011 +0000

    Pull up Handler.process for the Http11 connectors.
    Note that this is an intermediate step. The aim is to pull this up to AbstractProtocol
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144391 13f79535-47bb-0310-9956-ffa450edef68

commit 71cface25cd55588e32cb4a83f9d274381cf739b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 8 17:19:19 2011 +0000

    Pull up Handler.process for the Ajp Connectors.
    Note that this is an intermediate step. The aim is to pull this up to AbstractProtocol
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144390 13f79535-47bb-0310-9956-ffa450edef68

commit a8044a0624716daddf3d0c5a1eed42dea4b2adf8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 8 16:19:28 2011 +0000

    Yet more protocol alignment (with an eye to aligning with AJP)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144375 13f79535-47bb-0310-9956-ffa450edef68

commit dc965d95839f2dec2da5f7c7a50cd5edf095db6b
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 8 15:34:18 2011 +0000

    Change eol-style and add link to jdbc-pool on the documentation home page
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144358 13f79535-47bb-0310-9956-ffa450edef68

commit d484919719634b8c01d1e9395c1be907bbba7b4f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 8 15:10:01 2011 +0000

    More protocol alignment (with an eye to aligning with AJP)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144354 13f79535-47bb-0310-9956-ffa450edef68

commit dbcc95154451c4fc990701aa8b91bc2a1b5a5f4b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 8 14:59:43 2011 +0000

    Protocol will call recycle
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144349 13f79535-47bb-0310-9956-ffa450edef68

commit 3d37d14130053168206c446fcc23120c1eddfdfd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 8 14:04:08 2011 +0000

    Bring the Http11 protocol implementations closer together.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144317 13f79535-47bb-0310-9956-ffa450edef68

commit 4988a392c38f976b3e90f2fff46b62b3051b828f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 8 11:56:33 2011 +0000

    Completely align process methods
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144276 13f79535-47bb-0310-9956-ffa450edef68

commit dce4c290372e8d7e37f20d01f1629f5cd400cf45
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 8 11:49:50 2011 +0000

    Align the process methods some more.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144272 13f79535-47bb-0310-9956-ffa450edef68

commit 01a82b97693ec63d951b7bfa9c2674378e57d6a3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 8 11:40:36 2011 +0000

    Align the process methods some more.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144271 13f79535-47bb-0310-9956-ffa450edef68

commit 4313b66b71447406d52bf8a3267fd8bb47a2db67
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 8 11:21:37 2011 +0000

    Remove unnecessary call. Socket can't be in connections at this point.
    Leave currently unused socket parameter in method - plan to use it in later re-factoring
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144266 13f79535-47bb-0310-9956-ffa450edef68

commit f4cabd9b35fc4647989868d25efd79b5232c7026
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 8 11:19:32 2011 +0000

    Improve comments
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144264 13f79535-47bb-0310-9956-ffa450edef68

commit f5e8e9fccda2448994f799cf5e417ab86d614e64
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 8 10:45:19 2011 +0000

    Fix regression in connector re-factoring that was too aggressive cleaning up AJP/BIO between requests triggering 400 entries in the access log
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144246 13f79535-47bb-0310-9956-ffa450edef68

commit bf27b3fcc2fe5d927c3c04a1c4705089b5bd2f43
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 8 09:50:02 2011 +0000

    Fix indentation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144225 13f79535-47bb-0310-9956-ffa450edef68

commit 3478243c7f4a52c74a73c0edee3e554ab12692c1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 7 22:14:07 2011 +0000

    Pull up reset for remoteHost etc. to a common location
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144077 13f79535-47bb-0310-9956-ffa450edef68

commit 053e0cb9e55f286f6aa48eab24c46b4ab4a68fbb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 7 21:58:51 2011 +0000

    Remove pointless code (see finally block just above)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144069 13f79535-47bb-0310-9956-ffa450edef68

commit f855061395e36c44b349bf4754f4e884e16573d6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 7 21:57:13 2011 +0000

    Pull up asyncDispatch()
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144067 13f79535-47bb-0310-9956-ffa450edef68

commit df279fb07926cc305dae54af6dd1d01c4d712a01
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jul 7 21:40:05 2011 +0000

    Include jdbc-pool into tomcat release.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144061 13f79535-47bb-0310-9956-ffa450edef68

commit 9859bb20e3f86f56a6c5e48f202ddf1c22ec2816
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 7 21:23:42 2011 +0000

    No functional change - make it the same as BIO & APR
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144050 13f79535-47bb-0310-9956-ffa450edef68

commit bb105d115a08652a6a666f88694131806ed216fd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 7 21:22:43 2011 +0000

    Missed a reference to comet which will always be false in asyncDispatch
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144049 13f79535-47bb-0310-9956-ffa450edef68

commit 0cf14fe178b70f291e5d7d7b4adf8d1f6098d333
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 7 21:22:01 2011 +0000

    Remove unnecessary throws
    Move timeout lookups to where the timeouts are reset (in preparation for this being in a separate method)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144048 13f79535-47bb-0310-9956-ffa450edef68

commit 41d19d84bbf89a054c79c40bc54c5d13d36d1aa4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 7 21:18:11 2011 +0000

    Collapse the multiple if statements
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144046 13f79535-47bb-0310-9956-ffa450edef68

commit 691c298aeb2747d8159195c66624945486aaa852
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 7 21:17:25 2011 +0000

    Post refactoring, can't be processing a comet request in asyncDispatch
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144045 13f79535-47bb-0310-9956-ffa450edef68

commit 1e9efc2baf785e84c574e0d0258ef699606716f8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 7 21:00:18 2011 +0000

    Add re-factoring to the changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144033 13f79535-47bb-0310-9956-ffa450edef68

commit c8585e4b5011c8b87c1e4f4a51ad0c2221710f57
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 7 20:58:11 2011 +0000

    Already loaded via SecurityClassLoad
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144032 13f79535-47bb-0310-9956-ffa450edef68

commit 097fb88447730f963bf9c9210a17eb1cfcb74756
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 7 20:53:51 2011 +0000

    Use SecurityClassLoad to pre-load HexUtils to prevent a security exception
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1144031 13f79535-47bb-0310-9956-ffa450edef68

commit 8e58d4890bbbd3a73e9bae24db5771ec0834a76c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 6 23:22:06 2011 +0000

    Update ready for next release
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1143609 13f79535-47bb-0310-9956-ffa450edef68

commit 4489661cb2b6cbe3d67ca24df22ad41735507be9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 6 23:12:15 2011 +0000

    Remove debug code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1143605 13f79535-47bb-0310-9956-ffa450edef68

commit f99d5ae875a84ac8cd474c02d5556263fa207e82
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 6 16:31:31 2011 +0000

    Refactor to avoid NPEs during test
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1143488 13f79535-47bb-0310-9956-ffa450edef68

commit be40368510d300751614baad0b1a17d0e6f8268d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 6 15:05:45 2011 +0000

    Correct regression caused by connector re-factoring that meant that sendfile data was not reset between pipe-lined HTTP requests.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1143457 13f79535-47bb-0310-9956-ffa450edef68

commit b4b7fedf43193cedad8d79b1ab66d96929e37680
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 6 12:34:27 2011 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1143380 13f79535-47bb-0310-9956-ffa450edef68

commit 5afd24b9736f3ce7fa48f59fd6e558c60650fd88
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 6 12:31:50 2011 +0000

    Add sync to fix test failures on Linux.
    Should have minimal impact in normal Tomcat usage since each instance/JVM only opens a single socket.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1143379 13f79535-47bb-0310-9956-ffa450edef68

commit 82de5549fa60d2e14ba86822c0106ece5df6e25a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 6 10:51:18 2011 +0000

    Refactor the bind call to reduce the length of the stack traces when the unit tests fail. It probably won't fix the issue but it will make the logs easier to read.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1143334 13f79535-47bb-0310-9956-ffa450edef68

commit 1c93aafc2f333314bb519041555436dc80259f2c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 5 20:33:28 2011 +0000

    Not just this test failing. Need a better solution. Revert r1143126.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1143197 13f79535-47bb-0310-9956-ffa450edef68

commit 699b68ac8d8c39685daaec7fb8908b2602504e1d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 5 19:53:53 2011 +0000

    Javadoc fixes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1143188 13f79535-47bb-0310-9956-ffa450edef68

commit e66a6cd3c5f5037129efffc225c42b016843745f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 5 17:28:44 2011 +0000

    Review comments
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1143150 13f79535-47bb-0310-9956-ffa450edef68

commit ef31ebfbbde1a5c563332c4f4062d104c4d89b9a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 5 16:45:38 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51475
    Handle messages larger than the buffer size. Expand test cases to cover this.
    Based on a patch by Christian Stöber.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1143134 13f79535-47bb-0310-9956-ffa450edef68

commit 320ca844588d74747fc5a8eaa706b2175d9b6c11
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 5 16:32:28 2011 +0000

    Extract test to a test case
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1143130 13f79535-47bb-0310-9956-ffa450edef68

commit ebdda3efdd3b54e2f140c25d9f454bef075eaaa3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 5 16:21:51 2011 +0000

    Prevent test failures on Linux
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1143126 13f79535-47bb-0310-9956-ffa450edef68

commit 200938cf8d32ee8449ce5f613c38980482ec4abd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 5 12:28:50 2011 +0000

    Update changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1143025 13f79535-47bb-0310-9956-ffa450edef68

commit c387313b4d5b49a4c0a9151268f47e9aad451c7d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 5 12:26:09 2011 +0000

    Remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1143023 13f79535-47bb-0310-9956-ffa450edef68

commit 631bb435c181fffdbe962a466ec6152d7c389e55
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 5 12:25:38 2011 +0000

    Based on current usage within Tomcat, message length of 0 should result in null.
    Populate the test for this and ensure the test passes.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1143022 13f79535-47bb-0310-9956-ffa450edef68

commit 8a95193dafbeab6e1a0bf0fb874f8295dcecf3b2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 5 12:22:03 2011 +0000

    Remove main method
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1143020 13f79535-47bb-0310-9956-ffa450edef68

commit b27d139791da11e31f78f1ea3c4f21b20e6d4bd6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 5 12:21:37 2011 +0000

    Remove ununsed methods.
    Convert from using main() to a unit test
    Use valid test data
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1143019 13f79535-47bb-0310-9956-ffa450edef68

commit af5da772d7a6cec0db9e0f4b64d7d4effc9f4ba8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 5 12:06:04 2011 +0000

    Move working JUnit tests to align with package of class being tested.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1143016 13f79535-47bb-0310-9956-ffa450edef68

commit 7cbcaa978e90ad7afa334486d06788b175529d76
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 5 11:36:41 2011 +0000

    Limit exclusion to 'old' tests so tests added to o.a.catalina.tribes will execute
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142996 13f79535-47bb-0310-9956-ffa450edef68

commit 1b7d8c9efd203b25b7a2fb9669fb7edc0b9f9509
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 5 10:42:15 2011 +0000

    Revert r1142953. The analysis was incorrect.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142972 13f79535-47bb-0310-9956-ffa450edef68

commit 03f4aba543fdced5eff3923dbe6f4c3500e84cef
Author: Rainer Jung <rjung@apache.org>
Date:   Tue Jul 5 10:08:00 2011 +0000

    Fix response.encodeURL() for the special case of
    an absolute URL with no path segment (http://name).
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142959 13f79535-47bb-0310-9956-ffa450edef68

commit ad90774392e5d7ab2c8d22329f4f42c77308e357
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 5 10:03:06 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51472
    Correctly test modifiers when resolving bean methods with the BeanELResolver.
    Patch provided by Friedhelm Kuehn.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142953 13f79535-47bb-0310-9956-ffa450edef68

commit bece60cf4b54a4bef14fd1fa1b8456006410aff1
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Jul 5 08:31:52 2011 +0000

    Further improvements to the Windows installer
    1. Install into "**/Tomcat7.0_servicename" when service name differs from default,
    but install into "**/Tomcat7.0" if the name is the default one.
    This is to be in line with 7.0.16 and earlier versions, but
    differs from 7.0.17 which used "**/Tomcat7.0/servicename".
    2. Changed name of registry key for running of Tomcat Monitor
    3. Do not forget to delete Tomcat Monitor running entry from HKCU in 32-bit part of registry
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142923 13f79535-47bb-0310-9956-ffa450edef68

commit 3aded52a5dd86e25c94a0fd014013c5bdff8033c
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Jul 5 07:10:31 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51473
    Fix concatenation of values in SecurityConfig.setSecurityProperty()
    when the value provided by JRE is null.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142904 13f79535-47bb-0310-9956-ffa450edef68

commit a09cbb39af11ae6c66993e5690740b56ad8e59df
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 4 20:05:26 2011 +0000

    Validate Windows service name
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142784 13f79535-47bb-0310-9956-ffa450edef68

commit 07cff594a7ad0e9252a1221f77aae7965ce340f1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 4 17:46:15 2011 +0000

    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142748 13f79535-47bb-0310-9956-ffa450edef68

commit fd72c919a3787b4aa6ef00f044e9a80197046ad0
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 4 14:08:42 2011 +0000

    Add @Override annotation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142678 13f79535-47bb-0310-9956-ffa450edef68

commit 110c7feee47c23862b46cdfbcec8655869d90040
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 4 14:05:43 2011 +0000

    Add @Override annotation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142674 13f79535-47bb-0310-9956-ffa450edef68

commit fd5cf444b7d4437aaabf0ba3778a0240cc68610d
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 4 14:02:36 2011 +0000

    Add @Override annotation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142672 13f79535-47bb-0310-9956-ffa450edef68

commit 7c3a4f7e74d4fb0b5815c276394491d42078d0e4
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 4 13:59:53 2011 +0000

    Add @Override annotation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142670 13f79535-47bb-0310-9956-ffa450edef68

commit 85c488ca60092b3f29fc7e77a5b1c7fbe030c4ad
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 4 13:54:52 2011 +0000

    Add @Override annotation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142666 13f79535-47bb-0310-9956-ffa450edef68

commit a42b4a200b42938033b5c688718379ec9e0f1325
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 4 13:51:26 2011 +0000

    Add @Override annotation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142665 13f79535-47bb-0310-9956-ffa450edef68

commit 26c30c2c650fa5d06e4d10b1eb2633321b386972
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 4 13:41:43 2011 +0000

    Add @Override annotation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142661 13f79535-47bb-0310-9956-ffa450edef68

commit 0d164d08b94609dd01ef1242021d515464fec6c5
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 4 13:37:22 2011 +0000

    Add @Override annotation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142660 13f79535-47bb-0310-9956-ffa450edef68

commit 4ae642843cfca964ea37b0651b8898829e665ed1
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 4 13:34:48 2011 +0000

    Fix "potential null pointer access warning".
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142659 13f79535-47bb-0310-9956-ffa450edef68

commit 30695a8893ad0b3a02cb6a50c870032ac4f51fbd
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 4 13:29:44 2011 +0000

    Fix "potential null pointer access warning".
    As a bonus, it avoids allocating char[] buffer for an empty string.
    Add $FALL-THROUGH$ comment where we fall through to the next label in switch().
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142656 13f79535-47bb-0310-9956-ffa450edef68

commit 68b709fea468a49e7e7eafefd7c97c0cec23fcae
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 4 13:28:11 2011 +0000

    Fix a small number of warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142655 13f79535-47bb-0310-9956-ffa450edef68

commit c351f2c417ec19ded409577fa844f7b86e7b521d
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 4 13:21:29 2011 +0000

    Add @Override annotation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142653 13f79535-47bb-0310-9956-ffa450edef68

commit 94ab057163c96500ad63527ba1626de8dd0ae6d3
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 4 13:12:31 2011 +0000

    Add @Override annotation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142650 13f79535-47bb-0310-9956-ffa450edef68

commit dc9c18af299fee375bb8239a81b186f05ca869fc
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jul 4 13:10:38 2011 +0000

    Remove publicId field from SchemaResolver class,
    because is never read and is not cleared when digester is reused.
    If anyone needs this, this value is available by calling SchemaResolver.digester.getPublicId().
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142649 13f79535-47bb-0310-9956-ffa450edef68

commit a510c3c5beaf92fbba47d7aa1765fb36e860012e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 4 12:50:24 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51467
    start() not run()
    Patch provided by Felix Schumacher
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142643 13f79535-47bb-0310-9956-ffa450edef68

commit 62490328eb29ceed7eb8ff9360536366ab8ec49f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 4 12:43:19 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51466
    Fix typos
    Patch by Felix Schumacher
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142642 13f79535-47bb-0310-9956-ffa450edef68

commit 52a337a28bca49ad4cfdcba7fd8f8aadb40ef995
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 3 13:15:58 2011 +0000

    Fix possible NPE
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142430 13f79535-47bb-0310-9956-ffa450edef68

commit 4578c6c58aa2a6eb3dc388f2b797368b0397da7e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 2 21:59:37 2011 +0000

    Start the 7.0.18 changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142326 13f79535-47bb-0310-9956-ffa450edef68

commit 10fde2f6962bcb00c854adc4d94bf99ec6750d08
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 2 21:57:12 2011 +0000

    Fix Eclipse warnings in the o.a.c.startup package
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142323 13f79535-47bb-0310-9956-ffa450edef68

commit 1de1f6288ab65d257cf72b36afff02388cbf2262
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 2 21:52:35 2011 +0000

    Remove dead code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142321 13f79535-47bb-0310-9956-ffa450edef68

commit fac44c25646441e33b19c6014952019eb4683900
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 2 21:51:14 2011 +0000

    Fix generics warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142320 13f79535-47bb-0310-9956-ffa450edef68

commit 6dad9c97e062a9d097a7cbafe23709ca871f2da1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 2 21:44:32 2011 +0000

    Fix Javadoc warnings spotted in 7.0.17 build
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142317 13f79535-47bb-0310-9956-ffa450edef68

commit 1b0341f07f7178d21be7b64877c64038bce11e57
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 2 21:37:05 2011 +0000

    Update ready for for next release
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142316 13f79535-47bb-0310-9956-ffa450edef68

commit bb43d22251a180c00af4071851f91814be9589a4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 2 12:01:30 2011 +0000

    Only add instance if it has just been created.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142209 13f79535-47bb-0310-9956-ffa450edef68

commit 31e30eae1d17cd1e0a47fdc55a71cfd996076387
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 2 11:29:46 2011 +0000

    Correct deadlock introduced in r1142112
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142205 13f79535-47bb-0310-9956-ffa450edef68

commit b622301840a85d9bc2d83167b977e13c3e0907df
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 1 22:47:46 2011 +0000

    When using Servlets that implement the SingleThreadModel interface, add the single instance created to the pool when it is determined that a pool of servlets is required rather than throwing it away.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142112 13f79535-47bb-0310-9956-ffa450edef68

commit 0952ea3d0ec2bfe88a0d791e1c477c74b66a4174
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 1 22:44:04 2011 +0000

    Prevent test failures when two objects get generated with the same hashCode
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142111 13f79535-47bb-0310-9956-ffa450edef68

commit 23755aaa0ba2d22b5f5820ec0502330d1918b795
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 1 21:50:14 2011 +0000

    Read/write by multiple threads outside sync - needs to be volatile
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142104 13f79535-47bb-0310-9956-ffa450edef68

commit 66d449eabe2e39ab5c8421ede8eb9356db3cd412
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Jul 1 20:20:33 2011 +0000

    In Tomcat.initBaseDir():
    set a value for catalina.home only if it has not been set previously.
    
    Without this fix, I guess, you won't be able to run embedded Tomcat with
    separate catalina.base and catalina.home.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142068 13f79535-47bb-0310-9956-ffa450edef68

commit 6844cf6e506afba762f190c190fb2c89d0c14002
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Jul 1 19:46:00 2011 +0000

    Followup to r1140693
    Declare a separate public method for the new use case of makeJavaIdentifier(),
    instead of passing the "false" flag as an argument.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142043 13f79535-47bb-0310-9956-ffa450edef68

commit 738382b25a3324baccdb399fcf455f41109a965d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 1 18:06:08 2011 +0000

    Add support for configuring the shutdown port
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142012 13f79535-47bb-0310-9956-ffa450edef68

commit 14d430b95657f6c2829839020beb0e0cdf80a5de
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 1 17:35:09 2011 +0000

    Build server.xml for the installer by search and replace rather than combining fragments. No ore work to keep the original and the fragments in sync and esy to expand to add additional search/replace as well as insertions etc.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1142001 13f79535-47bb-0310-9956-ffa450edef68

commit 41abc26140d1890fbcbc11c073170009499acbfd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 1 16:25:28 2011 +0000

    Use specified AJP port rather than always using default
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1141976 13f79535-47bb-0310-9956-ffa450edef68

commit fd82d7adedc3e5d63fa843b85c3b648c4a97cbc2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 1 14:52:24 2011 +0000

    Consistent reporting for the connectors
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1141955 13f79535-47bb-0310-9956-ffa450edef68

commit 1a9e6a241955755750362498502f4a2d180bcfde
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 1 14:15:48 2011 +0000

    Fix possible NPE when serving STM servlets
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1141948 13f79535-47bb-0310-9956-ffa450edef68

commit 1686ab5ffa65fe0f7ad090535ec7babb74789597
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 1 14:05:00 2011 +0000

    If things go wrong, don't wait forever for the latch.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1141944 13f79535-47bb-0310-9956-ffa450edef68

commit e2d1980cebb59977b11bafc30332c5943e4e15ed
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 1 13:41:25 2011 +0000

    Fix faulty test
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1141935 13f79535-47bb-0310-9956-ffa450edef68

commit b790bcd9fd572e4f5ad01e8c7e25fe85688f769e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 1 10:03:04 2011 +0000

    Seen on Windows too (less frequently)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1141895 13f79535-47bb-0310-9956-ffa450edef68

commit c7e26290a737248ed5ca8085310dc7271c792529
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 30 15:41:27 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51453
    Fix a regression in the preemptive authentication support (enhancement <bug>12428</bug>) that could trigger authentication even if preemptive authentication was disabled.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1141578 13f79535-47bb-0310-9956-ffa450edef68

commit 582ec07ad2cab8b5e95bc970962d832bb6c40243
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 30 12:16:37 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51445
    Correctly initialise all instances of Servlets that implement SingleThreadModel.
    Based on a patch by Felix Schumacher.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1141502 13f79535-47bb-0310-9956-ffa450edef68

commit 0e74fcd4a809c8c0973241a4ff9d239245077a20
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 30 11:58:36 2011 +0000

    Improve the handling for Servlets that implement the deprecated SingleThreadModel when embedding Tomcat.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1141495 13f79535-47bb-0310-9956-ffa450edef68

commit e929c20d2a033cbf1c7b49329c64ab254501f17a
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Thu Jun 30 08:39:53 2011 +0000

    The change in session ID is notified to the container event listener.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1141441 13f79535-47bb-0310-9956-ffa450edef68

commit 810621a384376a4672b3eb36b4a911679e72deee
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 29 22:34:37 2011 +0000

    Fix bad logic. Need to postProcess if socket is *not* closed and it is an async request.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1141299 13f79535-47bb-0310-9956-ffa450edef68

commit 97c03c52c5f1f633239431a4782a2fbb91413509
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 29 15:16:02 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51450
    More Spanish translations.
    Based on a patch by Jesus Marin.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1141130 13f79535-47bb-0310-9956-ffa450edef68

commit 23e63e37f5a36e28184c6d90a5b2fa0db6d23ead
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 29 13:56:28 2011 +0000

    Better error handling that may help track down the cause of https://issues.apache.org/bugzilla/show_bug.cgi?id=51088
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1141104 13f79535-47bb-0310-9956-ffa450edef68

commit 62203fb4d7f0037e58d4d181ca2e4c446f7aabee
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 29 12:57:50 2011 +0000

    Ensure that if asyncDispatch() is called during an onTimeout event and the target Servlet does not call startAsync() or complete() that Tomcat calls complete() (or does the equivalent) once the target Servlet exits.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1141079 13f79535-47bb-0310-9956-ffa450edef68

commit 23a863374996bd0c15ea427b414c30a7befc62c4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 29 12:12:48 2011 +0000

    Ensure an access log entry is made if an error occurs during asynchronous request processing and the socket is immediately closed.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1141066 13f79535-47bb-0310-9956-ffa450edef68

commit bddce112f7225d101ac307344e93e0cc5300959c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 29 11:19:55 2011 +0000

    If the socket is closed (i.e. due to an error) no need to postProcess
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1141048 13f79535-47bb-0310-9956-ffa450edef68

commit 75b549d387ad042eb6c28eccaa17a3238660e85f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 29 00:06:20 2011 +0000

    Fix what were originally typos
    Similar to https://issues.apache.org/bugzilla/show_bug.cgi?id=50648
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1140915 13f79535-47bb-0310-9956-ffa450edef68

commit 13a1a3b98ab9480b2e829b49e5dc068421194277
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 28 23:45:52 2011 +0000

    Fix what was originally a typo
    Similar to https://issues.apache.org/bugzilla/show_bug.cgi?id=50648
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1140910 13f79535-47bb-0310-9956-ffa450edef68

commit c63bda38d2596016a2a84d56b4ec1481abacff8e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 28 19:35:06 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51443
    Document the notifySessionListenersOnReplication attribute for the DeltaManager.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1140806 13f79535-47bb-0310-9956-ffa450edef68

commit 69a8e94e1b5b1f56a0af3e69d63bff48ac36c5a3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 28 19:32:39 2011 +0000

    Notifications of changes in session ID to other nodes in the cluster should be controlled by notifySessionListenersOnReplication rather than notifyListenersOnReplication.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1140801 13f79535-47bb-0310-9956-ffa450edef68

commit 74ba15a6cea6bf4b9562c8f71a25da51294652e8
Author: Christopher Schultz <schultz@apache.org>
Date:   Tue Jun 28 18:55:57 2011 +0000

    Added symmetric sslAvailable=false in terminateAPR.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1140788 13f79535-47bb-0310-9956-ffa450edef68

commit 0da7ab8676da9b9cc0e2e89ff85ccdf9d9de182c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 28 18:00:50 2011 +0000

    Add a test case for https://issues.apache.org/bugzilla/show_bug.cgi?id=51445
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1140763 13f79535-47bb-0310-9956-ffa450edef68

commit 4e0bc61b00790d3536108fc89eaea381c72ff9c1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 28 17:49:25 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51436
    Send 100 (Continue) response earlier to enable ServletRequestListener implementations to read the request body.
    Based on a patch by Simon Olofsson.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1140750 13f79535-47bb-0310-9956-ffa450edef68

commit 2ffb2b82661b7865b724a0488141e0d8ad5eefc6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 28 17:24:45 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50353
    Rather than the eventual NPE, throw an ISE if an application attempts to access an AsyncContext after the request processing has ended.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1140738 13f79535-47bb-0310-9956-ffa450edef68

commit 3771dc1c9d6d047fdefb2423cd3edb4d6d5299ba
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 28 16:22:08 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51447
    Viewing a back up session in the HTML Manager web application no longer changes the session to a primary session.
    Based on a patch provided by Eiji Takahashi.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1140708 13f79535-47bb-0310-9956-ffa450edef68

commit 4eeb25f8fd39537ab7f2049695a2c78d07473735
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 28 16:06:32 2011 +0000

    More https://issues.apache.org/bugzilla/show_bug.cgi?id=51400 related changes
    Based on a patch by Konstantin Preißer
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1140699 13f79535-47bb-0310-9956-ffa450edef68

commit ec0a83827e42227f0bd91d2a3aeaa7dd059d2c53
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 28 15:56:23 2011 +0000

    Additional fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=36362 to address regression for attributes with names that include underscores
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1140693 13f79535-47bb-0310-9956-ffa450edef68

commit da8309b942b57629365389c324cc8f297af536a6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 28 14:37:59 2011 +0000

    Increase size of file the test tries to send since there is enough buffering on my system that 200k can hide in the buffers triggering a test failure (the limit works - it just fails in a way the test doesn't expect)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1140645 13f79535-47bb-0310-9956-ffa450edef68

commit 1a065fd970977a3e0188aad651f22b5ccb1561b6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 28 13:57:17 2011 +0000

    Increase size of file the test tries to send since there is enough buffering on my system that 200k can hide in the buffers triggering a test failure (the limit works - it just fails in a way the test doesn't expect)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1140624 13f79535-47bb-0310-9956-ffa450edef68

commit b434bfdf653880209135bbd74c39d60428ab8bef
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 28 07:22:28 2011 +0000

    Fix the remaining instances of new String(byte[] b, String enc) that can be fixed
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1140463 13f79535-47bb-0310-9956-ffa450edef68

commit 71f33840fea6c3711e776ece6ddfd81da8c19207
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 28 07:15:02 2011 +0000

    No need for a ConcurrentHashMap now pre-population is used.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1140461 13f79535-47bb-0310-9956-ffa450edef68

commit bdc9677c75cd96ce58802c82761d2f15bf8aa3a3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 27 23:12:10 2011 +0000

    Update for recent changes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1140361 13f79535-47bb-0310-9956-ffa450edef68

commit cdcf8bbb9f02284bf31f8a7f4a9cada2c5096004
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 27 22:13:39 2011 +0000

    Use a more reliable method to expire sessions.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1140347 13f79535-47bb-0310-9956-ffa450edef68

commit 63207c4da71955015687c3dd8426f99fa63c978e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 27 16:01:32 2011 +0000

    Simplify.
    Covert aliases to lower case too.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1140219 13f79535-47bb-0310-9956-ffa450edef68

commit d9eb15b224b263c73dfa1eb3d2e63e168b1d90b7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 27 15:19:22 2011 +0000

    Need to include aliases in charset cache
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1140204 13f79535-47bb-0310-9956-ffa450edef68

commit ded29ca714228ab988129fbe06bcfd42e3e9cfbd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 27 15:11:45 2011 +0000

    Remove upgrading info - it has been added to the site
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1140201 13f79535-47bb-0310-9956-ffa450edef68

commit 84a0d87ef2e70ca3e5eabade61d408b09ffb7ba9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 27 13:57:23 2011 +0000

    Remove unused files
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1140162 13f79535-47bb-0310-9956-ffa450edef68

commit 2c80e4864e7ec32a1e25ddf7e339197f8dc59971
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 27 13:39:13 2011 +0000

    Pre-populate Charset cache.
    Since cache is pre-populated, no need to look up non-matching values which effectively caches misses too.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1140156 13f79535-47bb-0310-9956-ffa450edef68

commit 5b804a57031faf7add32d92edc280bb11dfe53c9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 27 13:23:28 2011 +0000

    Prevent multiple variations of the same sncoding filling up the cache
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1140153 13f79535-47bb-0310-9956-ffa450edef68

commit 829686d25ba51e781779e9437215ebfc8e4f98a7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 27 10:23:45 2011 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1140086 13f79535-47bb-0310-9956-ffa450edef68

commit a45f94ee909f6077399e41e8c39e744636f17baa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 27 09:27:06 2011 +0000

    Fix CVE-2011-2204.
    Prevent user passwords appearing in log files if a runtime exception (e.g. OOME) occurs while creating a new user for a MemoryUserDatabase via JMX.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1140070 13f79535-47bb-0310-9956-ffa450edef68

commit fbaef78113e829ddf264e01de0c8805c6b46992c
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Jun 26 18:34:10 2011 +0000

    Use "eval exec" instead of "eval" for
    "catalina.sh run".
    
    Originally it was "exec" before we switched to "eval"
    which leaves an additional intermediate shell process
    hanging around.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1139904 13f79535-47bb-0310-9956-ffa450edef68

commit 61ab830b2ed0acc8db4b4be954a8cf5fd33d2927
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jun 25 17:47:46 2011 +0000

    Add an upgrade page to the documentation that can be used to determine the changes in any of the configuration files between two given versions.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1139576 13f79535-47bb-0310-9956-ffa450edef68

commit 5a0a88f76e7c9a6b48dd6556282f4f0b40b33994
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 24 16:43:40 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50949
    Provide the ability to specify the AJP port and service name when installing Tomcat using the Windows installer. This permits multiple instances of the same Tomcat version to be installed side-by-side.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1139381 13f79535-47bb-0310-9956-ffa450edef68

commit 8be1c651f91b9b87170b31f34c0d86cb1c3e0480
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 24 15:22:30 2011 +0000

    Disable the shutdown port when running as a service. One less port to conflict when installing multiple services.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1139354 13f79535-47bb-0310-9956-ffa450edef68

commit 186eb30362d5bb68097b70ee4008b962183d8497
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 24 13:25:25 2011 +0000

    Remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1139299 13f79535-47bb-0310-9956-ffa450edef68

commit 00fe24e37ed888891576a229d250f46b4d683a20
Author: Rainer Jung <rjung@apache.org>
Date:   Fri Jun 24 12:48:20 2011 +0000

    Fix IllegalStateException for JavaScript files
    when switching from Writer to OutputStream.
    
    The special handling of this case in the
    DefaultServlet was broken due to a MIME type
    change for JavaScript.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1139280 13f79535-47bb-0310-9956-ffa450edef68

commit 7bfd59fd6e5db1e413fb6315ae94964880fcf2c7
Author: Rainer Jung <rjung@apache.org>
Date:   Fri Jun 24 05:39:19 2011 +0000

    Correctly support 'S' and 'SSS' in SimpleDateFormat
    timestamps for the AccessLogValve.
    
    We prefer "msec_frac" as documented, but the common
    other cases should at least work.
    
    Other multiples of the 'S' formatting character
    will produce bogus results (but don't make much
    sense either).
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1139158 13f79535-47bb-0310-9956-ffa450edef68

commit abec26f18b7c39a9eee77c0b42cc7a35ae4abaa5
Author: Rainer Jung <rjung@apache.org>
Date:   Fri Jun 24 05:33:35 2011 +0000

    Remove dead code and correct comment about
    thread-safetyness.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1139157 13f79535-47bb-0310-9956-ffa450edef68

commit e2a871bcd6a38f9be16965882650083af805e1e3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 23 23:24:36 2011 +0000

    Prep for fixing https://issues.apache.org/bugzilla/show_bug.cgi?id=50949
    Use a variable for the service name and ensure the uninstaller still works
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1139117 13f79535-47bb-0310-9956-ffa450edef68

commit 86e65993a2c7e24980b8475d989bdff9a448f517
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 23 22:35:22 2011 +0000

    Use a function to start the service so the service name can be changed during the install
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1139101 13f79535-47bb-0310-9956-ffa450edef68

commit 78cbb6a576987a4962c4666e1234aebec8094f67
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 23 22:25:12 2011 +0000

    Remove inaccurate comment
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1139098 13f79535-47bb-0310-9956-ffa450edef68

commit 5ec87c089e764cee65033a91792a948f6df1fa99
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 23 22:01:41 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=40510
    Provide an option to install shortcuts for the current user or all users. Also ensure registry is correctly cleaned on uninstall for 64-bit platforms.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1139087 13f79535-47bb-0310-9956-ffa450edef68

commit e9c0cf9856659a1d69f691fbc1075d9b72e50548
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 23 18:27:39 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=33262
    Install monitor to auto-start for current user only rather than all users to be consistent with menu item creation.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1139029 13f79535-47bb-0310-9956-ffa450edef68

commit 900236ae6cb9d538d2992e0a4963f541ebf093ee
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 23 15:54:43 2011 +0000

    Add important missing word
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138953 13f79535-47bb-0310-9956-ffa450edef68

commit 392b99a4c518b090fcb74ad7ebe8faba33d9a9eb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 23 15:51:55 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=36362
    Handle the case where tag file attributes (which can use any valid XML name) have a name which is a Java identifier.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138950 13f79535-47bb-0310-9956-ffa450edef68

commit 7b1190904289366b6e5f95b463694f00216588e6
Author: Rainer Jung <rjung@apache.org>
Date:   Thu Jun 23 13:50:40 2011 +0000

    Improve JMX unit test.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138880 13f79535-47bb-0310-9956-ffa450edef68

commit d12f6de38137712f02182a825f3c23780c7f8f19
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 23 12:18:20 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51425
    Update Spanish translations.
    Based on a patch provided by Jesus Marin.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138849 13f79535-47bb-0310-9956-ffa450edef68

commit e4c10b9c5efe1cbc5cf50ae9b17c5cf386991c20
Author: Rainer Jung <rjung@apache.org>
Date:   Thu Jun 23 12:08:31 2011 +0000

    Follow-up to r1137925:
    Use buf.add(char) when there is a single character string.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138847 13f79535-47bb-0310-9956-ffa450edef68

commit d254ff008e71de2ce132d232d35ddde377d4d6a5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 23 11:44:39 2011 +0000

    Move the statics out of the "instance variable" section
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138839 13f79535-47bb-0310-9956-ffa450edef68

commit beaa0c2aa0a34a222b3c5be288e61d6f9a139e1d
Author: Rainer Jung <rjung@apache.org>
Date:   Thu Jun 23 11:27:57 2011 +0000

    Remove unnecessary variable BASEDIR from scripts.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138835 13f79535-47bb-0310-9956-ffa450edef68

commit 06cb80f753b1af04df123aa64448e219709fb904
Author: Rainer Jung <rjung@apache.org>
Date:   Thu Jun 23 11:01:02 2011 +0000

    Use system properties loaded from catalina.properties
    via the class path in unit tests.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138828 13f79535-47bb-0310-9956-ffa450edef68

commit c9c0b7490b855cfbfc2d29e380e072a2b13717fa
Author: Rainer Jung <rjung@apache.org>
Date:   Thu Jun 23 10:57:18 2011 +0000

    Remove redundant copy of catalina.properties from
    o.a.c.startup. Generate this copy for inclusion in
    bin and src jars during the ant "compile" task.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138825 13f79535-47bb-0310-9956-ffa450edef68

commit f0495cf7af5a7b0f3da45f61c5ea2deee75667f2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 23 09:31:39 2011 +0000

    Remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138791 13f79535-47bb-0310-9956-ffa450edef68

commit e8e12a8128f18c85906062cc26c3f81c2a767ed7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 23 09:31:10 2011 +0000

    Don't cache xml parsing config locally, get it from the Context
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138789 13f79535-47bb-0310-9956-ffa450edef68

commit 74c6478592492fe738325a183d97dcfc6525b618
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 23 09:26:10 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51395
    Better fix for memory leak that aligns ContextConfig with TldConfig
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138788 13f79535-47bb-0310-9956-ffa450edef68

commit fd7602e0624a9e4ac5dcbc6225a4fdf0018f14d5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 23 09:00:51 2011 +0000

    Revert r1137753 - I have a better soution in mind
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138776 13f79535-47bb-0310-9956-ffa450edef68

commit 2b7458b134a571537b714f5d9407dd4e064f81e8
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Jun 23 00:10:23 2011 +0000

    Amend description for the fix applied in r1132700.
    The problem there was less severe than it sounds:
    The port number was not treated as hex. The arithmetics to summ up the digits has already been using base 10.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138697 13f79535-47bb-0310-9956-ffa450edef68

commit 6c22750e21e4232251f3fa86904d931c91bc6eef
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 22 23:40:30 2011 +0000

    Connector refactoring
    SocketWrapper changes for AJP processor
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138694 13f79535-47bb-0310-9956-ffa450edef68

commit aa4ddfad96eaf93671fc434ec0fdaf5659601644
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Jun 22 23:39:58 2011 +0000

    Followup to r1138573
    Improve support for embedding Tomcat 7.
    
    Expose the string that was used to suppress loading default web.xml as a constant. Short-circuit the attempt to load the web.xml file when this magic value is used. Thus saving us from unneeded getResourceAsStream() call.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138693 13f79535-47bb-0310-9956-ffa450edef68

commit e844e8add63ebb26d1be8ff2c72dd9781b46ab2d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 22 23:39:05 2011 +0000

    Connector refactoring
    SocketWrapper changes for HTTP processor
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138691 13f79535-47bb-0310-9956-ffa450edef68

commit 4345cd6752d2e613fa97daa5cf56e060405f8702
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 22 23:33:39 2011 +0000

    Connector refactoring
    Rename socketWrapper to socket to align with BIO/APR
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138684 13f79535-47bb-0310-9956-ffa450edef68

commit 2140325795683915d0477f54924feb95c48dc03f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 22 23:32:17 2011 +0000

    Remove the local socket object
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138682 13f79535-47bb-0310-9956-ffa450edef68

commit 7e26e9277f261eaf853d21e8f8b172b39f70de8d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 22 23:29:51 2011 +0000

    Connector refactoring
    Another small step towards SocketWrapper for NIO
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138681 13f79535-47bb-0310-9956-ffa450edef68

commit 7020b7ff63f03ecdc9478b1f15781ccb36924c3d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 22 23:25:43 2011 +0000

    Connector refactoring
    Another small step towards SocketWrapper for NIO
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138680 13f79535-47bb-0310-9956-ffa450edef68

commit 3115028e95081b2c895b80228b7120a6b1927a13
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 22 23:17:14 2011 +0000

    Connector refactoring
    Another small step towards SocketWrapper for NIO
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138678 13f79535-47bb-0310-9956-ffa450edef68

commit 691df234caadd1bf4592e477efa3ab52d1073799
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 22 23:13:37 2011 +0000

    Connector refactoring.
    Start moving the NIO connectors towards using SocketWrapper<NioChannel> rather than NioChannel to align them with BIO/APR and permit further refactoring.
    Do this in small steps since when I tried to do it in one hit, everything broke.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138677 13f79535-47bb-0310-9956-ffa450edef68

commit a5641848942f5eefc75af4967c25f8e7c43778cd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 22 18:30:41 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51418
    Provide more control over Context creation when embedding Tomcat.
    Based on a patch by Benson Margulies.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138573 13f79535-47bb-0310-9956-ffa450edef68

commit 1f6c398759ccf1c2065de4d64b468b9ce90e9d85
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 22 17:11:03 2011 +0000

    Fix copy/paste error that broke crl handling
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138555 13f79535-47bb-0310-9956-ffa450edef68

commit 81affd983e0f57d77098283c011db946347869fa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 22 16:53:58 2011 +0000

    No functional change.
    Refactoring so all attributes are handled the same way.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138550 13f79535-47bb-0310-9956-ffa450edef68

commit 72c596dd2e3f7b83eed9ff44bd7383d957cc3fae
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 22 14:59:11 2011 +0000

    Further improvements to startup performance.
    Use File URLs where they can be determined for speed.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138497 13f79535-47bb-0310-9956-ffa450edef68

commit 1ce0165ddd08c9206fda81d42dd8d9c4df30c2ae
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 21 18:44:58 2011 +0000

    Fix Eclipse warnings in Valves
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138132 13f79535-47bb-0310-9956-ffa450edef68

commit c961999b1839395fe39ac218763444013e98d64e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 21 18:41:42 2011 +0000

    Fix Eclipse warnings / remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138126 13f79535-47bb-0310-9956-ffa450edef68

commit ba3e78ff98b1a5733efbf36f8676dc39a99e9547
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 21 18:34:46 2011 +0000

    Another fp
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138123 13f79535-47bb-0310-9956-ffa450edef68

commit 2d2a338fb647ed7f5cb1b6078b6b1885540bec15
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 21 18:32:41 2011 +0000

    Fix warnings in SSI package
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138121 13f79535-47bb-0310-9956-ffa450edef68

commit db41921b28f30ac8a28af07b85832afdadb1ce93
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 21 18:15:56 2011 +0000

    Remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138115 13f79535-47bb-0310-9956-ffa450edef68

commit d042fc2749ef674b9aeca9a054eb11df713879f7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 21 14:39:17 2011 +0000

    Revert to previous, no need for Charset here.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138022 13f79535-47bb-0310-9956-ffa450edef68

commit 8d051573a8240895bbac72bcff4305c439ed0d7e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 21 14:29:49 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51400
    Avoid known bottleneck in JVM when converting between Strings and bytes by always providing a Charset rather than an encoding name.
    Based on a patch by Dave Engberg.
    
    Note: There are some Charsets that the JVM must support and in those cases Charset.forName(String) should not throw an exception.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1138019 13f79535-47bb-0310-9956-ffa450edef68

commit 91f0fe87dd84f333053b4a471181a0be17f818ce
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Jun 21 13:24:44 2011 +0000

    Avoid NullPointerException in JULI FileHandler if formatter is misconfigured
    Fixes https://issues.apache.org/bugzilla/post_bug.cgi
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137996 13f79535-47bb-0310-9956-ffa450edef68

commit 5aceb977d90db2a24a50a2b44836a384d66a4b82
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 21 11:10:47 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51401
    Correctly initialise shared WebRuleSet instance used by the digesters that parse web.xml and prevent incorrect warnings about multiple occurrences of elements that are only allowed to appear once in web.xml and web-fragment.xml.
    Patch by kfujino
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137957 13f79535-47bb-0310-9956-ffa450edef68

commit c999962f49f0f0515029b3abaacc6bdb1597ae09
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Jun 21 10:20:28 2011 +0000

    Add missing comma
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137932 13f79535-47bb-0310-9956-ffa450edef68

commit 10b63eef27014477036b47b228f426841b77c498
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Jun 21 10:17:17 2011 +0000

    Align tomcat.util.scan.DefaultJarScanner.jarsToSkip value in TomcatBaseTest.
    Add junit and ant-launcher to the value in catalina.properties
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137931 13f79535-47bb-0310-9956-ffa450edef68

commit 02fac3b5bf3f515e221122a0e5878069fb8665af
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Jun 21 10:02:56 2011 +0000

    Add @Override
    Use buf.add(char) when there is a single character string
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137925 13f79535-47bb-0310-9956-ffa450edef68

commit 4c9d84fa01a6e087660fadb72973fa6a4a591379
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Jun 21 08:58:19 2011 +0000

    Fix typos in committer ids
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137914 13f79535-47bb-0310-9956-ffa450edef68

commit 331344e4b669c9e374d8279ce23ea8c627bc0607
Author: Rainer Jung <rjung@apache.org>
Date:   Tue Jun 21 08:42:13 2011 +0000

    Add comment on item ordering, update
    one entry, add one entry.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137909 13f79535-47bb-0310-9956-ffa450edef68

commit ee7b6a8c7328f60ccb043ec00eab656a575418fd
Author: Rainer Jung <rjung@apache.org>
Date:   Tue Jun 21 07:39:44 2011 +0000

    Fix typo and more clarification about CATALINA_OPTS
    vs. JAVA_OPTS.
    
    Thanks to Rainer Frey.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137892 13f79535-47bb-0310-9956-ffa450edef68

commit eab49a3ea0206355320bc7c72728e02ddb95ce04
Author: Rainer Jung <rjung@apache.org>
Date:   Tue Jun 21 06:17:38 2011 +0000

    Add an info about setenv.sh before listing the
    customizable variables.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137868 13f79535-47bb-0310-9956-ffa450edef68

commit db377c52ec4327d95911465be76ceb31db4cf9b0
Author: Rainer Jung <rjung@apache.org>
Date:   Tue Jun 21 06:13:44 2011 +0000

    Clarify difference between CATALINA_OPTS and
    JAVA_OPTS in the scripts.
    
    Feel free to improve wording and examples.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137866 13f79535-47bb-0310-9956-ffa450edef68

commit 0ceb49eb403fc0d0a8d85159e400c39592a5e5bb
Author: Rainer Jung <rjung@apache.org>
Date:   Tue Jun 21 05:30:55 2011 +0000

    Define CATALINA_BASE fallback earlier,
    so one can use CATALINA_BASE and CATALINA_HOME
    variables in setenv without knowing, whether
    the two have been split (i.e. CATALINA_BASE is
    set) or not.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137862 13f79535-47bb-0310-9956-ffa450edef68

commit 94dd2a1c8077afa30fa6e04a44d348a4261e8b77
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 20 23:09:49 2011 +0000

    Auto format
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137819 13f79535-47bb-0310-9956-ffa450edef68

commit 748454257591099358f3b039e3f45202dd8cf7e2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 20 23:02:10 2011 +0000

    Deprecated TagPool that may trigger memory leaks.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137815 13f79535-47bb-0310-9956-ffa450edef68

commit 67bfaa3c755ae6cc0124e2b0e1bac03639cd3526
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 20 22:34:16 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51396
    Correctly handle jsp-file entries in web.xml when the JSP servlet has been configured via code when embedding Tomcat.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137806 13f79535-47bb-0310-9956-ffa450edef68

commit e06081ff6bc518a7886037f8a1cea5978063b1d5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 20 22:28:57 2011 +0000

    Ordering
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137803 13f79535-47bb-0310-9956-ffa450edef68

commit 12b04b9087a00d8124091487ae229f2db9909d00
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 20 20:20:27 2011 +0000

    Fix odd looking code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137764 13f79535-47bb-0310-9956-ffa450edef68

commit a17e054954b2dc75d306f695f8d2835499c001f7
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jun 20 20:12:26 2011 +0000

    Make sure we never use the DateFormatCache with
    millisecond patterns.
    
    Tidy the format pattern like we do in the
    AccessLogValve.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137762 13f79535-47bb-0310-9956-ffa450edef68

commit 870454626e874096a6ac4c5f51a0b6e266793295
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jun 20 19:47:57 2011 +0000

    Let OneLineFormatter use DateFormatCache.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137758 13f79535-47bb-0310-9956-ffa450edef68

commit 76e777bba619ef9d3dd8b7ab30019ea17c10471f
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jun 20 19:44:04 2011 +0000

    More Jars to skip: ant-junit and Java Help.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137754 13f79535-47bb-0310-9956-ffa450edef68

commit ed6c017e46d872e066ea986a8ea8af9473ea3a4b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 20 19:26:45 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51395
    Fix memory leak triggered when an application that includes a SAXParserFactory is the first web application to be loaded.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137753 13f79535-47bb-0310-9956-ffa450edef68

commit 66ac95e1bde0e209771a88df5baf0b3f57e1df26
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jun 20 19:01:14 2011 +0000

    Remove unused code.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137746 13f79535-47bb-0310-9956-ffa450edef68

commit c5ff7a49c82ef608bca5f2ca9d8023c852bffc0e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 20 18:19:08 2011 +0000

    Address kkolinko's review comments
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137731 13f79535-47bb-0310-9956-ffa450edef68

commit c99c30744cd57ddce02cb9926f9dc690499a23ee
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 20 18:02:25 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=33453
    Recompile JSPs if last modified time of the source or any of its dependencies changes either forwards or backwards. Note that this introduces an incompatible change to the code generated for JSPs. Tomcat will automatically re-compile any JSPs and tag files found in the work directory when upgrading from 7.0.16 or earlier to 7.0.17 or later. If you later downgrade from 7.0.17 or later to 7.0.16 or earlier, you must empty the work directory as part of the downgrade process.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137725 13f79535-47bb-0310-9956-ffa450edef68

commit e5605565a6a68f1a1dfe3957e5601f53c57b6e29
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 20 16:38:40 2011 +0000

    The fix for bug 51310 caused a regression that re-introduced bug 49957 and deleted the contents of the work directory when Tomcat was shutdown. This fix ensures that that work directory for an application is not deleted when Tomcat is shutdown.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137693 13f79535-47bb-0310-9956-ffa450edef68

commit 21d6bd3ef53586f75d955b4adc6a326de86ef8a6
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jun 20 15:11:59 2011 +0000

    Add note about script changes.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137652 13f79535-47bb-0310-9956-ffa450edef68

commit 02f4c6ae98b4d4069353514c0a2b76619a52272b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 20 14:57:37 2011 +0000

    Packages tag files have jndi URLs not file URLs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137646 13f79535-47bb-0310-9956-ffa450edef68

commit d94c0af24a412085ff0fe64de4a7a71a3de17384
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 20 14:24:19 2011 +0000

    Remove unnecessary code.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137638 13f79535-47bb-0310-9956-ffa450edef68

commit 8a5e5a32fdc24974b9e56f0e8e059c023947dffb
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jun 20 12:37:57 2011 +0000

    Add configtest to Windows catalina.bat.
    
    Not yet complete:
    
    - No error code escalation
    - No log message
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137609 13f79535-47bb-0310-9956-ffa450edef68

commit 995cc15754008581950d5540e06b790ea333d898
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jun 20 12:37:01 2011 +0000

    Slight improvement of configtest handling in
    Unix shell script:
    
    - add to usage
    - don't use CATALINA_OPTS (think memory size etc.)
    - log a message if status != 0
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137607 13f79535-47bb-0310-9956-ffa450edef68

commit a2f30456d92e372bdc609120f4a7865e7981c32a
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jun 20 09:53:37 2011 +0000

    Make variable explanations for catalina.bat
    and tool-wrapper.bat consistent with their Unix
    counterparts.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137569 13f79535-47bb-0310-9956-ffa450edef68

commit ea0ec7668f2c36d41ff8028fe4df90aed9e085b3
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jun 20 09:52:45 2011 +0000

    Make tool-wrapper.sh consistent with catalina.sh.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137568 13f79535-47bb-0310-9956-ffa450edef68

commit 96857f43e7118f27232564556e2103b568b45886
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jun 20 09:52:16 2011 +0000

    - Clarify JRE_HOME in catalina.sh
    - sort OS detection by OS name
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137567 13f79535-47bb-0310-9956-ffa450edef68

commit 4e4265fe3c3dcca81b764d0e6423b1b65cff794b
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jun 20 09:50:17 2011 +0000

    Make JRE / JDK detection on Windows work
    the same way as on Unix:
    - if "debug" is demanded, only use JAVA_HOME
      and check for a JDK there
    - without "debug", either use JRE_HOME
      or JAVA_HOME with precedence on JRE_HOME
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137565 13f79535-47bb-0310-9956-ffa450edef68

commit a0fd3ad961f8d07bebeb6be5b928f598ee538461
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jun 20 09:27:44 2011 +0000

    Add missing Windows configtest script.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137560 13f79535-47bb-0310-9956-ffa450edef68

commit e9b4c3bb8f796556613616bb876459e2e454b493
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jun 20 09:27:30 2011 +0000

    Make Windows shell scripts for individual
    commands consistent.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137559 13f79535-47bb-0310-9956-ffa450edef68

commit 50f3115cf8e07e15479834f072e743641b89e8ac
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jun 20 09:26:36 2011 +0000

    Make Unix shell scripts for individual
    commands consistent.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137558 13f79535-47bb-0310-9956-ffa450edef68

commit fdbe42d2dda3f73f053028d9b6470b1442ae19d1
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jun 20 08:06:56 2011 +0000

    Add the Tomcat extras JARs to the list of JARs
    to skip when scanning for TLDs and web fragments.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137541 13f79535-47bb-0310-9956-ffa450edef68

commit 1423f0782a273028002ee77e9f2d4ddc08cbd820
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 19 21:39:58 2011 +0000

    Method is identical to method in superclass so remove it
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137453 13f79535-47bb-0310-9956-ffa450edef68

commit 67ed58b3db464d5097e05c17a6bb89c3047f98c4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 19 21:33:55 2011 +0000

    Pull up prepareRequest()
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137451 13f79535-47bb-0310-9956-ffa450edef68

commit 571b8afebc2086d8b311ffd4ab97baf742cd55df
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 19 21:27:38 2011 +0000

    Align with BIO (add debug log messages)
    Prepare for pulling up (add tests around adverts for comet support)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137450 13f79535-47bb-0310-9956-ffa450edef68

commit af78d0f2b4e4f73cb5f4025004f7ed2b7547dca5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 19 21:23:14 2011 +0000

    Add flags that indicate optional feature support
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137449 13f79535-47bb-0310-9956-ffa450edef68

commit f987f8aaf00a893ec3f1ee05a4a089c3a68dfa27
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 19 21:15:22 2011 +0000

    Reset sendfile data in recycle method so prepareRequest can be pulled up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137440 13f79535-47bb-0310-9956-ffa450edef68

commit 189eb6abb3673a64523facd3fc40a7014a6edbca
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 19 19:21:34 2011 +0000

    Extend margin lese tests fail on Linux VM
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137417 13f79535-47bb-0310-9956-ffa450edef68

commit 830dfa6698b0a2d0c6bb357b2dc36cd3c496bb90
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 19 17:28:26 2011 +0000

    Add an additional error margin to avoid false test failures
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137391 13f79535-47bb-0310-9956-ffa450edef68

commit 3e987608ca5dea88999cb07088201cd9050ae70e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 19 17:08:59 2011 +0000

    Add missing sync that triggered test failures on Linux VM post re-factoring
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137390 13f79535-47bb-0310-9956-ffa450edef68

commit eb63e88c2df07ccf412f81d1f6bad9e00113bba7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 19 17:08:11 2011 +0000

    Align with JIoEndpoint
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137389 13f79535-47bb-0310-9956-ffa450edef68

commit 6d8505a564fc72fb7f60591f73ce5cd731767a4e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 19 16:30:26 2011 +0000

    Pull up getBody message
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137385 13f79535-47bb-0310-9956-ffa450edef68

commit e2a6ca91298ee8f06f44976566b6d1d3c80b5d94
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 19 15:56:22 2011 +0000

    Pull up common code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137382 13f79535-47bb-0310-9956-ffa450edef68

commit 5f5fbb9a55b47cc2f8ca6466ca257478833d16d9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 19 15:50:17 2011 +0000

    Pull up more common code in Processor constructors
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137381 13f79535-47bb-0310-9956-ffa450edef68

commit f51a822226ca3555d4ee796a3f2e99bd2657ded1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 19 15:00:40 2011 +0000

    Pull up common endpoint code in Processor constructors
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137375 13f79535-47bb-0310-9956-ffa450edef68

commit 0eae047b09302cb49938c6b226728e5ff60c7cc6
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Jun 19 14:27:52 2011 +0000

    No need to for addToPoller in APR HTTP.
    
    When returning SocketState.OPEN the socket is
    always added to the poller.
    
    Fixes some crashes due to putting the same socket
    twice in the poller.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137372 13f79535-47bb-0310-9956-ffa450edef68

commit c5bafb95d554d6a462ddc807b32695f2fd32b29c
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Jun 19 11:22:20 2011 +0000

    Add new timestamp formatting info to AccessLogValve
    docs.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137338 13f79535-47bb-0310-9956-ffa450edef68

commit 20144cf7ed007e80ffc0a40b5776ef97d88d2f99
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Jun 19 10:58:02 2011 +0000

    BZ 49165 and more:
    - Allow any time stamp formats supported
      by SimpleDateFormat in AccessLogValve.
    - Support logging begin and/or end of request.
    
    Docs to follow.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137336 13f79535-47bb-0310-9956-ffa450edef68

commit 76645772fe0426f3b8cbc504be53d4c369e13ce8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 19 10:53:00 2011 +0000

    Start to pull up common code from constructors
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137335 13f79535-47bb-0310-9956-ffa450edef68

commit 2f9516f817a0de88bdfb5cb2c09b1e8317288233
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 19 10:07:22 2011 +0000

    Pull up definition of standard messages
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137329 13f79535-47bb-0310-9956-ffa450edef68

commit 3e183d6cff918c5a1fcd5c55e81d7e6b0c4d93a9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 19 09:50:17 2011 +0000

    More refactoring since last release
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137324 13f79535-47bb-0310-9956-ffa450edef68

commit 98890126b72b01387b8aa299bbf758bb3d3fdcbb
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Jun 19 09:47:32 2011 +0000

    Use static final instead of volatile in
    AccessLogValve.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137323 13f79535-47bb-0310-9956-ffa450edef68

commit 7e9f8efa3424c98df2eb9458df8f319d8594d2f9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 19 09:46:36 2011 +0000

    Don't use println to write output since os differences will result in different numbers of bytes output
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137322 13f79535-47bb-0310-9956-ffa450edef68

commit 2d239d2eb8f97385fa50f31bff629cb9bee95415
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jun 18 13:41:17 2011 +0000

    Connector re-factoring
    Align APR with BIO/NIO
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137184 13f79535-47bb-0310-9956-ffa450edef68

commit e7a91679d40a0d8a5c7962c24a830d10d10a4427
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jun 18 13:03:50 2011 +0000

    Connector re-factoring
    Start to align APR with BIO/NIO
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137181 13f79535-47bb-0310-9956-ffa450edef68

commit e4730f70eaafe9dd2927b71c432d9f8652c9b246
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jun 18 11:49:14 2011 +0000

    Gump is failing. Re-order tests to try and figure out why.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137175 13f79535-47bb-0310-9956-ffa450edef68

commit 49dd50cfc250619baae326bf2b08d1d8f5f23cd8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 17 22:46:12 2011 +0000

    Speed up test
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137062 13f79535-47bb-0310-9956-ffa450edef68

commit 793e58cb56a738dbe12ee943653986aac20ef16a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 17 22:37:53 2011 +0000

    Connector re-factoring
    Broadly align NIO Handler.process with BIO Handler.process
    Remove event() method from NIO handler
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137059 13f79535-47bb-0310-9956-ffa450edef68

commit 4fbbe9c33e7be89aec20c22eec0a592a1fdf4994
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 17 22:16:26 2011 +0000

    Connector re-factoring
    Remove the need to track isAsync in the SocketWrapper
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137052 13f79535-47bb-0310-9956-ffa450edef68

commit d7e1dfcd20b699d924f2fd7742cd6ed38307d8b8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 17 22:03:10 2011 +0000

    SocketState.ASYNC_END should no longer reach BIO endpoint
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137049 13f79535-47bb-0310-9956-ffa450edef68

commit be81d6b740d7074d7130837bd4d682f8ce16629a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 17 22:01:35 2011 +0000

    Connector re-factoring
    Align Ajp impl with Http impl for BIO
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137048 13f79535-47bb-0310-9956-ffa450edef68

commit 13cf43212dceae965955204af99876a34de23dd4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 17 21:56:58 2011 +0000

    Connector re-factoring
    First step towards removing SocketState.ASYNC_END from the endpoint
    Also a few percent faster, at least running the Async unit tests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137047 13f79535-47bb-0310-9956-ffa450edef68

commit 57ed9d0299985946e9078cf72c38d3252eaab674
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 17 21:41:32 2011 +0000

    Connector refactoring
    No functional change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137044 13f79535-47bb-0310-9956-ffa450edef68

commit 1770f62ba5a277b32c2fb72a9e93c3f2a33a12da
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 17 21:35:59 2011 +0000

    Connector refactoring
    No functional change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1137041 13f79535-47bb-0310-9956-ffa450edef68

commit 7a9791e2ecbf9bf1bcc71305b455395bb1fb57a8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 17 16:17:21 2011 +0000

    Connector re-factoring
    No functional change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1136923 13f79535-47bb-0310-9956-ffa450edef68

commit ccb1de62f109b395771da863746bc95f9aaf8f46
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 17 14:56:05 2011 +0000

    Ignore Eclipse files
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1136902 13f79535-47bb-0310-9956-ffa450edef68

commit 001bab291aa6241bc0449549ec970b2f4d4cb985
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 17 13:03:30 2011 +0000

    Add a simple Comet test case
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1136867 13f79535-47bb-0310-9956-ffa450edef68

commit fd12ea0947a4bcff3991c63cbee778855ae3f3a6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 17 12:12:46 2011 +0000

    Remove empty dir
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1136857 13f79535-47bb-0310-9956-ffa450edef68

commit 5d4c669a8c9ca256338bec2d8b2a706667855391
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 17 12:11:16 2011 +0000

    Remove empty dir
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1136855 13f79535-47bb-0310-9956-ffa450edef68

commit a5768cd2a32db42ab1f9c1a2f83da0e027f65f8a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 17 08:54:28 2011 +0000

    Aligning code between connectors
    Remove extra method from JIoEndpoint.Handler
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1136812 13f79535-47bb-0310-9956-ffa450edef68

commit 6237cf3c4a07d63e3511196fbb6fb87ad56510ee
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 17 08:33:23 2011 +0000

    Add missing transition
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1136806 13f79535-47bb-0310-9956-ffa450edef68

commit 2f087cd1d30cf5f46a49ab5afe571d5814c48d8e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 16 17:26:15 2011 +0000

    Tomorrow is the 17th
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1136552 13f79535-47bb-0310-9956-ffa450edef68

commit c2df59931859f383268a991243622197bedbacb6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 16 17:25:50 2011 +0000

    Release tomorrow. Mirrors should have sync'd by then.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1136551 13f79535-47bb-0310-9956-ffa450edef68

commit 8be5c6de617b5ea46785f779ed1dda5e7756b6bd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 16 17:24:03 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51386
    Correct code for processing @HandlesTypes annotations so only types of interest are reported to a ServletContainerInitializer.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1136550 13f79535-47bb-0310-9956-ffa450edef68

commit 405bd2a678c26edb2c11fe467ba0e35a0b0f970f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 16 12:28:01 2011 +0000

    Align SSI regexp handling with htttpd
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1136399 13f79535-47bb-0310-9956-ffa450edef68

commit d2fcd1c05dadfff1093c5ba4a3f0676b3a6c4200
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Jun 16 08:18:44 2011 +0000

    Add session="false" directive to the index page of the ROOT web application.
    There is no need to create a session when accessing this page.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1136318 13f79535-47bb-0310-9956-ffa450edef68

commit a0a8ab358e9a320059acf94c6e2c4ed1c8bf7cb8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 15 22:44:00 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48956
    Implement regular expression support for SSI
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1136231 13f79535-47bb-0310-9956-ffa450edef68

commit 7b57a89421e8137485216519cf7a3ca5669b8aba
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 15 21:58:00 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=43538
    Add host name and IP address to the HTML Manager application.
    Patch by Dennis Lundberg.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1136216 13f79535-47bb-0310-9956-ffa450edef68

commit 3b53973a2eace9e9d84650dfc362a8bc6e935223
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 15 20:32:14 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51376
    Complete fix. Ensure Servlet.destroy() is only called if Servlet.init() was called.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1136179 13f79535-47bb-0310-9956-ffa450edef68

commit cf63306201f53f482c57aeb2e389261846667546
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 15 16:24:42 2011 +0000

    Pull up asyncDispatch()
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1136108 13f79535-47bb-0310-9956-ffa450edef68

commit 5bc6fa9de038d2fa0df3a5a51fbc5a772f31b343
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 15 16:19:06 2011 +0000

    Align code between connectors in preparation for pulling code up to the superclass
    No need to close the AJP connection if there was no error
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1136106 13f79535-47bb-0310-9956-ffa450edef68

commit 340058a46a55597956cfdaf9665c8ec774a0c203
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 15 15:56:59 2011 +0000

    Align code between connectors in preparation for pulling code up to the superclass
    When returning SocketState.CLOSED, recycle is always called
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1136099 13f79535-47bb-0310-9956-ffa450edef68

commit da06a7e8b6b530b0dae0c2ee70772868417d8256
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 15 15:46:54 2011 +0000

    Align code between connectors in preparation for pulling code up to the superclass
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1136091 13f79535-47bb-0310-9956-ffa450edef68

commit c7ea1b38299e4a86e0625d631efa99ab19ffd5aa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 15 15:43:53 2011 +0000

    Align code between connectors in preparation for pulling code up to the superclass
    No need to pass the socket into the asyncDispatch() call. It will always have been set beforehand.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1136090 13f79535-47bb-0310-9956-ffa450edef68

commit 08c41a9a771e7e41bfaf91ab32b11686321d5db4
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Jun 15 14:48:11 2011 +0000

    Add to the logging.properties file a sample configuration setting
    for enabling debug messages in TldLocationsCache.
    Slightly improve the messages printed by TldLocationsCache.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1136073 13f79535-47bb-0310-9956-ffa450edef68

commit bc29a8b9da4eabdd2e79bd3e6991eceaf1a1a3e6
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Jun 15 14:32:08 2011 +0000

    Add sunmscapi.jar to jarsToSkip
    I found it in version 6u25 of Oracle JDK and JRE on Windows 32-bit.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1136070 13f79535-47bb-0310-9956-ffa450edef68

commit d5893f3477823fbb767858d47e7007c12adb9c7f
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Jun 15 13:51:03 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50677
    Allow ANT style variables in the common.loader and other *.loader properties in conf/catalina.properties
    
    I do not implement the substitution for any property as suggested by BZ 50677,
    but only for the class loader ones. I think this is sufficient for the use case
    and does not break backwards compatibility.
    Most of the code is copied from ClassLoaderLogManager.replace().
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1136043 13f79535-47bb-0310-9956-ffa450edef68

commit a3e1c602b887afc4d4db48be1dbe3a1868ac3880
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 15 13:21:16 2011 +0000

    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1136028 13f79535-47bb-0310-9956-ffa450edef68

commit 7df18a5d9345cebf239a4c55426ca2610c703704
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 15 12:55:24 2011 +0000

    Fix typo reported by @earthgecko
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1136017 13f79535-47bb-0310-9956-ffa450edef68

commit 290a27e2450990c4bb2bb472288c65f3fd5f1493
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jun 13 18:14:46 2011 +0000

    Fix crash observed during pausing the connector when using APR.
    
    Only add socket to poller if we are sure we don't close it later.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1135208 13f79535-47bb-0310-9956-ffa450edef68

commit c3198acba017c1a17a16aa48a60d9f4207922b90
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jun 13 14:40:18 2011 +0000

    Fix copy&paste error in comment.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1135115 13f79535-47bb-0310-9956-ffa450edef68

commit ef83a26ba0326636db94d6fab40e0d8aadf7e693
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jun 13 11:19:23 2011 +0000

    Remove superfluous quotes from thread names for
    connection pools.
    
    Example broken thread name: "http-apr-8001"-exec-2
    (including leading and intermediate quotes).
    
    Since we never use the names as a full ObjectName,
    only as a part of an ObjectName, it is safe to
    remove the surrounding quotes from the Protocol name.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1135088 13f79535-47bb-0310-9956-ffa450edef68

commit 1cdf8e6fbe0b49fc2207c1ff32acf57582b4c54c
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Mon Jun 13 09:57:27 2011 +0000

    correct changelog.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1135071 13f79535-47bb-0310-9956-ffa450edef68

commit 030dbd0147c7e72f44ed6062f4911868216753c3
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Mon Jun 13 09:44:33 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51306.
    Avoid NPE when handleSESSION_EXPIRED is processed while handleSESSION_CREATED is being processed.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1135069 13f79535-47bb-0310-9956-ffa450edef68

commit 1354320e78353660ff9158e58064aae06bc536d3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 12 19:28:17 2011 +0000

    Update the Maven repo info
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1134965 13f79535-47bb-0310-9956-ffa450edef68

commit 107007da3db150b81f57f3da999b2dadfaac2b68
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Jun 12 15:47:53 2011 +0000

    Fix unit test for bindOnInit.
    
    Test failed when Java was binding sockets using
    IPv4 and APR using IPv6. Since the connector
    uses APR, and the test socket Java, both could bind
    at the same time.
    
    Observed on Solaris 10 Sparc.
    
    Fixed by also uding APR to bind the test socket.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1134938 13f79535-47bb-0310-9956-ffa450edef68

commit a6f4a162fd850ea02e62f5a5bba24aadb707a6f1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jun 11 10:31:58 2011 +0000

    Update ready for next release
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1134563 13f79535-47bb-0310-9956-ffa450edef68

commit 76fb6089bab9efb632d03db5bdd3b4a22cb27d66
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Jun 10 08:15:16 2011 +0000

    Add bug number for r1134048
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1134227 13f79535-47bb-0310-9956-ffa450edef68

commit 3633431e269bb382b1fe7208a7f56ff679855ef3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 9 20:10:23 2011 +0000

    Document the state transition diagram
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1134063 13f79535-47bb-0310-9956-ffa450edef68

commit 4ac09a64f3994651a5d0a12a6782f37bacab7c2c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 9 20:06:46 2011 +0000

    Fix Javadoc error
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1134061 13f79535-47bb-0310-9956-ffa450edef68

commit 966690f7d285aa7c1a75442d140f230e8f73c13f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 9 19:15:40 2011 +0000

    Prevent possible NPE when processing WebDAV locks.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1134048 13f79535-47bb-0310-9956-ffa450edef68

commit 65552fee8cd410b8d4fdd2a2be38b306614b7a0e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 9 19:04:37 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51344
    Fix problem with Lifecycle re-factoring for deprecated embedded class that prevented events being triggered.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1134042 13f79535-47bb-0310-9956-ffa450edef68

commit a2cf25d654dcd4ac9ad19419465d0492e2481542
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Jun 9 13:20:09 2011 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=51249
    Reimplement system properties replacement code in ClassLoaderLogManager of JULI
    1. Do not use recursion.
    2. Do not stop on the first unrecognized property, but continue with the rest of the string.
    3. Do not call System.getProperty() on an empty key, because it throws IllegalArgumentException. Threat "${}" as unrecognized property.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1133857 13f79535-47bb-0310-9956-ffa450edef68

commit 0682c0ea00cbca98d4d8ca20c530d32b96e5ed5d
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Jun 9 12:26:10 2011 +0000

    Followup to r1133816
    Remove properties that TortoiseSVN added to the new subdirectory.
    It propagates those from the parent directory.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1133824 13f79535-47bb-0310-9956-ffa450edef68

commit e293d2ae0f349a5aa89f3b2afa280ebed6e67873
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Jun 9 12:03:25 2011 +0000

    Tests for ClassLoaderLogManager#replace()
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1133816 13f79535-47bb-0310-9956-ffa450edef68

commit f6bdd359cc49e60753233965569bb2004b0d2e3e
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Jun 9 07:55:43 2011 +0000

    typos
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1133701 13f79535-47bb-0310-9956-ffa450edef68

commit ab894eaf5b27d8a2d84024851d7b422971a07e39
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 8 22:20:22 2011 +0000

    Refactoring triggered security exception when running TCKs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1133586 13f79535-47bb-0310-9956-ffa450edef68

commit 134db61a978c140f95f692c3f842a464820b56ea
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 8 15:52:26 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51340
    Fix thread-safety issue when parsing multiple web.xml files in parallel. Apache Tomcat does not do this but products that embed it may.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1133446 13f79535-47bb-0310-9956-ffa450edef68

commit 544179985c8da189110ee6a21f02eb14021a28ea
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 8 13:52:50 2011 +0000

    Avoid possible NPE
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1133401 13f79535-47bb-0310-9956-ffa450edef68

commit b5a66a5084c3b439ebfb15f2dd20a8102d84b2ba
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Wed Jun 8 08:45:41 2011 +0000

    Followup to r1133134.
    I think better not dataSource but dataSourceName.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1133288 13f79535-47bb-0310-9956-ffa450edef68

commit fdf57ac5351156348ad3e5a8328885413d7733c7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 8 00:44:14 2011 +0000

    Fix regression in welcome file processing
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1133221 13f79535-47bb-0310-9956-ffa450edef68

commit 01aa3d003e3d3ce5a9f852d55b4f85343045a1c0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 7 23:56:14 2011 +0000

    Simplify as per kkolinko's review
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1133204 13f79535-47bb-0310-9956-ffa450edef68

commit f94dac59327f66dfea20c40d7c8259cc8f336b44
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 7 23:50:55 2011 +0000

    Update changelog post valve changes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1133202 13f79535-47bb-0310-9956-ffa450edef68

commit b2d6428a7c4715eecabe48db47ba1bf2fca4d654
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 7 23:48:17 2011 +0000

    Correct a regression in the fix for bug 51278 that prevented any web application from being marked as distributable. (kfujino)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1133201 13f79535-47bb-0310-9956-ffa450edef68

commit f032083ad50bb0852684281ed0a55d5cc41fe2ff
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 7 23:47:16 2011 +0000

    Enable for async requests.
    Looking for stuck threads - no special async support required here.
    When the asycn timeout is infinite requests may get stuck but that'll need a different detection mechanism.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1133200 13f79535-47bb-0310-9956-ffa450edef68

commit 9d0b8071caef03eb0a5545f728c4e1f2ee1b877d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 7 23:43:31 2011 +0000

    Enable for async requests.
    Async requests should appear as serial requests when requiring multiple internal requests so concurrency should behave as expected.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1133199 13f79535-47bb-0310-9956-ffa450edef68

commit 119fdeff387278d31f927333479335e3f03cf3ce
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 7 23:37:29 2011 +0000

    Enable for async requests.
    Depending on how async is used, may see multiple replication requests for a single async request.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1133197 13f79535-47bb-0310-9956-ffa450edef68

commit 7ed27226a62d1874f1ca7e5f2eacbf6b10ca792f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 7 23:12:18 2011 +0000

    Enable for async requests
    Don't persist the session if processing an async request. Note: There may be some async states where the session could be safely persisted.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1133193 13f79535-47bb-0310-9956-ffa450edef68

commit 01be27f5ec6aec5fcd1d7bf6559de6576722b40e
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Jun 7 22:40:56 2011 +0000

    Simplify markup: remove <br/>s from the end of lines. They are not needed inside the <source> tag.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1133185 13f79535-47bb-0310-9956-ffa450edef68

commit a23ac2fd6c1465a7f6249c02cb25e16bbd97ddde
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Jun 7 22:28:45 2011 +0000

    Align log4j configuration example with log4j documentation: start property names with an uppercase character.
    It is just a question of style: it should work either way.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1133182 13f79535-47bb-0310-9956-ffa450edef68

commit e3f3d63d4ed24717f5a92e2b18ed6b9fe17df8b8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 7 22:14:52 2011 +0000

    Enable for async requests
    Only look for a change on non-async requests. There will always be one of these before any async processing on a request so no need to check if the current request is in the middle of async processing
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1133177 13f79535-47bb-0310-9956-ffa450edef68

commit 7a852164f2d9b7fbe774117a8dc38269ec270507
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 7 22:05:31 2011 +0000

    Enable for async requests (invoke just passes the request through so no issues with async)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1133173 13f79535-47bb-0310-9956-ffa450edef68

commit 37bd92d429eb7cb2c76a4f4f625c4e1149187345
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 7 22:04:44 2011 +0000

    Enable for async requests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1133172 13f79535-47bb-0310-9956-ffa450edef68

commit 4b5b655817e84fb39b68b1276c0f7e9cffa60045
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Jun 7 21:56:16 2011 +0000

    Followup to r1133122
    if(flag) set flag:=false
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1133170 13f79535-47bb-0310-9956-ffa450edef68

commit 50ccd411fb82434cb7223ca951cb1bb26adc04b4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 7 19:28:42 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51264
    Improve fix to return connections to the pool when not in use.
    Patch provided by Felix Schumacher.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1133134 13f79535-47bb-0310-9956-ffa450edef68

commit bab6d95f41cfd2cfd349cce62e3668ff3646f276
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 7 19:04:41 2011 +0000

    Don't use a single quote in the message
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1133131 13f79535-47bb-0310-9956-ffa450edef68

commit 46a9fe2a13d1de8bc44c8126c9aea72fb5121874
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 7 18:43:03 2011 +0000

    7.0.15 was broken
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1133128 13f79535-47bb-0310-9956-ffa450edef68

commit 85395d9129743727353f0d4a6ea97be2721c31ad
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 7 18:42:36 2011 +0000

    Prep for 7.0.16 tag
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1133127 13f79535-47bb-0310-9956-ffa450edef68

commit 0331325f12a404eaf3cc7f15dfbd71d70bad88c8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 7 18:18:06 2011 +0000

    Don't overwhelm logs with TLD scanning messages but make users aware there is room for improvement and tell them how to get at the detail.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1133122 13f79535-47bb-0310-9956-ffa450edef68

commit 855028e6229ee7a887d0cf0c8e0f6889d4668450
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 7 17:51:43 2011 +0000

    Add a few more exclusions
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1133112 13f79535-47bb-0310-9956-ffa450edef68

commit 601e77f20e01dd447ab6280c407583505716a49e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 7 14:00:16 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51324
    Improve handling of exceptions when flushing the response buffer to ensure that the doFlush flag does not get stuck in the enabled state.
    Patch provided by Jeremy Norris.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1133014 13f79535-47bb-0310-9956-ffa450edef68

commit 63f7bcd6c34f8ebc1d9e94283268cd07703d76a7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 7 09:22:44 2011 +0000

    Revert r1132367. There is no issue. I got confused between AprEndpoint.SendfileData and NioEndpoint.SendfileData
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1132920 13f79535-47bb-0310-9956-ffa450edef68

commit cc40f336e4f030817088672cf0f00d595efe42d2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 6 17:07:49 2011 +0000

    Correct doc error reported on users list
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1132703 13f79535-47bb-0310-9956-ffa450edef68

commit a1378faa3254eaa427cb15bc12d83bd821043f99
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 6 16:53:58 2011 +0000

    Only need 1 HexUtils class
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1132702 13f79535-47bb-0310-9956-ffa450edef68

commit 696d314f92e2ddd4f15e37aa25434cb0db64bb44
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 6 16:53:37 2011 +0000

    Revert r1132487 and use Konstantin's suggested fix.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1132700 13f79535-47bb-0310-9956-ffa450edef68

commit 9fbdd3ac4b6df96024bc30430fc9b4f2564b1f18
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jun 6 10:05:11 2011 +0000

    Set svn:eol-style=native
    Fixes bug 51323 reported by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1132569 13f79535-47bb-0310-9956-ffa450edef68

commit 344da816bf111e856131e2bfd82639030afa1e03
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 5 20:26:37 2011 +0000

    Parse port as base10, not hex
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1132487 13f79535-47bb-0310-9956-ffa450edef68

commit e3950b044bab5c4412c01eb88d5b94577447d795
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 5 16:32:31 2011 +0000

    Create a new RecycledProcessors inner class and use it in the Processor implementations rather than redefining the same thing 6 times.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1132451 13f79535-47bb-0310-9956-ffa450edef68

commit 3b7a8f48f00cbea7b9095f208ee212b089ec8196
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Jun 5 15:11:34 2011 +0000

    Fix Javadoc.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1132433 13f79535-47bb-0310-9956-ffa450edef68

commit 050bb203adedcae742f8adb821ec31e34833341a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 5 13:40:57 2011 +0000

    Create an AbstactConnectionHandler and pull up the common JMX code from the AJP and HTTP connectors
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1132404 13f79535-47bb-0310-9956-ffa450edef68

commit f8b31134090dd8cf225f33e5a678455f08e08c1e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 5 13:16:02 2011 +0000

    Pull up the request and response objects since they are common between AJP and HTTP
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1132397 13f79535-47bb-0310-9956-ffa450edef68

commit ae0584a02776b78b85cb0a1f8ebbd63609cf6d9a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 5 12:36:25 2011 +0000

    Rename for consistency
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1132385 13f79535-47bb-0310-9956-ffa450edef68

commit 7af6c2d4c43a1db3702adec7d8eb8daaf7b25f46
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 5 12:33:29 2011 +0000

    Align some of the code between the connection handlers.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1132383 13f79535-47bb-0310-9956-ffa450edef68

commit 97ea06a74933fbacc28766feb7b7da71d41d8584
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 5 12:20:42 2011 +0000

    Consistent visibility with BIO
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1132381 13f79535-47bb-0310-9956-ffa450edef68

commit 53b9ddcab44286bf40665db0bf42cbee3f1ecbde
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 5 12:08:36 2011 +0000

    Remove duplicated code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1132375 13f79535-47bb-0310-9956-ffa450edef68

commit 02ed5f1af8e6df9a08c693b33caf2b5138db42b0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 5 10:21:25 2011 +0000

    Correctly handle range requests when using sendfile and the APR/native HTTP connector.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1132367 13f79535-47bb-0310-9956-ffa450edef68

commit 3d81d6008dc6d63244e6e2770bb1c79fa8b9dddb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 5 10:14:15 2011 +0000

    Reformat - no functional change. Just to aid comparison
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1132364 13f79535-47bb-0310-9956-ffa450edef68

commit 9b06bd007271b3ef0729e88d45ece9f023567300
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 5 10:06:49 2011 +0000

    Pull up parseHost
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1132362 13f79535-47bb-0310-9956-ffa450edef68

commit ac7c0af2b5d6b203b5d1ad5f32aae802f4c745c0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 5 10:04:18 2011 +0000

    Align ssl test in parseHost in BIO and NIO & APR
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1132361 13f79535-47bb-0310-9956-ffa450edef68

commit 35ab90cd4d846585cd830aae637f7adc8f34c19d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 5 10:03:50 2011 +0000

    Removed ssl attribute from NIO and APR to align with BIO
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1132360 13f79535-47bb-0310-9956-ffa450edef68

commit 82903b413655a16145ca31f312a5af7d909bbb5c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 5 09:43:55 2011 +0000

    Fully align parseHost
     - remove unnecessary code from BIO
     - improve comment for all
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1132356 13f79535-47bb-0310-9956-ffa450edef68

commit 5a5850aa1c986953ed708e4be17b0ac33e4e8694
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 5 09:02:48 2011 +0000

    Start to align the parseHost method across the Http11 processors
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1132217 13f79535-47bb-0310-9956-ffa450edef68

commit c50f88d359fb36b25f8cb49318c34ab682479e25
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jun 4 21:00:07 2011 +0000

    Pull up common getExecutor code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1131494 13f79535-47bb-0310-9956-ffa450edef68

commit 6283553cb1ddce348781406ad65bee365d5795e5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jun 4 20:41:39 2011 +0000

    Create an AbstractProcessor. Start to pull common code from AJP and HTTP processors to this abstract class.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1131490 13f79535-47bb-0310-9956-ffa450edef68

commit e107fde7394e182c71b05ed7cd58bc11abe76d18
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jun 4 19:19:53 2011 +0000

    Javadoc fixes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1131471 13f79535-47bb-0310-9956-ffa450edef68

commit 1e2a2b70d183c9551e8c3c5d2ae6463d8efb4f35
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jun 4 19:14:42 2011 +0000

    Update for next release
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1131470 13f79535-47bb-0310-9956-ffa450edef68

commit fe7d4af7d0160dd2d3526d97bc7d87133e434d3e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 3 22:22:35 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51251
    Add web application version support to the Ant tasks.
    Based on a patch provided by Eiji Takahashi.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1131267 13f79535-47bb-0310-9956-ffa450edef68

commit f8c9ccc2ade336377ba88fd2b9b8624f5352091f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 3 22:13:09 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51264
    Allow the JDBC persistent session store to use a JNDI datasource to define the database in which sessions are persisted.
    Patch provided by Felix Schumacher.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1131263 13f79535-47bb-0310-9956-ffa450edef68

commit 457f9d85067ebd3eefd4bd2df10d5b108c4a7e0e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 3 18:07:24 2011 +0000

    Fix TCK failure exposed by the fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=51278
    A previous change to ensure web.xml had precedence over fragments and annotations was not complete. It handled filter definitions and servlet definitions but not servlet mappings.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1131126 13f79535-47bb-0310-9956-ffa450edef68

commit 26455b15e799c2cfbdaf64782986efd6ce127412
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 2 21:18:07 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51278
    Changes required to original fix identified by TCK tests
    Need to merge defaults before JSP->Servlet conversion since defaults define JSP servlet.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1130817 13f79535-47bb-0310-9956-ffa450edef68

commit 712498af84c8f4b55441ebffbcb8c5e4b3b72e44
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 2 20:09:27 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51309
    Correct logic in catalina.sh stop when using a PID file to ensure the correct message is shown.
    Patch provided by Caio Cezar.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1130774 13f79535-47bb-0310-9956-ffa450edef68

commit 8fcae63c1dc71e3ba5559d7411439b89c4af3e25
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jun 2 16:30:52 2011 +0000

    More detailed information when waiting for a connection has timed out
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1130636 13f79535-47bb-0310-9956-ffa450edef68

commit 68bfdb0514430b328bc3d1636252eaa218413cd3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 2 16:11:16 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51249
    Correct system property replacement code so properties of the form ${...}${...} can be used without error.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1130625 13f79535-47bb-0310-9956-ffa450edef68

commit 5cbf182cfe46234307fd536ac29697de96fe17ad
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 2 15:54:26 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51278
    Allow ServletContainerInitializers to override settings in the global default web.xml and the host web.xml.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1130618 13f79535-47bb-0310-9956-ffa450edef68

commit 3a93092ee48062f5e8358de2e997180378518967
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jun 2 15:26:21 2011 +0000

    Correctly cast to the right PooledConnection
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1130605 13f79535-47bb-0310-9956-ffa450edef68

commit 08242595e65b7fd334628e6e12108a74ceb62574
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 2 13:38:30 2011 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1130542 13f79535-47bb-0310-9956-ffa450edef68

commit 31a305dd7147c58a882372ba0dfd1a4df1371443
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 2 13:26:16 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51310
    When stopping the Server object on shutdown call destroy() after calling stop().
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1130539 13f79535-47bb-0310-9956-ffa450edef68

commit 51ab521d3eff5e2f57356835bf9a7e79eb49fc05
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 2 13:10:01 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51294
    Clarify docs for unpackWAR attribute of StandardContext
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1130533 13f79535-47bb-0310-9956-ffa450edef68

commit a949ab9666144c3d5e3e2ad47b658c822adc8309
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 2 11:12:04 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51276
    Provide an abstraction for accessing content in JARs so the most efficient method can be selected depending on the type of URL used to identify the JAR. This improves startup time when JARs are located in $CATALINA_BASE/lib.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1130497 13f79535-47bb-0310-9956-ffa450edef68

commit ded7c5e96e1f6d638efab6196a8a7a7fd1579d4f
Author: Christopher Schultz <schultz@apache.org>
Date:   Tue May 31 19:30:16 2011 +0000

    Added 'layout' configuration for log4j loggers.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1129869 13f79535-47bb-0310-9956-ffa450edef68

commit c2127fbffeea21890f96f49d1b0e933ae382903f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 31 13:06:11 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51277
    Improve error message if an application is deployed with an incomplete FORM authentication configuration.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1129658 13f79535-47bb-0310-9956-ffa450edef68

commit bf83c684faa29c4994de5e5ecbb6180d03382b3e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 28 18:45:51 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51274
    Add missing i18n strings in PersistentManagerBase.
    Patch provided by Eiji Takahashi.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1128752 13f79535-47bb-0310-9956-ffa450edef68

commit f1200c3d8cb6b0fc4bee9e9c1bb2f5ab7d6f9512
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri May 27 16:35:43 2011 +0000

    Fix NPE triggered by r1127962
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1128386 13f79535-47bb-0310-9956-ffa450edef68

commit 63e4f5e3520d1e250da2a13693c20dd8cf5a310b
Author: Tim Whittington <timw@apache.org>
Date:   Fri May 27 09:55:42 2011 +0000

    Adding code signing keys.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1128222 13f79535-47bb-0310-9956-ffa450edef68

commit f0e2c1b6cb044baf3542b1d6c7f41567dac17d6d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 26 15:27:52 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51240
    Replace the more generic CounterLatch (that has concurrency issues) with a more specific LimitLatch that (mostly) only provides the functionality required by the connectors to implement maxConnections. It also adds support for dynamically modifying maxConnections.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1127962 13f79535-47bb-0310-9956-ffa450edef68

commit db5304a68e745e5f52e48745763d207d75cff28d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 24 16:04:08 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51226
    Add a findleaks Ant task for the Manager app.
    Based on a patch by Eiji Takahashi
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1127122 13f79535-47bb-0310-9956-ffa450edef68

commit 37f0d4fe3860a1db2e1dbfff2c3f8541ee92101e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 22 22:54:15 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=27122
    Remove a workaround for a very old and since fixed Mozilla bug and change the default value of the securePagesWithPragma attribute of the Authenticator Valves to false to reduce the likelihood of issues when downloading files with IE.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1126273 13f79535-47bb-0310-9956-ffa450edef68

commit cfd717357d3189c870290a9ae1a0477dc25090e4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 21 19:51:37 2011 +0000

    Remove 6.1.x wish list
    If there is any interest in these, they can be added as enhancement requests in Bugzilla
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1125780 13f79535-47bb-0310-9956-ffa450edef68

commit 6118aac06565bebcd64247426da5c2e7d869b1aa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 21 19:49:42 2011 +0000

    Remove out of date status file. Remainign todos are in bugzilla
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1125778 13f79535-47bb-0310-9956-ffa450edef68

commit 01dee8a7613c3a7cf5e936cfd486b4e298c2955e
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri May 20 22:03:39 2011 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=51185
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1125573 13f79535-47bb-0310-9956-ffa450edef68

commit 6ca072b3fb4fa8c8db3e1afa458837e8cbef24d9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri May 20 18:11:53 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=35054
    Check that a file is not specified for a Host's appBase and log an error if it is.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1125492 13f79535-47bb-0310-9956-ffa450edef68

commit d998feed414e3e4e20ee63cb6b1c678d15f0a011
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri May 20 16:52:50 2011 +0000

    Minor clean-up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1125461 13f79535-47bb-0310-9956-ffa450edef68

commit f42c8bbad1381468c41af668d0fb4f890bcc0808
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 19 16:27:42 2011 +0000

    More prep for BZ 33453. Include a comment header in generated Java files
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1124987 13f79535-47bb-0310-9956-ffa450edef68

commit c549e4fe6d0a98fb2a3c5f08a65a6051e5d4d88c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 19 16:25:45 2011 +0000

    Refactoring in preparation for a fix for BZ 33453
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1124986 13f79535-47bb-0310-9956-ffa450edef68

commit 3438c8ddcd08b35d076c126ba660443945ae23b3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 19 13:33:12 2011 +0000

    Fix copy/paste error
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1124757 13f79535-47bb-0310-9956-ffa450edef68

commit d45c5b55d8547f49c7f4ab7264e6563f49af3425
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 19 12:45:49 2011 +0000

    Remove unused isErrPage attribute
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1124719 13f79535-47bb-0310-9956-ffa450edef68

commit d4b573da949c49f4e057b7b40389e59aaa5682a3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 19 12:41:50 2011 +0000

    Remove unused attribute
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1124714 13f79535-47bb-0310-9956-ffa450edef68

commit 618814be5c8a40e24c95350282e7a232888bad22
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 19 12:36:06 2011 +0000

    Remove unused code. Made unnecessary by r618481
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1124711 13f79535-47bb-0310-9956-ffa450edef68

commit b713572f95d01e9e24e6f746d551846d57a22284
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 19 10:44:12 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51220
    Add a system property to enable tag pooling with JSPs that use a custom base class.
    Based on a patch by Dan Mikusa.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1124680 13f79535-47bb-0310-9956-ffa450edef68

commit 96e796ff4b9e65cec043e24d42c0d3358dbae80d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 19 10:29:11 2011 +0000

    Ordering
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1124672 13f79535-47bb-0310-9956-ffa450edef68

commit 50099b92e7eade419729d7119060528bc3457e7a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 19 09:43:59 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51182
    Better organisation of listeners doc
    Add JAAS/JMX listener info
    Patch provided by Neil Laurance
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1124644 13f79535-47bb-0310-9956-ffa450edef68

commit 831bbf688f91ddcff69936cd452a2653ff8e4e88
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 19 09:27:30 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51221
    Correct Spanish translation of text used in a 302 response.
    Patch provided by Paco Soberón.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1124629 13f79535-47bb-0310-9956-ffa450edef68

commit 95f681b5bd10fdd3cb2815e4b5ae7d80c5fd64ef
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 19 09:19:58 2011 +0000

    grr
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1124625 13f79535-47bb-0310-9956-ffa450edef68

commit 4c2a0ed629ee6dc8be2c715c262d2ad00863ebad
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 19 09:19:03 2011 +0000

    MOve to correct version
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1124624 13f79535-47bb-0310-9956-ffa450edef68

commit 949e31f47d46b7ef7dfa6d9acf988744c3df1f3f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 19 09:15:52 2011 +0000

    Fix broken documentation links for non-English locales in the HTML Manager application.
    Patch provided by Eiji Takahashi.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1124620 13f79535-47bb-0310-9956-ffa450edef68

commit c38641f86865cd3cf2bfd76a9c0831ef0e304519
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 19 08:55:43 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51229
    Fix bugs in the Servlet 3.0 asynchronous examples.
    Patch provided by Eiji Takahashi.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1124614 13f79535-47bb-0310-9956-ffa450edef68

commit 150b4ab2f20ec34aa586488bbb7f60182b07c3d9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 19 08:49:03 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51230
    Add missing attributes to JMX for ReplicationValve and JvmRouteBinderValve.
    Patch provided by Eiji Takahashi.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1124607 13f79535-47bb-0310-9956-ffa450edef68

commit 6a6877a799afe3bf9b67a6d025795ff6df3f6b4f
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed May 18 17:46:01 2011 +0000

    make fields volatile
    https://issues.apache.org/bugzilla/show_bug.cgi?id=51212
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1124352 13f79535-47bb-0310-9956-ffa450edef68

commit e4996daf69eccfe7387f3e56ee42874cdc3f70fe
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 18 17:25:28 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51197
    Fix possible dropped connection when sendError or sendRedirst are used during async processing.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1124342 13f79535-47bb-0310-9956-ffa450edef68

commit 4c0ce1385f906d8eb8d186a5eec14ac6b7d48ef3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 18 17:16:26 2011 +0000

    If an error status is set during async processing, don't drop the connection and let the async processing handle it
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1124340 13f79535-47bb-0310-9956-ffa450edef68

commit 380399a2252c005f9c7923e06123ecb771768459
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue May 17 20:57:46 2011 +0000

    Add @deprecation comments
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1104557 13f79535-47bb-0310-9956-ffa450edef68

commit 8a621766c936dc3afbc7b1bdc7a514aa86764740
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue May 17 20:30:49 2011 +0000

    Add missing @since comment.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1104528 13f79535-47bb-0310-9956-ffa450edef68

commit 03c54afbc93a23a5ec41de631883eac12c939e01
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 17 17:24:36 2011 +0000

    Add remaining attributes to documentation
    AJP-NIO now passes Servlet TCK - remove experimental label
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1104422 13f79535-47bb-0310-9956-ffa450edef68

commit 356e801762a38745931f4d7b9bf2ef660531a42e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 17 16:52:51 2011 +0000

    Better align AJP connector code
    Fix some copy/paste errors
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1104403 13f79535-47bb-0310-9956-ffa450edef68

commit a947c77140fc5f756f8940e13d3361c9e4823b48
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 17 15:21:38 2011 +0000

    webapps is relative to base not home
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1104328 13f79535-47bb-0310-9956-ffa450edef68

commit cf0997af84e03d8f2551ebc5f912fcb991c2b74d
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue May 17 14:41:09 2011 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=51208
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1104288 13f79535-47bb-0310-9956-ffa450edef68

commit 49c0f5a25c039b0834d718781234db46bfb438db
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 16 22:02:04 2011 +0000

    Add Filip's additional patch to correctly handle infinite read timeouts
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1103923 13f79535-47bb-0310-9956-ffa450edef68

commit cb027503c5ddfcf520246cd15139923a03625f8c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 16 21:30:52 2011 +0000

    Fix Security Exceptions when running Servlet TCK with experimental nio-apr connector
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1103908 13f79535-47bb-0310-9956-ffa450edef68

commit 2bd464769a4979c1fef92698667085f50be95551
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 16 19:56:21 2011 +0000

    Tweak processor blocking so that it is non-blocking while no message is being processed and blocking during the processing of a message
    Align ajp nio protocol implementation with http nio
    Still some TCK failures to resolve
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1103860 13f79535-47bb-0310-9956-ffa450edef68

commit fbb0b04db7919f350b1196ad3688d0914fad77a0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 16 16:39:42 2011 +0000

    SHARED_SELECTOR is used with double checked locking so it needs to be volatile
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1103788 13f79535-47bb-0310-9956-ffa450edef68

commit ebd6cb4d5d56016c600e45453259a013387652d3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 16 07:33:35 2011 +0000

    Remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1103634 13f79535-47bb-0310-9956-ffa450edef68

commit 39e02ccdada71058183e5fa7484e222929906788
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 16 07:31:23 2011 +0000

    Prevent infinite loop when readTimeout = 0
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1103633 13f79535-47bb-0310-9956-ffa450edef68

commit cadf0fcdb9db44a19a51937f4c1b5612ee43aa6e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 15 21:58:10 2011 +0000

    Improve handling for reading request bodies. More testing still required.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1103554 13f79535-47bb-0310-9956-ffa450edef68

commit 16cb6d6b807b82bfaf943dca416be5d18cdc83f5
Author: Rainer Jung <rjung@apache.org>
Date:   Sun May 15 14:34:17 2011 +0000

    Minor clarification in http connector comparison
    table.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1103398 13f79535-47bb-0310-9956-ffa450edef68

commit f260a63be2c60f4e18f6d9dbc7d0cd133561676e
Author: Rainer Jung <rjung@apache.org>
Date:   Sun May 15 14:33:41 2011 +0000

    Minor enhancement and fix for NIO AJP documentation.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1103396 13f79535-47bb-0310-9956-ffa450edef68

commit 27f187f29b66c6927c86072b4a602972d3d273b3
Author: Rainer Jung <rjung@apache.org>
Date:   Sun May 15 14:23:33 2011 +0000

    Add docs for experimental AJP-NIO connector.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1103389 13f79535-47bb-0310-9956-ffa450edef68

commit fac42497174749822b11b9d6a01b61230e71aa74
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 15 11:34:32 2011 +0000

    Add new AJP-NIo connector to the changelog. It is working well enough to be classed as experimental. I'll remove that label once all the TCK tests pass.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1103329 13f79535-47bb-0310-9956-ffa450edef68

commit f212e27923ae9fc49791225b5cb141068188d795
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 15 11:31:49 2011 +0000

    Get Servlet 3.0 async requests working with new AJP-NIo connector
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1103327 13f79535-47bb-0310-9956-ffa450edef68

commit 5a5c067aa40871a3f4940979165bdbaf2684d3bc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 15 10:00:22 2011 +0000

    Make AJP-NIO actually use non-blocking reads.
    Only the first read of a request is is non-blocking. Any additional reads will block.
    The first read of the first request on a new connection will also block.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1103308 13f79535-47bb-0310-9956-ffa450edef68

commit d52827b88ca2101b26f573e5d8de9b0e4c424f18
Author: Rainer Jung <rjung@apache.org>
Date:   Sun May 15 09:56:25 2011 +0000

    Fix trivial docs tpyos.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1103303 13f79535-47bb-0310-9956-ffa450edef68

commit 0c055eb0ba40ff3e9afd2a86e64e7efc9f994559
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 15 00:13:19 2011 +0000

    Don't recycle the buffers at start of process() - this will break non-blocking reads (when implemented)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1103256 13f79535-47bb-0310-9956-ffa450edef68

commit ed92d5194000bf0f1de9f9a3180e64e7849486ea
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat May 14 23:11:37 2011 +0000

    Additional tests for coercing of strings in EL arithmetic for https://issues.apache.org/bugzilla/show_bug.cgi?id=47371
    All of them pass successfully.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1103250 13f79535-47bb-0310-9956-ffa450edef68

commit 4e4a1d320fb8f81976c68021eb9fd207b9f55635
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 14 22:14:55 2011 +0000

    Initial AJP-NIO implementation.
    Docs to follow once more testing has been completed.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1103243 13f79535-47bb-0310-9956-ffa450edef68

commit 750eb37cd68bc4d86ca76b0637049d4b8a388760
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 14 21:28:44 2011 +0000

    Refactor keepAliveTimeout to abstract AJP processor
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1103229 13f79535-47bb-0310-9956-ffa450edef68

commit e1a28c077ea8832a55977731028232b11a8a53d0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 14 21:27:38 2011 +0000

    Avoid NPE is lastWrite is not being used
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1103228 13f79535-47bb-0310-9956-ffa450edef68

commit 8513408725d62dd4f6cbd2a537d49bdd21473d50
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 12 22:31:25 2011 +0000

    Add release date
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1102490 13f79535-47bb-0310-9956-ffa450edef68

commit 265d189ffa979c4d21cddd066d6c46f01514b9c8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 10 09:17:55 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46451
    Configure svn:bugtraq properties for Tomcat trunk
    Based on a patch provided by Marc Guillemot
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1101371 13f79535-47bb-0310-9956-ffa450edef68

commit 2318f816089040721513ef665ab4f5a2cf855957
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 9 21:39:01 2011 +0000

    Prep for next release
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1101233 13f79535-47bb-0310-9956-ffa450edef68

commit d610027e15e1a7c7a9b54b9cfa393aed452a69fe
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 9 18:44:11 2011 +0000

    Additional fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=51177
    ListElResolver should also return Object.class for getType()
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1101144 13f79535-47bb-0310-9956-ffa450edef68

commit 3b9365b5a6ebc45299ec060ed6c665dbf3adea34
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 9 16:31:03 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51177
    MapElResolver should always return Object.class for getType()
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1101094 13f79535-47bb-0310-9956-ffa450edef68

commit 6eb36ab1323ef2924e5b7d091bcdd50c426a9d63
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 9 15:39:34 2011 +0000

    Make adding the trailing slash to the session cookie path configurable
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1101069 13f79535-47bb-0310-9956-ffa450edef68

commit e4d7c67884207b171a9708518294d8c1de5bce3c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 9 13:21:26 2011 +0000

    Review from kkolinko
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1101018 13f79535-47bb-0310-9956-ffa450edef68

commit 276d916880c3a3245d36d70605c8300054422326
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 9 13:10:14 2011 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1101010 13f79535-47bb-0310-9956-ffa450edef68

commit f4470a6b679e9873a66ad214cad80f43ed3520bb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 9 12:45:55 2011 +0000

    Ensure session cookie paths end in / so that session cookies created for a context with a path of /foo do not get returned with requests mapped to a context with a path of
    /foobar
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1100992 13f79535-47bb-0310-9956-ffa450edef68

commit 0d898daf75b2d7e16e74775c9a3587e0536f4f1f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 9 12:32:49 2011 +0000

    Port RemoteIpValve changes to RemoteIpFilter
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1100988 13f79535-47bb-0310-9956-ffa450edef68

commit 151ebd22895c2faaad1699c64504ddd704fa8f8e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 9 10:29:06 2011 +0000

    Allow the localPort to be overridden for a request
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1100944 13f79535-47bb-0310-9956-ffa450edef68

commit cf3609e78554893200f36ed0da20be3b780a065e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 9 10:09:44 2011 +0000

    Add additional configuration options to the RemoteIpValve to control ports.
    These are required by my TCK test environment since I have multiple connectors (with different ports) configured all using the one Valve.
    If this has the desired effect, I'll port the changes to the RemoteIpFilter.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1100940 13f79535-47bb-0310-9956-ffa450edef68

commit f6b77d020bc3dc2654fd5e0b656eb6f0b773644e
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon May 9 00:04:10 2011 +0000

    Followup to r1095686: add missing colon in the message text
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1100843 13f79535-47bb-0310-9956-ffa450edef68

commit f0ce91550f3336059f74b26e6827aaf194b759ed
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun May 8 23:13:04 2011 +0000

    Followup to r1100829
    It's better to have constants at the left side of ".equals" call.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1100836 13f79535-47bb-0310-9956-ffa450edef68

commit 2fda4eb5d831f5df22faf5974f39ce52bb815f79
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 8 22:53:32 2011 +0000

    Use the correct classloader
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1100832 13f79535-47bb-0310-9956-ffa450edef68

commit 2f137b4dac5990de9b988142128ec8ae2d07ffec
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 8 22:47:28 2011 +0000

    The 7.0.13 release was cancelled.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1100831 13f79535-47bb-0310-9956-ffa450edef68

commit cdcf0ea4e46bf45dc440592f1733fd7c7d3d2933
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 8 22:38:07 2011 +0000

    Improve robustness. Custom components may use their own strings for event type.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1100829 13f79535-47bb-0310-9956-ffa450edef68

commit 6a76848f126b0dd7586776a0fd45f20402c84ad3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 8 22:11:19 2011 +0000

    Fix Servlet TCK failures with using the RemoteIpValve
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1100825 13f79535-47bb-0310-9956-ffa450edef68

commit 1a5d5ade5907530d97d215cd750a27104d2073e3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 8 21:35:28 2011 +0000

    Fix TCK failure with mod_proxy_http and HTTP-BIO connector as SSL key size is not readable
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1100822 13f79535-47bb-0310-9956-ffa450edef68

commit 80689219fd351857035ea598f8457d6c71eb4fb8
Author: Rainer Jung <rjung@apache.org>
Date:   Sun May 8 12:20:33 2011 +0000

    Stylistic improvements to MIME type sync script.
    Based on a patch provided by Felix Schumacher.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1100724 13f79535-47bb-0310-9956-ffa450edef68

commit b86334f24b5b56a50e9861be95fb50f625ea2582
Author: Rainer Jung <rjung@apache.org>
Date:   Sat May 7 12:42:26 2011 +0000

    Add .pl (Perl script) to text file suffixes.
    Needed for correct line end handling when packaging.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1100522 13f79535-47bb-0310-9956-ffa450edef68

commit d1b455e86eed463250c50b329367293500e334cc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri May 6 14:32:28 2011 +0000

    Update for next release
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1100231 13f79535-47bb-0310-9956-ffa450edef68

commit 48616631b33cf35ee60e62035c2f267a330f4e2a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri May 6 09:22:38 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51156
    Expose session expiration option for apps defined in server.xml
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1100145 13f79535-47bb-0310-9956-ffa450edef68

commit c30cd9a6244de5798ef447ba0a9bb1c99d38d901
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri May 6 08:05:42 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51154
    Add missing comments to @deprecated code
    Patch provided by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1100125 13f79535-47bb-0310-9956-ffa450edef68

commit 5ab60fba8fd6bd53d66415893611a840df593224
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri May 6 07:54:53 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51154
    Remove duplicate @deprecated tags
    Patch provided by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1100121 13f79535-47bb-0310-9956-ffa450edef68

commit 1196a92ead0695f038965a861829a535a52355d7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 5 15:55:10 2011 +0000

    Update changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1099856 13f79535-47bb-0310-9956-ffa450edef68

commit f4c0bea2609201379f0a807b94baa2c685be0ea2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 5 15:53:57 2011 +0000

    Use maxThreads value as the default for maxConnections with the BIO connector.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1099855 13f79535-47bb-0310-9956-ffa450edef68

commit d814ffd93feefcdfe63c5a4b0037dd9cbb7de4bd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 5 15:42:59 2011 +0000

    Merge maxConnections and pollerSize for the APR connectors.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1099850 13f79535-47bb-0310-9956-ffa450edef68

commit 8924f753b446151c7515f9d9e058c4ae3eda2168
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 5 15:11:18 2011 +0000

    Simplify the keep-alive tracking and fix a couple of issues with the keep-alive disable code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1099838 13f79535-47bb-0310-9956-ffa450edef68

commit 7c61ac9b12c80583bbed8b7926ddb10407be0613
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 5 15:01:46 2011 +0000

    Add disableKeepAlivePercentage attribute to the HTTP-BIO connector
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1099834 13f79535-47bb-0310-9956-ffa450edef68

commit 6d3623164b9afd04a943c825ed693ceebc582189
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 5 14:30:11 2011 +0000

    Ensure keepAliveLeft count is maintained with pipelined requests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1099821 13f79535-47bb-0310-9956-ffa450edef68

commit 771cb4b8d4dbbd71b76a45e9b5ea46af58039986
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 5 14:29:04 2011 +0000

    Revert r830965 and restore the automatic disabling of HTTP keep-alive once 75% of the threads are in use.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1099820 13f79535-47bb-0310-9956-ffa450edef68

commit b23b9a80e3d948b44398359f03db94e27e76d978
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 5 13:46:51 2011 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1099801 13f79535-47bb-0310-9956-ffa450edef68

commit e7ef288fca8c9eb787b3d4dd411e8d8858e3ce97
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 5 13:39:09 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47371
    Correctly coerce the empty string to zero when used as an operand in EL arithmetic.
    Patch provided by gbt.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1099789 13f79535-47bb-0310-9956-ffa450edef68

commit 29c88d960b0417ed5df1b9eed04f307cbd1c2f29
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 5 12:38:44 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50950
    Correct possible NotSerializableException for an authenticated session when running with a security manager.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1099772 13f79535-47bb-0310-9956-ffa450edef68

commit 008c2f130a189117694055de3089fd258a279060
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 4 21:47:09 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51099
    Get loginConfigName working with non-default values
    Patch by fhanik
    (plus some minor code clean-up)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1099615 13f79535-47bb-0310-9956-ffa450edef68

commit 4ee42b1bfef80524dc54b90bfa0f04362b8f65bd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 4 20:22:08 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51119
    Add JAAS authentication support to the JmxRemoteLifecycleListener
    Patch provided by Neil Laurance
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1099586 13f79535-47bb-0310-9956-ffa450edef68

commit 39fda5aea5d6d285c955a90201d1b7774c4d8889
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 4 19:53:54 2011 +0000

    Re-factor to try and determine if the root cause of https://issues.apache.org/bugzilla/show_bug.cgi?id=51124 is an OOME or something else.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1099575 13f79535-47bb-0310-9956-ffa450edef68

commit 044559b08d9f5d030f747f8eff08795c80bb5a3f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 4 18:32:05 2011 +0000

    Improve handling of too large packets in AJP connectors
    - Explicitly check the packet size rather than waiting to see if it fails
    - Provide a better debug message when it does fail
    - Once we know we have a bad request, don't try to process it
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1099556 13f79535-47bb-0310-9956-ffa450edef68

commit fd873cf2f198df21f23a802119f45b604dfd18ff
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 4 18:19:10 2011 +0000

    Make access logging more robust for 400 responses.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1099553 13f79535-47bb-0310-9956-ffa450edef68

commit fdbb8df6c0aa85bcdcb0c12555cc766f9dfa4ae9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 4 17:22:22 2011 +0000

    Note that there is a minimum value for packetSize
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1099528 13f79535-47bb-0310-9956-ffa450edef68

commit 10e8bb628faa4f7f32e064edbafb85f656133462
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 4 10:35:58 2011 +0000

    Blet and braces - make sure $1 is ""
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1099400 13f79535-47bb-0310-9956-ffa450edef68

commit 8185c75c094f7e722f2998d29a58656b2250e1ec
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 4 10:14:19 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51135
    Fix auto-detection of JAVA_HOME for 64-bit Windows platforms that only have a 32-bit JVM installed.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1099394 13f79535-47bb-0310-9956-ffa450edef68

commit b127c34294fa0b5ba6c09e9221f4435b0522b9f1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 4 08:48:26 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51136
    Provide methods that enable the name of a Context on Context creation when using Tomcat in an embedded scenario.
    Based on a patch provided by David Calavera.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1099374 13f79535-47bb-0310-9956-ffa450edef68

commit d19a046375cfa1c453a906de56236d4b57bb1c1b
Author: Rainer Jung <rjung@apache.org>
Date:   Tue May 3 12:17:55 2011 +0000

    Update changelog.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1099034 13f79535-47bb-0310-9956-ffa450edef68

commit b9f1bb0617ddbb974861cfd303347c6184b17d2e
Author: Rainer Jung <rjung@apache.org>
Date:   Tue May 3 12:12:35 2011 +0000

    Add a script to check web.xml and httpd mime.types
    for differences.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1099032 13f79535-47bb-0310-9956-ffa450edef68

commit c7ab25638802301bf7bc26ee369b21b72f603951
Author: Rainer Jung <rjung@apache.org>
Date:   Tue May 3 11:43:32 2011 +0000

    MIME types update (consistency with mime.types from httpd) - Part 6
        Add mapping existing in httpd but not in Tomcat.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1099020 13f79535-47bb-0310-9956-ffa450edef68

commit 624a2908108dcb524624add814546ff074c3f194
Author: Rainer Jung <rjung@apache.org>
Date:   Tue May 3 11:39:32 2011 +0000

    MIME types update (consistency with mime.types from httpd) - Part 5
        Sort alphabetically.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1099017 13f79535-47bb-0310-9956-ffa450edef68

commit cb384a29717461a7541ef4b1210ce68432577a71
Author: Rainer Jung <rjung@apache.org>
Date:   Tue May 3 11:18:02 2011 +0000

    MIME types update (consistency with mime.types from httpd) - Part 4
        Existing mapping with inconsistencies between Tomcat and httpd
        where the definitions for httpd seem better.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1099010 13f79535-47bb-0310-9956-ffa450edef68

commit 88906650364438260361d9224d5c78b509cd7f6a
Author: Rainer Jung <rjung@apache.org>
Date:   Tue May 3 11:10:22 2011 +0000

    MIME types update (consistency with mime.types from httpd) - Part 3
        Fix suffix for compiled WML Script (wmlscriptc -> wmlsc).
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1099005 13f79535-47bb-0310-9956-ffa450edef68

commit 8db94f1901cbf35143f7ed748d11285c2a96dc46
Author: Rainer Jung <rjung@apache.org>
Date:   Tue May 3 11:08:42 2011 +0000

    MIME types update (consistency with mime.types from httpd) - Part 2
        Remove duplicate definition for hqx.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1099003 13f79535-47bb-0310-9956-ffa450edef68

commit c867adc2a4c4984219591613f164c9e1b36e5469
Author: Rainer Jung <rjung@apache.org>
Date:   Tue May 3 11:07:30 2011 +0000

    MIME types update (consistency with mime.types from httpd) - Part 1
        Move comment, so that file is easier to parse automatically.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1099002 13f79535-47bb-0310-9956-ffa450edef68

commit ad99d7852dd9ac253c1e5595e02e691bcbb08e35
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon May 2 17:16:45 2011 +0000

    Fix bug https://issues.apache.org/bugzilla/show_bug.cgi?id=48817
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1098667 13f79535-47bb-0310-9956-ffa450edef68

commit 67f5c23fbee57cf9252ee7d49f2d7d7a5a39ff91
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 1 18:55:24 2011 +0000

    Line length.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1098385 13f79535-47bb-0310-9956-ffa450edef68

commit 9fa73e1175046f54f32a7886092929e6bc6865a1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 29 17:49:37 2011 +0000

    Expose a container event for changing the session ID
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1097899 13f79535-47bb-0310-9956-ffa450edef68

commit d64c4e1aa6c2f0ccff01d11455ffa5c8d2bbe4bf
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Apr 29 17:33:15 2011 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=48817
    Add in setValidator to support dependency injection frameworks like Spring etc
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1097895 13f79535-47bb-0310-9956-ffa450edef68

commit 78374c4a599d08f6b5230d5d936efa8e1a3cd1ec
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Apr 23 21:57:58 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51095
    Don't trigger a NullPointerException when the SSL handshake fails with the HTTP-APR connector.
    Patch provided by Mike Glazer.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1096244 13f79535-47bb-0310-9956-ffa450edef68

commit b4793b8810dc915c2484ba649fdbdc584bcfb268
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Apr 23 21:53:00 2011 +0000

    Misc code clean-up
     - Eclipse warnings
     - Remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1096243 13f79535-47bb-0310-9956-ffa450edef68

commit af8759246d61965e3a2e2bfb81d6efb68a0c426c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Apr 23 21:27:54 2011 +0000

    Ensure response is committed when AsyncContext#complete() is called.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1096235 13f79535-47bb-0310-9956-ffa450edef68

commit b04fe0972613bd951b33e4a3f387d70553b6c681
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Apr 23 17:39:17 2011 +0000

    Correct typo in an example in context.html
    Reported by Michael Jay on the users list
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1096190 13f79535-47bb-0310-9956-ffa450edef68

commit 022d774848a13fe9edb880390debbf3d7ebfa2a4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 21 19:02:46 2011 +0000

    Fix TODO - take account of time waiting for a thread when calculating timeouts.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1095794 13f79535-47bb-0310-9956-ffa450edef68

commit 56f57f6660477ca33698e74c67b9a359e1f71f8e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 21 13:54:17 2011 +0000

    Update summary for maxConnections
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1095712 13f79535-47bb-0310-9956-ffa450edef68

commit f92c67db3d547650884fb1d88a94626473a256a0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 21 13:52:39 2011 +0000

    Move the maxConnections description to the correct part of the HTTP doc. Add it to the AJP doc.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1095711 13f79535-47bb-0310-9956-ffa450edef68

commit 89503ad16ebbf998a39640f03cad672dae4afd83
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 21 12:50:40 2011 +0000

    i18n for r1090763
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1095686 13f79535-47bb-0310-9956-ffa450edef68

commit f2fdbd0e4b69d18387829edeb3b8c425fcdd9f0d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 21 12:43:08 2011 +0000

    Fix some Findbugs warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1095684 13f79535-47bb-0310-9956-ffa450edef68

commit 0ef5dd9de2018d0a93765e6b9a9cded9385b57ec
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 21 12:37:44 2011 +0000

    bindOnInit is supported for AJP too.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1095682 13f79535-47bb-0310-9956-ffa450edef68

commit b50ddd65f6dd2bc1e0f7bf5b31b60441e9fe820a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 21 12:37:21 2011 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1095681 13f79535-47bb-0310-9956-ffa450edef68

commit 7b29ef1551d7c53e31765af45b47844d640b5be3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 21 12:25:31 2011 +0000

    Fix some unused code warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1095677 13f79535-47bb-0310-9956-ffa450edef68

commit 258c147b29aefadae483c4535425262a721f500a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 20 16:19:59 2011 +0000

    Fix infinite loop in r1095367
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1095449 13f79535-47bb-0310-9956-ffa450edef68

commit ec22b8d947e31f6587200f63a39a151eb8537320
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 20 11:28:53 2011 +0000

    Switch JAR scanning to use JarInputStream rather JarFile for significant startup performance improvements
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1095367 13f79535-47bb-0310-9956-ffa450edef68

commit 50347766fcdf916e48e48d70ebe35408a3fdb0ed
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 20 09:25:09 2011 +0000

    Move the unit test JARs to the end.
    Add a couple of JARs when running via the command line rather than Eclipse
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1095336 13f79535-47bb-0310-9956-ffa450edef68

commit 213ac7eab930e2c4a995860d3193a63cc9b8620a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 20 09:15:07 2011 +0000

    Set jarsToSkip when running unit tests a) for speed and b) to reduce noise in the logs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1095333 13f79535-47bb-0310-9956-ffa450edef68

commit faa4c133a178d49174cb971c80ee8cc66e49fbaa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 20 09:13:07 2011 +0000

    Add some more JARs to skip (spotted via logging in unit tests)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1095332 13f79535-47bb-0310-9956-ffa450edef68

commit 86e60407a3f1de53cd749532bd6c0f631bf1891e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Apr 19 17:11:42 2011 +0000

    Update commons pool to 1.5.6
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1095138 13f79535-47bb-0310-9956-ffa450edef68

commit 3cff460639902765e7ac7285457362e625e38cf0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Apr 19 17:09:04 2011 +0000

    Parameterise commons-pool version
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1095137 13f79535-47bb-0310-9956-ffa450edef68

commit d8c144c22261b624df6a4e2b45aebd1b9badb382
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Apr 19 17:07:54 2011 +0000

    Make use of commons-dbcp.version
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1095136 13f79535-47bb-0310-9956-ffa450edef68

commit 1e70cc44f87952b75f29ffd941a341162cd6e091
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Apr 19 11:44:12 2011 +0000

    Minor optimisation reported by FindBugs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1095052 13f79535-47bb-0310-9956-ffa450edef68

commit d10570bbf767b89870df52cc84be68a0e5afec2b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Apr 19 11:14:04 2011 +0000

    Use a single TLD location cache for a web application rather than one per JSP compilation to speed up JSP compilation.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1095026 13f79535-47bb-0310-9956-ffa450edef68

commit d191c8a1b6b8364dbbc81b85de4208247cea5559
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Apr 19 10:48:24 2011 +0000

    Add some common JARs to the list of JARs to skip
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1095020 13f79535-47bb-0310-9956-ffa450edef68

commit 37c0588a5f534b9f0dfc6d8115c9f542e0016a80
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Apr 19 10:41:29 2011 +0000

    Log JARs scanned for TLDs where no TLD is found.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1095012 13f79535-47bb-0310-9956-ffa450edef68

commit 1be6b244a03e669eca633424d8de0b727a3f374b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Apr 18 16:59:26 2011 +0000

    Add missing @Override
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1094650 13f79535-47bb-0310-9956-ffa450edef68

commit c03d9122a2d81cb5e602bd9568eb6ecbefa1b5e2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Apr 18 15:38:07 2011 +0000

    Align connector implementations with documented default for processorCache
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1094621 13f79535-47bb-0310-9956-ffa450edef68

commit 8b0740b5aec9b4f960c4a5ca38559e0d738ee482
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Apr 18 14:43:26 2011 +0000

    Add missing whitespace
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1094602 13f79535-47bb-0310-9956-ffa450edef68

commit 2773964f347a7a67a381bcb5cd9b9714aba41ae3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Apr 18 13:41:37 2011 +0000

    Correct a regression in the fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=49916 that resulted in JSPs being compiled twice rather than just once.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1094569 13f79535-47bb-0310-9956-ffa450edef68

commit b1bee87cf07799533ab617d736605545ed3adbfc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Apr 18 11:19:16 2011 +0000

    Add note that antiJARLocking and antiResourceLocking should not be used together.
    Line length
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1094490 13f79535-47bb-0310-9956-ffa450edef68

commit e7a8011d025cab90113dc9862258560c5b778b36
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Apr 18 11:02:39 2011 +0000

    Stop trying to check for >0ms processing time in access log. There are other tests that check for correct operation so no need for this.
    
    Hopefully address last remaining Gump failure
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1094485 13f79535-47bb-0310-9956-ffa450edef68

commit 1c3b08893106810232803014a38e181a2ea2e332
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 17 23:03:08 2011 +0000

    Fix various timing issues with the access log aspects of the test. This fixes:
    - numerous failures on my desktop
    - Gump (hopefully)
    Given the wide range of responses on different machines, more changes may be required.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1094215 13f79535-47bb-0310-9956-ffa450edef68

commit eb847307b12da69117b369414ec2bb90a27c0d2e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 17 00:02:29 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50173
    Throw an exception and do not start the APR connector if it is configured for SSL and an invalid value is provided for SSLProtocol.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1094089 13f79535-47bb-0310-9956-ffa450edef68

commit bb0da741b38fcddc041ce0fa381e41c09156c476
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Apr 16 23:41:32 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50158
    Ensure the asynchronous requests never timeout if the timeout is set to zero or less.
    Based on a patch provided by Chris.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1094088 13f79535-47bb-0310-9956-ffa450edef68

commit 8819ebb1b97441ef621d68cfdc4bdb6ce64381a2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Apr 16 22:50:05 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51050
    Add additional common but non-standard file extension to MIME type mappings for MPEG 4 files.
    Based on a patch by Cédrik Lime.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1094084 13f79535-47bb-0310-9956-ffa450edef68

commit 9984e031182de8689e0f44783bc4d8847c77c810
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Apr 16 22:25:28 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51042
    Don't trigger session creation listeners when changing the session ID during authentication.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1094069 13f79535-47bb-0310-9956-ffa450edef68

commit 5fef8ddc15875afa54f6831d5a13cd7ce528b4bc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Apr 16 21:41:38 2011 +0000

    Additional test case to check access log and return code when error servlet does not flush the response.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1094061 13f79535-47bb-0310-9956-ffa450edef68

commit 21abe5dc98d29f2fb673c82be0cd63120aa96aab
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Apr 16 21:22:58 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=51038
    Ensure async requests are included in access logs.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1094055 13f79535-47bb-0310-9956-ffa450edef68

commit 8fa180463feae9360252eaaab731f0d798bfb3c0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 15 11:47:35 2011 +0000

    Better comment
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1092670 13f79535-47bb-0310-9956-ffa450edef68

commit 65cf9bd6de4d954f3c65ae72fa18491bd6c616b1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 13 21:46:29 2011 +0000

    Fix comment typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1091927 13f79535-47bb-0310-9956-ffa450edef68

commit bca7665b7c1d44cd05a039958a86db898ea9d322
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Apr 11 22:48:22 2011 +0000

    Needs re-thinking
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1091244 13f79535-47bb-0310-9956-ffa450edef68

commit 454c7405f9d8a6243c824e9f5a9cb05351af83c6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Apr 11 22:36:19 2011 +0000

    No longer used
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1091239 13f79535-47bb-0310-9956-ffa450edef68

commit f51d2f72dfcfe8e5af685578892c6b030c47b407
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Apr 11 22:33:50 2011 +0000

    Revert fix https://issues.apache.org/bugzilla/show_bug.cgi?id=36362
    JSP.8.3 does not limit the name of attributes defined in tag files
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1091236 13f79535-47bb-0310-9956-ffa450edef68

commit 884630b42ed8b3e856de1afa916784246ba48acf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 10 10:35:55 2011 +0000

    Check tag file attribute names are valid Java identifiers
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1090766 13f79535-47bb-0310-9956-ffa450edef68

commit 3ada7fad2ccdd105305a1d4f7239346312c7deb6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 10 10:33:30 2011 +0000

    Improve error reporting by labeling line/column numbers
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1090763 13f79535-47bb-0310-9956-ffa450edef68

commit c3603fd53682c2edd81701721c398c4fbcb163c3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Apr 9 21:50:41 2011 +0000

    Consistent format.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1090694 13f79535-47bb-0310-9956-ffa450edef68

commit 9589fa18dd7b8cb0bf0cb574202d37b9b3a998cf
Author: Sylvain Laurent <slaurent@apache.org>
Date:   Fri Apr 8 22:10:37 2011 +0000

    bug 50306: Detect stuck threads
    complement to changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1090468 13f79535-47bb-0310-9956-ffa450edef68

commit 76720f145aba147195d6cdb0b3e82f154ba19924
Author: Sylvain Laurent <slaurent@apache.org>
Date:   Fri Apr 8 20:51:37 2011 +0000

    changelog for r1090003 / StuckThreadDetectionValve
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1090441 13f79535-47bb-0310-9956-ffa450edef68

commit faeac08d1faa110e099d6f82843a87b80d49406e
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Apr 8 01:55:51 2011 +0000

    Do not depend on system encoding settings when running Tomcat tests.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1090083 13f79535-47bb-0310-9956-ffa450edef68

commit 8a74a3b4fddc89a9f3c356f95585f6fc1344b19a
Author: Christopher Schultz <schultz@apache.org>
Date:   Thu Apr 7 21:22:12 2011 +0000

    Added warning messages when an exception is thrown while trying to delete files.
    Replaced duplicate code in removeGeneratedFiles with a call to removeGeneratedClassFiles.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1090022 13f79535-47bb-0310-9956-ffa450edef68

commit db414bba657269fac7f5b25d356d6a87be7e3f58
Author: Sylvain Laurent <slaurent@apache.org>
Date:   Thu Apr 7 20:50:28 2011 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=50306
    StuckThreadDetectionValve, based on code proposed by TomLu
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1090003 13f79535-47bb-0310-9956-ffa450edef68

commit 44140c3289d8ad6fe3931c0f8d5c467d75cc27f1
Author: Rainer Jung <rjung@apache.org>
Date:   Wed Apr 6 21:31:25 2011 +0000

    Fix broken stylesheet URL in XML based manager status output.
    
    The URLs of the status base pages have a varying number
    of path segments, so a relativ URL to the stylesheet
    does no longer work.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1089638 13f79535-47bb-0310-9956-ffa450edef68

commit 6f082957b6038cb44a4a78e385e89102f451e1b4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 6 16:39:38 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50957
    Fix regression in processing of pipe-lined requests.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1089531 13f79535-47bb-0310-9956-ffa450edef68

commit 39be0dc422ee4b05237c38c4984eed97807f965d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 6 16:37:21 2011 +0000

    Need option to use content length for correct processing of pipelined requests.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1089529 13f79535-47bb-0310-9956-ffa450edef68

commit efb6d33b46d2d8e89d4763944563e6f39f684e8f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 6 15:18:26 2011 +0000

    Refactor to (hopefully) allow unit testing of pipelining support
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1089488 13f79535-47bb-0310-9956-ffa450edef68

commit a1ba4b8581b014e0f53cdf29dd86e90e09622bc5
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Apr 6 14:28:58 2011 +0000

    Fix "bad character" complaints by modern XSLT processors
    https://issues.apache.org/bugzilla/show_bug.cgi?id=51028
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1089469 13f79535-47bb-0310-9956-ffa450edef68

commit b743bc8c2e161d4ee7c560a28a24aed0ca51f01f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 6 13:39:47 2011 +0000

    Will announce release later today
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1089450 13f79535-47bb-0310-9956-ffa450edef68

commit e1425e26e0516179aba6b613b92ac4c6982cda9e
Author: Tim Whittington <timw@apache.org>
Date:   Tue Apr 5 08:48:30 2011 +0000

    Clarifying that pollTime parameter is in microseconds, and correcting the ms equivalent for HTTP connector use of it.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1088925 13f79535-47bb-0310-9956-ffa450edef68

commit b0c913438b1dd87e3f9249d343594069e0369576
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Apr 4 15:46:10 2011 +0000

    incorporate feedback based on
    http://markmail.org/message/gz7lm5dpdpdgcdzq
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1088665 13f79535-47bb-0310-9956-ffa450edef68

commit 3b91fb218a3f00322dce9175d777886e0db2dd4a
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Apr 4 03:06:39 2011 +0000

    Try a workaround against TC7 tests running too slow on Gump:
    a workaround against Oracle JVM bug 6202721
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1088467 13f79535-47bb-0310-9956-ffa450edef68

commit d444a134721fc9974cb997f2cfa74d15287f3660
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Apr 4 01:19:13 2011 +0000

    Implement display of multiple request headers in AccessLogValve:
    print not just the value of the first header, but of the all of them,
    separated by commas.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1088460 13f79535-47bb-0310-9956-ffa450edef68

commit c7a39690130acfac2b7fe29998785d175fe1ee28
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Apr 4 00:57:17 2011 +0000

    Fix display of response headers in AccessLogValve:
    1. When no headers are there, display "-" instead of empty string
    2. Do not forget "," between multiple values
    TC6 already does that but it was broken here in r767956
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1088458 13f79535-47bb-0310-9956-ffa450edef68

commit b3866b128d018e7ae0612c4852b9773a2276d876
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Apr 3 23:36:47 2011 +0000

    Change resource key name for a debug message in CombinedRealm
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1088441 13f79535-47bb-0310-9956-ffa450edef68

commit e8a672b5ac46b65afebc803c247d131d4db1552c
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Apr 3 22:43:50 2011 +0000

    Followup to r1087392: correct text of a debug message
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1088431 13f79535-47bb-0310-9956-ffa450edef68

commit 56c45a0c931f5a2a604c13d355b9cdcf8d21337e
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Apr 3 22:38:23 2011 +0000

    Followup to r1087416:
    Correct typos in messages and remove one e.printStackTrace() call.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1088430 13f79535-47bb-0310-9956-ffa450edef68

commit db06b26687813d1ddfa353c55122ab77052ee311
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Apr 3 22:23:05 2011 +0000

    Correct a typo and some formatting as a followup to r1087524
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1088429 13f79535-47bb-0310-9956-ffa450edef68

commit 91d080d6835320f5ae4aeaf1e1ae9624b165058f
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Apr 3 19:49:15 2011 +0000

    Update download links in the appdev tutorial.
    Replaced direct links to the "download" pages with ones to the main pages of Tomcat and Ant. Download links should be easy to find from there.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1088387 13f79535-47bb-0310-9956-ffa450edef68

commit fb63a31d3e026d032b3a94f963e31fd9ffe04844
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Apr 2 23:32:42 2011 +0000

    Clarify error messages in *.sh files to mention that if a script is not found it might be
    that it does exist but does not have the execute permission.
    http://markmail.org/message/k2ynjwbqjcver6ka
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1088179 13f79535-47bb-0310-9956-ffa450edef68

commit 75107ac66253396cfedabcfca0f1e09efd997c4c
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Apr 2 23:09:37 2011 +0000

    Update a comment, for clarity
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1088176 13f79535-47bb-0310-9956-ffa450edef68

commit 0f51c48e4c35a0d6b2248c92bfba4f21cbeaf929
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Apr 2 00:59:38 2011 +0000

    Configure Security Manager How-To to include a copy of the actual
    conf/catalina.policy file when the documentation is built, rather
    than maintaining a copy of its content.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087949 13f79535-47bb-0310-9956-ffa450edef68

commit 00966c88d56e7adee516e09a77e6f9abd97d58e1
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Apr 2 00:42:29 2011 +0000

    Improve the logging documentation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087943 13f79535-47bb-0310-9956-ffa450edef68

commit 42ac61caccd5cc5f1b463d23b9584d1d27fc3c5a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 1 17:19:39 2011 +0000

    Correct a Javadoc mix-up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087819 13f79535-47bb-0310-9956-ffa450edef68

commit 2843aaf0039988fd9cae21a2d8c24e8cc20507aa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 1 16:49:16 2011 +0000

    Bump version ready for next release
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087798 13f79535-47bb-0310-9956-ffa450edef68

commit 88bfa628f03cb6ae618313ba351432b2d56005f3
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Apr 1 16:38:07 2011 +0000

    Update the realm-howto:
    In TC7 the tomcat-util.jar is also needed on the classpath to call the o.a.c.realm.RealmBase class.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087791 13f79535-47bb-0310-9956-ffa450edef68

commit b5c856363912720d79ed988cf97f2c9491c278a4
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Apr 1 14:30:25 2011 +0000

    Correct typos in description of NIO connector in config/http.html, especially in TC6.
    An attribute is called "processorCache", not "processCache".
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087720 13f79535-47bb-0310-9956-ffa450edef68

commit 082e8a907c548d57d41edcaf19c2fe93430d1493
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 1 14:24:43 2011 +0000

    Workaround shutdown issue in unit tests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087715 13f79535-47bb-0310-9956-ffa450edef68

commit 1d18cf088efddc0b1b06a2a44092fa44432f26f7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 1 11:36:54 2011 +0000

    Add additional configuration options to the DIGEST authenticator
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087655 13f79535-47bb-0310-9956-ffa450edef68

commit 02bc784278f66be9f69c60e165dd1daefb93f070
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 1 11:23:54 2011 +0000

    Better name
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087652 13f79535-47bb-0310-9956-ffa450edef68

commit 3efdce7e83e0fa7633b48b22b5972c2a19b3c5ad
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 1 11:16:02 2011 +0000

    Consistent naming
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087651 13f79535-47bb-0310-9956-ffa450edef68

commit 87ae5199370839bd90b9d575d8db619b337ac922
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 1 11:14:00 2011 +0000

    Removed unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087650 13f79535-47bb-0310-9956-ffa450edef68

commit a4d86fa4f4f87d95507b358226352acdff4650d1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 1 10:49:43 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=12428
    Add optional support for preemptive authentication on a per context basis
    Based on a patch suggested by Werner Donn
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087643 13f79535-47bb-0310-9956-ffa450edef68

commit 062ecfeb1bf1811e377c890b58ba452ffd93328a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 1 01:02:07 2011 +0000

    Another context.xml tracking issue. This time if using just dir deployment.
    A changes in context.xml now triggers a redeploy rather than a reload (so the context.xml is re-read)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087534 13f79535-47bb-0310-9956-ffa450edef68

commit ac874b0add000e901bf642fe7793015acb88d009
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 1 00:35:47 2011 +0000

    Add credit
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087525 13f79535-47bb-0310-9956-ffa450edef68

commit ef65dd20fc91c93deea486d3ac0e91ddff193def
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 1 00:34:45 2011 +0000

    SPNEGP part 3 - the final part for 7.0.12
    Integrate with JNDI realm so delegated credentials are used by default.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087524 13f79535-47bb-0310-9956-ffa450edef68

commit 5b5e2dd073754961d0380ca71583b76e2b28ba4e
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Mar 31 22:28:54 2011 +0000

    Implement exception traps as suggested by Eiji Takahashi
    http://markmail.org/message/c7hrhky4jtgcto76
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087467 13f79535-47bb-0310-9956-ffa450edef68

commit 65e45207cf1a3dc6e4f4d192017f1f8a60eeaa4e
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Mar 31 21:20:30 2011 +0000

    Fix NPE that can happen during concurrency (connection being abandoned, misconfiguration in abandon timeout or lack of ResetAbandonedTimer interceptor)
    http://markmail.org/message/yhshyvyunddb5ngt
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087442 13f79535-47bb-0310-9956-ffa450edef68

commit 783ca644725a3d3872cd5b8ddb6ba6855720c981
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 31 19:33:04 2011 +0000

    SPNEGO support part 2
    Expose the users delegated credentials through a request attribute so applications can make use of it
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087416 13f79535-47bb-0310-9956-ffa450edef68

commit 634d1f676f58801e180b1cf0b8644ad2b969cc52
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 31 18:02:10 2011 +0000

    Switch SPNEGO authenticator to use file based JAAS config as this provides greater flexibility including making it easier to work with non-Oracle JVMs.
    Clean up the code, add debug logging and improve error handling.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087392 13f79535-47bb-0310-9956-ffa450edef68

commit 300384c3e106b917ddf781dd508b015001d2fde9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 31 13:22:11 2011 +0000

    Only register a DataSource with JMX if it is a singleton
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087292 13f79535-47bb-0310-9956-ffa450edef68

commit 9a0f2a74e29f98022450dc18ea8db818b6637ac8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 31 13:11:26 2011 +0000

    Feedback on https://issues.apache.org/bugzilla/show_bug.cgi?id=50991
    No point trying to close a non-singleton resource
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087291 13f79535-47bb-0310-9956-ffa450edef68

commit 6b395dc14f7b44984f2aff5871aaf58621e772b8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 31 13:02:20 2011 +0000

    Feedback on https://issues.apache.org/bugzilla/show_bug.cgi?id=50991
    Change the default
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087286 13f79535-47bb-0310-9956-ffa450edef68

commit 2241943d25508c9d595b5063bb07886ecc5fda9b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 31 12:37:10 2011 +0000

    Follow up to http://svn.apache.org/viewvc?rev=1086969&view=rev
    Ensure that when copyXML=false:
    - removing context.xml triggers a redploy but does not remove any other files
    - removing context.xml triggers a redploy and the context.xml is re-copied from the WAR
    
    This should be consistent with behaviour when copyXML=true
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087281 13f79535-47bb-0310-9956-ffa450edef68

commit ea4cdb1e47b9a3fa91ffe01a5f9af9e28e7720a3
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Mar 31 10:43:22 2011 +0000

    Improve the logging documentation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087247 13f79535-47bb-0310-9956-ffa450edef68

commit 1ce73bc53fb49072442a20f375753e3f7c1ac296
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Mar 30 23:45:27 2011 +0000

    remove repo inherited from parent
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087141 13f79535-47bb-0310-9956-ffa450edef68

commit 7e54e8d479b0bd267aec0e81943e66cc15266c35
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 30 23:09:10 2011 +0000

    Don't append the jvmRoute to a session ID if the jvmRoute is a zero length string.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087128 13f79535-47bb-0310-9956-ffa450edef68

commit 046200f877ffac1a32fdb69e67af3d7d3c22431a
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Mar 30 22:32:29 2011 +0000

    Add in parent reference
    Thanks to Sebb http://markmail.org/message/nb652iryypigjfso
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087114 13f79535-47bb-0310-9956-ffa450edef68

commit 0da59b5f99c84870be5ab7ace2bd51867453b8f9
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Mar 30 22:26:29 2011 +0000

    add in plugin to package
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087110 13f79535-47bb-0310-9956-ffa450edef68

commit 44481f0daeac41c50a5dc7f7226dc8ad68b6a617
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Mar 30 21:49:35 2011 +0000

    delete eclipse files, these can be generated
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087095 13f79535-47bb-0310-9956-ffa450edef68

commit 43500b3af07f1a0aa50ab6855cb365b730a69768
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Mar 30 21:40:59 2011 +0000

    Add in ability to build with Maven
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087090 13f79535-47bb-0310-9956-ffa450edef68

commit 9b359f5ea028169e4afb35fcc2eb08d1a8dfa982
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 30 20:26:36 2011 +0000

    Requests after the connector has been stopped may time out or return 503s - varies by connector. Make sure the test passes with either.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087064 13f79535-47bb-0310-9956-ffa450edef68

commit 08e49d6273d9eb417a13db5b8a95f8b30e612aef
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 30 20:06:25 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50997
    Relax the requirement that directories must have a name ending in .jar to be treated as an expanded JAR file by the default JarScanner.
    Based on patch by Rodion Zhitomirsky.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087062 13f79535-47bb-0310-9956-ffa450edef68

commit db409973291492e1a67f95d9c675aafb67920049
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 30 17:39:54 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50984
    When using the Manager application ensure that undeployment is reported as failed if a file cannot be deleted.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087026 13f79535-47bb-0310-9956-ffa450edef68

commit 77929e50cd633d44ecea8618e39e50e12cd781ab
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 30 15:50:28 2011 +0000

    Fix reversed condition in r1086918
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1086995 13f79535-47bb-0310-9956-ffa450edef68

commit bdb923d6d7caeca989e7674a052fb1ea603d345a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 30 15:41:02 2011 +0000

    Fix Eclipse/FindBugs warnings apart from those that trigger bug 50984
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1086992 13f79535-47bb-0310-9956-ffa450edef68

commit b6a8067ddb35a7c80eac9b931fdbf0712a3e27ec
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Mar 30 14:56:09 2011 +0000

    Followup to r1086950: Simplify code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1086975 13f79535-47bb-0310-9956-ffa450edef68

commit 3b9437b16b45989e3df5208432f9defb0c606fdd
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Mar 30 14:35:03 2011 +0000

    Correct a typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1086970 13f79535-47bb-0310-9956-ffa450edef68

commit 33c33c295e948311a7662f7d59f6c130abfd9178
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 30 14:33:30 2011 +0000

    Correctly track changes to context.xml files and trigger redeployment when copyXML is set to false
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1086969 13f79535-47bb-0310-9956-ffa450edef68

commit 0c9e8449f0de247c7782b1d9cadf9fd21dbb5664
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 30 13:35:12 2011 +0000

    Implment Filip's idea for a configurable close method
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1086950 13f79535-47bb-0310-9956-ffa450edef68

commit fa3893987cde9c7fb584115217183e0267304b01
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 30 12:48:13 2011 +0000

    Correct fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50991
    Stop resource after app has finished with them but before they are unbound
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1086935 13f79535-47bb-0310-9956-ffa450edef68

commit 367ff11f8bc474f2b4c522b1c840446c252b22f7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 30 12:26:39 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50991
    Stop the resources after they have been unbound rather than before
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1086928 13f79535-47bb-0310-9956-ffa450edef68

commit ace3330670981a5043ba17b30d2cf5af023fa3aa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 30 12:04:48 2011 +0000

    Protect the DefaultServlet against Filters etc writing to the response which will a) break partial get support and b) mean setting on content length will result in a truncated response.
    This also fixers some TCK failures since the TCK sometimes writes to the response with a filter.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1086918 13f79535-47bb-0310-9956-ffa450edef68

commit aafcfd65c19bf03ef5bf2dfb6d27b577ee4dcca1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 29 22:39:36 2011 +0000

    Correct fix for http://issues.apache.org/bugzilla/show_bug.cgi?id=50928
    Default for keyPass is keystorePass
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1086794 13f79535-47bb-0310-9956-ffa450edef68

commit c1becfb7ed516218ca9f68d0839f73a0dad3d43c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 29 22:12:00 2011 +0000

    HTTP range requests cannot be reliably served when a Writer is in use so prevent the DefaultServlet from attempting to do so.
    This is kkolinko's patch that stemmed from a private discussion about a TCK test.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1086783 13f79535-47bb-0310-9956-ffa450edef68

commit 32e040820b323404406d892c143b53f2079158b1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 29 22:09:00 2011 +0000

    Update changelog for SPNEGO. Add note to docs about major todo areas.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1086780 13f79535-47bb-0310-9956-ffa450edef68

commit da2e868070d72f4b0055a7143b4c17bf2ddd731d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 29 20:10:48 2011 +0000

    Fix some TODOs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1086709 13f79535-47bb-0310-9956-ffa450edef68

commit b548c7692f291774b1fe5674b845b109efd42579
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 29 20:05:04 2011 +0000

    Part 2 of SPNEGO/Windows authentication support.
    Authorisation support. Works essentially the same way as CLIENT-CERT, i.e. the Realm doesn't actually authenticate the user but it does create the Principal and add the roles.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1086706 13f79535-47bb-0310-9956-ffa450edef68

commit c68ba9860fed58658acfce7362269b8c410b4bee
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 29 19:08:43 2011 +0000

    Part 1 of SPNEGO/Windows authentication support.
    This adds authentication support but not authorisation. Some Realm refactoring is required to get authorisation working.
    SPNEGO is tricky to configure correctly. Some things I know will break it, some I suspect might. There is a long list of questions in the Javadoc that need to be tested.
    This authenticator started off as a patch by Michael Osipov.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1086683 13f79535-47bb-0310-9956-ffa450edef68

commit 5fcaece8ee18938010c8d74b056e6b4f53bc78b0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 29 14:51:17 2011 +0000

    Add domain configuration that is known to work
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1086611 13f79535-47bb-0310-9956-ffa450edef68

commit e59e6c66948d47f6fe2ec35e286766e5b6c4f85a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 28 19:19:23 2011 +0000

    Protect against things going wrong during access logging. An un-handled exception here could trigger some unexpected code paths.
    Possible contributing factor to https://issues.apache.org/bugzilla/show_bug.cgi?id=50957 ?
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1086352 13f79535-47bb-0310-9956-ffa450edef68

commit 0a0e27528ab2a317ad22a9392d416fd317442afa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 28 19:15:06 2011 +0000

    Move the processor.recycle calls to just before the point where the processor is returned to the pool. This ensures returned processors are recycled (this could have been skipped on some exception paths)
    Possible contributing factor to https://issues.apache.org/bugzilla/show_bug.cgi?id=50957 ?
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1086349 13f79535-47bb-0310-9956-ffa450edef68

commit 9879dbf458676af9777de050bc3a6f0808040c4d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 28 19:10:31 2011 +0000

    Always recycle unless it is an async request.
    Possible contributing factor to https://issues.apache.org/bugzilla/show_bug.cgi?id=50957 ?
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1086347 13f79535-47bb-0310-9956-ffa450edef68

commit d3b032e3a3d03e802c88b56261ae3d37954b95e8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 28 12:16:47 2011 +0000

    Remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1086203 13f79535-47bb-0310-9956-ffa450edef68

commit f78b8838236cb91a76bee5f0bf4ebed3a6609621
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 28 12:09:24 2011 +0000

    Remove constant only used by tests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1086201 13f79535-47bb-0310-9956-ffa450edef68

commit df043ef1b1d817c08d3b66aa71eb86c5cf02594d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 28 08:49:49 2011 +0000

    Update based on feedback
    Fix typos
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1086158 13f79535-47bb-0310-9956-ffa450edef68

commit 3645afe6cd5c7fe15f852bb218be5859d2d8d7d2
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Mar 27 22:02:24 2011 +0000

    Followup to r1085764
    Add the pages to the index page as well.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1086054 13f79535-47bb-0310-9956-ffa450edef68

commit fc9cd72ca7b65623034c9ab930a39a2a1e3077dd
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Mar 27 20:58:13 2011 +0000

    Update the docs regarding the shutdown port number. It is a followup to r938430.
    As Steven Schlansker noted on the users list, disabling the port affects un*x systems,
    as kill -9 is not a clean shutdown.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1086036 13f79535-47bb-0310-9956-ffa450edef68

commit 00987ab19e7f6cc466daf75be56ed55123695523
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 26 16:45:26 2011 +0000

    Add some Windows authentication notes to the docs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1085764 13f79535-47bb-0310-9956-ffa450edef68

commit a927f7b114d887dfb3a5d9cd3763177eb864b566
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 25 21:59:07 2011 +0000

    Don't register Contexts that fail to start with the Mapper.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1085574 13f79535-47bb-0310-9956-ffa450edef68

commit 92f2cd8112ac55132b5a60274cec12836df90342
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 25 18:18:35 2011 +0000

    Add another non-Java J2SE package. This is required for SPNEGO support.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1085502 13f79535-47bb-0310-9956-ffa450edef68

commit 45338825e756f0fd1c3d208055ff2f2676beca00
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 25 12:20:39 2011 +0000

    Securely seed the SecureRandom instance used for UUID generation and report excessive creation time (greater than 100ms) at INFO level.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1085346 13f79535-47bb-0310-9956-ffa450edef68

commit 16f03ad13b7c9f27b6b6e3f14be4a85689ccadb3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 25 11:58:51 2011 +0000

    No need to specify a default
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1085340 13f79535-47bb-0310-9956-ffa450edef68

commit c97ab30d1414228eba4bd040cae03c9c0b7824c8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 25 11:53:36 2011 +0000

    No need to specify a default
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1085338 13f79535-47bb-0310-9956-ffa450edef68

commit 97470509eac9c72364e1854cf5f6f534a1ff49bf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 25 11:50:27 2011 +0000

    Include the seed time when calculating the time taken to create SecureRandom instances for session ID generation, report excessive times (greater than 100ms) at INFO level and provide a value for the message key so a meaningful message appears in the logs.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1085336 13f79535-47bb-0310-9956-ffa450edef68

commit 27eb51bed1405ca9e348441c959d4c7aeac96bb0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 25 11:20:50 2011 +0000

    Remove call to System.exit() reported by Veracode and related code clean-up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1085323 13f79535-47bb-0310-9956-ffa450edef68

commit e3d7905027c95a08628f73c7fde4676b117cd730
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 25 09:55:29 2011 +0000

    Fix string comparison - reported by Veracode
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1085303 13f79535-47bb-0310-9956-ffa450edef68

commit 32c0f6679122630eb7d90cf17982306c41e75df6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 24 14:31:50 2011 +0000

    Re-flow.
    Add a note about failed requests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1084968 13f79535-47bb-0310-9956-ffa450edef68

commit 2c67465aa8201deb1c2d9f8be8cbb82eab9c6de0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 24 13:28:17 2011 +0000

    Add recent changes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1084953 13f79535-47bb-0310-9956-ffa450edef68

commit 3d3ae47aec99d99108d31720c229c88213b05715
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 24 13:27:39 2011 +0000

    Fix the main interfaces now Tomcat 7 is  stable.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1084951 13f79535-47bb-0310-9956-ffa450edef68

commit 61c834f3af5598391338311019f31a77dc85e589
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 24 13:25:52 2011 +0000

    Remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1084950 13f79535-47bb-0310-9956-ffa450edef68

commit 3e40f9c69640c5f3d71802ae570ffb0dadf24c71
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 24 13:24:28 2011 +0000

    Resolve some TODOs for "swallowAbortedUploads"
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1084949 13f79535-47bb-0310-9956-ffa450edef68

commit eed7db94f8363f43085aa59acb80d3bf4f65ce15
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 24 11:55:02 2011 +0000

    Updates based on recent user list questions
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1084918 13f79535-47bb-0310-9956-ffa450edef68

commit 4b73a5c07649f1b0f85cafe66b60f17a639376d0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 23 00:36:16 2011 +0000

    Rename, no functional change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1084427 13f79535-47bb-0310-9956-ffa450edef68

commit 57945bc46a56722863c915bb852c6072c852a846
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 23 00:27:00 2011 +0000

    Rename, no functional change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1084424 13f79535-47bb-0310-9956-ffa450edef68

commit ee910973c6399903e12d5923fc53b26b8087087c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 23 00:17:33 2011 +0000

    Rename, no functional change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1084422 13f79535-47bb-0310-9956-ffa450edef68

commit cd5acff469459ea83a11758612e8d2baf031a0b6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 22 17:58:15 2011 +0000

    Remove unnecessary casts
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1084271 13f79535-47bb-0310-9956-ffa450edef68

commit 9956811184edd8c863ea3d2aae210bf8ab6daa5d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 22 13:32:12 2011 +0000

    Tweak wording, try to make clearer
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1084171 13f79535-47bb-0310-9956-ffa450edef68

commit 3164e4f2ec3b7829e31c48dde676da9249e6b900
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 22 09:55:10 2011 +0000

    Remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1084120 13f79535-47bb-0310-9956-ffa450edef68

commit 0f2acd12672138e054bed43aea9428a597e9587a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 22 09:50:04 2011 +0000

    Add another false positive
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1084117 13f79535-47bb-0310-9956-ffa450edef68

commit 8d887454a9d3313ef05f3edbc5a1949ed80dec2b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 22 09:49:50 2011 +0000

    Fix an Eclipse warning
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1084116 13f79535-47bb-0310-9956-ffa450edef68

commit e90aaf60f805c9cccb4c459f6fc71ac31667c959
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 22 09:42:29 2011 +0000

    Use standard approach for pre-loading classes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1084115 13f79535-47bb-0310-9956-ffa450edef68

commit 0dfd9a1bd22af6687836c3070a7d2e73ea82bbfa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 22 08:57:12 2011 +0000

    Prevent the custom error pages for the Manager and Host Manager applications from being accessed directly.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1084109 13f79535-47bb-0310-9956-ffa450edef68

commit 7fbf3a7f5fb77e965d39b60606677eae207af2dd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 22 08:46:00 2011 +0000

    Remove unnecessary code that makes switching to other authentication methods difficult.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1084103 13f79535-47bb-0310-9956-ffa450edef68

commit e72a5a0f7d8b9c36897eb269d53bc1d4ed4dfd89
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 21 22:08:47 2011 +0000

    Make the CSRF nonce cache serializable to fix an issue reported on the users list.
    Custom serialization code could shave ~20% but the code isn't as clean.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1083987 13f79535-47bb-0310-9956-ffa450edef68

commit 84b30ec3076a5f06a99c88b3f2a4c7b0acf27b0a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 21 19:15:27 2011 +0000

    Add a recent change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1083905 13f79535-47bb-0310-9956-ffa450edef68

commit 793631c633ba02007375ecb080cda54e41d5e58d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 21 17:46:38 2011 +0000

    Further additions to mbeans and docs for authentication valves
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1083879 13f79535-47bb-0310-9956-ffa450edef68

commit 8d6505db412031684be2217c22fe6393420b31e1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 21 17:26:48 2011 +0000

    Remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1083875 13f79535-47bb-0310-9956-ffa450edef68

commit bbc5f19ff1a27f4eccc4bb74baabca0affbb70e3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 21 17:12:05 2011 +0000

    Sync with implementation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1083873 13f79535-47bb-0310-9956-ffa450edef68

commit 04cca0ce20a499dd5d021675eab060fed6e33e27
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Mar 19 03:00:38 2011 +0000

    Improve the logging documentation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1083135 13f79535-47bb-0310-9956-ffa450edef68

commit 5129019f06735d3a42b887eceea49728a8013a04
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Mar 18 15:22:08 2011 +0000

    Improve the logging documentation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1082948 13f79535-47bb-0310-9956-ffa450edef68

commit 9d377a36fd746a63c4d3a4d29dbd2063e54a81e5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 16 18:26:40 2011 +0000

    Remove random "
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1082248 13f79535-47bb-0310-9956-ffa450edef68

commit beffc57d74ccc0eb877f6ab346ba78c127292456
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 16 09:30:10 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50927
    Better error message if SSLCertificateFile not set
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1082104 13f79535-47bb-0310-9956-ffa450edef68

commit 39d8dd04fd3aa4c67f79d9e7acb840a6080fcc7a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 15 23:05:53 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50929
    When wrapping an exception, set the root cause
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1081987 13f79535-47bb-0310-9956-ffa450edef68

commit ace4d9da413b5cbe03eee49aec2d273d8a80aeaa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 15 23:00:54 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50925
    Update docs for keyPass attribute
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1081980 13f79535-47bb-0310-9956-ffa450edef68

commit f0a6eb9ad07e6b0b4abaf916706fdaa73f0b6374
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 15 22:53:36 2011 +0000

    Chain exception
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1081976 13f79535-47bb-0310-9956-ffa450edef68

commit 7b98790025d37ddb614abe590bd923bfdc713ec2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 15 22:51:10 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50928
    Don't ignore keyPass attribute
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1081969 13f79535-47bb-0310-9956-ffa450edef68

commit 7cda6c2597afcc09c9673cb25a8912e24339d0f8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 15 20:49:44 2011 +0000

    Handle the scenario where the client sends multiple JSESSIONID cookies. This patch trades a little duplication for simpler code. The duplication only occurs when the client sends multiple cookies and the request is to a context that currently has multiple versions.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1081940 13f79535-47bb-0310-9956-ffa450edef68

commit 52dabafed9683655ea4be585938d1a1d7eaffe6b
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Mar 15 18:37:24 2011 +0000

    Correct a typo in changelog for 7.0.9
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1081895 13f79535-47bb-0310-9956-ffa450edef68

commit 5a8f32dc5c2c0f65c73440cfe332e524a8768a34
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 15 17:48:15 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50903
    If a connector is stopped, not not process any keep-alive connections. The exact behaviours are:
    - HTTP BIO - blocks until request line is read and then returns 503
    - HTTP NIO - uses polling, so returns 503 immediately connector is stopped
    - HTTP APR - blocks until request line is read and then returns 503
    - AJP BIO - blocks until request packet is received and then returns 503 - subsequent requests will timeout
    - AJP APR - no change - subsequent requests will timeout
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1081882 13f79535-47bb-0310-9956-ffa450edef68

commit b6b88acac0798af7f61e9a5321f2008faddcc576
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Mar 15 14:07:27 2011 +0000

    Followup to markt's r1081239:
    update the doc for CrawlerSessionManagerValve
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1081793 13f79535-47bb-0310-9956-ffa450edef68

commit 323e4ab8a7c57b35a5b7d98216649d7fb89a31f9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 15 13:58:21 2011 +0000

    Include clean-up under a single entry
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1081786 13f79535-47bb-0310-9956-ffa450edef68

commit 3aa3d93944415eae1a2a7a78245cffe84963fe6c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 15 13:56:35 2011 +0000

    More FindBugs warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1081785 13f79535-47bb-0310-9956-ffa450edef68

commit af0b8a7582fbf21e9c80de5dce0955043c2cebc0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 15 13:31:43 2011 +0000

    Fix FindBugs nag
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1081775 13f79535-47bb-0310-9956-ffa450edef68

commit 1b7392c05afe112b6358543cce42182e6b654af2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 15 13:23:13 2011 +0000

    Fix a couple of FindBBugs warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1081771 13f79535-47bb-0310-9956-ffa450edef68

commit eef0f54a16f5a2d2327b1bc62b89e4c1f6c82eeb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 15 13:10:33 2011 +0000

    Remove unused code
    Fix some Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1081765 13f79535-47bb-0310-9956-ffa450edef68

commit 55b8c7896ac8dc90d0bf4750a1295fe0b4964f58
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 15 12:58:04 2011 +0000

    Better comment
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1081755 13f79535-47bb-0310-9956-ffa450edef68

commit d8348ff790e00e1a9231aa127332255a006aab0e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 15 09:44:17 2011 +0000

    Add recent change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1081700 13f79535-47bb-0310-9956-ffa450edef68

commit 03f9f35805697ca86af4f4fe2fc293a3ec757ab6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 15 09:42:37 2011 +0000

    The name for the default host does not have to be resolvable in DNS.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1081698 13f79535-47bb-0310-9956-ffa450edef68

commit a37034fff6fca789394054c04bd5c63d9f202e70
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 14 14:25:14 2011 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1081391 13f79535-47bb-0310-9956-ffa450edef68

commit bbfcb634fb571eabe92c8985213cf0418edf9283
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 14 12:47:26 2011 +0000

    Fix typos, remove whitespace
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1081351 13f79535-47bb-0310-9956-ffa450edef68

commit 329b919732d31ea2a53224df4259435e05409551
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 14 12:39:01 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50924
    Clean-up HTTP comparison table
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1081350 13f79535-47bb-0310-9956-ffa450edef68

commit 948ed5d26c6738041213f41aa94cca21af776c55
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 14 11:30:35 2011 +0000

    Remove whitespace
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1081334 13f79535-47bb-0310-9956-ffa450edef68

commit a2f3af513205722eb5e09ca654df70bb4cedc10f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 14 00:29:41 2011 +0000

    Couple of updates
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1081241 13f79535-47bb-0310-9956-ffa450edef68

commit 76efd367fae70956d8f487507054134f6fd2d4ff
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 14 00:28:29 2011 +0000

    Update to the current ASF bot pattern
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1081239 13f79535-47bb-0310-9956-ffa450edef68

commit 1e401a6ff7300b7d9218c2c6e29e6383171a030d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 14 00:27:48 2011 +0000

    Some bots (Google) send an invalid session ID
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1081238 13f79535-47bb-0310-9956-ffa450edef68

commit 915388a5874c9a38e019b5852e8bf037fa156ce8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 13 23:10:18 2011 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1081234 13f79535-47bb-0310-9956-ffa450edef68

commit fd2027e6db6a6bb887872782e6915136038caa7b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 13 14:08:05 2011 +0000

    Don't log to standard out
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1081118 13f79535-47bb-0310-9956-ffa450edef68

commit 47fce6bc45df53f9a6d3939c23af3037b97eff96
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 13 14:01:34 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50887
    Add support for configuring the JSSE provider used to convert client certificates.
    Based on a patch by pknopp.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1081117 13f79535-47bb-0310-9956-ffa450edef68

commit 3ca08df4bf21e68930693b79c0849b504c3d17fe
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 12 10:32:11 2011 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1080905 13f79535-47bb-0310-9956-ffa450edef68

commit 2a85acd75f3bd41311aa2bc842882d54362d6aab
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 12 10:27:49 2011 +0000

    Align code and comments - no functional change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1080904 13f79535-47bb-0310-9956-ffa450edef68

commit 4a22ae2a1554d4f00a191caab0b803aec1435437
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 12 10:10:44 2011 +0000

    Align code and comments - no functional change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1080903 13f79535-47bb-0310-9956-ffa450edef68

commit 369445d51eec3e4d944f70d0b1e5930df60042fd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 12 09:39:20 2011 +0000

    Prep for next release
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1080898 13f79535-47bb-0310-9956-ffa450edef68

commit 275c93f811b3624c9795352f27dbd3b57baca11e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 11 18:40:13 2011 +0000

    Don't unpack WAR files if they are not located in the Host's appBase.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1080719 13f79535-47bb-0310-9956-ffa450edef68

commit baf9d69c2f00e14231f1482a0950904dbf2ee75c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 11 18:30:14 2011 +0000

    Better handling for invalid context paths in server.xml
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1080714 13f79535-47bb-0310-9956-ffa450edef68

commit 1f1cecfeb7a8922811a6a416a8586732f5bb7dc4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 11 17:38:19 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50911
    Reduce noise generated during the build of the Windows installer so warnings are more obvious.
    Patch provided by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1080693 13f79535-47bb-0310-9956-ffa450edef68

commit b394e95fce7ff2ad765aa38ba77feb98a780349f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 11 16:27:45 2011 +0000

    Library updates
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1080638 13f79535-47bb-0310-9956-ffa450edef68

commit 33c150e5f5cb8edcfc377b039c727cf3a735f804
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 11 11:42:53 2011 +0000

    Will be released later today
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1080533 13f79535-47bb-0310-9956-ffa450edef68

commit e9ed864c81523552ff401e7ab0e64659bb98637d
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Mar 11 00:57:25 2011 +0000

    Followup to r1079781
    s/&/&amp;/ in HTML files
    
    HTML allows both variants, but let's be more strict.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1080415 13f79535-47bb-0310-9956-ffa450edef68

commit 56dbb12a990fc360dd8bb30ea3b6202f3fef1426
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Mar 11 00:39:25 2011 +0000

    A pair of typos
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1080413 13f79535-47bb-0310-9956-ffa450edef68

commit a43ecbace77267d6f953569876bb84964e98f39b
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Mar 10 12:27:05 2011 +0000

    svn:eol-style, as noted by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1080200 13f79535-47bb-0310-9956-ffa450edef68

commit 099a5fc7c04ca14dffecea0f92e6b0e16f5fa490
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 10 11:11:38 2011 +0000

    Ready for next release
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1080183 13f79535-47bb-0310-9956-ffa450edef68

commit 82bdb78fbafbdb80fde1345714986d744f21bd6a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 10 10:34:09 2011 +0000

    status is always null, so simplify
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1080173 13f79535-47bb-0310-9956-ffa450edef68

commit 2110e6532e2747db597195182dd6a5841d137493
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Mar 10 10:07:43 2011 +0000

    Correct a typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1080169 13f79535-47bb-0310-9956-ffa450edef68

commit c7aeb523b5791cf730f63bad52b578560c8f7907
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Thu Mar 10 08:31:51 2011 +0000

    correct message key
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1080152 13f79535-47bb-0310-9956-ffa450edef68

commit ac5f9eef038a1a8c5146a91fc5886e98cbe7e34f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 9 22:36:55 2011 +0000

    Fix Async with APR and TCP_DEFER_ACCEPT
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1080040 13f79535-47bb-0310-9956-ffa450edef68

commit 2b2f6c5229b31dab733094bfbc2b8bda25d8b6a5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 9 19:01:08 2011 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079934 13f79535-47bb-0310-9956-ffa450edef68

commit 9fe025c493052782616dc64d77067ff956b182d9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 9 18:49:02 2011 +0000

    Fix exception destroying a stopped connector.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079930 13f79535-47bb-0310-9956-ffa450edef68

commit d12b38d0a4b274409526514e40b0b46722ee943f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 9 18:30:07 2011 +0000

    Try and make test pass more reliably. This works an 8-core Windows box and a 1-core Linux VM
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079917 13f79535-47bb-0310-9956-ffa450edef68

commit 0c58d2a22bb2a5a26db057f76de3ca6ee0b8b3ee
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 9 17:27:02 2011 +0000

    Speed up unit tests on Linux
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079903 13f79535-47bb-0310-9956-ffa450edef68

commit d993624db0f64e9e687b0b574e3d9b998523f149
Author: Rainer Jung <rjung@apache.org>
Date:   Wed Mar 9 17:09:50 2011 +0000

    Session attributes were only partially changed from Hashtable to ConcurrentHashMap.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079891 13f79535-47bb-0310-9956-ffa450edef68

commit c78403a153590bad0f44ca6adfb702c8f655eab6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 9 15:35:18 2011 +0000

    Fix some unit test failures
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079840 13f79535-47bb-0310-9956-ffa450edef68

commit 29c229e390898fd956bd8a57c4f7b1e5e9ceb921
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 9 15:34:51 2011 +0000

    Better overriding support
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079839 13f79535-47bb-0310-9956-ffa450edef68

commit 0786d05f3a2218d6fda60fb345be8a687a348725
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 9 15:00:07 2011 +0000

    Fix TCK test failure under a security Manager
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079822 13f79535-47bb-0310-9956-ffa450edef68

commit 2321bd18519f6cefc42f61a0a3542aa5ab0dcd33
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 9 14:48:29 2011 +0000

    Fix some test failures.
    Don't use load() since that creates a whole bunch of edge cases that need to be handled.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079819 13f79535-47bb-0310-9956-ffa450edef68

commit f424934485bf481fb22475bc18b2c5e140c1bbeb
Author: Rainer Jung <rjung@apache.org>
Date:   Wed Mar 9 14:07:53 2011 +0000

    Add forgotten attribute "sessionCookieName" to context config docs.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079806 13f79535-47bb-0310-9956-ffa450edef68

commit 3d47abb8c7d8a23e8f0aaec266f03ef8f2567544
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 9 13:52:07 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50895
    Don't initialize classes during compilation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079801 13f79535-47bb-0310-9956-ffa450edef68

commit 53c4f2397c0c9895e853dcc7f3e02bd2928955ab
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 9 13:05:05 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50893
    Additional information for extras package
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079781 13f79535-47bb-0310-9956-ffa450edef68

commit 727310f9e989c93f67ca1a5353b3e06dc1a3964b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 9 12:20:58 2011 +0000

    CVE-2011-1088
    Fix unit test failures
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079769 13f79535-47bb-0310-9956-ffa450edef68

commit 7474755c6d986596198290d84ecde718bfb2ab9f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 9 11:38:38 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50854
    Add additional permissions required by the Manager application when running under a security Manager and support a shared Manager installation when $CATALINA_HOME != CATALINA_BASE.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079755 13f79535-47bb-0310-9956-ffa450edef68

commit 2665884cb344b39f3375d66d35f917a87495a571
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 9 11:16:48 2011 +0000

    CVE-2011-1088
    Complete the fix for this issue. The optimisation not to configure an authenticator of there were no security constraints meant that in that case @ServletSecurity annotations had no effect. The unit tests did not pick this up since they added an authenticator directly.
    Add an explicit unit test for this scenario.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079752 13f79535-47bb-0310-9956-ffa450edef68

commit de9cdbdb28166912492394c94d5c9f3b3f1e17ee
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 9 10:56:40 2011 +0000

    This was only a partial fix.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079739 13f79535-47bb-0310-9956-ffa450edef68

commit 69a91057fa36abdb923c0e1aaf6a05200b399d30
Author: Rainer Jung <rjung@apache.org>
Date:   Wed Mar 9 05:38:23 2011 +0000

    Docs: Move "allowCasualMultipartParsing",
    "swallowAbortedUploads" and "swallowOutput"
    from StandardContext to Context.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079671 13f79535-47bb-0310-9956-ffa450edef68

commit 62fab1d87adf508d63bb08331bc64cd1e6423e2b
Author: Rainer Jung <rjung@apache.org>
Date:   Wed Mar 9 05:24:04 2011 +0000

    Fix alphabetic order.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079667 13f79535-47bb-0310-9956-ffa450edef68

commit 513e33945c3a880ad53e3a5f94593c65ca024f09
Author: Rainer Jung <rjung@apache.org>
Date:   Wed Mar 9 05:21:34 2011 +0000

    Consistent Ordering.
    No functional change.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079666 13f79535-47bb-0310-9956-ffa450edef68

commit 544db45f78e76fd7a9b0e502e56d1ffbc063892c
Author: Rainer Jung <rjung@apache.org>
Date:   Wed Mar 9 05:05:36 2011 +0000

    Rename new method.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079665 13f79535-47bb-0310-9956-ffa450edef68

commit ac9ff154c1164944cd65071fc7abc11967e136bf
Author: Rainer Jung <rjung@apache.org>
Date:   Tue Mar 8 22:27:45 2011 +0000

    Reduce visibility of field with public getter
    and setter.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079584 13f79535-47bb-0310-9956-ffa450edef68

commit 089b77897e774f13a48e23e435a31ba6dd8d436f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 8 22:15:34 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=25060
    When stopping naming resources look for DataSource resources with a zero-arg close() method and call it if one is found
    Works with Commons DBCP.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079575 13f79535-47bb-0310-9956-ffa450edef68

commit b0d3b2cdd2d3504c7bf7d31c145827fd0ae7b562
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 8 21:32:58 2011 +0000

    r1079367 was a little too enthusiastic.
    The "if (!initialized)" tests weren't required by the init() call are
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079553 13f79535-47bb-0310-9956-ffa450edef68

commit 10a4ec4bba45e6020c66cd54fdc3f6b20e50cf85
Author: Rainer Jung <rjung@apache.org>
Date:   Tue Mar 8 17:18:16 2011 +0000

    New context attribute "swallowAbortedUploads" allows
    to make request data swallowing configurable for requests
    that are too large.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079444 13f79535-47bb-0310-9956-ffa450edef68

commit fcd68f95c9c1eaf3c71adae231bd0ce04427f3f7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 8 15:58:53 2011 +0000

    Expose the global naming context for all Server implementations
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079405 13f79535-47bb-0310-9956-ffa450edef68

commit da5a87d779653b89f68142220d99d6e9f46a5c12
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 8 15:39:29 2011 +0000

    Add release dates
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079399 13f79535-47bb-0310-9956-ffa450edef68

commit c5a8bfefb061e6212d0b2851ef388ee7a39ed5ac
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 8 15:37:36 2011 +0000

    Add the CVE info for 7.0.10
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079398 13f79535-47bb-0310-9956-ffa450edef68

commit 655e32617d7b3776fb791595a5d99ea60bcbfdc9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 8 15:19:19 2011 +0000

    Align SSL init for BIO and NIO.
    Fixes https://issues.apache.org/bugzilla/show_bug.cgi?id=48208 for NIO.
    Adds support for keyPass, truststoreProvider & keystoreProvider
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079387 13f79535-47bb-0310-9956-ffa450edef68

commit a7954f58f9fa25f2295d61358a36a003024db3dd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 8 14:21:41 2011 +0000

    Remove some unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079367 13f79535-47bb-0310-9956-ffa450edef68

commit 00d794e76df00ebb40d1d083505a5bd07a621c2f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 8 14:03:20 2011 +0000

    Add the hooks (no implementation yet) for BIO and NIO to share the code that is currently in JSSESocketFactory
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079360 13f79535-47bb-0310-9956-ffa450edef68

commit c9b281f58a824b5bfd220e7fe1fd98f09e453452
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 8 14:02:03 2011 +0000

    Fix build failure and don't tie NIO connector to a single SSL implementation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079359 13f79535-47bb-0310-9956-ffa450edef68

commit 0fcd4f446f04aea1cf872f438f7b936e44bc52c9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 8 13:50:46 2011 +0000

    Better Javadoc
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079355 13f79535-47bb-0310-9956-ffa450edef68

commit e6dddbb41941412033cbed8d17d20604ae0da185
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 8 13:50:07 2011 +0000

    Remove JSSEFactory. Now we no longer need to support older JSSE versions, this layer of abstraction is not required.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079354 13f79535-47bb-0310-9956-ffa450edef68

commit b5ef080b318409b1b1d6c21d41905ec0ea645da7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 8 12:10:44 2011 +0000

    Don't swallow exceptions when they are not expected
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079337 13f79535-47bb-0310-9956-ffa450edef68

commit 12bf93349495fae7329fa59f3a26e28d96589534
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 8 11:28:15 2011 +0000

    Add missing message
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079329 13f79535-47bb-0310-9956-ffa450edef68

commit 9f1f7258e7d6df61443995f05f2f4bb613744075
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 8 11:15:37 2011 +0000

    Refactor to address https://issues.apache.org/bugzilla/show_bug.cgi?id=48208#c13
    Don't configure a TrustManagerFactory instance if it isn't going to be used.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079323 13f79535-47bb-0310-9956-ffa450edef68

commit 17a722097469203bc169447ec2d22e299fe9d501
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 8 11:04:38 2011 +0000

    Restore the ability to register the Tomcat jndi URL handler via the java.protocol.handler.pkgs system property.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1079320 13f79535-47bb-0310-9956-ffa450edef68

commit 5633cc98bab4fa6c03e415be9bb144526f62ee56
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 7 22:18:02 2011 +0000

    Remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1078981 13f79535-47bb-0310-9956-ffa450edef68

commit baff49b45adedb431535c201d1fc1458eea532e3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 7 17:42:52 2011 +0000

    Fix some warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1078863 13f79535-47bb-0310-9956-ffa450edef68

commit bbe16ab1471bb05656ecdf7f04998ace7b72f64f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 7 16:46:45 2011 +0000

    Fix Eclipse and FindBugs warnings
    Removed unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1078850 13f79535-47bb-0310-9956-ffa450edef68

commit b16140fcdebd2e9326711c8917f43cc7efc01652
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 7 14:55:22 2011 +0000

    Code cleanup
    - remove unused code
    - fix FindBugs warnings
    - fix Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1078798 13f79535-47bb-0310-9956-ffa450edef68

commit 7164e93f980e281a085ebe63ebd9a624e0f8c183
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 7 14:24:08 2011 +0000

    Fix Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1078780 13f79535-47bb-0310-9956-ffa450edef68

commit f1b4c28561399a29d5e5a8f7049b5eed0fd46abb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 7 11:56:19 2011 +0000

    Another FindBugs false positive
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1078754 13f79535-47bb-0310-9956-ffa450edef68

commit 1ea6c12b4db88c121c487a67e54d6869665a6505
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 6 22:12:10 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=26701
    Provide a mechanism for users to register their own URLStreamHandlerFactory objects.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1078601 13f79535-47bb-0310-9956-ffa450edef68

commit d314747ce3fbc45b6e58910b38bf1ec79eb8a214
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 6 22:02:28 2011 +0000

    Clean-up, mainly unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1078595 13f79535-47bb-0310-9956-ffa450edef68

commit b07f889ce3cc6024161c4893269ec01add96145a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 6 17:37:30 2011 +0000

    Remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1078523 13f79535-47bb-0310-9956-ffa450edef68

commit 5848eb19fba30a9fdd49ed7c7bbb5b1bcafbb394
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 6 17:35:12 2011 +0000

    Make more efficient / fix FindBugs nag
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1078522 13f79535-47bb-0310-9956-ffa450edef68

commit 0122e8230afb545ea635e30f665017bc7793de14
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 6 09:33:26 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48208
    Add custom trust manager support
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1078436 13f79535-47bb-0310-9956-ffa450edef68

commit e55b4d17ce62f93388dfe46cea3fd1c817075b41
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 6 07:58:26 2011 +0000

    Refactoring for re-use
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1078416 13f79535-47bb-0310-9956-ffa450edef68

commit 6335bfcd40d156bf63b8fd3c7a8d55be10a70727
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 6 07:47:17 2011 +0000

    Update comments/test case name
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1078414 13f79535-47bb-0310-9956-ffa450edef68

commit dbb1c7675e05c19319b75e22820ffca5516da5c1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 6 07:33:58 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50855
    Fix NPE on HttpServletRequest.logout() when debug logging is enabled.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1078412 13f79535-47bb-0310-9956-ffa450edef68

commit 6e6855007f3f1b83dfe3c45599f0d0e722dca082
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 6 07:17:07 2011 +0000

    Fix threading issue reported on dev list
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1078409 13f79535-47bb-0310-9956-ffa450edef68

commit e6b02845a2ac402689ddeb191dc6f91b93a9c8c4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 6 06:27:30 2011 +0000

    Prep for next release
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1078404 13f79535-47bb-0310-9956-ffa450edef68

commit 45cfb91fd343dc30d06c8d57cd1309a179b536ec
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 6 06:26:46 2011 +0000

    Add missing entry.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1078403 13f79535-47bb-0310-9956-ffa450edef68

commit 83c0f864db7135fb822449d62c2d84528868838c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 4 16:49:14 2011 +0000

    Code clean-up
     - fix FindBugs warnings
     - remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1078049 13f79535-47bb-0310-9956-ffa450edef68

commit e9163f31a439e21dbbc819320e0ded44bdad0c38
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 4 15:54:28 2011 +0000

    Now there is always an authenticator, need to allow for the extra MBean
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1078024 13f79535-47bb-0310-9956-ffa450edef68

commit ab958275582c8d82b9c8f7383c5f6651a86a62ef
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 4 15:52:01 2011 +0000

    Code clean-up
     - fix FindBugs warnings
     - remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1078022 13f79535-47bb-0310-9956-ffa450edef68

commit d67cb79346c6a5293827926050bbcbc1fb3832f3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 4 15:31:04 2011 +0000

    Avoid npe
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1078004 13f79535-47bb-0310-9956-ffa450edef68

commit 9321150c98ee2da90a11f156cfaf4122367d0711
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 4 15:17:22 2011 +0000

    @ServletSecurity
    Servlets added via addServlet() should not be processed unless created via craeteServlet. Need to delay scanning until urlPatterns are known
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1077995 13f79535-47bb-0310-9956-ffa450edef68

commit 4ec2bc652f34b3eeb467b81d52e2ac29f612d404
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 4 11:23:43 2011 +0000

    Check metadata-complete=true leads to @ServletSecurity being ignored
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1077883 13f79535-47bb-0310-9956-ffa450edef68

commit e860dc0f6ebfc546cfae59ac6b9599d06d05f53c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 4 11:17:06 2011 +0000

    Check web.xml takes precedence over @ServletSecurity
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1077881 13f79535-47bb-0310-9956-ffa450edef68

commit f5404e0a375905fcb3bac61ca3fc8e4d9517a248
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Mar 3 19:20:38 2011 +0000

    Add missing files and license header
    Add NOTICE/LICENSE to all JAR files
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1076736 13f79535-47bb-0310-9956-ffa450edef68

commit 4643b29ef52e8fcadd74a8ccc13bb7deb36e1411
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 3 19:13:52 2011 +0000

    Test that individual roles are correctly handled
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1076731 13f79535-47bb-0310-9956-ffa450edef68

commit 3d019ce602acd2932bbd6bcff94bb45ff32f2407
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 3 12:56:07 2011 +0000

    @ServletSecurity
    Refactor to reduce duplication in test code
    Add tests for method constraints
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1076606 13f79535-47bb-0310-9956-ffa450edef68

commit 2171928a3ee7fb1fffe4888b6a8db674d348ca6f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 3 11:31:56 2011 +0000

    @ServletSecurity support
    Add tests for subclasses
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1076589 13f79535-47bb-0310-9956-ffa450edef68

commit 8c98bf2627d457bdef113e0a9e87783610aed177
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 3 11:24:35 2011 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1076587 13f79535-47bb-0310-9956-ffa450edef68

commit 9cb2732e6e4136b56b90dd1f271d94347975dfde
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 3 11:16:51 2011 +0000

    [SECURITY]
    Start of fix for issue reported on users list that @ServletSecurity annotations were ignored.
    This fix is not yet complete. This first part:
    - Triggers the loading of the Wrapper before the constraints are processed to ensure that any @ServletSecurity annotations are taken account of
    - Makes sure the constraints collection is thread-safe given new usage
    - Adds scanning for @ServletSecurity when a Servlet is loaded
    - Ensure there is always an authenticator when using the embedded Tomcat class so that @ServletSecurity will have an effect
    - Adds a simple unit test to check @ServletSecurity annotations are processed
    Further commits will add additional test cases and any changes required for those test cases to pass
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1076586 13f79535-47bb-0310-9956-ffa450edef68

commit 8edd2cb33a564a8d46609f8cee29589f91be2c12
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Mar 2 21:18:18 2011 +0000

    Doco update
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1076385 13f79535-47bb-0310-9956-ffa450edef68

commit f621e65803c127cb0d69fa5c9f417ce8510ab2a4
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Mar 2 21:15:07 2011 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=50857
    Timeouts have to be trapped, and properly handled
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1076380 13f79535-47bb-0310-9956-ffa450edef68

commit d4702710020795ea130739d3b70fd9709bfc7f01
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 2 15:19:58 2011 +0000

    Speed up shut down when ThreadLocalLeakPreventionListener is enabled
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1076249 13f79535-47bb-0310-9956-ffa450edef68

commit b150eedfa84d6672b31d72eb397507734ea61c48
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 2 13:55:19 2011 +0000

    Remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1076222 13f79535-47bb-0310-9956-ffa450edef68

commit f9a6c9716a87dc6edc14ef258fb38fbb0aff6961
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 2 13:48:16 2011 +0000

    Fix Javadoc
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1076218 13f79535-47bb-0310-9956-ffa450edef68

commit 4f9a1209b0016ecc43d9017fee6b2ccd683b7f7c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 2 13:23:37 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=27988
    Improve reporting of missing files
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1076212 13f79535-47bb-0310-9956-ffa450edef68

commit 94e67b86301655e7c685dacb597e70322faabb1b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 2 13:17:37 2011 +0000

    Update change log
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1076206 13f79535-47bb-0310-9956-ffa450edef68

commit 8e130087c559a98a324796e94fc5136b6c5ae7a2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 2 12:42:34 2011 +0000

    Better test for APR
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1076197 13f79535-47bb-0310-9956-ffa450edef68

commit 9556db1ac06039ba52dc0dee8970c7dd5f81eae1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 2 12:03:05 2011 +0000

    Correct issues in the SSL renegotiation tests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1076182 13f79535-47bb-0310-9956-ffa450edef68

commit d6bd8b067a9cab974fb60f5ff7b7807fc73d4bac
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 2 11:43:06 2011 +0000

    Save a few cycles
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1076178 13f79535-47bb-0310-9956-ffa450edef68

commit 06a017c1b148beea1aaaa27b4221c5529ddfdbbd
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Mar 1 23:59:36 2011 +0000

    Improve the fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=48863
    1) Be more strict when ignoring the warning:
    ignore only when it is the "lib" directory and when it does not exist
    2) Warn about JARs created from expanding the GLOB pattern as well
    3) s/new File(f.getCanonicalPath())/f.getCanonicalFile()/ for efficiency
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1076059 13f79535-47bb-0310-9956-ffa450edef68

commit 78c47c6c1b561877357d9f533d599ff218c8bb37
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Mar 1 23:24:33 2011 +0000

    Correct several typos
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1076047 13f79535-47bb-0310-9956-ffa450edef68

commit ed4f1bb106c1c681fc2b6eb15d45ba9b742bb7a6
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Mar 1 20:34:00 2011 +0000

    Make sure we also validate the content that is sent and received
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1076015 13f79535-47bb-0310-9956-ffa450edef68

commit 8608cb8e45453bdee711f3df2337d0059c5893f6
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Mar 1 20:04:26 2011 +0000

    Implement renegotiation for SSL cert authentication
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1076008 13f79535-47bb-0310-9956-ffa450edef68

commit 0a96db9a22fc2159fb37b967b9e482a9ec6a0659
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Mar 1 19:58:55 2011 +0000

    Correctly determine if a buffer has data or not
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1076004 13f79535-47bb-0310-9956-ffa450edef68

commit 217a31b703d97c1002fc7d37cad5d48df776b81c
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Mar 1 18:24:03 2011 +0000

    propagate all exceptions through IOExceptions
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075964 13f79535-47bb-0310-9956-ffa450edef68

commit bac124306dc2519632c4ec1165eeaff89529b218
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Mar 1 18:13:38 2011 +0000

    Simple implementation of a forced and blocking renegotiation with a SSL client
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075956 13f79535-47bb-0310-9956-ffa450edef68

commit 7e2323ba660148e4c999d8e0fa078fd2c070ab92
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 1 14:13:16 2011 +0000

    Move outside of loop as per kkolinko's review
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075823 13f79535-47bb-0310-9956-ffa450edef68

commit 9cf89b7f849eb24ae9c4e1b7e33e288427c55004
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 1 13:35:24 2011 +0000

    Missed a keystore in the refactoring
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075816 13f79535-47bb-0310-9956-ffa450edef68

commit f4611011e04ad5e70c5691556b3ab77503d176b4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 1 13:24:31 2011 +0000

    Fix bug in unit test due to some Lifecycle refactoring
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075811 13f79535-47bb-0310-9956-ffa450edef68

commit d5f8f784e304e9f25b7337b0b1b8f0b4ce7ccd60
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 1 12:32:25 2011 +0000

    Improve handling of SSL renegotiation by failing earlier when the request body contains more bytes than maxSavePostSize.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075792 13f79535-47bb-0310-9956-ffa450edef68

commit 4b12d08351fb832163e203808732f818a97aff85
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 1 11:12:22 2011 +0000

    Remove the init from references to handshake since the same fields/methods will be used for renegotiation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075776 13f79535-47bb-0310-9956-ffa450edef68

commit 87c3cb8ad361965039fe912fb97d56da5f33d40a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 1 10:16:36 2011 +0000

    Extract the client-cert tests into a separate test
    Check maxPostSize works as expected with client-cert
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075762 13f79535-47bb-0310-9956-ffa450edef68

commit eb2c40423e0ea580e953fd87b15e2aacba8cbef9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 1 09:33:57 2011 +0000

    Clear remainder of current FindBugs issues in unit tests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075742 13f79535-47bb-0310-9956-ffa450edef68

commit 7940b5accf734d1c3832744602f94fbb575e68c5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 1 09:13:18 2011 +0000

    More entries
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075737 13f79535-47bb-0310-9956-ffa450edef68

commit 9dd0353738e744662048bf7ac520b8b72d4d8006
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 1 09:12:51 2011 +0000

    Remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075736 13f79535-47bb-0310-9956-ffa450edef68

commit 6f0f7adbdd386a1e99192f8d955971253edaf9fb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 1 09:02:52 2011 +0000

    Fix Findbugs nag
    Reduce visibility
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075725 13f79535-47bb-0310-9956-ffa450edef68

commit cd4575a724e0d758530be8218ba5db9b786b9e9c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 1 09:01:30 2011 +0000

    Grr. This worked if 20 bytes were read in one go
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075724 13f79535-47bb-0310-9956-ffa450edef68

commit baa1eaca85b76bd9fbb5e27ad1583ddd2aebe47a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 1 09:00:01 2011 +0000

    Better fix, we actually need to read 20 byres for the test to pass
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075719 13f79535-47bb-0310-9956-ffa450edef68

commit 06e549909667882c4dc5180151c305f2cdecc8b6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 1 08:56:48 2011 +0000

    Fix FindBugs warning
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075718 13f79535-47bb-0310-9956-ffa450edef68

commit 3f73966a3b5dd34ccce3875bc67597ec19f72d76
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 1 08:50:40 2011 +0000

    More explicit failure message - fixed FindBugs nags
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075713 13f79535-47bb-0310-9956-ffa450edef68

commit 4ad9d5feddda6ccff80da02e897efe0d81a78936
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 1 08:44:29 2011 +0000

    FindBugs fixes - make constants static
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075708 13f79535-47bb-0310-9956-ffa450edef68

commit 98686c51993be396704d07692800cbdde2e11ebd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 1 08:36:57 2011 +0000

    Comment tweaks
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075699 13f79535-47bb-0310-9956-ffa450edef68

commit 3fa0a1a782bd97ecbadcc54bb762975271c68629
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 1 01:23:31 2011 +0000

    Revert SSL renegotiation for NIO - implementation is broken
    Reverts r1074675 and r1075030
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075606 13f79535-47bb-0310-9956-ffa450edef68

commit 10b7f50d398f6032a6ae10b4f70cf2d567421b83
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 1 01:15:11 2011 +0000

    Start of an SSL re-negotiation test. Need to expand it to handle request bodies and the other issues highlighted by Filip.
    Switch to using a CA since it makes the code cleaner and it is easier to get CLIENT-CERT working than will all self-signed certs.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075604 13f79535-47bb-0310-9956-ffa450edef68

commit 33a0f26c50d4ff6ff691850518e59fa2462c4c36
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 28 19:03:31 2011 +0000

    Should have moved the keys when I moved the SSL tests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075487 13f79535-47bb-0310-9956-ffa450edef68

commit b6e5916d0d0b7a44d9aa1c517dbbafd8e045fb78
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 28 18:43:44 2011 +0000

    Fix an Eclipse nag
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075474 13f79535-47bb-0310-9956-ffa450edef68

commit ece51055a6049e00c99982452d8eb20613f27a51
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 28 18:15:48 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=28852
    Add URL encoding where missing to parameters in URLs presented by Ant tasks to the Manager application.
    Based on a patch by Stephane Bailliez.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075458 13f79535-47bb-0310-9956-ffa450edef68

commit d3e413d2ab45f3fce8f61215cda000563f5c569f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 28 17:24:00 2011 +0000

    Clarify auth process for CLIENT-CERT
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075435 13f79535-47bb-0310-9956-ffa450edef68

commit 88fbfc21e67b34b6e137ea61e90533d76616f6d9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 28 14:14:41 2011 +0000

    Prep for next release
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075338 13f79535-47bb-0310-9956-ffa450edef68

commit 332ce8b09c34ce668b9336be45d144df1bf72738
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 28 13:35:41 2011 +0000

    Improve fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=48863
    - consistently pass absolute paths to validateFile()
    - handle non-absolute catalina home/base
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075320 13f79535-47bb-0310-9956-ffa450edef68

commit ce3361e46108407c6c4593a26ff6c6411e0c5259
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 27 23:08:45 2011 +0000

    Fix Eclipse warnings
    Remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075176 13f79535-47bb-0310-9956-ffa450edef68

commit 94e5f219a9512a6fd5805879203d8ded6ee4d446
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 27 22:59:10 2011 +0000

    Clear remaining FindBugs issues from javax.*
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075175 13f79535-47bb-0310-9956-ffa450edef68

commit 5745f5a38e1c25f27ba9c9c8dee4c4ea0eaa8628
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 27 15:53:45 2011 +0000

    Misc clean-up
    - remove unused code
    - suppress FindBugs false positives
    - add javadoc
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075083 13f79535-47bb-0310-9956-ffa450edef68

commit 134decbe624856d548a8b77493b77177531dd4d4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 27 14:34:19 2011 +0000

    Another false positive
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075063 13f79535-47bb-0310-9956-ffa450edef68

commit 8d767110ac092f18592e6e4f1fed330cb7e01fb0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 27 14:31:27 2011 +0000

    Couple more false positives
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075062 13f79535-47bb-0310-9956-ffa450edef68

commit 0992abbedabf089fe65262d7a1c0b597665059d4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 27 14:29:07 2011 +0000

    Misc clean-up
     - Suppress Eclipse warnings
     - Remove unused code
     - Correct Javadoc
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075061 13f79535-47bb-0310-9956-ffa450edef68

commit ff49fe90fe710ca40aa3163f114ce724ecee2b54
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 27 14:26:55 2011 +0000

    Remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075060 13f79535-47bb-0310-9956-ffa450edef68

commit 92233067236e5be11a86fa7ec47ff3e5c7605b14
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 27 14:12:39 2011 +0000

    Revert r1075050
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075058 13f79535-47bb-0310-9956-ffa450edef68

commit b05dbcab04bae6b854c320550a1721c9e7655672
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 27 13:19:22 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=31027
    Trim whitespace from names and values obtained from $CATALINA_BASE/conf/catalina.properties to avoid hard to diagnose errors on startup.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075050 13f79535-47bb-0310-9956-ffa450edef68

commit 483eda1d09219b6e2ebfa38f3647dd1507375e34
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 27 11:28:01 2011 +0000

    Block whilst waiting for data from client in NIO SSL-rehandshake rather than spinning the CPU
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075030 13f79535-47bb-0310-9956-ffa450edef68

commit c8e13e415afadc9c5de692fb53fd04363e08271d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 27 11:00:12 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50836
    Better documentation of the meaning of Lifecycle.isAvailable() and correct a couple of cases where this could incorrectly return true.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075022 13f79535-47bb-0310-9956-ffa450edef68

commit 96b8fc2e880301bd1f91735d163e28569abea9a5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 27 10:31:49 2011 +0000

    Another false positive
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1075019 13f79535-47bb-0310-9956-ffa450edef68

commit 2dd0f31dac4680aca13e5790525d4cfcba790028
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Feb 26 20:44:34 2011 +0000

    Fix FindBugs identified error in Servlet 2.2 jspFile handling
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1074919 13f79535-47bb-0310-9956-ffa450edef68

commit d78b1336b05ce8d0c78efcd88d43a4a0cb568e0f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Feb 26 20:40:25 2011 +0000

    Fix what looks like a copy/paste error
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1074918 13f79535-47bb-0310-9956-ffa450edef68

commit baaca346207a88d34b898f18af05d45198be6a8a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Feb 26 20:07:00 2011 +0000

    No need to call stop if the app didn't start
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1074915 13f79535-47bb-0310-9956-ffa450edef68

commit f2cb1831123be7d1b4b1d679ccefcd52245635bb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Feb 26 20:01:10 2011 +0000

    Ensure a web application is taken out of service if the web.xml file is not valid.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1074914 13f79535-47bb-0310-9956-ffa450edef68

commit e56dc491210f54378e84ebbe3b7425084de1dab7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Feb 26 19:37:13 2011 +0000

    Fix FindBugs warning
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1074911 13f79535-47bb-0310-9956-ffa450edef68

commit 2f38e69d271fd4237f64a0554d63ebb91d310497
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 25 19:19:13 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49284
    Support SSL re-negotiation in the HTTP NIO connector
    There is a fair amount of renaming in this patch. The real work is in the new rehandshake() method in the SecureNioChannel.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1074675 13f79535-47bb-0310-9956-ffa450edef68

commit f3e23338b5565b1acd0c78fc436cb32a7e98fc86
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 25 15:58:08 2011 +0000

    Avoid NPEs trying to re-negotiate with NIO
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1074597 13f79535-47bb-0310-9956-ffa450edef68

commit 3b95099cc884b6d4f63f5cc6c17e362283186e47
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 24 17:25:38 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50826
    Avoid IAE when Tomcat instance is destroyed without every being started.
    Add a test case for this.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1074225 13f79535-47bb-0310-9956-ffa450edef68

commit 017850878d43ad2a48ae7e74177ebb3cb70eff7a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 24 17:03:27 2011 +0000

    Don't start NamingResources multiple times
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1074215 13f79535-47bb-0310-9956-ffa450edef68

commit 86dff6b2e6ca6f9ff0acee7560b027d3d8825dee
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 24 16:01:38 2011 +0000

    Add documentation for the Crawler Session Manager Valve.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1074192 13f79535-47bb-0310-9956-ffa450edef68

commit 1cc84e5a0964f31797c38db74545747e550959f6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 24 14:39:39 2011 +0000

    Fix comment typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1074168 13f79535-47bb-0310-9956-ffa450edef68

commit 907f967b4bb0e0e5613d6fda5ff23a944dcaabdd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 24 14:15:34 2011 +0000

    Avoid NPE if no u-a header
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1074159 13f79535-47bb-0310-9956-ffa450edef68

commit ff51d5bd0509d44a24dece282ea7038e2db27a13
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 24 13:11:17 2011 +0000

    Restore the CrawlerSessionManagerValve
    Local testing with Jira 4.2.4 shows it works.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1074132 13f79535-47bb-0310-9956-ffa450edef68

commit 4ca559cc55a2f25f7e9df1603b5a26b523d37d92
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 23 19:25:17 2011 +0000

    Add security listener
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1073893 13f79535-47bb-0310-9956-ffa450edef68

commit d0d38d7733e4fd4e06a44cfcbee0cdaee2a7262f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 23 19:23:59 2011 +0000

    Add the SecurityListener (disabled by default) that prevents Tomcat from starting if configured insecurely.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1073891 13f79535-47bb-0310-9956-ffa450edef68

commit 44eba4271ea727713c25ded117a2702ad93fd418
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 23 11:58:47 2011 +0000

    Better handling in acceptor threads if server hits ulimit for open files
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1073711 13f79535-47bb-0310-9956-ffa450edef68

commit 909c6a3d43e81df07618d34f00a4a29204aa0c8e
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Feb 22 22:45:43 2011 +0000

    doco update bug 50805
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1073532 13f79535-47bb-0310-9956-ffa450edef68

commit aeba7e7580d8467c7540cbdb32fe57b8efe50c47
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Feb 22 22:42:44 2011 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=50805
    Make sure we only call borrowConnection once per connection per checkout
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1073531 13f79535-47bb-0310-9956-ffa450edef68

commit 57101f8a08614e8bf137b8d724ebc582da26127e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 22 16:38:39 2011 +0000

    Test before generating debug log messages
    Fix FindBugs issues for File.delete() return value
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1073393 13f79535-47bb-0310-9956-ffa450edef68

commit 79fdc6728f6e0f32d347774a2e7cab0b13e5ddda
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 22 12:55:56 2011 +0000

    Remove unused code, fix FindBugs warning
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1073320 13f79535-47bb-0310-9956-ffa450edef68

commit 726ca27d929aa2066f92303b4d9963d2dbd9ad8f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 22 11:48:09 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=21669
    Add the ability to specify the roleBase for the JNDI Realm as relative to the users DN. Based on a patch by Art W.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1073301 13f79535-47bb-0310-9956-ffa450edef68

commit 40e97361c6ff7d97aad2720332b32621d8bd0ca0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 22 11:08:42 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=19444
    Add an option to the JNDI realm to allow role searches to be performed by the authenticated user.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1073296 13f79535-47bb-0310-9956-ffa450edef68

commit c9494672fe1a288d33b222fd99bba4bc9939aa8b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 22 10:46:02 2011 +0000

    Refactoring to remove duplicate code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1073289 13f79535-47bb-0310-9956-ffa450edef68

commit cf30afbe01875265b04c488d4c6eea05454303b0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 21 23:21:09 2011 +0000

    Convert to Javadoc comment and add some additional info
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1073184 13f79535-47bb-0310-9956-ffa450edef68

commit 4f911526db708553bac242bbd34089ec68cbfd0d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 21 16:23:05 2011 +0000

    Smarter solution for bug 48863
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1073047 13f79535-47bb-0310-9956-ffa450edef68

commit 682d9296209b2211d2ad10ec07566363f9b0aeef
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 21 13:15:53 2011 +0000

    Servletapi-2.3 appears to have disappeared from the maven1 repo.
    Switch everything to maven2 repo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1072962 13f79535-47bb-0310-9956-ffa450edef68

commit 4fca8edefc2e60595f1326092a5b8c6f51568c4f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 21 12:59:50 2011 +0000

    Fix javadoc
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1072960 13f79535-47bb-0310-9956-ffa450edef68

commit 2d3766671d0a40c7b99dd36b5ed82f09c17be0bc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 18 21:45:49 2011 +0000

    Fix indentation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1072161 13f79535-47bb-0310-9956-ffa450edef68

commit 5cd1a1a0d887d8398c5177553b7aecc94c59c567
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 18 21:44:13 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48870
    Re-factor to remove parallel arrays.
    Modify fix for 48863 to remove use of StringManager as it is not available in Bootstrap
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1072160 13f79535-47bb-0310-9956-ffa450edef68

commit b9b9cc01ad595ed55efbcafdaadcb3de5a4ab0d1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 18 20:58:16 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48863
    Better logging when specifying an invalid directory for a class loader.
    Based on a patch by Ralf Hauser.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1072145 13f79535-47bb-0310-9956-ffa450edef68

commit 706d19ac0e28e1210e24b786590b150707e6bf63
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 18 20:48:56 2011 +0000

    Exclude a check
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1072144 13f79535-47bb-0310-9956-ffa450edef68

commit 1b02a37428713434f985bcdf6004e4a170eac1f0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 18 20:44:55 2011 +0000

    Remove unnecessary code, fix a Findbugs warning
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1072140 13f79535-47bb-0310-9956-ffa450edef68

commit 45c7702b264a00672960e0950752783197512fc7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 18 20:43:46 2011 +0000

    Remove unnecessary code, fix a Findbugs warning
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1072138 13f79535-47bb-0310-9956-ffa450edef68

commit bc31f32e182105a7ba7ac07e35051a48b9642b9e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 18 20:39:48 2011 +0000

    Remove unnecessary code, fix a Findbugs warning
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1072136 13f79535-47bb-0310-9956-ffa450edef68

commit 53ce7a9b93223e8ca8f577b05b41784e3e49804d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 18 16:53:08 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50743
    Cache CheckStyle results between builds to speed up validation. Patch provided by Oliver.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1072057 13f79535-47bb-0310-9956-ffa450edef68

commit 9f00da59c053e7553085aabb0684b4d60ac59694
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 18 16:24:36 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50189
    Once the application has finished writing to the response, prevent further reads from the request since this causes various problems in the connectors which do not expect this.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1072042 13f79535-47bb-0310-9956-ffa450edef68

commit 174d8481abc64a0501c9b078a79b3c49c51db829
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 18 15:30:57 2011 +0000

    line length
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1072024 13f79535-47bb-0310-9956-ffa450edef68

commit 0c0ccbf89d84ce4ab3a1907aa8605452a8dc31a4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 17 20:38:49 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50802
    Ensure that ServletContext.getResourcePaths() includes static resources packaged in JAR files in its output.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1071774 13f79535-47bb-0310-9956-ffa450edef68

commit ceb667543b89ad43ad4eda4707c99cd98b3e572f
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Feb 17 19:42:05 2011 +0000

    Update ignore list with the full set
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1071757 13f79535-47bb-0310-9956-ffa450edef68

commit dcbd7b29a00f79e5d13bb02492ff1193ae778e09
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Feb 17 18:22:23 2011 +0000

    ignore list
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1071735 13f79535-47bb-0310-9956-ffa450edef68

commit efdfdfd85a0356db9e38ab6b4b2c25ad99fc6c28
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Feb 17 18:16:22 2011 +0000

    Update version numbers
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1071734 13f79535-47bb-0310-9956-ffa450edef68

commit cf9158376304ecc497195ea2c2a8b38ae82c80df
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Feb 17 16:23:44 2011 +0000

    Correctly use the readFully method. Add a utility method to sort absolute order
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1071677 13f79535-47bb-0310-9956-ffa450edef68

commit 9d4c05248c2c963e373895e35e47ea56c4a38cd6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 17 16:08:08 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50780
    Fix memory leak in APR implementation of AJP connector introduced by the refactoring for bug 49884
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1071671 13f79535-47bb-0310-9956-ffa450edef68

commit a86e198a062d3b3311e6def85c72fc05fc38d9cb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 17 14:11:41 2011 +0000

    Remove unnecessary code.
    I don't see a code path that could result in the socket being in the map at this point
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1071617 13f79535-47bb-0310-9956-ffa450edef68

commit e931200563149154db802c574b0231ca666a1b8e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 17 14:04:37 2011 +0000

    Remove unnecessary code.
    I don't see a code path that could result in the socket being in the map at this point
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1071614 13f79535-47bb-0310-9956-ffa450edef68

commit f07d8ffeb8ef665cf494257b7d26fda1b6994a08
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 17 13:10:36 2011 +0000

    Fix NPEs on shutdown. Loop is prevented above when the child is removed.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1071601 13f79535-47bb-0310-9956-ffa450edef68

commit acc16e51c54966ce4074b8bf2450ab8b1e0dee79
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 17 12:11:36 2011 +0000

    Typo? Copy and paste error?
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1071592 13f79535-47bb-0310-9956-ffa450edef68

commit dd5cc398617c977d8b7d4813dd1268975a19d4aa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 17 12:10:32 2011 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1071591 13f79535-47bb-0310-9956-ffa450edef68

commit 382e4746da934e0207aaa46d3d01376f063080cf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 17 10:32:07 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50789
    Provide an option to enable ServletRequestListeners for forwards as required by some CDI frameworks.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1071565 13f79535-47bb-0310-9956-ffa450edef68

commit 3bccfcdc33bdfe3f17889c63c3c35f6a4a572e6b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 17 09:59:30 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50790
    Improve method resolution in EL expressions
    Add test cases for this bug
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1071561 13f79535-47bb-0310-9956-ffa450edef68

commit 73c2b0743ae89df277cdef082e9075e4a20ce063
Author: Rainer Jung <rjung@apache.org>
Date:   Thu Feb 17 09:51:17 2011 +0000

    Remove duplicate code.
    
    The implementation in the base class is identical and all other http11 implementations also inherit it from there.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1071560 13f79535-47bb-0310-9956-ffa450edef68

commit faac67c4ef64c7da35c471cf3c0a16e12abf8652
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 17 09:46:52 2011 +0000

    Prevent NPE in unit tests as a result of r1067718
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1071559 13f79535-47bb-0310-9956-ffa450edef68

commit e68856917d047b8ee60f8e631533e0dbe5572e97
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 17 09:29:58 2011 +0000

    Fix test failure now r1069056 has added stricter checks for state transitions
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1071557 13f79535-47bb-0310-9956-ffa450edef68

commit 75892e12394e719e744f062048e2f0e3289a45ff
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 17 09:20:16 2011 +0000

    Prevent NPE in unit tests as a result of r1067718
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1071556 13f79535-47bb-0310-9956-ffa450edef68

commit 8f144a32e8fb3583b8b5bb355c872dfbc7596e5d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 16 17:56:03 2011 +0000

    Prep for next release
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1071329 13f79535-47bb-0310-9956-ffa450edef68

commit bcddaff08e22b584290bf877a35db903889a7f59
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 16 17:35:24 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50793
    Correctly fire request init/destroy events for astnc requests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1071321 13f79535-47bb-0310-9956-ffa450edef68

commit fe5f23fcf81bc00624c959b17716eda9badffa69
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 16 14:18:12 2011 +0000

    Move test outside the loop
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1071262 13f79535-47bb-0310-9956-ffa450edef68

commit d928b70382b6358b4818bebd4cb275adb94bf511
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 16 13:43:39 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50713
    Remove roles command from Manager application
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1071243 13f79535-47bb-0310-9956-ffa450edef68

commit 78ee1209b6a2d440961ddab0285d1a18e1752b91
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 15 17:00:05 2011 +0000

    Fix Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1070967 13f79535-47bb-0310-9956-ffa450edef68

commit f753af46c51f6c7978f1cc7ac0f552b2012fa33c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 14 19:05:25 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50700
    Ensure that the override attribute of context parameters is correctly followed.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1070609 13f79535-47bb-0310-9956-ffa450edef68

commit 7b3a9c175dfd385171c2a82f25bd919748835f41
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 14 09:53:24 2011 +0000

    Correctly test for no attributes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1070420 13f79535-47bb-0310-9956-ffa450edef68

commit 279b9406c06223808472a8188ed69032072527e2
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Mon Feb 14 08:47:49 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50771
    Ensure HttpServletRequest#getAuthType() returns the name of the authentication scheme
    if request has already been authenticated.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1070409 13f79535-47bb-0310-9956-ffa450edef68

commit 9e22308ccef13c243648ef5488b8cde0b5ff5ae0
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Mon Feb 14 02:04:06 2011 +0000

    Followup to r1069836
    Remove unused managerClassName attribute from mbeans-descriptors.xml.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1070365 13f79535-47bb-0310-9956-ffa450edef68

commit 2766cba97da18fe7509887d5d26279588c818642
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Feb 12 19:35:26 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50726
    Ensure that the use of the genStringAsCharArray does not result in String constants that are too long for valid Java code.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1070139 13f79535-47bb-0310-9956-ffa450edef68

commit d4dfe157aa40d16fcb7e7695276e3fe06796e045
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Feb 11 16:42:05 2011 +0000

    doco and version update
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1069876 13f79535-47bb-0310-9956-ffa450edef68

commit b94042056028fe508d5aeb001b6b16f66974b333
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Feb 11 16:32:41 2011 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=50759
    Update validation timestamp if using an external validator.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1069864 13f79535-47bb-0310-9956-ffa450edef68

commit 2a210587d14d4405355bb9d7abc9af9f80f173cf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 11 15:39:52 2011 +0000

    Remove deprecated code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1069844 13f79535-47bb-0310-9956-ffa450edef68

commit 0191d82cb1da31e4ed1de67c56a461e063cb02c5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 11 15:29:34 2011 +0000

    Remove deprecated code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1069836 13f79535-47bb-0310-9956-ffa450edef68

commit fba1c8a20595eabc27ea004e8f17224b3911a301
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 11 15:27:06 2011 +0000

    Remove unused deprecated method
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1069835 13f79535-47bb-0310-9956-ffa450edef68

commit cbae1eef1a15bb48a444c8c417a4f8dcdc08fb1e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 11 15:21:54 2011 +0000

    Add additional information to assist with tracking down the root cause of https://issues.apache.org/bugzilla/show_bug.cgi?id=50737
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1069832 13f79535-47bb-0310-9956-ffa450edef68

commit 935d4989b9297b0bfe6958144b666aadc0c5b26d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 11 14:49:41 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50751
    Don't try to retrieve attributes if we don't need to. If anonymous bind is not allowed, the login will always fail.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1069824 13f79535-47bb-0310-9956-ffa450edef68

commit 0955d4bad329113fe2922fa192c3740e326a112b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 11 12:24:47 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50752
    Correct typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1069770 13f79535-47bb-0310-9956-ffa450edef68

commit 472a61f73e4ab24aa4c3fe4532b071418ed9b110
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 11 12:16:31 2011 +0000

    Fix Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1069768 13f79535-47bb-0310-9956-ffa450edef68

commit d8631fd3dce75698d1747118a4134270ae728967
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 11 12:08:55 2011 +0000

    Add unit test that demonstrates use of a custom SSL implementation that extends the default JSSE implementation.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1069766 13f79535-47bb-0310-9956-ffa450edef68

commit 7718603459c36397503e6809ae674719a520e5cd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 10 19:42:34 2011 +0000

    Add a test case (already passes) for bug50753
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1069540 13f79535-47bb-0310-9956-ffa450edef68

commit 7016b42399ff2f1409654df5b88670a71a0ad454
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 10 18:59:43 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50720
    Ensure that the use of non-ISO-8859-1 character sets for web.xml does not trigger an error when Jasper parses the web.xml file.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1069531 13f79535-47bb-0310-9956-ffa450edef68

commit 18985989396111fdbc37a64e5453285608d00144
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Feb 10 18:59:08 2011 +0000

    remove retry from the API.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1069530 13f79535-47bb-0310-9956-ffa450edef68

commit 940129183f605b2239ac913e0d6ad4d087eaa8a1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 10 18:40:37 2011 +0000

    Fix Javadoc warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1069516 13f79535-47bb-0310-9956-ffa450edef68

commit 916b98a243d1a885ddc32fa77dcdc6349fd6629e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 10 18:38:50 2011 +0000

    remove unused import
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1069514 13f79535-47bb-0310-9956-ffa450edef68

commit 6f0e16ffa0a341a0666af51494fb3dc7d9228c04
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 9 23:41:32 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50721
    Correctly handle URL decoding where the URL ends in %nn.
    Patch (for fix) provided by Christof Marti.
    Additional test cases added.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1069170 13f79535-47bb-0310-9956-ffa450edef68

commit 22c4569c3914b22881352caafcbf46fe2a0edc20
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 9 23:13:00 2011 +0000

    Ensure NamingResources follows correct lifecycle
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1069166 13f79535-47bb-0310-9956-ffa450edef68

commit d6b7241da4d119ab19052adbaec14e8c429f8314
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 9 22:00:08 2011 +0000

    The bug number changed
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1069135 13f79535-47bb-0310-9956-ffa450edef68

commit 8b8a1c5cd54c42d4f0259d54f69b325d6be50db5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 9 21:56:14 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50747
    Allow the content length header to be set up to the point the response is committed when a writer is used.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1069131 13f79535-47bb-0310-9956-ffa450edef68

commit 9e9eb8ca56d7e46e7adb19785d0d3ee8d916cc64
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 9 19:50:37 2011 +0000

    Correct the package name
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1069060 13f79535-47bb-0310-9956-ffa450edef68

commit 6e5efe619f96122c99d84f8d543af2a40728e405
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 9 19:46:49 2011 +0000

    Add further checks that LifecycleBase sub-classes are correctly changing state.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1069056 13f79535-47bb-0310-9956-ffa450edef68

commit 888278f74082d06031938889b51e7d2c1dce7461
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 9 19:01:20 2011 +0000

    add some arrows to the diagram
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1069032 13f79535-47bb-0310-9956-ffa450edef68

commit ac4026b842f9a5dc7c308dfa76d17f00005ef2ad
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 9 18:25:48 2011 +0000

    Better comments
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1069016 13f79535-47bb-0310-9956-ffa450edef68

commit 78543614f426b413937ab1d89f49952b57672ac5
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Feb 9 17:47:13 2011 +0000

    remove loop that should not be used at all.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1068996 13f79535-47bb-0310-9956-ffa450edef68

commit 9c228877315f0b3401e23765cb09e2f64d8923bd
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Feb 9 17:39:24 2011 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=50667
    Move the callback outside try/catch to avoid duplicate callbacks
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1068989 13f79535-47bb-0310-9956-ffa450edef68

commit 4e3abd4011838f6841174a7cc407f788d3972e97
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 9 12:26:24 2011 +0000

    Prevent duplicate event messages
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1068862 13f79535-47bb-0310-9956-ffa450edef68

commit 63b53582cff94c4b7d235ffe878a84e06c300f41
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Feb 9 09:35:16 2011 +0000

    Followup to r1068549 - add annotations.
    
    I thought about moving ErrorHandler instance creation outside the retry loop, but actually that is not needed: looping happens only when asyncReply==false and ErrorHandler is created only when asyncReply==true. Thus it is created only once.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1068808 13f79535-47bb-0310-9956-ffa450edef68

commit e72620427d69b0fb928b94e15a4518b06a231f62
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Feb 9 06:39:25 2011 +0000

    Add release date. Move recent changes into the new version.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1068762 13f79535-47bb-0310-9956-ffa450edef68

commit 2426ddcd4f26cfd90c4d9f6a97367660cb27fa67
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Feb 8 22:49:35 2011 +0000

    Start a new version, place fix in correct version
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1068658 13f79535-47bb-0310-9956-ffa450edef68

commit 4dc37e41dd51f7f5d6498762b210fc6087be27d5
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Feb 8 20:34:16 2011 +0000

    Update changelog with latest tribes fixes
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1068560 13f79535-47bb-0310-9956-ffa450edef68

commit a27895078f6b2638be70bac34906c78bb1dbe7d1
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Feb 8 20:18:19 2011 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=50667
    Allow a replier to get confirmation if the reply message was sent successfully or if it failed
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1068549 13f79535-47bb-0310-9956-ffa450edef68

commit 179245d9b1bc651a538e9c29b7360a50a96df920
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 8 17:05:56 2011 +0000

    Fix typo - thanks Konstantin
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1068480 13f79535-47bb-0310-9956-ffa450edef68

commit 88a84ac911e3bc11ce8eaa2900ea051be661b977
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 8 14:32:38 2011 +0000

    Remove ServerLifecycleListener
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1068420 13f79535-47bb-0310-9956-ffa450edef68

commit 4552a288bb877648f1e88d800e13f0530f386db0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 8 14:30:17 2011 +0000

    Make NamingResources implement MBeanLifecycle
    Environments, Resources and ResourceLinks are once again available via JMX
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1068416 13f79535-47bb-0310-9956-ffa450edef68

commit 6a17374b3e6fc20d60bf1cb75a1e3847ceb02c87
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 8 14:28:30 2011 +0000

    Improve comments
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1068415 13f79535-47bb-0310-9956-ffa450edef68

commit 306897557a6ca9d349fdbda4881f86246e13205f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 6 23:18:02 2011 +0000

    Remove for now since I can't get it working with Jira (my primary motivation for writing it)
    It will return once I find the time to do the detailed debugging with Jira to figure out why it doesn't work.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1067804 13f79535-47bb-0310-9956-ffa450edef68

commit 9056c4edacc4f0afe33c3f10e14016675e64c36c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 6 22:56:22 2011 +0000

    Test a quick hack to get this working with Jira
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1067797 13f79535-47bb-0310-9956-ffa450edef68

commit a6511c841549f3b9e70db2b32c285768ced944be
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 6 21:00:52 2011 +0000

    Review from kkolinko
    1. Matcher not thread safe
    2. >1 UA header -> not a bot
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1067759 13f79535-47bb-0310-9956-ffa450edef68

commit 65841285e665adc19ed9e60ae2419740c84ab0ee
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 6 20:30:38 2011 +0000

    It isn't working. Add some debug logging.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1067747 13f79535-47bb-0310-9956-ffa450edef68

commit 711c8fe989b1a5d0e4a753decc05cc7bf32a428f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 6 20:17:58 2011 +0000

    Fix the expiration logic
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1067743 13f79535-47bb-0310-9956-ffa450edef68

commit 1ba2850f9e3c22d56716dd12e677940f2a98a138
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 6 19:28:48 2011 +0000

    First attempt at a valve to limit session creation by web crawlers.
    Docs etc to follow once it is confirmed working.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1067734 13f79535-47bb-0310-9956-ffa450edef68

commit 4ca052f18d4e0ffe2681780cf4a04f6d1fbdcc7b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 6 19:08:13 2011 +0000

    Tweak defaults. Document.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1067732 13f79535-47bb-0310-9956-ffa450edef68

commit b8ca13564467a692aee6459b30a785436db5936a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 6 18:46:42 2011 +0000

    Move attribute name definitions to AccessLog interface
    AccessLog implementations need to be aware of attributes since they aren't always set (e.g. if request is rejected early in the connector)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1067725 13f79535-47bb-0310-9956-ffa450edef68

commit d64c3fe062cfb2d04edc1349389eb4ac48284e0b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 6 18:11:52 2011 +0000

    Initial attempt to fix RemoteIp issues observed with ASF Jira
    Docs, filter and changelog commits to follow once it works
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1067718 13f79535-47bb-0310-9956-ffa450edef68

commit 43d7864307cb4fa57133f3a8fbde45022246128d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 4 12:46:06 2011 +0000

    Bump version
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1067170 13f79535-47bb-0310-9956-ffa450edef68

commit 3433d4294c403e25341f522ad4a01a74e86284a1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 4 12:18:00 2011 +0000

    Fix hanging Servlet 3 asynchronous requests when using the APR based AJP connector.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1067161 13f79535-47bb-0310-9956-ffa450edef68

commit 84849a9b7a56ebb61625a88abc30a71fbd846aee
Author: Mladen Turk <mturk@apache.org>
Date:   Fri Feb 4 11:16:14 2011 +0000

    Do not send flush packet if explicit is false
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1067151 13f79535-47bb-0310-9956-ffa450edef68

commit 99bd1b99cc872ccf2ea721db29133a1388a00437
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 4 11:07:18 2011 +0000

    Fix security exception when running under a SecurityManager
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1067147 13f79535-47bb-0310-9956-ffa450edef68

commit 6eae3d78aa27eae48b36278bee4a3df5371fd8c6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 4 10:38:09 2011 +0000

    Follow up to r1067039
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1067139 13f79535-47bb-0310-9956-ffa450edef68

commit d0b21efb2a0c16fa65406bd0e65c392792269408
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 4 10:30:36 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50709
    Make ApplicationContextFacade non-final to enable extension.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1067134 13f79535-47bb-0310-9956-ffa450edef68

commit 237bf5d5619f580ee872fa48406d7f23c3f39d16
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 4 10:02:38 2011 +0000

    Update changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1067127 13f79535-47bb-0310-9956-ffa450edef68

commit 28bae5f390f12bd64effdab1ab822157c3592cb2
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Feb 4 03:22:53 2011 +0000

    Align server.xml installed by the Windows installer with the one bundled in zip/tar.gz files.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1067075 13f79535-47bb-0310-9956-ffa450edef68

commit 7128f8ca7acbb7d08ec8f28e6ac1172716f8a9fa
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Feb 4 03:07:37 2011 +0000

    Fix NPE in CoyoteAdapter when postParseRequest() call fails.
    
    That was caused by mappingData.context being null.
    This NPE occurence in 7.0.7 was reported on the users list.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1067072 13f79535-47bb-0310-9956-ffa450edef68

commit cf5e2e3637f8385a5321076830ff8db6004c5623
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 3 23:56:55 2011 +0000

    Reduce severity level. The ASF Jira instance logs were filling with these
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1067039 13f79535-47bb-0310-9956-ffa450edef68

commit 3265d85cc6bcc4cd6bef8a9d0926d3216e6e46ed
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 3 10:35:53 2011 +0000

    Bump version number
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1066774 13f79535-47bb-0310-9956-ffa450edef68

commit d6f1df79cd806d33508aa60cf87367f2f9d54a8f
Author: Mladen Turk <mturk@apache.org>
Date:   Thu Feb 3 10:23:20 2011 +0000

    Make sure flush packet is not send after END_RESPONSE packet. Should handle BZ49929
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1066772 13f79535-47bb-0310-9956-ffa450edef68

commit 48aad69f92979a7c7e27293a0b3e944f47930059
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 3 09:20:34 2011 +0000

    Hmm. Can't see a way (without changing the connector code) to test SSL renegotiation failure if the JVM supports RFC5746. Need to think about this some more. In the meantime, get the tests working.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1066766 13f79535-47bb-0310-9956-ffa450edef68

commit d9166cd88651f0a05b2a38714cea5b83a40ef063
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 3 08:44:37 2011 +0000

    Factor out support code prior to splitting up the TestSsl class
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1066759 13f79535-47bb-0310-9956-ffa450edef68

commit 0c4a14f5d8d197c84ef199bf92d0ef861aaca305
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 3 08:36:03 2011 +0000

    Move/rename to better location
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1066756 13f79535-47bb-0310-9956-ffa450edef68

commit 77815ec90e6342d6fc6af3f54f5e9bc5b91e0f73
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 2 18:35:29 2011 +0000

    Fix Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1066571 13f79535-47bb-0310-9956-ffa450edef68

commit fc3ea2f2b7400c860b2a6f4c920687506572d02e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 2 18:33:06 2011 +0000

    Fix javadoc niggle
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1066569 13f79535-47bb-0310-9956-ffa450edef68

commit e58486aa25e7418859ea0bbcc7f7a2df60f27689
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 2 18:29:26 2011 +0000

    Missed one place where socket needed to replace socket wrapper in r1063774
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1066568 13f79535-47bb-0310-9956-ffa450edef68

commit 6e357dd83f98590dca035758a46bba8a6584c437
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 2 14:55:36 2011 +0000

    Clarify
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1066489 13f79535-47bb-0310-9956-ffa450edef68

commit 087beeedff51a6735fe9dc0c6da636125b31ed64
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Feb 2 06:13:26 2011 +0000

    r1057694 broke display of ROOT/index.jsp in MSIE.
    Use JSP comments in the license instead of HTML comments,
    like we already do elsewhere.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1066338 13f79535-47bb-0310-9956-ffa450edef68

commit d7dd8fc4ebdc2752bdbf5ccc4887f998297f31e3
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Feb 2 05:37:52 2011 +0000

    Correct documentation for the PersistentManager class:
    there is no "randomClass" attribute, but several others were added.
    Move attributes defined in the Manager interface into the Common Attributes section.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1066329 13f79535-47bb-0310-9956-ffa450edef68

commit e0a9368d8f4c9bc8aacb8d8c55e28fd5bc344157
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Feb 2 03:45:05 2011 +0000

    Followup to r1066310.
    Simplify: call stopAwait() unconditionally.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1066321 13f79535-47bb-0310-9956-ffa450edef68

commit 1c2672a5953307d61ef623d9e1dd4b720876a885
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Feb 2 03:24:50 2011 +0000

    Followup to r1066310. Simplify.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1066320 13f79535-47bb-0310-9956-ffa450edef68

commit 6a42bd76aaca29f9fa37f2949645c3518119d44d
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Feb 2 02:45:46 2011 +0000

    Fix http://issues.apache.org/bugzilla/show_bug.cgi?id=50673
    Improve Catalina shutdown when running as a service. Do not call System.exit().
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1066310 13f79535-47bb-0310-9956-ffa450edef68

commit a27b333af0684492c8df8c911a35b4046df924b2
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Feb 1 22:12:18 2011 +0000

    Improve HTTP specification compliance
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1066244 13f79535-47bb-0310-9956-ffa450edef68

commit 726160bf0469c1f7148dc30dff9091d1d6d6d14b
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Feb 1 07:55:45 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50631
    InternalNioInputBuffer should honor maxHttpHeadSize
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1065939 13f79535-47bb-0310-9956-ffa450edef68

commit 946a430118bc16a5785cdeb98a11a5e136fad58b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 31 23:43:38 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50325
    Use JVM provided solutions to CVE-2009-3555 if available (i.e. RFC 5746 support)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1065859 13f79535-47bb-0310-9956-ffa450edef68

commit 0d90819db81955242bd9ca15410f38f5dd3a24c9
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jan 31 11:09:07 2011 +0000

    Followup to r1065089. Make the field final.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1065556 13f79535-47bb-0310-9956-ffa450edef68

commit 0b609ad996065d6f8ba3613b06fb76bce6ea54da
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Jan 29 21:57:32 2011 +0000

    Add bug number to an already fixed issue. Arrange issues in ascending numeric order.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1065120 13f79535-47bb-0310-9956-ffa450edef68

commit 6469cb2d5d7a7f505d96725465c4747f3133adb1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 29 19:27:07 2011 +0000

    Fix breaking tests after recent comet fixes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1065091 13f79535-47bb-0310-9956-ffa450edef68

commit c1fdb0983b19594d029e5bf4bb141928e3eca53a
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Jan 29 18:23:12 2011 +0000

    Implement debug logging in InternalNioInputBuffer. Log what we got with the first read.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1065089 13f79535-47bb-0310-9956-ffa450edef68

commit ad370834fa7572a30a1231d4a803bd83419c8e25
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Jan 29 18:08:37 2011 +0000

    When running the tests use log configuration specified by conf/logging.properties
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1065087 13f79535-47bb-0310-9956-ffa450edef68

commit 9ce5c33de8dd600bbe1bcded88a2b8e77de07132
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 29 00:15:34 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50683
    Scan annotations when unpackWars=false
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1064934 13f79535-47bb-0310-9956-ffa450edef68

commit 41903c0340683c4e40f3b6472e09e031001f30ed
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 29 00:00:50 2011 +0000

    Re-fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49978
    Pre-existing dir should not break deployment
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1064932 13f79535-47bb-0310-9956-ffa450edef68

commit 26549dec1cc336f2c633b53903be0f80fd15a0a3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 28 23:24:23 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46819
    Remove redundant object instantiations in JspRuntimeLibrary.
    Patch provided by Anthony Whitford.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1064929 13f79535-47bb-0310-9956-ffa450edef68

commit bdb47053d0e1d65ff35ca80059d106c2b0ef415d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 28 21:41:02 2011 +0000

    Remove unused file
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1064897 13f79535-47bb-0310-9956-ffa450edef68

commit 98bd2b262ece36ead2c7a2d3e0a18ca2fe6bdfc0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 28 21:31:48 2011 +0000

    Remove whitespace
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1064893 13f79535-47bb-0310-9956-ffa450edef68

commit 3a9cb1c03f6932d1ec19048434b07030c2306e36
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 28 21:21:02 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50680
    Prevent an NPE when using tag files from an exploded JAR file, e.g. from within an IDE.
    Patch provided by Larry Isaacs.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1064890 13f79535-47bb-0310-9956-ffa450edef68

commit 2ef37eee02674cd53a403b5edd69abe2a899f3a9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 28 21:04:55 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50679
    Update the FarmWarDeployer to support parallel deployment. This deliberately breaks the API since the meaning of a number of method parameters has changed (context path -> context name).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1064881 13f79535-47bb-0310-9956-ffa450edef68

commit 38420e7e368ac387ce95927d8c43be2bc0811856
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 28 17:41:45 2011 +0000

    Don't need an INFO log message every 30s when the FarmWarDeployer is running
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1064791 13f79535-47bb-0310-9956-ffa450edef68

commit aed10d9544d6081cf2578a0347c6934a08ac943d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 28 15:57:32 2011 +0000

    Not sure which recent Comet change fixed this but one of them did.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1064747 13f79535-47bb-0310-9956-ffa450edef68

commit b52e0591a9698f2c418687f3eeed15ce7fea2f29
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 28 13:03:57 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50642
    Better fix for HttpClient keep-alive thread triggered memory leaks
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1064652 13f79535-47bb-0310-9956-ffa450edef68

commit f44dc6f61c9d3a8565a654448bee9e973471b8bd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 27 19:43:23 2011 +0000

    Typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1064275 13f79535-47bb-0310-9956-ffa450edef68

commit 1baacb3ffd26fade239e1ca9917255c172ce5aa0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 26 18:28:31 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50646
    Ensure larger Tribes messages are fully read.
    Patch provided by Olivier Costet.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1063816 13f79535-47bb-0310-9956-ffa450edef68

commit c6b8fcaba5397b32c883c3422e9e638baab9b38d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 26 16:53:23 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50648
    Correctly set the interrupt status if a thread using RpcChannel is interrupted waiting for a message reply.
    Based on a patch by Olivier Costet.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1063791 13f79535-47bb-0310-9956-ffa450edef68

commit 118550a2b62d2330f8132c3738dbce5e202e3a9b
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Jan 26 16:35:48 2011 +0000

    Correct some old typo in context docs:
    move comment about docBase bahaviour with symlinks to where it belongs.
    No need to update 5.5 ones: they are OK already.
    CTR: docs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1063782 13f79535-47bb-0310-9956-ffa450edef68

commit 6991304f07f511d03932e7e1f66e995a5eccaa1d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 26 16:11:46 2011 +0000

    Don't assume servlet 3+ async when processing long poll connections (it might be comet)
    Use socket rather than socket wrapper as key in connection list else comet sockets may be lost
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1063774 13f79535-47bb-0310-9956-ffa450edef68

commit f91de1921dc8568fff15e1adff29583a1404bf40
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 25 17:33:45 2011 +0000

    This change also fixed an open bug
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1063372 13f79535-47bb-0310-9956-ffa450edef68

commit ae36213ec994c60ffc35c1a555e90755cf943385
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 25 17:20:20 2011 +0000

    Fix various odd behaviours seen with a debugger. Observed both multiple and zero (rather than 1) selection events for a single data receive event
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1063366 13f79535-47bb-0310-9956-ffa450edef68

commit c8dfc63e8ce98fe4f63512f3eca94a9090b69177
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 25 17:15:33 2011 +0000

    Ensure correct cycling if input filters
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1063364 13f79535-47bb-0310-9956-ffa450edef68

commit 98f8a3442c5961589a6dba792d80f1a7ab8f31dd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 25 17:12:22 2011 +0000

    Prevent multiple Comet END events
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1063362 13f79535-47bb-0310-9956-ffa450edef68

commit ee9861204133b329dd9f9125a387895c824112c1
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Jan 25 12:40:38 2011 +0000

    Clarify what the units are when setting sessionIdLength property of a Manager. It was asked on users@
    CTR: docs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1063257 13f79535-47bb-0310-9956-ffa450edef68

commit 646084538c887c511606f175438d675fba11212d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 25 12:05:14 2011 +0000

    Remove old, commented out code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1063244 13f79535-47bb-0310-9956-ffa450edef68

commit 1d61cb2dfcd0308964e93a889e30fcc0e8989b74
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 24 20:06:12 2011 +0000

    Small simplification
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1062955 13f79535-47bb-0310-9956-ffa450edef68

commit cad5f64d3d5e2f9ac6b79f39213f56da4d42652d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 24 17:18:40 2011 +0000

    Remove unused import
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1062886 13f79535-47bb-0310-9956-ffa450edef68

commit aec4078fd807d12ee8c57a649eaf64f92ea8faa9
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Jan 23 14:37:10 2011 +0000

    Use getName() instead of logName() in error messages in StandardContext.
    
    Hex sequences in LocalStrings_es.properties are converted to lowercase. Sorry for the noise.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1062431 13f79535-47bb-0310-9956-ffa450edef68

commit 1d1211aacee5720180f9e6fa7e7875a10db4a2aa
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Jan 23 12:48:02 2011 +0000

    Formatting - followup to r1061953
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1062418 13f79535-47bb-0310-9956-ffa450edef68

commit f2d33790abb5a16b66a5877f75822ee506679cac
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Jan 23 12:01:29 2011 +0000

    Be consistent with locks on sessionCreationTiming, sessionExpirationTiming in DeltaManager.resetStatistics():
    use the same lock as elsewhere.
    Corrected a pair of typos in changelog as well.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1062398 13f79535-47bb-0310-9956-ffa450edef68

commit b98d34e02d0d13a8a16aaedeb3aef74e81204796
Author: Christopher Schultz <schultz@apache.org>
Date:   Fri Jan 21 18:38:28 2011 +0000

    Fixed typo.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1061960 13f79535-47bb-0310-9956-ffa450edef68

commit 6cdebc998eba3aa679b401cd64fb9e9cc961e504
Author: Christopher Schultz <schultz@apache.org>
Date:   Fri Jan 21 18:36:53 2011 +0000

    Removed debug logging added with r1061929.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1061957 13f79535-47bb-0310-9956-ffa450edef68

commit 2b6678d471242d6bda6423bcc3e790a82512ec9c
Author: Christopher Schultz <schultz@apache.org>
Date:   Fri Jan 21 18:32:39 2011 +0000

    Re-fixed bug #49711: HttpServletRequest#getParts() does not work in a Filter
    - Moved allowCasualMultipartParsing setting from <Connector> to <Context>
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1061953 13f79535-47bb-0310-9956-ffa450edef68

commit b09330e0e5176b2f157e5c6a5923a920a133c236
Author: Christopher Schultz <schultz@apache.org>
Date:   Fri Jan 21 18:04:38 2011 +0000

    Reverted inadvertently-committed files from r1061929.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1061940 13f79535-47bb-0310-9956-ffa450edef68

commit dd6b935d8ce3002563a55b1bdb1c7664a8b556ec
Author: Christopher Schultz <schultz@apache.org>
Date:   Fri Jan 21 17:46:03 2011 +0000

    Fixed bug #49711: HttpServletRequest#getParts() does not work in a Filter
    - Added <Connector> attribute allowCasualMultipartParsing (default false)
    - Requests that contain multipart/form-data will be parsed in the absence of @MultipartConfig when the above attribute is set to "true"
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1061929 13f79535-47bb-0310-9956-ffa450edef68

commit 9956750c73160be14479192b4056032c5a714715
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 21 16:49:02 2011 +0000

    Fix possible thread exhaustion
    With a breakpoint in the servlet handling the timeout event, I was seeing a new thread being allocated from the poll every second or so
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1061900 13f79535-47bb-0310-9956-ffa450edef68

commit f5bd256be1d7ebae00f0101b2b798f2dced7fdb5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 21 13:17:12 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50629
    Make StandardContext.bindThread() and StandardContext.unbindThread() protected to allow use by sub-classes.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1061797 13f79535-47bb-0310-9956-ffa450edef68

commit 67cf0a25bd44db43b4ea839f78ce59ecf289ee2e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 21 12:39:15 2011 +0000

    Improve error message & use i18n
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1061787 13f79535-47bb-0310-9956-ffa450edef68

commit f8616dcff3de71be8a05c14109eba088205bf943
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 20 21:34:19 2011 +0000

    Add missing entry
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1061530 13f79535-47bb-0310-9956-ffa450edef68

commit c5f41ebb5b6d6326721691790a5dfbf210661b2f
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Jan 20 21:00:10 2011 +0000

    Add textual description to the attributes supported by DataSourceLinkFactory
    Correct a typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1061511 13f79535-47bb-0310-9956-ffa450edef68

commit eb5a07a8f487c0c9c36032b217a828685e2db2c4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 20 20:43:12 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50441
    Clarify when docBase can be set
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1061503 13f79535-47bb-0310-9956-ffa450edef68

commit 92a40aab77370fd9090b2dd2196cb43dc549121d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 20 19:05:38 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50526
    Additional JavaMail docs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1061461 13f79535-47bb-0310-9956-ffa450edef68

commit 52c805c1598d2691c55ab30e50f4df20651463fd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 20 18:40:23 2011 +0000

    Fix copy/paste snafu
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1061446 13f79535-47bb-0310-9956-ffa450edef68

commit ec3cbeadf384131ee0a8f264c86039440e2af5b0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 20 18:34:18 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50620
    Exceptions calling session.endAccess should not prevent recycle() from completing normally
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1061442 13f79535-47bb-0310-9956-ffa450edef68

commit 5deec82a18decac4e1fe6d22acb3736b67ec0d93
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 20 18:27:02 2011 +0000

    Update info - should probably just delete all these
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1061438 13f79535-47bb-0310-9956-ffa450edef68

commit 191e3e8c82d0fc6dab0e6763b55b1a626b37af14
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Jan 20 17:43:35 2011 +0000

    Fix http://issues.apache.org/bugzilla/show_bug.cgi?id=50606
    Improve CGIServlet: Provide support for specifying empty value for the executable init-param. Provide support for explicit additional arguments for the executable. Those were broken when implementing fix for bug 49657
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1061412 13f79535-47bb-0310-9956-ffa450edef68

commit 8e39e7f749adeeba2fba92c5932c398e9211ebc8
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Jan 20 17:09:26 2011 +0000

    Use the new release(s,p) method introduced in r1050249
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1061397 13f79535-47bb-0310-9956-ffa450edef68

commit 864092ebacec4b804562b034dca4429f16a0f2a6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 20 16:35:55 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50535
    Provid an option (disabled by default) to serve resources from /WEB-INF/classes/META-INF/resources
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1061376 13f79535-47bb-0310-9956-ffa450edef68

commit c2a2509255125d9fca73ccc6d9cb882f4305d781
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 19 22:51:59 2011 +0000

    Revert r1060927. It changed the API (which would have been fine if it the eventual solution needed it but it doesn't)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1061047 13f79535-47bb-0310-9956-ffa450edef68

commit fdf7b57b69d808dc3f1b15da48f6d092a4ade46d
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Jan 19 21:54:08 2011 +0000

    update version
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1061023 13f79535-47bb-0310-9956-ffa450edef68

commit 93ca77b235a8512134d346f34dbee52f322eee25
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Jan 19 21:45:20 2011 +0000

    doco update
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1061017 13f79535-47bb-0310-9956-ffa450edef68

commit a9a6940bb9fc5763f93d4d6e8475b80c4486f0db
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Jan 19 21:25:08 2011 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=50613
    Fix concurrency bug around size calculation for the pool
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1060998 13f79535-47bb-0310-9956-ffa450edef68

commit 5276c613e80f2e87ec9441f0f2221ea594a55198
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 19 19:36:58 2011 +0000

    Rename in preparation for https://issues.apache.org/bugzilla/show_bug.cgi?id=50535
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1060927 13f79535-47bb-0310-9956-ffa450edef68

commit 8ae6d3c8f79db57c6e7accc2b4de037c5f44e1a3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 19 19:08:36 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50601
    Code clean-up
    Patch provided by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1060907 13f79535-47bb-0310-9956-ffa450edef68

commit 002b0806667cff83bbac17c6fc174040a1f021ef
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 19 19:02:22 2011 +0000

    Update the ipv4 loopback regex to cover 127.0.0.1/8. Fortunately, ipv6 only has a single explicit loopback address.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1060901 13f79535-47bb-0310-9956-ffa450edef68

commit ee21f8c90f38cbb086fb750fec8555c24570f025
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 19 18:14:51 2011 +0000

    Remove reflection part of stack trace when Catalina throws an Exception - makes it easier to see what went wrong
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1060891 13f79535-47bb-0310-9956-ffa450edef68

commit 68e997fd07655ca72eaf08e952694759fafd94b7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 19 11:39:06 2011 +0000

    Findbugs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1060772 13f79535-47bb-0310-9956-ffa450edef68

commit c84e903895e979b1f76bbfb22ba1f5b6f1dc80b3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 19 01:01:42 2011 +0000

    Expand the non-Tomcat settings section
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1060643 13f79535-47bb-0310-9956-ffa450edef68

commit 20297ed6c9f87f5fb155eab09832c641e18303fb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 19 00:00:59 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=22278
    Add a commented out RemoteAddrValve that limits access to the Manager and Host Manager applications to localhost.
    Based on a patch by Yann Cébron.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1060627 13f79535-47bb-0310-9956-ffa450edef68

commit d37b80d89a6363eacc7e43361dc74054d3074ce0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 18 21:33:14 2011 +0000

    Fix Findbugs and Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1060586 13f79535-47bb-0310-9956-ffa450edef68

commit 6eb234a603047bf0a40a5fcc9395d7f9a1b01ae5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 18 18:57:45 2011 +0000

    Fix the last of the high priority FindBugs warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1060538 13f79535-47bb-0310-9956-ffa450edef68

commit ad06a7e79f106397633f737933b34e22a7c4ed7f
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Jan 18 18:38:02 2011 +0000

    Correct a typo in documentation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1060524 13f79535-47bb-0310-9956-ffa450edef68

commit c81c9c26db82ec70dabbb9e838cd441ce2973ef4
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Jan 18 17:30:24 2011 +0000

    Documentation fixes:
    1) role name: s/manager/manager-script/ (BZ 50599),
    s/manager-script/admin-script/ on 401/403 pages of host-manager webapp (a typo)
    2) there is no property "debug" on the Context, nor on several other classes (realms, authenticators)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1060486 13f79535-47bb-0310-9956-ffa450edef68

commit bf738f89e6e5a21c34580f8bb8d17bf140bbdbec
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Jan 18 07:46:18 2011 +0000

    Correct a pair of typos in documentation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1060226 13f79535-47bb-0310-9956-ffa450edef68

commit 6c92764580aa7efcec8bd3b39732a0f2898ed4a4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 17 17:31:45 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50599
    Use correct names of security roles for Manager app
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1060015 13f79535-47bb-0310-9956-ffa450edef68

commit be153d4689f4b101311017a656b3dd72e6960bb6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 17 17:19:37 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50598
    Correct URL for manager text interface
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1060002 13f79535-47bb-0310-9956-ffa450edef68

commit 3b9b4b397d21d6edfd7b2773f9544d8c3b5d6c07
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 17 17:12:36 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50597
    Don't instantiate a new instance of a Filter if an instance was provided via the ServletContext.addFilter(String, Filter) method.
    Patch provided by Ismael Juma.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059993 13f79535-47bb-0310-9956-ffa450edef68

commit ae68eef695a3dc519b8a9b0fa01b2905b3c7e174
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jan 17 11:55:58 2011 +0000

    Document the conflict between compression and sendfile,
    as was discussed on users@
    http://markmail.org/thread/bp46zusxjsqqxydr
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059897 13f79535-47bb-0310-9956-ffa450edef68

commit b4dff02a324c3d126da178dfba4a466678dcafe1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 17 11:26:56 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50600
    Prevent ConcurrentModificationException when removing WAR via FarmWarDeployer
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059881 13f79535-47bb-0310-9956-ffa450edef68

commit 8d12a097398480504c5c19e842f88f21bedd922b
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jan 17 08:27:00 2011 +0000

    Clarify web application version ordering rules when both versioned and non-versioned instances of the application are running in parallel.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059811 13f79535-47bb-0310-9956-ffa450edef68

commit e76565fff065b92ac0395df55b34925aa86235b7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 16 21:30:42 2011 +0000

    New classes need to be in bootstrap.jar
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059683 13f79535-47bb-0310-9956-ffa450edef68

commit 98640bcdb2b85ee59e3dea04b8db3059836eb5ba
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 16 21:06:31 2011 +0000

    Fix FindBugs warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059671 13f79535-47bb-0310-9956-ffa450edef68

commit 13ef7da4ec6f4319eb0326be8ef1038e7fdb57fe
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 16 20:51:32 2011 +0000

    Fix FindBugs warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059660 13f79535-47bb-0310-9956-ffa450edef68

commit ee195becf57dda33181c09d44383b16add7be5b2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 16 20:33:40 2011 +0000

    Fix FindBugs warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059655 13f79535-47bb-0310-9956-ffa450edef68

commit 4bf4af2734fb1727c55999c822836d0a44d9076c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 16 16:50:25 2011 +0000

    Fix FindBugs warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059614 13f79535-47bb-0310-9956-ffa450edef68

commit 8a138b9148c754950e083494078cc5e38ea1163f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 16 16:17:00 2011 +0000

    Add a new filter for fixes that require an API breaking change that need to wait until post 7.0.x
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059600 13f79535-47bb-0310-9956-ffa450edef68

commit f701365c50fad7433ae3e22caf2954b171e6d86b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 16 16:16:21 2011 +0000

    Remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059598 13f79535-47bb-0310-9956-ffa450edef68

commit 3c1bb1541ce16ce89cdbc13c43c72ac23833ec45
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 16 15:49:50 2011 +0000

    Avoid deprecation warning without disabling warnings for the whole class
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059588 13f79535-47bb-0310-9956-ffa450edef68

commit 05ccaff6b74f247dd5ec31d0c5178fbb1500ac47
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 16 15:41:15 2011 +0000

    Avoid NPEs
    Remove FindBugs warning
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059587 13f79535-47bb-0310-9956-ffa450edef68

commit c9f09b16167c3b938d88d39b3d56bf93c7acb1d0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 16 15:29:38 2011 +0000

    Rename variables to start with lower case letter to make code easier to read
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059583 13f79535-47bb-0310-9956-ffa450edef68

commit 38d214e72f9d6b7cf4bc199d06329f899c80b54e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 16 14:09:28 2011 +0000

    Fix FindBugs warnings
    Remove unused i18n strings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059563 13f79535-47bb-0310-9956-ffa450edef68

commit 258cc390e85e224bfc7720b40a224bb78d701c6f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 16 13:54:28 2011 +0000

    Fix FindBugs warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059560 13f79535-47bb-0310-9956-ffa450edef68

commit 048b2cd7e3124c4bd544d48005b6d91a8c4d2b1b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 16 13:24:49 2011 +0000

    Fix FindBugs warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059553 13f79535-47bb-0310-9956-ffa450edef68

commit 009135f80594cdcae2493c68bd7e3d6cdeb212bd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 16 12:55:55 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50582
    Refactor access logging so chunked encoding is not forced if bytes sent is logged
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059548 13f79535-47bb-0310-9956-ffa450edef68

commit 285b8589cc1fc19d0c502c340589a91527f3fa55
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Jan 15 20:33:06 2011 +0000

    Correct a typo in RequestFilter, that would lead to an NPE in RemoteAddrFilter, RemoteHostFilter when "allow" attribute is empty.
    The RequestFilterValve class is not affected by this issue.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059409 13f79535-47bb-0310-9956-ffa450edef68

commit 82a006e386ada3a0f46f7e6a813c039da4268835
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Jan 15 19:53:47 2011 +0000

    Update documentation for restrictedUserAgents, noCompressionUserAgents attributes of HTTP connectors, because they now use a single regex.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059404 13f79535-47bb-0310-9956-ffa450edef68

commit 5737fcf227582332c2d7628312f476600341574d
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Jan 15 19:33:06 2011 +0000

    Update JMX descriptions, tests, documentation and examples in documentation for using a single regex for attributes in RemoteIpFilter, RemoteIpValve.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059398 13f79535-47bb-0310-9956-ffa450edef68

commit 3650bbf4194a9f249b9d39f6686f1d9460e1a52f
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Jan 15 18:54:46 2011 +0000

    Update examples for RemoveAddrValve, RemoteHostValve in the docs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059390 13f79535-47bb-0310-9956-ffa450edef68

commit f84ee3c95c14017fb79954d941cd774b553edb7e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 15 18:50:45 2011 +0000

    Fix FindBugs warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059388 13f79535-47bb-0310-9956-ffa450edef68

commit d94834e6517a4423f2f2d63bcd8c69622bd87784
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Jan 15 17:43:46 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50591
    Do not throw NullPointerException when ReplicationValve#filter is not set.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059379 13f79535-47bb-0310-9956-ffa450edef68

commit 42f9b9d762a2057e85db52e798554f8fc5beab27
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Jan 15 17:26:58 2011 +0000

    Updated ReplicationValve examples in the docs with the new regexp syntax.
    Added *.jpeg pattern to the list, as inspired by the comment in BZ 31912
    https://issues.apache.org/bugzilla/show_bug.cgi?id=31912#c2
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059375 13f79535-47bb-0310-9956-ffa450edef68

commit 85a82a249951aab8d472ca946ea2c5d1cde95503
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 15 16:47:38 2011 +0000

    Update changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059372 13f79535-47bb-0310-9956-ffa450edef68

commit 5e2ecc4eba890ba7d53530145473dba3f72638a5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 15 16:33:05 2011 +0000

    Refactor to make clearer what is going on
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059366 13f79535-47bb-0310-9956-ffa450edef68

commit f7ed1623231db7832950eeaf824cf8255850ca08
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 15 14:47:07 2011 +0000

    Fix broken cluster membership recovery
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059346 13f79535-47bb-0310-9956-ffa450edef68

commit e424922692a4d7635ed272370de48827b0815879
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 15 14:36:01 2011 +0000

    Fix FindBugs and Eclipse warnings
    Remove out-dated comments
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059342 13f79535-47bb-0310-9956-ffa450edef68

commit 9f9bf9fcf61002c031af281898fdaab1443a8783
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 15 14:00:20 2011 +0000

    Fix FindBugs warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059337 13f79535-47bb-0310-9956-ffa450edef68

commit f19b3791b2ab2f937c0cb2f57b7d44af93f8ed94
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 15 13:53:06 2011 +0000

    Fix FindBugs and Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059330 13f79535-47bb-0310-9956-ffa450edef68

commit e794fd78b619b83c112d04720a545bf2a1364d9b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 15 13:42:01 2011 +0000

    Remove unused code
    Fix FindBugs and Eclipse warnings
    Correct typos
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059322 13f79535-47bb-0310-9956-ffa450edef68

commit a371ad81ce1f7ca949f8386e123ef4e6b3e3426e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 15 10:11:55 2011 +0000

    Additional docs on version ordering
    Add 7.0.6 release date
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059280 13f79535-47bb-0310-9956-ffa450edef68

commit 5081a7381506fc80e5b8e141dfe63e87fc840c80
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 14 19:07:17 2011 +0000

    Fix FindBugs and unused code warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059117 13f79535-47bb-0310-9956-ffa450edef68

commit c88bb3a626aae3909f3f7c19275b6be28897d682
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 14 16:56:59 2011 +0000

    Fix FindBugs and Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059071 13f79535-47bb-0310-9956-ffa450edef68

commit 726b9ec27fec64a8ceee6ab3eae136da08db734e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 14 16:48:44 2011 +0000

    Add comments explaining false +ve
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059069 13f79535-47bb-0310-9956-ffa450edef68

commit 1edd153affbe677ab8acb4e68767ed5c8a28cd95
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 14 16:42:17 2011 +0000

    Fix FindBugs and unused code warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059067 13f79535-47bb-0310-9956-ffa450edef68

commit 44f773697be1ba2c8944f9d7f836be8016361990
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Jan 14 14:42:53 2011 +0000

    Correct a typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059024 13f79535-47bb-0310-9956-ffa450edef68

commit 15900d95650c2f83663ba7104605184e310b3804
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 14 14:01:38 2011 +0000

    Fix Findbugs warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059012 13f79535-47bb-0310-9956-ffa450edef68

commit 54f9e74c21dbc6a3b55d85638eaf2688f8b0e8ec
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 14 14:01:20 2011 +0000

    i18n
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1059011 13f79535-47bb-0310-9956-ffa450edef68

commit 209f676843b1b19c6855b919b6962223c4edfc81
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 14 11:57:22 2011 +0000

    Remove unused files
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1058971 13f79535-47bb-0310-9956-ffa450edef68

commit ab26d0db81ff08db887b802569a72d9cae14d858
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 14 11:19:56 2011 +0000

    Typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1058948 13f79535-47bb-0310-9956-ffa450edef68

commit 28de2ff12019817ab31b5e76d08922a34a5c8bcb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 14 08:18:21 2011 +0000

    Remove unused files
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1058887 13f79535-47bb-0310-9956-ffa450edef68

commit affec13c3f10b3ab1c3f7e5311f987f49756e040
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 13 17:55:55 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=18797
    Provide null/zero-length protection
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1058689 13f79535-47bb-0310-9956-ffa450edef68

commit 23196d52ed7c3d9de2328cac3cc1b39ec6669619
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 13 14:08:24 2011 +0000

    Fix FindBugs warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1058571 13f79535-47bb-0310-9956-ffa450edef68

commit f680f65c495ff63aecf39c4ffd7864901a49e6b0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 13 14:01:58 2011 +0000

    Remove unused/unnecessary code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1058562 13f79535-47bb-0310-9956-ffa450edef68

commit 669611d24b7f9ac0c9f854c4b15a7b927f7b4ca5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 13 13:54:08 2011 +0000

    Fix FindBugs warning
    Remove unnecessary code
    Better error handling
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1058556 13f79535-47bb-0310-9956-ffa450edef68

commit 2e664265e495433889810379cdfe2b0cb5bf89f3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 13 13:43:18 2011 +0000

    Refactor to simplify code and avoid a Findbugs warning
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1058551 13f79535-47bb-0310-9956-ffa450edef68

commit b7469910a9833c05eb20c17b3c0c71926266f247
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 13 11:14:11 2011 +0000

    Remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1058510 13f79535-47bb-0310-9956-ffa450edef68

commit cb3d61beb8e305686573c279b7c1b458a1a3d5ee
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 13 00:55:02 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=18462
    Don't merge stdout and stderr internally
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1058379 13f79535-47bb-0310-9956-ffa450edef68

commit 9d628da5af0dd4efab5c519978252eee3cf0ea4f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 12 23:49:18 2011 +0000

    Fix Javadoc warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1058357 13f79535-47bb-0310-9956-ffa450edef68

commit 64c5c13afd22e89f51ad80367c7fbda0b96f664c
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Jan 12 19:36:43 2011 +0000

    reset state when the connection is closed
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1058286 13f79535-47bb-0310-9956-ffa450edef68

commit deff3f0d81a88cfc0ae3873c46b89bae0820a076
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 12 18:11:09 2011 +0000

    fix warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1058260 13f79535-47bb-0310-9956-ffa450edef68

commit eccf19b2671497c57ca406b11b3dc00f7d5d8fbd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 12 18:13:11 2011 +0000

    Better class loader control when embedding
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1058259 13f79535-47bb-0310-9956-ffa450edef68

commit 716e7dddc6905a53cd5c5f9c90542bbe28cd6949
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 12 16:35:13 2011 +0000

    Findbugs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1058222 13f79535-47bb-0310-9956-ffa450edef68

commit 41ae244eb2fe8f377c2bf2b38ab94d71fed65571
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 12 12:08:16 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=15688
    Use fully qualified class names to avoid possible naming conflicts
    JSP 2.2 TCK passes with these changes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1058102 13f79535-47bb-0310-9956-ffa450edef68

commit 8ad1a0148a2c31b6b6fde2d50457c28d3e240825
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 12 09:33:41 2011 +0000

    Fix odd line wrapping
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1058032 13f79535-47bb-0310-9956-ffa450edef68

commit f4505c02dece630a21913a1bee72a3e7d44f0faf
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Jan 12 05:23:49 2011 +0000

    Additional improvements for
    https://issues.apache.org/bugzilla/show_bug.cgi?id=50205
    Followup to r1057788
    1) Simplify check for absence of value
    2) Reuse Matcher instance across iterations
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057990 13f79535-47bb-0310-9956-ffa450edef68

commit ce94b8376ab255c50011c445bd8bacd41b1280c3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 11 19:01:41 2011 +0000

    Typos
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057798 13f79535-47bb-0310-9956-ffa450edef68

commit 0ef092148e8d0da92fae430236303845d8b93346
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 11 18:56:07 2011 +0000

    Bring up to date
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057797 13f79535-47bb-0310-9956-ffa450edef68

commit 3d1ff65661edae5cf3ec44dd0d2a3b98ab5f27fa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 11 18:35:42 2011 +0000

    Action review comments
    Store deployIgnore as a Pattern in the Host
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057788 13f79535-47bb-0310-9956-ffa450edef68

commit 97ab5056b2faa50e3c4a7d9d84285a87c7319bda
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jan 11 17:37:55 2011 +0000

    typo-fix
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057755 13f79535-47bb-0310-9956-ffa450edef68

commit 0682d95fbe87027c0dbb05d9f18faab6dacf70bf
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jan 11 17:28:05 2011 +0000

    Mask the password through all the JMX operations
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057743 13f79535-47bb-0310-9956-ffa450edef68

commit 628ea71e15592165329de9ff28fbdf9e27f2472f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 11 17:04:13 2011 +0000

    Better handling of special case of  javax.servlet.jsp.el.ScopedAttributeELResolver
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057730 13f79535-47bb-0310-9956-ffa450edef68

commit ab6d88e3c473bd6d36ee501164d5f9e901ce3abb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 11 15:35:40 2011 +0000

    Re-build tomcat-dbcp on release so the manifest picks up the new Tomcat version
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057699 13f79535-47bb-0310-9956-ffa450edef68

commit c74e58c41d35350bffa76e0cb5f26bdc898df885
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 11 15:27:22 2011 +0000

    Expand checkstyle license checks
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057695 13f79535-47bb-0310-9956-ffa450edef68

commit 21aaf1b791f6d35a580816e72c02fbabd52dab01
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 11 15:29:28 2011 +0000

    License should be first thing in file unless file format prohibits it
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057694 13f79535-47bb-0310-9956-ffa450edef68

commit ef2fea80e6cdbc5349f08a8765ecc30cc0876535
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 11 15:28:39 2011 +0000

    Use standard layout ASF license header
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057693 13f79535-47bb-0310-9956-ffa450edef68

commit 6ee9d72bf9f5c72c22c59b5c68d1d10eb3f9f2ed
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 11 15:13:22 2011 +0000

    Add missing license header
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057686 13f79535-47bb-0310-9956-ffa450edef68

commit d00e3fb009bf2874787120c77ab223281de0e5fe
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 11 15:11:25 2011 +0000

    Add missing license header
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057685 13f79535-47bb-0310-9956-ffa450edef68

commit ef260b1989debcf1d3a7365b1af6cb0ce7060e31
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 11 15:00:05 2011 +0000

    Get checkstyle to check Java files for AL2 headers
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057681 13f79535-47bb-0310-9956-ffa450edef68

commit dac8d9dc13b9d06bf532eea4e43cad7c3cdedb13
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 11 14:59:32 2011 +0000

    Remove first blank line.
    REmove $Id:$
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057680 13f79535-47bb-0310-9956-ffa450edef68

commit d856c1ae20712a40b1866d514c8f30b7b3d35bc4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 11 14:58:02 2011 +0000

    Use standard layout ASF license header
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057679 13f79535-47bb-0310-9956-ffa450edef68

commit a68b161038f9eade126125a604ca42b568cbea24
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 11 14:57:47 2011 +0000

    Add missing license headers
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057678 13f79535-47bb-0310-9956-ffa450edef68

commit 40bb4d6faf36500c755faa8fbc2f8478eacb87c0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 11 14:57:17 2011 +0000

    Use standard layout ASF license header
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057677 13f79535-47bb-0310-9956-ffa450edef68

commit b22f60d1141dfc6c2de13e48c38fd78519a1c1d0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 11 14:56:39 2011 +0000

    Use standard ASF license header
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057675 13f79535-47bb-0310-9956-ffa450edef68

commit 6b477adb285715e8635da6243f1e21638d426691
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 11 14:56:16 2011 +0000

    $Id:$ does not belong in license header
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057674 13f79535-47bb-0310-9956-ffa450edef68

commit 4e76b32841fc354a8de77018711da4d882dc5eb6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 11 14:55:20 2011 +0000

    Add missing line to license header
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057673 13f79535-47bb-0310-9956-ffa450edef68

commit fb81e7df2b0c17537873c1ba6b28c1bca2dcc651
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 11 14:54:51 2011 +0000

    Add missing line to license header
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057672 13f79535-47bb-0310-9956-ffa450edef68

commit be9bfd43aa695b3bf6dabdd53ba906a3e15e78f7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 11 14:52:58 2011 +0000

    $Id:$ does not belong in license header
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057671 13f79535-47bb-0310-9956-ffa450edef68

commit ebf3f7dd94667f5a28f560b254632316b1579290
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 11 14:52:05 2011 +0000

    Fix formating so Checkstyle header chekc will pass
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057670 13f79535-47bb-0310-9956-ffa450edef68

commit 0e5d30dfb60a0afe9e4602c3771efe2dac6f4ce1
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Jan 11 03:49:07 2011 +0000

    Followup to r1050117
    Use StringBuilder to concatenate strings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057482 13f79535-47bb-0310-9956-ffa450edef68

commit a879793a9c5334bfaccd921408749d4a5a241b4d
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jan 11 01:32:37 2011 +0000

    Correctly acquire the getConnection method for the right number of arguments
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057436 13f79535-47bb-0310-9956-ffa450edef68

commit 340f84e3a00c73792eba03f8322bbcc47e04fda2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 10 19:17:34 2011 +0000

    Missing eol style property
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057325 13f79535-47bb-0310-9956-ffa450edef68

commit 5c58999c45870a90ee64168123d55c3e5eba5d98
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 10 17:35:04 2011 +0000

    Prep for next release
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057292 13f79535-47bb-0310-9956-ffa450edef68

commit d9fa85c6019093078637efeeff7034b26ea59a56
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 10 16:59:22 2011 +0000

    Correction
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057280 13f79535-47bb-0310-9956-ffa450edef68

commit 4aebc2df3f5d93f36258c82d55e8c357159292a5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 10 16:58:10 2011 +0000

    More filtering
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057279 13f79535-47bb-0310-9956-ffa450edef68

commit 6e721beaa6c4799cead5248d8769b3549fd97dab
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 10 16:48:25 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50205
    Add deployIgnore to Host
    Based on a patch by Jim Riggs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057275 13f79535-47bb-0310-9956-ffa450edef68

commit f01c1b0d2959a0678cb38eb312cc83d90650944f
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jan 10 16:41:43 2011 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=50333
    dont allow 0 or negative max active values
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057268 13f79535-47bb-0310-9956-ffa450edef68

commit cdc6eb957277bec2769f7bf13640c5ed4a4a80e3
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jan 10 16:38:08 2011 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=49953
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057267 13f79535-47bb-0310-9956-ffa450edef68

commit 7ea6132b49aa3c770802f8d5a8084761b1a79ade
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jan 10 16:33:52 2011 +0000

    Remove override annotations to compile with JDK 1.5
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057266 13f79535-47bb-0310-9956-ffa450edef68

commit 285b989791dbe07f1a744e7aa81c2f16f075acb7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 10 16:01:09 2011 +0000

    Remove Host.liveDeploy that just duplicates Host.autoDeploy
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057252 13f79535-47bb-0310-9956-ffa450edef68

commit ae0c65d2423ee35070ec69bef0302793d79a2f50
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 10 15:46:18 2011 +0000

    Fix FindBugs warnings in StandardHost
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057246 13f79535-47bb-0310-9956-ffa450edef68

commit 31ca911275fb676c8dd38d796ba871dff192e96e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 10 08:40:12 2011 +0000

    Document a couple of long standing system properties
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057118 13f79535-47bb-0310-9956-ffa450edef68

commit 5a75812c034d5b8bd059deca51988cd5d8601fee
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 10 07:43:34 2011 +0000

    Configure Checkstyle to allow limited static imports and revert most of r1056947
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1057100 13f79535-47bb-0310-9956-ffa450edef68

commit 766dfd4548fe22f592c0feb73ba7061f3dd817b3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 9 14:52:31 2011 +0000

    Fix checkstyle warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1056947 13f79535-47bb-0310-9956-ffa450edef68

commit 7c5b1b73f947505789b7b2f3581de25c93ddedf0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 9 14:48:08 2011 +0000

    Fix a handful of warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1056946 13f79535-47bb-0310-9956-ffa450edef68

commit ef6ea21a2a5bdde1a764d8e14a171f74bdbcd417
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Jan 9 08:10:33 2011 +0000

    Enable testcase for 50413#c6, now that the issue is fixed with r1056889.
    Update changelog.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1056890 13f79535-47bb-0310-9956-ffa450edef68

commit e5a6948a56cba4314e3a8b65bfecc311105f89ba
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Jan 9 08:07:02 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50413#c6
    Serve the error page regardless of "Range" header in the original request.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1056889 13f79535-47bb-0310-9956-ffa450edef68

commit 1801653ceb0cc90aab86e29d2287547586728963
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Jan 9 07:13:28 2011 +0000

    Added tests for https://issues.apache.org/bugzilla/show_bug.cgi?id=50413
    The test that is currently failing is commented out and marked with a "FIXME" comment.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1056888 13f79535-47bb-0310-9956-ffa450edef68

commit f20f3ba8c65d2e3d5836b0596190459c8c146df0
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Jan 9 07:11:30 2011 +0000

    The TestMapper.performanceTest() takes 3250 msecs to rn for me. I am increasing the timeout to be 4s.
    Also printing the actual value in case the test fails.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1056887 13f79535-47bb-0310-9956-ffa450edef68

commit 8e3ebb9f1b71ca65addc4fb9c6ee7543f562ae09
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Jan 8 22:46:02 2011 +0000

    Followup to r1055975
    Move string calculation out of synchronized block
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1056828 13f79535-47bb-0310-9956-ffa450edef68

commit e30c40d700da6e97ef81a9989c242ef92b7dd573
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 8 22:27:26 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=21157
    Write cookie before response might be committed
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1056820 13f79535-47bb-0310-9956-ffa450edef68

commit ca8d7724cb103397d36285d43a524fa57696fda1
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Jan 8 18:51:56 2011 +0000

    Followup to r1056386.
    Add a changelog entry.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1056760 13f79535-47bb-0310-9956-ffa450edef68

commit 11c25f350200379ece9e3569825f921515e5b675
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 8 17:02:10 2011 +0000

    StringBuffer -> StringBuilder for consistency
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1056735 13f79535-47bb-0310-9956-ffa450edef68

commit 542057ca1b2ae82b8f46e12e692de38159ef2b4f
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Jan 8 01:09:54 2011 +0000

    Correct typo in the method names in a test case, so that they match to what method is actually being tested.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1056583 13f79535-47bb-0310-9956-ffa450edef68

commit 68f4f81d8c7ee77232e843a9ba95bc1b150610f9
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Jan 8 00:50:02 2011 +0000

    Followup to r1056553
    There should not be "import com.sun.jndi.ldap.LdapPoolManager;" as we must not depend on that class at build time. Actually the import was used by JavaDoc comments only.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1056576 13f79535-47bb-0310-9956-ffa450edef68

commit aa9c46f0c11bcd1a934625d0a13a0f74ed44c4e0
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Jan 8 00:22:56 2011 +0000

    Folloup to r1055989
    Add qualifiers to the fields of DataSourceLinkFactory.DataSourceHandler class.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1056569 13f79535-47bb-0310-9956-ffa450edef68

commit ae7dfe15856fb31be57aa4ebd85e64de9746915a
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Jan 7 23:54:54 2011 +0000

    Provide two alternative locations for the libraries downloaded from the ASF web site at build time. Use the main distribution site as default and the archive one as fallback.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1056562 13f79535-47bb-0310-9956-ffa450edef68

commit 676b8427564045acfccc78ac0e0a44552e930118
Author: Sylvain Laurent <slaurent@apache.org>
Date:   Fri Jan 7 22:56:30 2011 +0000

    bug 50556: improve JreMemoryLeakPreventionListener against leak caused by LdapPoolManager
    https://issues.apache.org/bugzilla/show_bug.cgi?id=50556
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1056553 13f79535-47bb-0310-9956-ffa450edef68

commit f7348b190279df28fc2feecef61967efc5d83cc2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 7 18:13:38 2011 +0000

    Fix security exception when running Servlet TCK
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1056434 13f79535-47bb-0310-9956-ffa450edef68

commit 11b0a69ffc4ee8c73b1853696de350e4b96be66c
Author: Mladen Turk <mturk@apache.org>
Date:   Fri Jan 7 16:45:31 2011 +0000

    Update daemon to 1.0.5
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1056386 13f79535-47bb-0310-9956-ffa450edef68

commit 6ff57610df5fc6646aef4ff88801592920d4603e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 7 15:16:44 2011 +0000

    Update tests now name only cookies are not accepted by default
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1056344 13f79535-47bb-0310-9956-ffa450edef68

commit bc5299b118f15eb3052fbdd13ad94b3709403b50
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 7 14:56:50 2011 +0000

    Fix tests after regex changes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1056340 13f79535-47bb-0310-9956-ffa450edef68

commit ebbedf8c8960413df668ea6ee7fb721f4b4139a6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 7 13:26:33 2011 +0000

    Put sleep in right place for test to pass.
    With acceptCount of 1 need a short delay else connections get rejected as Tomcat doesn't process incoming connections fast enough (on 8-core machine)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1056310 13f79535-47bb-0310-9956-ffa450edef68

commit 44866adc8fcb29dbc12857ebc2f5b33c96acbae8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 7 13:01:00 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50496
    Differentiate between content written (what the app writes to the output stream) and bytes written (what Tomcat writes to the socket) and use bytes for the access logs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1056298 13f79535-47bb-0310-9956-ffa450edef68

commit e4c23b077ee1a702b1014dfebce07e3dbb8a2280
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 7 11:24:36 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50552
    Avoid NPE that hides error when using Ant tasks (schultz)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1056264 13f79535-47bb-0310-9956-ffa450edef68

commit 2df26e3bf2a67c3247f4f290727dfeabc7f19dbb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 7 11:02:25 2011 +0000

    Fix some simple FindBugs issues
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1056256 13f79535-47bb-0310-9956-ffa450edef68

commit 6d1844686574699b42f9f7e06283bce64381c35d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 7 10:31:59 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50554
    Various FindBugs / Eclipse warnings
    Silence the false positives
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1056244 13f79535-47bb-0310-9956-ffa450edef68

commit 58c4abc222faf4a5866af44c1b7e26c4d62dd0a9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 7 10:16:59 2011 +0000

    Numerical order, fix indenting
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1056237 13f79535-47bb-0310-9956-ffa450edef68

commit 5ca4503b1983b460af24ed0c4399fd63e057beeb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 7 10:05:07 2011 +0000

    Fix various warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1056234 13f79535-47bb-0310-9956-ffa450edef68

commit 83b0f149baf052318e103287f3c0f786f9ee1db0
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jan 6 23:53:11 2011 +0000

    Fix bug https://issues.apache.org/bugzilla/show_bug.cgi?id=50477
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1056125 13f79535-47bb-0310-9956-ffa450edef68

commit 5b9022659c4d44a50e860105672f6257ec010b0c
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Jan 6 21:38:35 2011 +0000

    Followup to r1055989
    Do not use $Id if svn:keywords property is not set.
    
    BTW, @author tags are deprecated, aren't they?
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1056091 13f79535-47bb-0310-9956-ffa450edef68

commit 2ca05daf18089d4ec16a59c7d95dab62760171ac
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jan 6 18:22:34 2011 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=49543
    Add the ability to specify a data source link, to use a shared datasource with per application credentials
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1055989 13f79535-47bb-0310-9956-ffa450edef68

commit 13bc069c91aae830ee8c2f75c92a9aad5d2b954a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 6 18:09:23 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50550
    Make sure PROPFIND,MKCOL,PROPFIND returns 404,201,207 rather than 404,201,404
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1055975 13f79535-47bb-0310-9956-ffa450edef68

commit d901e5feb7b00212cda7964299b63103decc7b13
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 6 17:29:01 2011 +0000

    Fix a couple of FindBugs niggles
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1055951 13f79535-47bb-0310-9956-ffa450edef68

commit 359ae369a9da861e2f398f2b06b2ca2da099a0b3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 6 17:02:27 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47319
    Don't return null for getRemoteHost() if the IP address cannot be resolved.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1055938 13f79535-47bb-0310-9956-ffa450edef68

commit 1b96b7314c2319956f9b37276a32d6ba418c294a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 6 16:05:41 2011 +0000

    Switch all configuration options that use regular expression to require a single regular expression (using java.util.regex<) rather than a list of comma-separated or semi-colon-separated expressions.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1055923 13f79535-47bb-0310-9956-ffa450edef68

commit 8cda450e3c6396d4cec5d82c745c37c8b622bb2d
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Thu Jan 6 09:17:28 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50547.
    Add time stamp for CHANGE_SESSION_ID and SESSION_EXPIRED message.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1055798 13f79535-47bb-0310-9956-ffa450edef68

commit 49c549c45b14f4b36c75f97d201216bdc71348f2
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Jan 5 23:58:38 2011 +0000

    allow system to start
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1055690 13f79535-47bb-0310-9956-ffa450edef68

commit 375771f383944d9d16eb5838d45d24512774fc16
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 5 15:05:42 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50453
    Correctly handle multiple X-Forwarded-For headers
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1055482 13f79535-47bb-0310-9956-ffa450edef68

commit 130ec2e88d2c2ec19cd2f09df0f0cf08f657cac1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 5 14:28:30 2011 +0000

    Remove unnecessary code. Valves in this package can use the StringManager defined in ValveBase
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1055469 13f79535-47bb-0310-9956-ffa450edef68

commit ea21ceef76051c6e8fd979499fa703ad280e9cf0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 5 13:51:48 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50467
    Protect against NPE that will cause Poller to fail
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1055458 13f79535-47bb-0310-9956-ffa450edef68

commit 292c700eeac6792e6bb5e5b6495a1ffa8299ea76
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 5 10:10:29 2011 +0000

    Simplify getContentCount.
    Prep for fixing bug 50496
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1055391 13f79535-47bb-0310-9956-ffa450edef68

commit 2811397d02278e012a4ddab337bba7676acc3718
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 5 09:57:44 2011 +0000

    Remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1055389 13f79535-47bb-0310-9956-ffa450edef68

commit b255fb460717ae8e0c28496d7d88fd1cfb742416
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 5 09:47:43 2011 +0000

    Remove unused methods
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1055384 13f79535-47bb-0310-9956-ffa450edef68

commit 3a2c85d9dbb82abb8845ae5de9005351cf558d03
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 5 09:45:18 2011 +0000

    Remove unused constants (follow up to r1055377)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1055382 13f79535-47bb-0310-9956-ffa450edef68

commit 9e104f4c8ff8791e43119a92304525152252bad2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 5 09:40:09 2011 +0000

    Remove unused method
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1055377 13f79535-47bb-0310-9956-ffa450edef68

commit 1d13418b5b842a92025d022bc8e653a4d16df000
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 5 08:44:20 2011 +0000

    Fix required after removing unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1055357 13f79535-47bb-0310-9956-ffa450edef68

commit fa2613780dc4d4eec906fcd21804d80fcf77bf34
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 5 07:50:11 2011 +0000

    Remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1055341 13f79535-47bb-0310-9956-ffa450edef68

commit a53deeedce29ed4e7d4d4dc7dd6fc218fee68d85
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 5 07:18:29 2011 +0000

    getContentCount() may return -1 so use getContentCountLong()
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1055327 13f79535-47bb-0310-9956-ffa450edef68

commit fefbedb7255e7bf6f5297f3e22c5df8f84b07dd4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 4 22:59:38 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50527
    Improve error message
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1055236 13f79535-47bb-0310-9956-ffa450edef68

commit faa8d1a7124320388fd4fc626c16a5bf27c53217
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 4 19:28:16 2011 +0000

    Doh. Forgot to update the change log.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1055147 13f79535-47bb-0310-9956-ffa450edef68

commit 931b958088b5a81c8d33fafa9b413580587caecc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 4 19:20:28 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49000
    Make accepting name only cookies configurable, defaulting to disabled.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1055143 13f79535-47bb-0310-9956-ffa450edef68

commit e9eb5aeaf30b1a2750732f43d818b7cb6bcaeb81
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 4 19:09:06 2011 +0000

    Grr. Remove comment markers.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1055141 13f79535-47bb-0310-9956-ffa450edef68

commit e120ed794837fc04ede117fb525acd64f00af863
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jan 4 18:37:44 2011 +0000

    No need to instantiate a new driver instance each time, simply reuse the one we got
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1055137 13f79535-47bb-0310-9956-ffa450edef68

commit 98b48d9655575d2b390a7553854fba81dbf7a82a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 4 18:28:23 2011 +0000

    Partial fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=49000
    Consistently handle name only cookies (which are not spec complaint)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1055132 13f79535-47bb-0310-9956-ffa450edef68

commit f8d14d6eb5f5e6e17da2d07cddf667bd41413524
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 4 17:57:16 2011 +0000

    Re-fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49372
    Don't throw an LifecycleException for an invalid transition if a connector fails to start.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1055121 13f79535-47bb-0310-9956-ffa450edef68

commit a0dfe2a1a3b9465d6c98a308015d9658069fa8a6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 4 17:35:06 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50541
    Add support for sizeLimit and timeLimit on the JNDIRealm
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1055115 13f79535-47bb-0310-9956-ffa450edef68

commit deea16169957438ef38b67a1d53f7fb30d5014ac
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 4 17:09:48 2011 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1055103 13f79535-47bb-0310-9956-ffa450edef68

commit 81e408fb0a2a04e5f875df9f89d93ad4e98a6d7b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 4 16:56:58 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50488
    Update classpath required when using jsvc and add a note regarding server VMs.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1055101 13f79535-47bb-0310-9956-ffa450edef68

commit 33deccdc39581d9a8c12ae43dd8c18071856970e
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jan 4 15:55:18 2011 +0000

    Add a test case of no user name change
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1055085 13f79535-47bb-0310-9956-ffa450edef68

commit 31229b8748c84dedd4c8aa8d3131094f5c7f7b80
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 4 14:22:52 2011 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50500
    Use correct coercions (as per the EL spec) for arithmetic operations involving string values containing '.', 'e' or 'E'. Based on a patch by Brian Weisleder.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1055055 13f79535-47bb-0310-9956-ffa450edef68

commit c12156d115dc966b8a959ba5f24678a6d54f4d69
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 4 11:53:32 2011 +0000

    Remove unused imports
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1054987 13f79535-47bb-0310-9956-ffa450edef68

commit 0b00d89813bdce1e885cd7672613c53ded831994
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jan 3 23:28:42 2011 +0000

    one 0 too many on username test
    make sure the driver correctly checks url
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1054824 13f79535-47bb-0310-9956-ffa450edef68

commit 9bd3d33f8836aff917f156318138cd5dc314d979
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jan 3 22:33:06 2011 +0000

    Up the number of iterations the test runs
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1054812 13f79535-47bb-0310-9956-ffa450edef68

commit 827ebbbcc884a6f016c8892e1e2bf2052001d280
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jan 3 22:18:11 2011 +0000

    version
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1054804 13f79535-47bb-0310-9956-ffa450edef68

commit 98f9f0167911637e090bc79fea61de1886f06456
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jan 3 22:15:35 2011 +0000

    Increment version number
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1054803 13f79535-47bb-0310-9956-ffa450edef68

commit 39b3b6b41474364bc861c277ddc31222aba541d4
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jan 3 22:14:21 2011 +0000

    add in ability to pass through credentials
    https://issues.apache.org/bugzilla/show_bug.cgi?id=50025
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1054801 13f79535-47bb-0310-9956-ffa450edef68

commit f80219fb0e4675bf46907d6e6c6c2d1c42e10c42
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jan 3 20:11:50 2011 +0000

    better count check
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1054730 13f79535-47bb-0310-9956-ffa450edef68

commit 8202768180d53331421f2a743fb3d9011c2d7c2e
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jan 3 20:08:47 2011 +0000

    update link
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1054729 13f79535-47bb-0310-9956-ffa450edef68

commit 7d7f1a3b82beb9131f033091e1e28d8a9147ecb0
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jan 3 14:00:29 2011 +0000

    Update Copyright year.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1054620 13f79535-47bb-0310-9956-ffa450edef68

commit 4d25e4db79ae3aff9a33a37901772d3bd5b33e20
Author: Rainer Jung <rjung@apache.org>
Date:   Wed Dec 29 20:42:04 2010 +0000

    Improve documentation of database connection factory.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1053727 13f79535-47bb-0310-9956-ffa450edef68

commit efddc46c1fa3b2f6a8bb9f211abe70ec1cd29847
Author: Sylvain Laurent <slaurent@apache.org>
Date:   Tue Dec 21 22:26:55 2010 +0000

    bug 49159: Improve ThreadLocal memory leak clean-up
    https://issues.apache.org/bugzilla/show_bug.cgi?id=49159
    
    - merged LocalStrings.properties file from package o.a.t.u.threads to o.a.t.u.threads.res
    - removed 3 i18n keys that are no longer used by tc7. They were used by the old ThreadPool implementation of tc6
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1051682 13f79535-47bb-0310-9956-ffa450edef68

commit 4ddbf5aca2ecb1244d6a6938d4821a0cc1b1207d
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Dec 21 17:40:57 2010 +0000

    refactor latch usage, since its shared by all connectors
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1051578 13f79535-47bb-0310-9956-ffa450edef68

commit 7da7f69f64ea6e6d0043aa4e165f8263d5897734
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Dec 21 17:40:34 2010 +0000

    Fix classpath
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1051577 13f79535-47bb-0310-9956-ffa450edef68

commit 67162a6c7184dba6f18e484b73779457701abf96
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Dec 21 17:39:11 2010 +0000

    Allow to set log formatter when running Junit tests
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1051576 13f79535-47bb-0310-9956-ffa450edef68

commit 9c59b335a7f7035f69d327c9bd56aa958e58844e
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Dec 21 16:15:16 2010 +0000

    Allow to specify the test on the command line
    ant -Dtest.name=**/TestMax** test
    Without the parameter, the default is all tests as specified before
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1051540 13f79535-47bb-0310-9956-ffa450edef68

commit 4ab2efef615230a852cd255dc7a6c5457a20b2e3
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Dec 21 16:14:24 2010 +0000

    make shared variable volatile
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1051539 13f79535-47bb-0310-9956-ffa450edef68

commit 2f12fc461eb93b7f54695b29eba0a8b974166d17
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Tue Dec 21 09:47:15 2010 +0000

    Fix webappClassLoader.clearJbdc message key and message in LocalStrings.properties.
    Jbdc is corrected to jdbc.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1051433 13f79535-47bb-0310-9956-ffa450edef68

commit 47ed06ffa03af526dfb4aa700b90131ab207d26a
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Tue Dec 21 06:56:09 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50503.
    When web application has a version, Engine level Clustering works correctly.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1051392 13f79535-47bb-0310-9956-ffa450edef68

commit 7628fe7072c575e2ee550688d12775b610a35a8b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 21 01:57:50 2010 +0000

    Fix Checkstyle / Eclipse nags
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1051358 13f79535-47bb-0310-9956-ffa450edef68

commit 0824cd997e43168355da32082b162c354084b625
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 21 01:56:04 2010 +0000

    Restore file accidently removed in r1044731
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1051357 13f79535-47bb-0310-9956-ffa450edef68

commit ea5cccbcb52f6a7a1e74ff0784ba2e834827b2cf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 21 01:53:34 2010 +0000

    Fix Checkstyle / Eclipse nags
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1051356 13f79535-47bb-0310-9956-ffa450edef68

commit be4d73a8e193166218a086bb5a7033219e3e3650
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Dec 21 00:32:25 2010 +0000

    Add in a default that doesnt throw a ClassNotFoundException that is simply ignored, and allow a fast way to change the console formatter through a system property when no config file is used.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1051342 13f79535-47bb-0310-9956-ffa450edef68

commit 2a904b12585e59fbeb2afe54c319b2b5a362cd86
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Dec 21 00:24:24 2010 +0000

    Test can piggy back on the 'ant test' auto switch between connectors
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1051335 13f79535-47bb-0310-9956-ffa450edef68

commit 282138f6f23cb31c93e0806b88b900db8888df58
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Dec 20 21:01:37 2010 +0000

    Implement maxConnections for NIO connector
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1051291 13f79535-47bb-0310-9956-ffa450edef68

commit 9a9dbaf7acfb6bb7ba0f85ae94ca5688895ca196
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Dec 20 16:42:13 2010 +0000

    Implement a maxConnection threshold for the JIoEndpoint, to be able to constraint how many connections the connector will accept
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1051202 13f79535-47bb-0310-9956-ffa450edef68

commit fef13484b04a3f153b1570d02ecac4a2fa96f668
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 20 13:58:07 2010 +0000

    Version numbers are defined in the properties file
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1051106 13f79535-47bb-0310-9956-ffa450edef68

commit 5b4f044f832f08a40acb00ddf0a24195070bb366
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 18 17:44:07 2010 +0000

    Fix unlikely FindBugs warning
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1050684 13f79535-47bb-0310-9956-ffa450edef68

commit 32947238fcf01c1401822cabb156b7e3740d65b5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 18 17:43:41 2010 +0000

    Remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1050683 13f79535-47bb-0310-9956-ffa450edef68

commit eea0461e9167052ff16e89fa2ae2dda15ec167b4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 18 17:43:01 2010 +0000

    Simplify based on StringManager changes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1050682 13f79535-47bb-0310-9956-ffa450edef68

commit 251a9db56f17b8fc5f440189bc7966ef4130626b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 18 17:26:52 2010 +0000

    Typos. Sorry for the noise
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1050680 13f79535-47bb-0310-9956-ffa450edef68

commit 0d50853ce10c6c43275b99e2e1b06978e6601d8a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 18 17:19:50 2010 +0000

    Fix remaining warning in o.a.el.lang package
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1050679 13f79535-47bb-0310-9956-ffa450edef68

commit 9a9472be1f0d367a134ebc0962411eb4137bf03a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 18 16:23:09 2010 +0000

    Fix most of the Java, Findbugs and unused code warnings in this package
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1050660 13f79535-47bb-0310-9956-ffa450edef68

commit ca992245003ec8ba02a6bf8d1377ab500d03b658
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 18 15:52:07 2010 +0000

    Fix Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1050653 13f79535-47bb-0310-9956-ffa450edef68

commit 8f4f4744d11e8e18e3d75872f2f5284c79c6e859
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 17 22:09:28 2010 +0000

    Fix remaining Eclipse warnings in o.a.juli
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1050504 13f79535-47bb-0310-9956-ffa450edef68

commit 2b71925b5ea090148c39df0ea40e097cc37f104b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 17 22:06:33 2010 +0000

    Fix remaining Eclipse warnings in o.a.coyote
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1050502 13f79535-47bb-0310-9956-ffa450edef68

commit 873bcf1b21f951c87c6647d33b0f3badc38d9de4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 17 22:01:59 2010 +0000

    Fix remaining warnings in unit tests (with recently documented settings)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1050500 13f79535-47bb-0310-9956-ffa450edef68

commit 4c9aa75978b07cd56a57465c0a571453d6caefc1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 17 21:51:11 2010 +0000

    Fix remaining warnings in webapps (with recently documented settings)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1050499 13f79535-47bb-0310-9956-ffa450edef68

commit 256cdd2b8a231fd174f1d5c497968e12e9dec9ce
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 17 21:49:54 2010 +0000

    Fix remaining warnings in javax package (with recently documented settings)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1050498 13f79535-47bb-0310-9956-ffa450edef68

commit a31d0f5c2bc8c5c7a5a9b7b822e8c37577e5f12c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 17 21:47:52 2010 +0000

    Document the Eclipse compiler errors/warnings settings I am using
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1050497 13f79535-47bb-0310-9956-ffa450edef68

commit 38081f1f7dd5638217b9a0a0c0ede95192ec3f35
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 17 13:52:22 2010 +0000

    Avoid a possible NPE that in turn was masking the root cause from JspC
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1050384 13f79535-47bb-0310-9956-ffa450edef68

commit 54576f84b2b37a09ce30f2536726e6c1c6e3c2d6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 17 00:17:18 2010 +0000

    Fix massive memory leak in NIO connector. Http11NioProcessor objects were not being recycled.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1050249 13f79535-47bb-0310-9956-ffa450edef68

commit 666ae5caf5e673604d4761017f96a5d938c80e5e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 16 23:35:17 2010 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=13731
    Make variables in <code>_jspService()</code> method final where possible.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1050229 13f79535-47bb-0310-9956-ffa450edef68

commit 38d0bbcd67cac76d2592aeb27f7e99efd5ced7a0
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Dec 16 21:09:49 2010 +0000

    Starting to work on maxConnections attribute for BIO/NIO connectors to allow administrators to throttle how accepting
    connections is handled. Implement a CounterLatch to keep track of the
    connection count while also allowing the acceptor
    thread block while the max has been reached
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1050161 13f79535-47bb-0310-9956-ffa450edef68

commit b6e03e2469f864fafb3efacd1551ffd4d6e26398
Author: Sylvain Laurent <slaurent@apache.org>
Date:   Thu Dec 16 21:07:55 2010 +0000

    bug 48822: Include contest name in reload and stop log statements
    https://issues.apache.org/bugzilla/show_bug.cgi?id=48822
    
    changelog + proposed for tomcat 6
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1050160 13f79535-47bb-0310-9956-ffa450edef68

commit 34633605643e6a0bf9e64fbfb7518cb55ee6235f
Author: Sylvain Laurent <slaurent@apache.org>
Date:   Thu Dec 16 20:40:36 2010 +0000

    bug 48822: Include contest name in reload and stop log statements
    https://issues.apache.org/bugzilla/show_bug.cgi?id=48822
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1050150 13f79535-47bb-0310-9956-ffa450edef68

commit ad8f640a425c5e9210936ea8eadabd3dfcd10ac7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 16 19:39:58 2010 +0000

    Fix Findbugs issues / Eclipse warnings.
    Some genuine issues
    Some changes to make code easier to read (for humans and analysis tools)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1050117 13f79535-47bb-0310-9956-ffa450edef68

commit dc375494b841c68ea872c3141bb58629970dab2f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 16 15:04:56 2010 +0000

    Fix a FindBugs nag in the unit tests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1049997 13f79535-47bb-0310-9956-ffa450edef68

commit df31db2c732954e855a62e4d3e7298e96314a6d8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 15 17:58:05 2010 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=10972
    Improve error message if the className attribute is missing on an element in server.xml where it is required.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1049654 13f79535-47bb-0310-9956-ffa450edef68

commit 10db5dd861573853be1a1fa9ae1c6a74fae4ce4f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 15 16:41:31 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=10526
    Add alwaysUseSession option to authenticators
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1049638 13f79535-47bb-0310-9956-ffa450edef68

commit 94946be3729f76432717e1527ec7575e14bba564
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 15 14:54:23 2010 +0000

    Whilst I am thinking about excluding stuff from FindBugs - add some exceptions for the generated code with issues and fix the remaining issues in the same package
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1049572 13f79535-47bb-0310-9956-ffa450edef68

commit cad4adf931945b4232fa6131110d762936f28488
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 15 14:35:22 2010 +0000

    Add a FindBugs filter config for known false positives
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1049564 13f79535-47bb-0310-9956-ffa450edef68

commit 00c5b1b0746d35e312b793607b89e709510501f4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 15 14:34:32 2010 +0000

    Fix various warnings (FindBugs, Eclipse etc.)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1049563 13f79535-47bb-0310-9956-ffa450edef68

commit 3cb3120a85bd860c44c0cc205346ae6e51a35a3e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 15 13:53:22 2010 +0000

    Fix another FindBugs niggle
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1049553 13f79535-47bb-0310-9956-ffa450edef68

commit 3d2c90e622845e5f44c07b277ac04cff7ebf3ce4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 15 13:31:28 2010 +0000

    Remove unnecessary override
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1049544 13f79535-47bb-0310-9956-ffa450edef68

commit dec9fb9806a7bfc20a19e414fd8e148e4b88bbdf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 15 10:46:23 2010 +0000

    Fix my stupid mistake.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1049484 13f79535-47bb-0310-9956-ffa450edef68

commit b3e78b645fae15b92fe760a0d293f7017b674b6d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 15 00:57:58 2010 +0000

    Fix a typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1049372 13f79535-47bb-0310-9956-ffa450edef68

commit 76854b74d5ef273a254ef1b89d18598b6d166f6c
Author: Christopher Schultz <schultz@apache.org>
Date:   Tue Dec 14 20:53:07 2010 +0000

    Added documentation to parseBodyMethods and parseBodyMethodSet members.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1049264 13f79535-47bb-0310-9956-ffa450edef68

commit a7fd7b678bd686702218ede07c6608c4a1c8c98a
Author: Christopher Schultz <schultz@apache.org>
Date:   Tue Dec 14 20:49:28 2010 +0000

    Fixed bug #49125: toString on byte[] array probably is not correct
    - Added HexUtils.toHexString method
    - Wrapped output of byte[] objects with a call to HexUtils.toHexString
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1049263 13f79535-47bb-0310-9956-ffa450edef68

commit 957e400a57253460f58212de7ba00b80d8a98f2c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 13 15:57:54 2010 +0000

    Log mis-configuration in context.xml
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1045201 13f79535-47bb-0310-9956-ffa450edef68

commit 3587332f281edd2cec071fc6bb7becdd65cbdae7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 13 15:06:13 2010 +0000

    Aliases were broken if the context was reloaded
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1045162 13f79535-47bb-0310-9956-ffa450edef68

commit ac360bdbdaad2d1593ef534d0f28176fa63c05bb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 13 14:50:17 2010 +0000

    Fix various FindBugs and Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1045156 13f79535-47bb-0310-9956-ffa450edef68

commit fed989aad3af58087647b6908e330e86cd28c0ba
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 13 12:47:04 2010 +0000

    Using abstract classes means impl isn't clear in the startup log. Modify name so it is clear.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1045099 13f79535-47bb-0310-9956-ffa450edef68

commit 5acd2bddd52dc44f9dccf03966a2a9fa612fa0be
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Dec 13 02:09:32 2010 +0000

    Improve the fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=50201
    - Use AtomicReference to guard against possible duplicate registration of
      listeners when logAccess() is called by several threads at the same time.
    - Added install() and uninstall() method to AccessLogListener
      to help register/unregister the listeners.
    - When defaultAccessLog is nulled, always unregister the listener as well.
      The listener does not need to be reused, because now we do create a listener
      when there is no log and it will take care of things.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1045003 13f79535-47bb-0310-9956-ffa450edef68

commit fb7d9ea00e070238711bfcf9c4925cc8c1919a72
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Dec 13 01:21:58 2010 +0000

    changelog for r1044987
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044994 13f79535-47bb-0310-9956-ffa450edef68

commit 6f4eced33fd7e7701c9bb06b877aae838280cb1d
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Dec 13 00:58:11 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50460
    Avoid leak caused by using a cached exception instance
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044987 13f79535-47bb-0310-9956-ffa450edef68

commit 90876807df968022a4d683dae74e577fff9213e4
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Dec 12 22:33:09 2010 +0000

    Use i18n for the messages
    It is followup to r1042022 which was a fix for BZ 48973
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044944 13f79535-47bb-0310-9956-ffa450edef68

commit 5ef60d0a6eb2a3acd3aa1f6076ac488c21858a63
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 12 19:50:45 2010 +0000

    Add some tests for bug50449 but haven't reproduced it yet
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044898 13f79535-47bb-0310-9956-ffa450edef68

commit 7c96090ef78f545da55086d1464a0893aa8ad1cf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 12 19:35:56 2010 +0000

    Fix FindBugs issues in this class
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044896 13f79535-47bb-0310-9956-ffa450edef68

commit 91be71fedd84775ceec59d10daf784d8f2ecc5fd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 12 19:27:13 2010 +0000

    Fix FindBugs issues in this class
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044895 13f79535-47bb-0310-9956-ffa450edef68

commit 744a016296d61a5757d0d9d2512490553bae9903
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 12 18:55:52 2010 +0000

    i18n changes for r1044874
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044881 13f79535-47bb-0310-9956-ffa450edef68

commit 5c6611de7d61f3f34c2ead1f5b15c54dc031d77b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 12 18:47:10 2010 +0000

    Use the newly refactored session id generator when generating sso session IDs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044879 13f79535-47bb-0310-9956-ffa450edef68

commit 9ab0c4b41adc307f72c0397c6d8a309bb8aab6e9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 12 18:30:03 2010 +0000

    Re-factor session ID generation into a separate class so it can be re-used for SSO (patch for that to follow)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044874 13f79535-47bb-0310-9956-ffa450edef68

commit 0e5e4fc676b77119c937e24d4d2fe0bb465c0d8a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 12 17:24:47 2010 +0000

    Fix FindBugs issues in this class
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044858 13f79535-47bb-0310-9956-ffa450edef68

commit deaf428a89c8d6ce483a0aace597f32edb8a212f
Author: Sylvain Laurent <slaurent@apache.org>
Date:   Sun Dec 12 00:16:33 2010 +0000

    bug 50459: StandardContext.bindThread() and unbindThread() are not symmetrical and not limited to current thread
    https://issues.apache.org/bugzilla/show_bug.cgi?id=50459
    
    Fixed incorrect comment in code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044747 13f79535-47bb-0310-9956-ffa450edef68

commit c50ade83aa5d7066c4aae44edfeaaf6b478b98fd
Author: Sylvain Laurent <slaurent@apache.org>
Date:   Sun Dec 12 00:10:39 2010 +0000

    bug 50459: StandardContext.bindThread() and unbindThread() are not symmetrical and not limited to current thread
    https://issues.apache.org/bugzilla/show_bug.cgi?id=50459
    
    This fixes the bug that was introduced by http://svn.apache.org/viewvc?rev=1044145&view=rev (introduced a dedicated thread when starting and stopping web applications to avoid mem leak)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044746 13f79535-47bb-0310-9956-ffa450edef68

commit 5de720d62a6d602cb397642369e2a15c27336459
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 11 22:21:02 2010 +0000

    TRy and sync up the deps in the POMs with what Checkstyle validates
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044731 13f79535-47bb-0310-9956-ffa450edef68

commit ab8e55afa9cc6f0141b7618a11895d1a5b731688
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 11 22:20:10 2010 +0000

    Tribes should only depend on JULI
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044730 13f79535-47bb-0310-9956-ffa450edef68

commit 2cccba3e558492cdce67bac9d9e143196791c600
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 11 21:48:22 2010 +0000

    o.a.tomcat.jni should not have any external dependencies
    OK for o.a.naming to have dependencies
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044729 13f79535-47bb-0310-9956-ffa450edef68

commit 42c392385127be3620c8d5fcfbab2467e01e0e33
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 11 21:35:18 2010 +0000

    o.a.tomcat.util.net should not depend on o.a.coyote
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044727 13f79535-47bb-0310-9956-ffa450edef68

commit 993079e7392f23816fdce50c5fa0e91916eeb915
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 11 21:14:45 2010 +0000

    o.a.tomcat.util.net should not depend on o.a.catalina
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044723 13f79535-47bb-0310-9956-ffa450edef68

commit ac102a44376727d04db2e6992c18dba8b624e999
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 11 20:58:28 2010 +0000

    Get the checkstyle configs to play nicely with Ant and the Eclipse plug-in
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044716 13f79535-47bb-0310-9956-ffa450edef68

commit c4809747686d30b01a592ab2aa20092978053e70
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 11 20:38:42 2010 +0000

    Add import-control checks to Checkstyle (these found the recent dependency issues)
    Move checkstyle config to res/checkstyle to stop it cluttering up the root
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044710 13f79535-47bb-0310-9956-ffa450edef68

commit 4873e43cce850b7695294d8435cbea6cdfee217c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 11 20:36:29 2010 +0000

    javax.el should not depend on javax.servlet.jsp.el
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044708 13f79535-47bb-0310-9956-ffa450edef68

commit 6b7980440ca21fb167586572a82e256c00323b8c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 11 18:27:15 2010 +0000

    Coyote should not depend on Catalina
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044692 13f79535-47bb-0310-9956-ffa450edef68

commit 42e85fb5f38cd986f4e5207bbb9adf2de405b5ba
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 10 13:54:16 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50448
    Regression caused by http://svn.apache.org/viewvc?view=revision&revision=1036281
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044359 13f79535-47bb-0310-9956-ffa450edef68

commit d19afaa1dc6b23f34fcd5ad8fc9554a91a6ec2cb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 10 12:28:20 2010 +0000

    Avoid duplicate constant definition.
    Use Constants defined by the Servlet/JSP specs where appropriate
    Use Constants in preference to local Strings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044326 13f79535-47bb-0310-9956-ffa450edef68

commit 267cc7dbfc291a16a6b7f2fbdca472077b4212a2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 10 10:11:38 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50413
    Ensure 304s are not returned when using static files as error pages
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044266 13f79535-47bb-0310-9956-ffa450edef68

commit 97aa98796a436023c6dcc16569e2af7342d35c31
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 10 10:06:44 2010 +0000

    Missed file in r1044255
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044264 13f79535-47bb-0310-9956-ffa450edef68

commit 5db1dedbbb130a0b8e36f874c57ce39685a9dbb8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 10 09:47:05 2010 +0000

    Fix FindBugs / unused code warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044255 13f79535-47bb-0310-9956-ffa450edef68

commit f8b3faf6286b23c8d08dd2841d42c96b4c202b32
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 9 23:58:20 2010 +0000

    Fix Eclipse warnings in package
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044178 13f79535-47bb-0310-9956-ffa450edef68

commit 028656a8cd6863f9cd4153f22552432a89a73126
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 9 23:54:21 2010 +0000

    Fix Eclipse warnings in package
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044175 13f79535-47bb-0310-9956-ffa450edef68

commit 9c0afc403c4424be1a75b8392a5352603ef20d41
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 9 23:47:57 2010 +0000

    Remove redundant interface definitions and fix other warnings (missing @Overrides) in same files
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044171 13f79535-47bb-0310-9956-ffa450edef68

commit 940b19adad7d227980fe2284003529977663ac36
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 9 23:30:15 2010 +0000

    Grrr. Missed a couple of @Override markers
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044164 13f79535-47bb-0310-9956-ffa450edef68

commit 7d556c39fa57f1d7ee9aa0fb56faa9345779ae5a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 9 23:29:15 2010 +0000

    Fix missing @Override markers in Jasper and remove an unnecessary null check
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044162 13f79535-47bb-0310-9956-ffa450edef68

commit b9d1b3ddf621a342e383adaf92cf6b89ea50cf93
Author: Sylvain Laurent <slaurent@apache.org>
Date:   Thu Dec 9 22:11:27 2010 +0000

    bug 49159: Improve ThreadLocal memory leak clean-up
    https://issues.apache.org/bugzilla/show_bug.cgi?id=49159
    
    Use a dedicated thread when calling web application code when it is started and stopped (calls to Listeners, Filters, Servlets).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044145 13f79535-47bb-0310-9956-ffa450edef68

commit 5147c69f3b2044d52723e545b2fd870a306cad45
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 9 21:11:39 2010 +0000

    Register the correct object after the refactoring
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044133 13f79535-47bb-0310-9956-ffa450edef68

commit 76f53015f5f38d9f86a49879ce0fc4395d0121f5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 9 19:49:24 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50360
    Add an option to control when the socket is bound
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044110 13f79535-47bb-0310-9956-ffa450edef68

commit adf37e814905014fb63b8f54dbd6e00dfd15f5d9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 9 19:15:30 2010 +0000

    mserver != null will never be true if the mbean was registered. Drop the check since the unregister method will handle things correctly anyway
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044093 13f79535-47bb-0310-9956-ffa450edef68

commit 2bab8eea2fa3c167f62428d14010c1a2605803d4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 9 19:02:01 2010 +0000

    Re-factoring in support of https://issues.apache.org/bugzilla/show_bug.cgi?id=50360
    Log the right message at the right point
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044091 13f79535-47bb-0310-9956-ffa450edef68

commit 5dc44b6cad092548ec910fc3b80d96d3d707f7c9
Author: Sylvain Laurent <slaurent@apache.org>
Date:   Thu Dec 9 18:59:14 2010 +0000

    ignore work and logs directories as discussed on dev list
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044088 13f79535-47bb-0310-9956-ffa450edef68

commit 9136b7943632cf7067711aa5d61130651c1f865e
Author: Sylvain Laurent <slaurent@apache.org>
Date:   Thu Dec 9 18:55:04 2010 +0000

    bug 49159: Improve ThreadLocal memory leak clean-up
    https://issues.apache.org/bugzilla/show_bug.cgi?id=49159
    
    some formatting after discussion over the list (operator at the end of line, unnecessary cast)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044083 13f79535-47bb-0310-9956-ffa450edef68

commit b16c677892b790e80a42c3684b45b781bc452172
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 9 18:10:38 2010 +0000

    Re-factoring in support of https://issues.apache.org/bugzilla/show_bug.cgi?id=50360
    Move ad-hoc attribute handling from the ProtocolHandler to the Endpoint and expose the Endpoint to ServerSocketFactory objects so they can retrieve additional configuration if required. All default components now use explicit configuration rather than relying on the ad-hoc mechanism.
    Ensure the hooks for alternative SSL implementations are in place (were partially removed).
    Remove the hooks for alternative ServerSocketFactory implementations (had been hard-coded / half implemented for some time).
    Make the sslEnabledProtocols attribute work with BIO as well.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1044058 13f79535-47bb-0310-9956-ffa450edef68

commit cf8083ee6f186c3ef1fc16bfe041dd41c62db76e
Author: Christopher Schultz <schultz@apache.org>
Date:   Thu Dec 9 14:35:28 2010 +0000

    - Fixed brace and paren placement
    - Changed Connector.isParseBodyMethod from public -> protected
    - Relaxed language claiming that use of parseBodyMethods may "violate" the servlet spec
    - Moved error message to LocalStrings.properties (Translations requested)
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1043983 13f79535-47bb-0310-9956-ffa450edef68

commit a5d5c9b514cc08cd031cfcf2f1726acea81d8ee8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 8 22:25:04 2010 +0000

    Removed a little more unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1043734 13f79535-47bb-0310-9956-ffa450edef68

commit 510d630e1535ef190852a162f1c89cab877163f3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 8 17:15:50 2010 +0000

    Re-factoring in support of https://issues.apache.org/bugzilla/show_bug.cgi?id=50360
    ProtocolHandler should register itself with MBean server rather than have the connector do it.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1043531 13f79535-47bb-0310-9956-ffa450edef68

commit f0400e929206478dbf43d22a9b4f745884279226
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 8 15:07:20 2010 +0000

    Remove some unused code
    Fix some FindBugs niggles
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1043444 13f79535-47bb-0310-9956-ffa450edef68

commit dbdbf87f2ef670e88175b10f64e5fd6dbb79e805
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 8 14:51:10 2010 +0000

    Re-factoring in support of https://issues.apache.org/bugzilla/show_bug.cgi?id=50360
    Pull up start()
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1043441 13f79535-47bb-0310-9956-ffa450edef68

commit 1197a6d6afcfd041c860fa574c28bb62b0fcc388
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 8 14:36:26 2010 +0000

    Re-factoring in support of https://issues.apache.org/bugzilla/show_bug.cgi?id=50360
    Move MBean registration from start() to init(). More MBean refactoring expected
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1043437 13f79535-47bb-0310-9956-ffa450edef68

commit b8bc692e68ca36bf9f1544def2a37743382607fb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 8 14:33:51 2010 +0000

    Fix copy/paste error
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1043433 13f79535-47bb-0310-9956-ffa450edef68

commit 22af432c78a5a87fc47c39f1f07936cad3ade8cf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 8 14:19:23 2010 +0000

    Re-factoring in support of https://issues.apache.org/bugzilla/show_bug.cgi?id=50360
    Pull up init()
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1043429 13f79535-47bb-0310-9956-ffa450edef68

commit 33b11d1247416a69834388559ed277d22211ba09
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 8 14:09:26 2010 +0000

    Align BIO+JSSE with NIO+JSSE
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1043425 13f79535-47bb-0310-9956-ffa450edef68

commit 89f063fcb9e202cb29b7d5a0e6fe4e981e0f27a4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 8 13:52:06 2010 +0000

    Fix indents
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1043421 13f79535-47bb-0310-9956-ffa450edef68

commit 55da9b467b44febf11529c9a60ac699d4801afef
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 8 13:51:42 2010 +0000

    JSSE will always be available in Tomcat 7
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1043420 13f79535-47bb-0310-9956-ffa450edef68

commit 54c0bbdab381687c8fe8eda660848705c6a9d8b7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 8 13:37:11 2010 +0000

    Re-factoring in support of https://issues.apache.org/bugzilla/show_bug.cgi?id=50360
    Align the init() methods (JSSE still to go)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1043410 13f79535-47bb-0310-9956-ffa450edef68

commit eba80eaf4a238eb029bc3991c9f3e328177d6c7a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 8 13:10:34 2010 +0000

    Nice idea, but need i18n for the actions so each needs its own string
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1043402 13f79535-47bb-0310-9956-ffa450edef68

commit 551029f088c7db8ce29ad95e5eb81b5d601a2402
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 8 13:06:46 2010 +0000

    Re-factoring in support of https://issues.apache.org/bugzilla/show_bug.cgi?id=50360
    Pull up stop()
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1043399 13f79535-47bb-0310-9956-ffa450edef68

commit a378facc62396718acef1e72126dd7fee97b52e6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 8 12:57:54 2010 +0000

    Re-factoring in support of https://issues.apache.org/bugzilla/show_bug.cgi?id=50360
    Pull up pause() and resume() methods
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1043395 13f79535-47bb-0310-9956-ffa450edef68

commit 38f7103e09a495e94633c26fee1f0c0e41f11187
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 8 11:36:49 2010 +0000

    Remove unused welcome file handling code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1043364 13f79535-47bb-0310-9956-ffa450edef68

commit 4124fd1f18e047ad0e2f9fe87d322d232b48ee7f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 8 01:31:51 2010 +0000

    Remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1043272 13f79535-47bb-0310-9956-ffa450edef68

commit f615ace0c4c704aae539d448f8535bfee3ff2d63
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 8 01:21:12 2010 +0000

    Remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1043269 13f79535-47bb-0310-9956-ffa450edef68

commit b1c0291c45afab79d2b5968fde7aa07d11fe9071
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 8 01:14:43 2010 +0000

    Remove unused code.
    Make spacing consistent.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1043265 13f79535-47bb-0310-9956-ffa450edef68

commit 967e3dbca62ea1a1cb1ab1ecc4c639d5e110358b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 8 01:12:03 2010 +0000

    Jasper should not depend on Catalina
    Re-use constants where possible
    Fix a FindBugs niggle
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1043263 13f79535-47bb-0310-9956-ffa450edef68

commit 136087e80855865a8004064eb587e17a88eb19ff
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 8 01:01:56 2010 +0000

    Another Findbugs niggle
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1043260 13f79535-47bb-0310-9956-ffa450edef68

commit 0715b6cf4dd80ff3354571157f422f03b3ccef17
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 7 18:36:39 2010 +0000

    Fix some FindBugs warnings - all unclosed streams. These could potentially lead to locked files and maybe memory leaks.
    Fix some other simple FindBugs/Eclipse warnings in affected files.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1043157 13f79535-47bb-0310-9956-ffa450edef68

commit 8d3fd7c076fa428a2c0911a01386637a7279ec91
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 7 18:05:31 2010 +0000

    Fix a couple of 'high priority' FindBugs warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1043153 13f79535-47bb-0310-9956-ffa450edef68

commit 6dc50af6e80e38db49a9667578f5e4e109a2a8d6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 7 15:43:37 2010 +0000

    Add checkstyle rule for modifier order and fix remaining issues in current code base
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1043106 13f79535-47bb-0310-9956-ffa450edef68

commit a83ba311bae66d6c0cbfd3bd47d53767582958b1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 7 15:42:32 2010 +0000

    Fix modifier order in org.apache.catalina.*
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1043105 13f79535-47bb-0310-9956-ffa450edef68

commit 5b9eb0a146c7674b015c864508e0899a133fdcb9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 7 15:40:49 2010 +0000

    Fix modifier order in org.apache.naming.*
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1043104 13f79535-47bb-0310-9956-ffa450edef68

commit 566e92646b740857f15a61a53dd24e23f1894aed
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 7 15:40:06 2010 +0000

    Fix modifier order in org.apache.tomcat.*
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1043103 13f79535-47bb-0310-9956-ffa450edef68

commit 6e9c38da1677cdac44094a14f37fcaee19c302b6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 7 15:39:09 2010 +0000

    Fix modifier order in org.apache.jasper.*
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1043101 13f79535-47bb-0310-9956-ffa450edef68

commit 139225d9c94a4c3327c5175a9af4c01e637da901
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 7 15:38:06 2010 +0000

    Fix modifier order in org.apache.el.*
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1043099 13f79535-47bb-0310-9956-ffa450edef68

commit 8c41ce9eea172648d082fda775535921012b01b7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 7 15:36:36 2010 +0000

    Fix modifier order in javax.*
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1043098 13f79535-47bb-0310-9956-ffa450edef68

commit 817590645af7f7e946aaee4758a420fd7f81b0c2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 7 14:01:21 2010 +0000

    Another day, another check
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1043051 13f79535-47bb-0310-9956-ffa450edef68

commit ec6da1c78a04682ed58ea38497ed1a1b4d41bfc5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 7 14:00:42 2010 +0000

    Typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1043050 13f79535-47bb-0310-9956-ffa450edef68

commit b3a8b3e1e3c8e2675ba8bdfdfcdcbc92d822d5ad
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 7 00:08:38 2010 +0000

    Re-factoring in support of https://issues.apache.org/bugzilla/show_bug.cgi?id=50360
    Pull up the concrete destroy() method - required a fair bit of refactoring
    Pull up the abstract init() method()
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042873 13f79535-47bb-0310-9956-ffa450edef68

commit 586eb46c62b845cb57951f311b2ab1b04be03752
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 6 23:22:44 2010 +0000

    Re-factoring in support of https://issues.apache.org/bugzilla/show_bug.cgi?id=50360
    Add the necessary plumbing for the AbstractProtocolHandler to perform the JMX registration
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042850 13f79535-47bb-0310-9956-ffa450edef68

commit 391c45e24170a78b803677cc5b0f9e7b40d2a204
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 6 22:19:35 2010 +0000

    Fix auto-completion snafu
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042816 13f79535-47bb-0310-9956-ffa450edef68

commit 2bd11b2f518e4ee7366dfc8ced4efe24df8874a4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 6 22:06:52 2010 +0000

    Re-factoring in support of https://issues.apache.org/bugzilla/show_bug.cgi?id=50360
    Pull up JMX related methods
    Tidy up the remaining protocol specific methods
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042814 13f79535-47bb-0310-9956-ffa450edef68

commit bc6f62499f2871e15d2a7d63533e9ad4f8a8ab82
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 6 21:25:07 2010 +0000

    Include root cause in LifecycleException stack traces
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042798 13f79535-47bb-0310-9956-ffa450edef68

commit 1790088c2fe9e4e7deb63eea64871bf92503b7d1
Author: Sylvain Laurent <slaurent@apache.org>
Date:   Mon Dec 6 20:49:14 2010 +0000

    bug 49159: Improve ThreadLocal memory leak clean-up
    https://issues.apache.org/bugzilla/show_bug.cgi?id=49159
    
    Various fixes after review by markt : formatting, use string manager, svn props...
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042786 13f79535-47bb-0310-9956-ffa450edef68

commit 5b279423819a4696942a082e1b92f3a3f9c8198b
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Dec 6 20:19:03 2010 +0000

    Correct a typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042775 13f79535-47bb-0310-9956-ffa450edef68

commit 3750293f29723fd085158c8ed89aa9092fdbd14c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 6 19:20:57 2010 +0000

    Get the tests running again on the command line
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042761 13f79535-47bb-0310-9956-ffa450edef68

commit da2726a6cc817547efca8e04cbd8c7be236d5bc2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 6 17:16:53 2010 +0000

    Re-factoring in support of https://issues.apache.org/bugzilla/show_bug.cgi?id=50360
    Pull up timeout getters/setters.
    Use -1 consistently for the default value of keepAliveTimeout
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042726 13f79535-47bb-0310-9956-ffa450edef68

commit b68cb237fe745792a6703b390c487388a96f40c0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 6 16:41:06 2010 +0000

    Since the address is exposed to sub-components, expose the port as well.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042716 13f79535-47bb-0310-9956-ffa450edef68

commit e3e637755d7c5b887abd92cc473dc0287ff75e68
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 6 16:37:16 2010 +0000

    Fix another mix-up of connectionUploadTimeout and connectionTimeout
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042713 13f79535-47bb-0310-9956-ffa450edef68

commit 7dab388e42de81de70fc9988901b390e29904be7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 6 16:29:25 2010 +0000

    Revert svn-ignore property changes made in r1042482
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042708 13f79535-47bb-0310-9956-ffa450edef68

commit fc763df5bafd3b0b63bb0c1564f4b6dbaefee5a2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 6 16:26:17 2010 +0000

    Fix mix-up of connectionUploadTimeout and connectionTimeout
    Use connectionUploadTimeout consistently as attribute name
    Document connectionUploadTimeout
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042706 13f79535-47bb-0310-9956-ffa450edef68

commit 800a177dee899e1d0b372caf96ef8020954d47bb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 6 16:04:33 2010 +0000

    Remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042696 13f79535-47bb-0310-9956-ffa450edef68

commit 68cf1f044a212f6ea85d5823f69fa4198c98cfc0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 6 15:43:52 2010 +0000

    Re-factoring in support of https://issues.apache.org/bugzilla/show_bug.cgi?id=50360
    Pull up more getters/setters.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042681 13f79535-47bb-0310-9956-ffa450edef68

commit 2e7cef2df078da79fd9cfcb5552fc62437c787cc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 6 15:01:34 2010 +0000

    Re-factoring in support of https://issues.apache.org/bugzilla/show_bug.cgi?id=50360
    Start to pull more getters/setters and the generic attribute handling. Note that the comments around generic attribute handling are aspirational in some cases but subsequent commits should align the behaviour to the comments.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042670 13f79535-47bb-0310-9956-ffa450edef68

commit 18881036beeac95d5a9d0b6ba1e362d75b002922
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 6 14:09:14 2010 +0000

    Remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042651 13f79535-47bb-0310-9956-ffa450edef68

commit 605938f706d48db0c849b38fd92d03011b4829c7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 6 14:02:19 2010 +0000

    Re-factoring in support of https://issues.apache.org/bugzilla/show_bug.cgi?id=50360
    Start to pull stuff up into the base class
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042648 13f79535-47bb-0310-9956-ffa450edef68

commit cb4da433c94b877bf85b9d3e557fb381464872e8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 6 13:36:48 2010 +0000

    Re-factoring in support of https://issues.apache.org/bugzilla/show_bug.cgi?id=50360
    Implement a common base class for ProtocolHandler implementations that will handle life-cycle/mbean issues (once more re-factoring has been completed)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042639 13f79535-47bb-0310-9956-ffa450edef68

commit 105b0330e82400c39d92ae171e11f6198dd8a900
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 6 00:17:43 2010 +0000

    Line-length
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042495 13f79535-47bb-0310-9956-ffa450edef68

commit 411e468bba62cb44bbfa286eda7918821eb0ca34
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 6 00:15:45 2010 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042494 13f79535-47bb-0310-9956-ffa450edef68

commit b408a985579eddba07ee85a6aeb6ac98f8f6271a
Author: Sylvain Laurent <slaurent@apache.org>
Date:   Sun Dec 5 22:54:05 2010 +0000

    bug 49159: Improve ThreadLocal memory leak clean-up
    https://issues.apache.org/bugzilla/show_bug.cgi?id=49159
    Renewing threads of the pool when a webapp is stopped
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042482 13f79535-47bb-0310-9956-ffa450edef68

commit 74cfee8ae05589a6bcabd945636235f3ffac74ab
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 5 22:50:56 2010 +0000

    Additional fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=50411
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042480 13f79535-47bb-0310-9956-ffa450edef68

commit 7f79b1b4b8a9cbd825390204f6a0db62a150f902
Author: Sylvain Laurent <slaurent@apache.org>
Date:   Sun Dec 5 21:26:22 2010 +0000

    bug 50282 / fixed line length
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042452 13f79535-47bb-0310-9956-ffa450edef68

commit f63302183a3cf4e2381643e0a187877cfc32cd3d
Author: Sylvain Laurent <slaurent@apache.org>
Date:   Sun Dec 5 21:07:49 2010 +0000

    sort entries by ascending BZ number
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042448 13f79535-47bb-0310-9956-ffa450edef68

commit 711117b32c4a35bb7df34a57ffac3b275fc89252
Author: Sylvain Laurent <slaurent@apache.org>
Date:   Sun Dec 5 21:06:25 2010 +0000

    bug 50282 / fixed some typos in documentation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042447 13f79535-47bb-0310-9956-ffa450edef68

commit 43412b4c33a46a338af705b1fa7959df48a9876e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 5 19:32:00 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50411
    Ensure sessions are removed from the Store associated with a PersistentManager.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042427 13f79535-47bb-0310-9956-ffa450edef68

commit 9d4bb2215cc9cf6fe1aa60c393fa9d181d607669
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 5 19:16:07 2010 +0000

    Address some review comments:
    1. Avoid possible NPEs by using a local variable for the newDefaultAccessLog
    2. PropertyChangeListener should be added to the Engine
    3. Add the listener when the Noop logger is used so changes can be detected that could cause a different logger to be used.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042413 13f79535-47bb-0310-9956-ffa450edef68

commit c0790af26291d2a722166718d6c03586b2d548e1
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Dec 5 18:22:25 2010 +0000

    Mark 'basePackage' as final, to allow string concatenation to be done at compile time.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042395 13f79535-47bb-0310-9956-ffa450edef68

commit 86e23c9fa23cff55fa52584f775647d8f0eee954
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 5 12:51:46 2010 +0000

    Ignore all .* files rather than adding them one by one as they appear
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042339 13f79535-47bb-0310-9956-ffa450edef68

commit 3efe949d1f9f6e28208421b16231d2c29c70f20c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 5 12:49:22 2010 +0000

    Remove file accidentally added in r1042029
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042337 13f79535-47bb-0310-9956-ffa450edef68

commit e2a1652e17a5addd205649c3d7757e793c5885a4
Author: Sylvain Laurent <slaurent@apache.org>
Date:   Fri Dec 3 22:19:11 2010 +0000

    bug 50282 : Load javax.security.auth.login.Configuration with JreMemoryLeakPreventionListener to avoid memory leak when stopping a webapp that would use JAAS.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042029 13f79535-47bb-0310-9956-ffa450edef68

commit a8b5b53401d1bf42c6318fdc87a392da9c48cb6e
Author: Sylvain Laurent <slaurent@apache.org>
Date:   Fri Dec 3 22:00:58 2010 +0000

    bug 48973 (enhancement): Don't create SESSIONS.ser when no session exists
    https://issues.apache.org/bugzilla/show_bug.cgi?id=48973
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042022 13f79535-47bb-0310-9956-ffa450edef68

commit 77d650b142f52cd7c744af6236b9aa2a5d352c8b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 3 21:49:54 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50408
    Fix <code>NoSuchMethodException</code> when using scoped variables with EL method invocation.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1042021 13f79535-47bb-0310-9956-ffa450edef68

commit fc740ba9f01b3f5826af8a7718fa0a96f7528987
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 3 20:23:43 2010 +0000

    Need at least one test per class dummy test for unit tests to pass
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1041978 13f79535-47bb-0310-9956-ffa450edef68

commit 15bfcf9ae60a96bbd4f423874375bdefd78e488c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 3 18:07:52 2010 +0000

    Revert r1041120 but disable rather than delete new test
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1041940 13f79535-47bb-0310-9956-ffa450edef68

commit cc21fdce213dac20bcd7b5b34916b36888a3317f
Author: Christopher Schultz <schultz@apache.org>
Date:   Fri Dec 3 16:07:50 2010 +0000

    Fixed bug 48692: Provide option to parse application/x-www-form-urlencoded PUT requests
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1041892 13f79535-47bb-0310-9956-ffa450edef68

commit fd0b65631ea824c114303b7c2786459ea2c125a6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 2 22:37:53 2010 +0000

    Bump versions ready for next release
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1041621 13f79535-47bb-0310-9956-ffa450edef68

commit 4fc7f7174890d2275b052e0d7e1518ca6802936a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 2 20:48:41 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=8705
    org.apache.catalina.SessionListener should extend java.util.EventListener
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1041578 13f79535-47bb-0310-9956-ffa450edef68

commit ca75ee1ebfec2897e1b7a60b3dbdd907cbd825e8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 2 20:35:15 2010 +0000

    Add an embedded distribution to the release build
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1041573 13f79535-47bb-0310-9956-ffa450edef68

commit c16371ff5704a4bf8d8c0fe501c8b1d2096eaca3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 2 20:03:22 2010 +0000

    Fix Javadoc warning
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1041558 13f79535-47bb-0310-9956-ffa450edef68

commit 1f5c55bc2734bb8d724a80aa621337976b27bbdf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 2 18:17:55 2010 +0000

    Replace use of inefficient constructors
    Reported by FindBugs. Not all fixed.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1041511 13f79535-47bb-0310-9956-ffa450edef68

commit 7929d071af674321f9b4b626dd8f93870ac2b1f7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 2 17:25:45 2010 +0000

    Remove unnecessary code
    Identified by FindBugs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1041475 13f79535-47bb-0310-9956-ffa450edef68

commit d1123d4d68bab8570425b4b66130e09934c97907
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 2 17:15:08 2010 +0000

    Don't pass null to log messages.
    Found by FindBugs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1041469 13f79535-47bb-0310-9956-ffa450edef68

commit 517f683491c6577ab53bb087e8137a166595d2ae
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 2 17:07:07 2010 +0000

    Protect against unlikely NPE
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1041458 13f79535-47bb-0310-9956-ffa450edef68

commit eb66fed2e90b4b362fc126c24c7c6117f78d296e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 2 16:51:08 2010 +0000

    Correct removal of LifeCycleListenters from Containers via JMX.
    Found with FindBugs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1041448 13f79535-47bb-0310-9956-ffa450edef68

commit 0fdcc48ebf4c2a4e06f1925e79a3f03753445092
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 2 16:09:45 2010 +0000

    Better test case
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1041427 13f79535-47bb-0310-9956-ffa450edef68

commit a593c3fb28b39c4748d6d7f9d38f3b0fb7687952
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 2 16:07:10 2010 +0000

    Fix error in r1041356
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1041425 13f79535-47bb-0310-9956-ffa450edef68

commit cd8d367e2acf1999d07af94f5993a46024625842
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 2 12:56:56 2010 +0000

    HostConfig passed a context name to ContextName(String) - ensure that this is correctly parsed. ContextName(String) now accepts all variations of Context name.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1041356 13f79535-47bb-0310-9956-ffa450edef68

commit ed079356be077c0e20f45807aa22cdb678a06fa5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 2 10:30:17 2010 +0000

    Make constants static
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1041324 13f79535-47bb-0310-9956-ffa450edef68

commit 9e880cc523228164d4ed7d040c2c5bc68a17f0ad
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Dec 2 01:40:55 2010 +0000

    Move changelog comment for BZ 50228 from Catalina to Jasper.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1041248 13f79535-47bb-0310-9956-ffa450edef68

commit d228a473afaa51a199934596566b5584fb1baa63
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 1 19:00:53 2010 +0000

    Revert part of r1039051
    Current node is not included in cluster.getMmebers() so previous test was correct
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1041133 13f79535-47bb-0310-9956-ffa450edef68

commit 8bbb03972cbd4d5edc0a2b340fd8ac9914a32c64
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 1 18:37:29 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50360
    Bind/release socket on start()/stop()
    Register/deregister MBeans on init()/destroy()
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1041120 13f79535-47bb-0310-9956-ffa450edef68

commit c38a1ae9181d5c9ebaf353f27a4cf394bc84087e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 1 17:43:25 2010 +0000

    Tab police
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1041101 13f79535-47bb-0310-9956-ffa450edef68

commit 8864ba337f6bde10e45731db5b356bf45f3adb33
Author: Rainer Jung <rjung@apache.org>
Date:   Wed Dec 1 16:25:34 2010 +0000

    Fix typo (syntax error) in changelog.
    Should also fix recent buildbot failure.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1041074 13f79535-47bb-0310-9956-ffa450edef68

commit eb73030522170a865228fa1bd54caffabcf4e689
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 1 15:41:45 2010 +0000

    Don't put anything in current dev since it will be picked up in the tag and could cause confusion
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1041061 13f79535-47bb-0310-9956-ffa450edef68

commit 4f77d2004ab5c1a5df5646ee1ad95ca9a2e94677
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 1 15:41:01 2010 +0000

    Update release dates
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1041060 13f79535-47bb-0310-9956-ffa450edef68

commit ce849ec3138a7061631d9bcd8a3a6a0f68a8e642
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 30 17:55:38 2010 +0000

    Don't set property that doesn't exist on any ProtocolHandler or Endpoint
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1040656 13f79535-47bb-0310-9956-ffa450edef68

commit 5d1a0b21ee27306abd29fd2f99b6a726c98d7184
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 30 17:42:01 2010 +0000

    Context name rather than Context path is passed in so construct ContextName object correctly.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1040652 13f79535-47bb-0310-9956-ffa450edef68

commit 925d7836d49ad93575c2cd1da4725d0a77f03c3b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 30 16:11:23 2010 +0000

    Switch MapperListener to the new Lifecycle
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1040609 13f79535-47bb-0310-9956-ffa450edef68

commit 857ce3ff384caebc30977f6e509b386c7673d73f
Author: Rainer Jung <rjung@apache.org>
Date:   Tue Nov 30 14:58:07 2010 +0000

    Fix typo in script comment.
    BZ 50383, addition to r1040546.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1040553 13f79535-47bb-0310-9956-ffa450edef68

commit a06af6906a3aa66866e7612f7ac7330f8ca2bc83
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 30 14:47:34 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50383
    Comment typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1040546 13f79535-47bb-0310-9956-ffa450edef68

commit 1fbfa40a02820ca6cff5f2091c6be401fa807134
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 30 13:41:09 2010 +0000

    Align tests with new ManagerBase code
    Update OSX figures - now comparable
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1040516 13f79535-47bb-0310-9956-ffa450edef68

commit d01e73c71c4cd9e851243e36da9f2a133d0667ff
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 30 13:15:51 2010 +0000

    Remove direct support for reading random bytes from a file
    Add support for specifying SecureRandom algorithm and provider
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1040511 13f79535-47bb-0310-9956-ffa450edef68

commit c3bdb931c400c64c55b7df25c7672e68a7397f8c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 30 10:19:38 2010 +0000

    Updated Windows results (removal of digest)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1040456 13f79535-47bb-0310-9956-ffa450edef68

commit b9bfda00d2438e9a4ae0c89f83cb6131883a34cb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 30 10:18:41 2010 +0000

    SecureRandom implementations are self-seeding so simplify code.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1040455 13f79535-47bb-0310-9956-ffa450edef68

commit 0ad75cbff63a67299d24901aba89a769faf0980f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 30 10:02:33 2010 +0000

    randomClass -> secureRandomClass
    Align (and tidy up) mbean descriptor
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1040453 13f79535-47bb-0310-9956-ffa450edef68

commit 8f3e4d365ba4317ba2a55a4f188857345ad961a0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 30 10:00:37 2010 +0000

    Need required attribute or docs don't display correctly
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1040452 13f79535-47bb-0310-9956-ffa450edef68

commit 42229131480de665daa76407c0a2a8365fe87493
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 30 09:35:01 2010 +0000

    Fix Javadoc warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1040450 13f79535-47bb-0310-9956-ffa450edef68

commit 067bb1bf0a8c8295f55d3eba617aba478fff7408
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Nov 29 17:32:21 2010 +0000

    Add css to text file list.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1040199 13f79535-47bb-0310-9956-ffa450edef68

commit ab7b8b305e3fcd48db7b511fcdf2dcba8a1066e9
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Nov 29 17:31:18 2010 +0000

    Set svn properties.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1040198 13f79535-47bb-0310-9956-ffa450edef68

commit 14678337f0ed568bff6648784d4c6b1d7330fa4f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 29 17:23:55 2010 +0000

    Correct method names in log messages
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1040196 13f79535-47bb-0310-9956-ffa450edef68

commit d5e8e98ae45ceadb1dbdcdf6a9be3fd330a0646a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 29 16:58:31 2010 +0000

    Test case for https://issues.apache.org/bugzilla/show_bug.cgi?id=50352
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1040190 13f79535-47bb-0310-9956-ffa450edef68

commit fb3fcc8979c75a78376baf21341ec9ed162db808
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 29 16:58:05 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50352
    Ensure that AsyncListener.onComplete() is fired when AsyncContext.complete() is called.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1040189 13f79535-47bb-0310-9956-ffa450edef68

commit c57f34603e8f7bca73ef80aacb9eda74b1f96ad5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 29 15:46:13 2010 +0000

    Correct method name in log message
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1040161 13f79535-47bb-0310-9956-ffa450edef68

commit 8f4317438f41264b499a1c29cae83fb689f7bb3b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 29 15:40:11 2010 +0000

    Add a test case for https://issues.apache.org/bugzilla/show_bug.cgi?id=50351
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1040158 13f79535-47bb-0310-9956-ffa450edef68

commit 81fbe373a97a422af59e32b0e36c5815e1ecf7b1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 29 15:39:50 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50351
    Fix the regression that broke BeanFactory resources caused by the previous fix for 50159
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1040157 13f79535-47bb-0310-9956-ffa450edef68

commit 2080d35893f08f7753c848cd40eff51c7d140ae0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 29 13:41:07 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50358
    Set correct state when stopping
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1040111 13f79535-47bb-0310-9956-ffa450edef68

commit 3f9e5f94860777537e151547eaa687e22c5256b0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 28 13:31:39 2010 +0000

    SecureRandom is self-seeding
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1039882 13f79535-47bb-0310-9956-ffa450edef68

commit 07fb644da1263c6e832679dc6fd3d2c00f00f8f4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 27 17:05:27 2010 +0000

    Make SecureRandom the fall-back and use SecureRandom throughout rather than Random
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1039707 13f79535-47bb-0310-9956-ffa450edef68

commit 5c270c56681fd46367d828a6c5d7ab94718af0fa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 27 14:50:37 2010 +0000

    Add a /dev/urandom vs SecureRandom benchmark
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1039692 13f79535-47bb-0310-9956-ffa450edef68

commit f4358d2f1e2d6f82f1ec2a3a278d574291a21d73
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 27 13:52:13 2010 +0000

    Update so this will run
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1039683 13f79535-47bb-0310-9956-ffa450edef68

commit 18e716787e96e1f5040672098db21604517a0cd9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 27 13:47:03 2010 +0000

    Remove attributes from PersistentManager too
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1039680 13f79535-47bb-0310-9956-ffa450edef68

commit 0ab6017245dcc478a41bf1620e3d1ea8431a581a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 27 11:41:10 2010 +0000

    Drop the entropy attribute. SecureRandom has a sufficiently secure self-seeding mechanism.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1039657 13f79535-47bb-0310-9956-ffa450edef68

commit 0ad0a923b753444cca981b1c5ed3eba588d54449
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 27 10:41:26 2010 +0000

    Using SecureRandom makes digesting the ID unnecessary. Dropping the digest gives ~20% performance gain on ID generation.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1039648 13f79535-47bb-0310-9956-ffa450edef68

commit b933e42fb2f4bc838440d5bb54f43f0250026456
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 25 14:21:52 2010 +0000

    Make method name consistent with class name
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1039056 13f79535-47bb-0310-9956-ffa450edef68

commit 74f3239994d560a37e61283e001891cc493d454f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 25 14:12:24 2010 +0000

    Fix a couple of clustering issues:
     - Don't try and obtain session data from the cluster if the current node is the only node in the cluster.
     - Log requesting session data as INFO rather than WARNING.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1039051 13f79535-47bb-0310-9956-ffa450edef68

commit 2446fa1a1d904c333126f58d57a03ee9df321b55
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 25 10:19:33 2010 +0000

    Correctly validate context path so sessions can be viewed for ROOT webapp
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1038981 13f79535-47bb-0310-9956-ffa450edef68

commit 85f9e8b2b2f0a0d53ad256ca6e8bc007b73e332f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 25 10:10:31 2010 +0000

    Update changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1038978 13f79535-47bb-0310-9956-ffa450edef68

commit 5a95cde8a50d95e98849369c2ae1a6c112bfff5a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 25 10:05:02 2010 +0000

    Don't use pid file. It is not removed on service stop and prevents the next service start.
    https://issues.apache.org/jira/browse/DAEMON-188 has been raised for this issue.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1038975 13f79535-47bb-0310-9956-ffa450edef68

commit 73770e632f912d2f103c0564d9193904cee09144
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 24 22:08:38 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49142
    Add missing serialVersionUIDs using Eclipse's auto correct and a little manual formatting
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1038846 13f79535-47bb-0310-9956-ffa450edef68

commit 6274fef74ca6d050ece469694d98488cf8b29eaf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 24 21:28:33 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48837
    Extend thread local memory leak detection to include classes loaded by subordinate class loaders to the web application's class loader such as the Jasper class loader.
    Based on a patch by Sylvain Laurent.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1038831 13f79535-47bb-0310-9956-ffa450edef68

commit 638f29dbceb6a634ea7e1d354a446818df1a0997
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 24 20:55:02 2010 +0000

    Move to Catalina section
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1038811 13f79535-47bb-0310-9956-ffa450edef68

commit 2c68121c3d2b31443197235501dab0d5c3f0d585
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 24 20:54:21 2010 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=50106
    Correct several MBean descriptors.
    Patch provided by Eiji Takahashi.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1038810 13f79535-47bb-0310-9956-ffa450edef68

commit 99b418e2381a2af948af28f36fb178b7000eee99
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 24 20:33:49 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49650
    Remove unnecessary entries package.access property defined in catalina.properties.
    Patch provided by Owen Farrell.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1038803 13f79535-47bb-0310-9956-ffa450edef68

commit 63e7958a7c18dd6c8aa20c382b7d8c9c22082ce1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 24 20:16:32 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50108
    Add get/set methods for Connector property minSpareThreads.
    Patch provided by Eiji Takahashi.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1038799 13f79535-47bb-0310-9956-ffa450edef68

commit 800aa54e57eb1e2b56d07115b7d9729929903315
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 24 20:09:26 2010 +0000

    Add additional trace level logging to Tribes to assist with fault diagnosis.
    Based on a patch by Ariel.
    Fix Eclipse warnings in file
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1038795 13f79535-47bb-0310-9956-ffa450edef68

commit e979994d4af1a689cb48c36787c9ad8208c56df6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 24 19:59:19 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50294
    Add more information to documentation regarding format of configuration files. Patch provided by Luke Meyer.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1038789 13f79535-47bb-0310-9956-ffa450edef68

commit 48efafb8fcf176cd72dca5a8036f14e1283a4d93
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 24 18:52:34 2010 +0000

    Increment version number ready for next release
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1038762 13f79535-47bb-0310-9956-ffa450edef68

commit da878454be3bc448ac56913dcae6d3c5470bbbc8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 24 17:36:28 2010 +0000

    host.removeChild() already calls context.destroy(). Don't call it twice.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1038713 13f79535-47bb-0310-9956-ffa450edef68

commit 5b8c78d667bb5ee17664c1ddb6b171492695b362
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 24 17:28:55 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50201
    Track changes that require an update to the default access log.
    It isn't perfect but should cover normal usage
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1038711 13f79535-47bb-0310-9956-ffa450edef68

commit 6bba9a5cf99bab8e8225f602d97346b77586072e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 24 15:58:46 2010 +0000

    Don't swallow error
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1038656 13f79535-47bb-0310-9956-ffa450edef68

commit 52a3ea2c3fbfed23e75863d049d4bb58029a045b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 23 22:48:21 2010 +0000

    NoOp logger is only used in StandardEngine so move it there
    Only log to containers that are available
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1038369 13f79535-47bb-0310-9956-ffa450edef68

commit 62dad46c960e41854ae910baf9163991ef197a21
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 23 21:45:56 2010 +0000

    Move configuration of trailer header size limit to the connector
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1038351 13f79535-47bb-0310-9956-ffa450edef68

commit 5da6b733ded62d4077056300b2672ccba263fe4a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 23 19:21:09 2010 +0000

    Add a test case for bug50015
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1038290 13f79535-47bb-0310-9956-ffa450edef68

commit ba8926784ebc5749319c64450844071c54c69fed
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 23 19:20:42 2010 +0000

    Roles are supported
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1038289 13f79535-47bb-0310-9956-ffa450edef68

commit 918f26b6d3e7895382f419ad1b280f532c55a2a7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 23 17:59:49 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50318
    Avoid NPE when viewing session detail for expired sessions
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1038235 13f79535-47bb-0310-9956-ffa450edef68

commit 0b151b3a647b93df4f93308a8321dfadf30eace6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 23 16:57:47 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50207
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1038202 13f79535-47bb-0310-9956-ffa450edef68

commit e05993f2dc2b7f7e6f81ea2da6a47673b633b077
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 23 10:38:40 2010 +0000

    Make memory leak prevention code that clears ThreadLocal instances more robust against objects with toString() methods that throw exceptions.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1038041 13f79535-47bb-0310-9956-ffa450edef68

commit 55044df6d28af161737921c177f4a6a6130f70a6
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Nov 22 22:54:51 2010 +0000

    Remove border-radius.htc until issue with this file is clarified.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1037929 13f79535-47bb-0310-9956-ffa450edef68

commit 3b9df54113782909acca632209686ea22d71dbe3
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Nov 22 22:43:51 2010 +0000

    Impose a limit on the total length of the trailing headers.
    Otherwise the ByteChunk buffer in the ChunkedInputFilter might grow unlimitedly.
    
    Implemented as a system property. It might be better to implement it as an attribute of a connector (like maxPostSize and maxSavePostSize attributes are), but I am not sure that it is worth the effort.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1037924 13f79535-47bb-0310-9956-ffa450edef68

commit a126eb652e463c1b5e90ab135cda81fdac1b9452
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Nov 22 20:59:20 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50316
    Fix display of negative values
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1037887 13f79535-47bb-0310-9956-ffa450edef68

commit cc57d64db0340a692c2a0ab87288ae3c6218bc50
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Nov 22 17:40:09 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50228
    Improve recycling of BodyContentImpl.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1037794 13f79535-47bb-0310-9956-ffa450edef68

commit e639e42190808f0bb3f0e217a4f3c579f4f7af73
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 22 17:19:07 2010 +0000

    Fix CVE-2010-4172. Multiple XSS in Manager web application
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1037778 13f79535-47bb-0310-9956-ffa450edef68

commit 7d46ef1bb9db6b8006e3a413985288ca305f397f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 22 14:35:51 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50308
    Allow asynchronous request processing to call AsyncContext.dispatch() once the asynchronous request has timed out.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1037735 13f79535-47bb-0310-9956-ffa450edef68

commit 1d60e30d056aaddfa030a63de4d52dad3d21abea
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 22 14:12:05 2010 +0000

    Additional info for https://issues.apache.org/bugzilla/show_bug.cgi?id=50273
    Add the error number to the message
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1037728 13f79535-47bb-0310-9956-ffa450edef68

commit 12a5d2ab7193f7c9ef00d1cbd45b298e33940669
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 22 13:42:01 2010 +0000

    Fix https://issues.apache.org/bugzilla/process_bug.cgi
    Provide a workaround for an HP-UX issue that can result in large numbers of SEVERE log messages appearing in the logs as a result of normal operation.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1037715 13f79535-47bb-0310-9956-ffa450edef68

commit ceefd738846e1bc865b543601a108dae2b6b2d1c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 22 11:49:05 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50310
    Ensure Servlet info is displayed in Manager application
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1037683 13f79535-47bb-0310-9956-ffa450edef68

commit 93f030e3b8212aa3ac062a05236384411fb4e7b3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 22 11:46:46 2010 +0000

    Update docs to new MBean names
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1037682 13f79535-47bb-0310-9956-ffa450edef68

commit 828aa15e8aaf6d48ecc7b8ffc74697252e57386d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 22 11:45:57 2010 +0000

    Use correct MBean name for Mangers
    Fix Eclipse niggle
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1037681 13f79535-47bb-0310-9956-ffa450edef68

commit 101441b8887e462ad68491686e4bfc9e259bf484
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 22 11:41:34 2010 +0000

    Ensure MBean names are correct generated for version ROOT web applications.
    Fix ContextResource case that was using old path=... rather than new context=...
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1037677 13f79535-47bb-0310-9956-ffa450edef68

commit c65a0509f5e2100e6f7f4e71cf3cf3751ff314eb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 22 11:05:28 2010 +0000

    Add recent HTML manager app fixes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1037669 13f79535-47bb-0310-9956-ffa450edef68

commit 60f3587a0034011166ae63da2a182bfee69f3177
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 22 10:32:12 2010 +0000

    Fix manager app - attribute removed message was not being displayed
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1037663 13f79535-47bb-0310-9956-ffa450edef68

commit 27df90fff39fa6cddbdff61b0f90bba94bac4368
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 22 10:30:05 2010 +0000

    Fix primary sessions not always treated as such by Manager app.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1037661 13f79535-47bb-0310-9956-ffa450edef68

commit e732deeec68922c0b4623acca17e5c52349fb973
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 22 10:18:17 2010 +0000

    Simplify escapeXml(Object)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1037659 13f79535-47bb-0310-9956-ffa450edef68

commit e11db88e2cb41e8d56ab670479ec017919a3196c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 22 10:16:37 2010 +0000

    Fix ordering functionality for Manager app
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1037658 13f79535-47bb-0310-9956-ffa450edef68

commit 774edbbaece2b0f1f0078977da1141dfae50e532
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Nov 22 03:05:44 2010 +0000

    Revert r1032232
    It broke evaluation of <c:set var="v">value<c:set>
    https://issues.apache.org/bugzilla/show_bug.cgi?id=50228#c3
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1037594 13f79535-47bb-0310-9956-ffa450edef68

commit 991d7e2b5bbecc7f488e09dd41e37b73dd386a3a
Author: Mladen Turk <mturk@apache.org>
Date:   Sat Nov 20 17:34:56 2010 +0000

    Use image with tm (the same as tomcat.gif logo)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1037277 13f79535-47bb-0310-9956-ffa450edef68

commit eaa68781f564a959106644b95ae7f6d92374660b
Author: Mladen Turk <mturk@apache.org>
Date:   Sat Nov 20 17:29:50 2010 +0000

    Images are not executable
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1037276 13f79535-47bb-0310-9956-ffa450edef68

commit f9f4fc0310a962949ca845919321589bc4a50649
Author: Mladen Turk <mturk@apache.org>
Date:   Sat Nov 20 17:15:09 2010 +0000

    Add tm powered by logo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1037274 13f79535-47bb-0310-9956-ffa450edef68

commit e0b9905abeb2b0377e845385893597d577852116
Author: Mladen Turk <mturk@apache.org>
Date:   Sat Nov 20 12:45:02 2010 +0000

    Add tm
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1037199 13f79535-47bb-0310-9956-ffa450edef68

commit 102b6d50022768b739c9c3e078865192f77c8ef8
Author: Mladen Turk <mturk@apache.org>
Date:   Sat Nov 20 12:41:47 2010 +0000

    Add tm to logo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1037197 13f79535-47bb-0310-9956-ffa450edef68

commit ca6a83d1b68aa22f9f44e417f8d7faab38ad491e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 19 18:49:11 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50303
    Update JavaMail download location
    JAF is included in Java SE 6
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1036975 13f79535-47bb-0310-9956-ffa450edef68

commit 29f8ebaadfe62529b8b8ae64988fa1211bce15f8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 19 18:31:17 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50293
    Increase default resolver array size. (Jasper adds 5 resolvers.)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1036972 13f79535-47bb-0310-9956-ffa450edef68

commit 676b0d2bcceca88a63d74defe0091bd7e465fff8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 19 18:21:29 2010 +0000

    Additional fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=49297
    Handle tag directives in a similar manner to page directives
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1036969 13f79535-47bb-0310-9956-ffa450edef68

commit e5aee6e10b0e77f6eda3e76dbf077f08e9948df3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 19 17:18:04 2010 +0000

    Add the final component of parallel deployment
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1036949 13f79535-47bb-0310-9956-ffa450edef68

commit 97b75638af6ebc0dd05c1cf8f6f5daadce382bc7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 19 16:20:09 2010 +0000

    The 60s timeout waiting for session info from other nodes will block processing of all cluster messages. As well as lost session updates, this can result in lost sessions if a fail-over occurs while the messages are being blocked.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1036918 13f79535-47bb-0310-9956-ffa450edef68

commit 2f4444c38d1e8dfdcda584d54e271a46214ba66c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 19 15:00:32 2010 +0000

    Parallel deployment
    One more place where contexy.getPath() needs to be replaced with context.getName()
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1036882 13f79535-47bb-0310-9956-ffa450edef68

commit 012341f77cac17524d54101c5e08c4f9687e83d7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 19 12:55:27 2010 +0000

    Changes to Manager and HTML Manager to support parallel deployment
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1036828 13f79535-47bb-0310-9956-ffa450edef68

commit 84e1ebe0bff521e6dda06b410a86ae24e9cf7fd5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 19 10:33:54 2010 +0000

    Add displayName to ContextName
    Fix some bugs in ContextName constructors
    Add a test case for ContextName
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1036792 13f79535-47bb-0310-9956-ffa450edef68

commit e69f6951c9b3534c91e1eeadb42a078c87490c3a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 18 19:59:11 2010 +0000

    Fix expiration statistics broken by r1036281
    Add session creation and expiration rate statistics based on the 100 most recently created/expired sessions
    Modify average session alive time to also use 100 most recently expired sessions
    Update benchmarks - new statistics add overhead but not significant in overall processing chain
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1036595 13f79535-47bb-0310-9956-ffa450edef68

commit 735c0c84fb6743459d75a291cf2987df7639c477
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 18 15:49:19 2010 +0000

    Some additional statistics prompted by Remy's questions in the dev list
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1036500 13f79535-47bb-0310-9956-ffa450edef68

commit 2ae40b605f25a2201aea9007d4f787ad28c95d92
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 18 11:05:33 2010 +0000

    Comment out release notes link since tribes has not been released separately
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1036403 13f79535-47bb-0310-9956-ffa450edef68

commit 0327ed1a316ac07e0d67e4f7ef9a85f6cdc16505
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 18 10:54:22 2010 +0000

    Fix issues with tribes docs reported on users list.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1036398 13f79535-47bb-0310-9956-ffa450edef68

commit 1bc82574bb7d63a5ece5d6f01161c14ec3b5aff9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 17 23:36:25 2010 +0000

    Narrow the manager-wide sync
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1036286 13f79535-47bb-0310-9956-ffa450edef68

commit 536321cc3dfb9cfff17b482fac2dd892f68ea40e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 17 23:24:25 2010 +0000

    Refactor the calculation of session manager statistics to the session manager as suggested by kkolinko
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1036281 13f79535-47bb-0310-9956-ffa450edef68

commit 16e18df3914161312a94129fbb1b8d68fbfac458
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 17 18:06:20 2010 +0000

    Add recent performance improvements to changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1036150 13f79535-47bb-0310-9956-ffa450edef68

commit a8b751c587f6f4831254985e5c737187eb8faabe
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 17 17:59:49 2010 +0000

    Session manager performance
    Switch to a queue of randomInputStreams
    Significant performance improvement on multi-core non-Windows platforms
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1036145 13f79535-47bb-0310-9956-ffa450edef68

commit f354eeca4b03e5f20fdc3bd6d891598ea2cff9d0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 17 17:37:19 2010 +0000

    Session manager performance
    Switch to only allowing changes to randomFile to take effect when the Manager next starts. This will simplify replacing RandomIS with a queue which is the next step in improving Manager performance on non-Windows platforms
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1036129 13f79535-47bb-0310-9956-ffa450edef68

commit e64951bb717030b2fec26c3814789761d56b9098
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 17 17:21:13 2010 +0000

    Tab police - sorry rebuilt my laptop and forgot to configure Eclipse for spaces
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1036119 13f79535-47bb-0310-9956-ffa450edef68

commit 791813903ae70ec7117c4fa4609b581051db3f86
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 17 16:27:51 2010 +0000

    Rename attributes to align with getter/setter to make code easier to read
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1036100 13f79535-47bb-0310-9956-ffa450edef68

commit 3420728ff9bf26cc557a04d334eba63a0f3d1f4e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 17 16:26:23 2010 +0000

    Reduce code duplication
    Initialise the random number generator once in ManagerBase
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1036099 13f79535-47bb-0310-9956-ffa450edef68

commit 502a79ce2ca66b3be41613df8f8fc1b99a368dbd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 17 13:56:37 2010 +0000

    Update figures
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1036039 13f79535-47bb-0310-9956-ffa450edef68

commit c44f015dae57c254946822d8fb743a06d3a7236c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 17 13:05:20 2010 +0000

    Increase length of tests to
    a) reduce impact of start-up overhead
    b) make it easier to profile
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1036021 13f79535-47bb-0310-9956-ffa450edef68

commit 459e8fa4743e2570fe820545e70b56623dbb3962
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 17 12:59:06 2010 +0000

    Session manager performance
    Focused on Windows.
    Use a queue of Random's to generate session ID to remove sync bottleneck on random.nextBytes(bytes)
    Timings suggest some bottlenecks still present in default Windows code path
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1036019 13f79535-47bb-0310-9956-ffa450edef68

commit ae590dc29454bb4821f8e63f40f87908fea840ae
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 17 10:52:58 2010 +0000

    Session manager performance
    Focused on Windows.
    No need for DataInputStream, so remove it.
    Ensure randomIS is consistent with devRandomSource including when devRandomSource is changed whilst Manager is started
    Further reduce scope of syncs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1035975 13f79535-47bb-0310-9956-ffa450edef68

commit 32e66b93b7421c4490261773f22ba560cef0e104
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 17 10:48:16 2010 +0000

    Add some test code I used to check thread-safety of FileInputStream on various platforms
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1035974 13f79535-47bb-0310-9956-ffa450edef68

commit a0b0ed46fc683076c4f597d38e64dd83bc965807
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Nov 17 10:41:03 2010 +0000

    CoyoteAdapter.parsePathParameters:
    - do not reevaluate start/end, because we already have them in local variables
    - move warnedEncoding flag outside the loop, because otherwise it was always false and thus useless
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1035973 13f79535-47bb-0310-9956-ffa450edef68

commit b996158d3acd0d8207cd9418d880b088693e306c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 16 19:39:07 2010 +0000

    Additional results for reference
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1035759 13f79535-47bb-0310-9956-ffa450edef68

commit 81864d0f8746d1a5d691d72cd1b755a03bfb2715
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 16 18:07:56 2010 +0000

    Session manager performance
    Move sync. No performance change but sync requirements for sub-classes are clearer.
    Still looking to remove sync completely.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1035720 13f79535-47bb-0310-9956-ffa450edef68

commit a3e72a892a5c7f4939c300c038820ac3aac1babf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 16 17:50:34 2010 +0000

    Update the metrics - looking a lot better on Windows
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1035711 13f79535-47bb-0310-9956-ffa450edef68

commit e91acfeace007c74fd7b11692787455f1978fbb8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 16 17:48:07 2010 +0000

    Session manager performance
    Big performance improvement for Windows. Don't try to create randomIS on every single session creation call
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1035709 13f79535-47bb-0310-9956-ffa450edef68

commit ad69a1f30a71f4569e61f93af0f43028e58b8b29
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 16 17:22:45 2010 +0000

    Session manager performance
    Switch to a queue of message digests rather than a single sync'd digest
    Small improvement but is part of removing the sync completely that should result in larger improvements
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1035701 13f79535-47bb-0310-9956-ffa450edef68

commit e3c72e935c1d77cc0b93a49477313f1134c172b9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 16 17:13:29 2010 +0000

    Session manager performance
    Narrow sync - few % improvement
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1035699 13f79535-47bb-0310-9956-ffa450edef68

commit 60f6d24f6598739c753aa9ec5b9928311b2b3baa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 16 16:46:50 2010 +0000

    Add some benchmark code for session creation.
    A performance presentation at JavaOne 2010 highlighted Tomcat's session creation as a synchronisation bottleneck for multiple production apps
    Some optimisations will follow.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1035688 13f79535-47bb-0310-9956-ffa450edef68

commit b1d79de03d24edc55f579f13a0cc1340d8ddc290
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 16 16:41:13 2010 +0000

    Avoid NPE when removing sessions
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1035685 13f79535-47bb-0310-9956-ffa450edef68

commit 72fdff91bb368b9f90286abda7061e486577b538
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Nov 16 02:54:12 2010 +0000

    Improve logging documentation.
    I completely rewrote the "Introduction" section of the page, to provide a lot more of details.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1035518 13f79535-47bb-0310-9956-ffa450edef68

commit d8b66d6b84cbde39bc87c24d666563c648219cc8
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Nov 16 00:23:40 2010 +0000

    Wrap long lines in a properties file example.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1035505 13f79535-47bb-0310-9956-ffa450edef68

commit 1aeb17839bc3f631fa56f27c3258ea8ff75641fa
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Nov 16 00:19:36 2010 +0000

    Move <source> block outside of <ol> list to avoid indent, and thus reduce horizontal scrolling.
    Do not nest lists into <p>.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1035502 13f79535-47bb-0310-9956-ffa450edef68

commit baaa809e198829da78d8a23aedd36529111ed1ac
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Nov 15 23:50:18 2010 +0000

    Reformat the document. Print default values on separate lines, for better readability.
    Correctly document the default value of org.apache.jasper.Constants.PRECOMPILE property. The value is "jsp_precompile".
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1035489 13f79535-47bb-0310-9956-ffa450edef68

commit 971f1524e73039fa94bd5bdd8ab8d81adf763546
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 15 17:52:18 2010 +0000

    Remove unused methods
    Reduce visibility of methods where possible
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1035371 13f79535-47bb-0310-9956-ffa450edef68

commit 27cabbfc1a428aa38b051ab442a3de5c7a5753e1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 15 17:35:56 2010 +0000

    Opps. Encoded display text rather than link.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1035366 13f79535-47bb-0310-9956-ffa450edef68

commit 25970f5ebbbd161a33c1c1b5a160b5272ba52713
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 15 17:29:45 2010 +0000

    Parallel deployment
    Add a version column to the HTML Manager output.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1035360 13f79535-47bb-0310-9956-ffa450edef68

commit a6beca1a3f7b368e16324885e37bbf11cdb08395
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 15 14:14:30 2010 +0000

    Align default with Context Javadoc.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1035285 13f79535-47bb-0310-9956-ffa450edef68

commit 09ab13bb76f3b216cca0f6309b369d66fde163a2
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Nov 15 03:14:40 2010 +0000

    Fix wrong path in the "Tomcat Documentation" shortcut.
    The webapp is called "docs". ("tomcat-docs" was in TC5.5)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1035132 13f79535-47bb-0310-9956-ffa450edef68

commit e812371471c75a17bcffc64cc6bef8e052bb418a
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Nov 14 23:05:17 2010 +0000

    Do not remove HKCR key "JSPFile", because we do not create it.
    
    (Why was it there? Was somebody configuring Tomcat as the app that runs "*.jsp" files on Windows?)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1035094 13f79535-47bb-0310-9956-ffa450edef68

commit bbf1794401ce57f4ccaab2701edc182cedf980b3
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Nov 14 22:48:23 2010 +0000

    Remove "modern.exe" reference from Uninstall section.
    There is no such file. It was just part of an old example.
    E.g. mentioned here: http://forums.winamp.com/showthread.php?t=150064
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1035093 13f79535-47bb-0310-9956-ffa450edef68

commit dbd94291874fb60090448e339a69d45dfabee94b
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Nov 14 22:28:31 2010 +0000

    Move 'FileOpen' command outside from the InstallRetry loop.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1035088 13f79535-47bb-0310-9956-ffa450edef68

commit 4a971f56183063f9d46d2c6ad9de367bc6573a2e
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Nov 14 21:59:23 2010 +0000

    Define a variable to hold a handle to the service-install.log file.
    Using $R7 was not clean, because it can be reused in different methods along the way.
    Append to the file, instead of overwriting it.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1035083 13f79535-47bb-0310-9956-ffa450edef68

commit 95b374d22ec7724223f69f36f43eb023a2cd4542
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Nov 14 21:18:29 2010 +0000

    Simplify logic
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1035071 13f79535-47bb-0310-9956-ffa450edef68

commit cca2b66fbbe0e164c7d569db2b2d2d00b860adc9
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Nov 14 21:05:41 2010 +0000

    - SetOutPath creates the empty folders for us. Thus 'File /nonfatal' trick is not needed.
    - Simplify deletion patterns in the Uninstall section
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1035068 13f79535-47bb-0310-9956-ffa450edef68

commit ec099246c3143fb36b61384cae0bbbdc247f29ca
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Nov 14 20:38:40 2010 +0000

    - Move SecMenu section back to its place,
    but extract its code into a separate method.
    (The "components" page of the installer lists sections in the order they apprear in the script file).
    - Fix processing of tomcat-user.xml, server.xml broken by r1034926. Using 'ReserveFile' was not enough. A 'File' statement must be used as well.
    - Fix control type for the "password" field.
    - Simplify several logical expressions.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1035062 13f79535-47bb-0310-9956-ffa450edef68

commit 9c0a36b3d93e4ab50c8c2a9b0e52b55fd6dcae49
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Nov 14 19:10:22 2010 +0000

    Rename 'Service' section -> 'Service Startup' in the installer, to make its intent more clear.
    It is port of r451508 from TC 5.5
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1035051 13f79535-47bb-0310-9956-ffa450edef68

commit 625d226b2a968af954352254eb9af8701cfb53a1
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Nov 14 02:25:36 2010 +0000

    Move server.xml and tomcat-users.xml to the top of the installer archive (aka reserving them).
    
    Those were installed among the first files ('configure' was called from Core section), but this code is near the end of the script and thus the files were packed near the end of the archive. The delay while extracting server.xml was noticeable. With this fix that step completes nearly instantly.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1034926 13f79535-47bb-0310-9956-ffa450edef68

commit 8f559783e222cb097f6c174df4c57cfcb9127b9b
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Nov 14 02:05:56 2010 +0000

    When installing on Windows,
    do not leave undeleted stale files in $TEMP/src/res/confinstall/
    
    The cause is that there are two confinstall folders in $dist: '/confinstall' and '/src/res/confinstall'
    The 'File /r confinstall' directive was selecting both paths (like issues fixed in r611660),
    but subsequent 'RMDir /r "$TEMP\confinstall"' removed only one of them.
    
    New implementaion selects only one copy of the files, and places them into $PLUGINSDIR.
    
    Also,
    added DetailPrint statements for operations that take noticeable time
    (file copying and spawning external programs).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1034924 13f79535-47bb-0310-9956-ffa450edef68

commit 514042bf60aac4be3f2ef7de814ffd12cfad0136
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Nov 13 23:39:57 2010 +0000

    Reimplemented the Windows installer GUI using nsDialogs and MUI2 libraries,
    instead of deprecated InstallOptions.
    The *.ini files are no more used. All is specified in the nsi script.
    
    Migration was straightforward, except for a DirRequest field
    (the field on the JVM selection page that displays path to JRE):
    I had to create the Browse button explicitly and implement an OnClick handler. It is not spelled in the docs, but is discussed a lot on forums.
    
    Other improvements:
    - Added a textfield to display/edit the roles for the user that we add to tomcat-user.xml
    - The roles are calculated depending on what webapps are installed (manager, host-manager, or both).
    - I do not display "username", "password", "roles" fields when neither manager nor host-manager are selected. In the previous version we showed them as disabled. Now I do not show them on screen.
    
    - Implemented creating Windows Shortcuts for the Manager, Host Manager apps and Documentation. There was implementation for that already (Manager and Docs shortcut only), but it was not working: it used IfFileExist check that always evaluated to false, because shortcuts were created before those files were installed.
    - Added support for the '/?' command line option. It displays a message box with some short text about the /S and /D options. See .onInit function in tomcat.nsi for details.
    - Using LogicLib.nsh for logic. I hope that the script became more easily readable.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1034911 13f79535-47bb-0310-9956-ffa450edef68

commit e9edbbd7231cd0815a242d0fee9e3363b7540371
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 13 12:46:30 2010 +0000

    Revert r1031709
    Parallel deployment implementation is changing as a result of discussion on the dev list and this re-ordering was specific to the previous implementation.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1034748 13f79535-47bb-0310-9956-ffa450edef68

commit bcd4c2412d9ac36e440c20e9159811c58045903c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 12 18:29:12 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50192
    Improve performance for EL when running under a security manager.
    Based on a patch by Robert Goff.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1034500 13f79535-47bb-0310-9956-ffa450edef68

commit 91ee94e86739abec0a03e1700a908154ec0162ba
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 12 16:52:02 2010 +0000

    Additional tests and fixes for https://issues.apache.org/bugzilla/show_bug.cgi?id=49297
    Duplicate attribute rules for the page directive are slightly different.
    Based on a patch by genspring
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1034468 13f79535-47bb-0310-9956-ffa450edef68

commit fb466ebbf520515efa6fbab4c96175426fac38ac
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 12 15:11:25 2010 +0000

    Re-organise tests for bugs 49nnn
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1034416 13f79535-47bb-0310-9956-ffa450edef68

commit ed478ec4c2bb5a635b9ee464f68f349b5f0c2af1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 12 14:39:11 2010 +0000

    Organise
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1034408 13f79535-47bb-0310-9956-ffa450edef68

commit 11abe1d261fc0bcea2bd052eab2a6c2b5c13a424
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 11 22:10:25 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50230
    Add new DistributedManager interface that is implemented by the Backup Manager to remove circular dependency between tomcat-catalina-ha and tomcat-catalina modules. Also allows third-party distributed Manager implementations to report full session information through the HTML Manager.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1034174 13f79535-47bb-0310-9956-ffa450edef68

commit 0bf0ee4700eb67e9df42b445495fd444a961d433
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 11 14:04:06 2010 +0000

    Fix broken links
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1033941 13f79535-47bb-0310-9956-ffa450edef68

commit 8ae46388a8a4a00f9e2d845a229bb284edf52718
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 11 13:00:52 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50252
    Prevent ClassCastException when using a <ResourceLink>.
    Patch provided by Eiji Takahashi.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1033925 13f79535-47bb-0310-9956-ffa450edef68

commit dcef59b6f4350a4ed5777dfe48a78ddb18717c9f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 11 12:51:35 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50183
    BIO sender was not scheduling tasks to the executor during normal operation.
    Patch provided by Ariel.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1033920 13f79535-47bb-0310-9956-ffa450edef68

commit d87777c45b98c43d84696ce07699f42208f76c47
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 11 12:41:54 2010 +0000

    Clean-up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1033916 13f79535-47bb-0310-9956-ffa450edef68

commit d35e4db67a6f5d589a147e1916f200ebbbb245b4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 11 12:40:15 2010 +0000

    Clean-up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1033915 13f79535-47bb-0310-9956-ffa450edef68

commit 24c6b7c019e15c2f537c4b05b999cea04da593f5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 11 12:33:07 2010 +0000

    Clean-up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1033913 13f79535-47bb-0310-9956-ffa450edef68

commit e1e8d47f7bbe6f73b912cd519d483bbdbbb8f1f9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 11 12:29:40 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50169
    Ensure that when a Container is started that it doesn't try and register with the mapper unless its parent has already started.
    Patch provided by Eiji Takahashi.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1033912 13f79535-47bb-0310-9956-ffa450edef68

commit ced467767b80a394ec4d74d25ff1970776d98b53
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 11 12:00:02 2010 +0000

    Consistency.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1033906 13f79535-47bb-0310-9956-ffa450edef68

commit 985935ff9430e3c6b9b853cf592b02b189beec9d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 11 11:58:11 2010 +0000

    Update changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1033905 13f79535-47bb-0310-9956-ffa450edef68

commit d50a50a963b7ffd4965dbb9f3907929900a641ef
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 11 11:49:51 2010 +0000

    Restore the ability (via an option) to edit the contents of WEB-INF and META-INF via WebDAV
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1033897 13f79535-47bb-0310-9956-ffa450edef68

commit 929b1618cc38ac8fedbecce82eb973e50ffec0a2
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Nov 11 11:07:02 2010 +0000

    Remove unused function.
    Update changelog for r1027504, r1033856, r1033882.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1033884 13f79535-47bb-0310-9956-ffa450edef68

commit d7c8788e071598aa10fa296a0e107eb38f2f1ff3
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Nov 11 11:01:26 2010 +0000

    Improvement for r1027504
    Read PE header from jvm.dll to autodetect the target CPU architecture
    
    Note: function findCpuType is no more used. Should I delete it?
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1033882 13f79535-47bb-0310-9956-ffa450edef68

commit f320fba692a60014ac7b564191bcbd953f21bee5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 11 10:16:13 2010 +0000

    Typo / line-length
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1033868 13f79535-47bb-0310-9956-ffa450edef68

commit fa44b683a8b3d1c7488038de70fbc54cf2f61f8e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 11 10:14:21 2010 +0000

    Simpler code / fix Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1033867 13f79535-47bb-0310-9956-ffa450edef68

commit 35cd6a82821cea866aae00ba5c9d63cd52b1b5ae
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 11 10:07:21 2010 +0000

    Fix Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1033865 13f79535-47bb-0310-9956-ffa450edef68

commit 0118c8a09204afff906ae6fc9c0f799af6a9cdb7
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Nov 11 09:40:26 2010 +0000

    Folloup to 1027504:
    NSIS docs say that using relative offset in Goto does not play well with macros, because those may be expanded into several lines. Use a label instead.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1033856 13f79535-47bb-0310-9956-ffa450edef68

commit fd6fa6febeb994344dd5caac94e91b711a247f10
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Nov 11 08:53:01 2010 +0000

    Followup to implementation of https://issues.apache.org/bugzilla/show_bug.cgi?id=49860
    Use local variable instead of array access.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1033842 13f79535-47bb-0310-9956-ffa450edef68

commit e20a9596ca894a0376a8e1ed25ed19bc425701c2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 10 13:02:55 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50222
    Pin the system rather than the common class loader in memory which will work better in an embedded environment.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1033448 13f79535-47bb-0310-9956-ffa450edef68

commit 2950a84ba9faa458c13e86ff76fb9535a1eb90ca
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 10 12:20:59 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50242
    Provide sample log4j config that is a closer match to the default config
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1033432 13f79535-47bb-0310-9956-ffa450edef68

commit b6a19fb592225f283959b267531506fde5700b1e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 10 12:05:28 2010 +0000

    Update
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1033423 13f79535-47bb-0310-9956-ffa450edef68

commit 52096ba616cb1b0b7492da3072ea472366a06e85
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 10 11:48:46 2010 +0000

    Fix Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1033420 13f79535-47bb-0310-9956-ffa450edef68

commit 84b3bab73280ef7fc9a49d127a674ac634c76664
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 10 11:08:44 2010 +0000

    Additional fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=49860
    Need to store headers in a separate buffer - the contents of the read buffer may not be static for the life of the request
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1033415 13f79535-47bb-0310-9956-ffa450edef68

commit 743779354c9970fb1437b779cf542234c1a20e17
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 10 11:08:31 2010 +0000

    kkolinko's additional test case for https://issues.apache.org/bugzilla/show_bug.cgi?id=49860
    Test for correct handling if read buffer is filled and then re-used
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1033414 13f79535-47bb-0310-9956-ffa450edef68

commit 4a4bf50f9d26afbff294a107d2e3daaacd978e85
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 9 17:08:25 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50184
    Add an option to the RpcChannel to enable the Channel send options to be set for the reply message.
    Based on a patch by Ariel.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1033102 13f79535-47bb-0310-9956-ffa450edef68

commit a953ecad8f343d4f3ced603612a2679be66cd2d9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 9 16:59:24 2010 +0000

    Fix warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1033097 13f79535-47bb-0310-9956-ffa450edef68

commit 952164df356bfe6ccb268a77ba12e7445bfea77b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 9 15:53:16 2010 +0000

    Suppress warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1033042 13f79535-47bb-0310-9956-ffa450edef68

commit 4dd23d9a69c876b402bdc0d2a2168bc4025211b8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 9 15:31:19 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50232
    Remove dependency between StoreBase and PersistentManager and associated code clean-up.
    Patch provided by Tiago Batista.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1033024 13f79535-47bb-0310-9956-ffa450edef68

commit de81368fdce21deb359be6a04c0dd6067ad34a62
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 9 09:48:46 2010 +0000

    Fix infinite loop reported on users list
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1032901 13f79535-47bb-0310-9956-ffa450edef68

commit 0fe34caf0e67089d76bdfd3c2944d39a8420a48c
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Nov 8 03:31:12 2010 +0000

    Link to the local copy of documentatin (as in other places on the page).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1032459 13f79535-47bb-0310-9956-ffa450edef68

commit 0e206d14a725099a71fb73e0afd233e95ba4007e
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Nov 7 19:07:45 2010 +0000

    Write attribute names in bold.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1032350 13f79535-47bb-0310-9956-ffa450edef68

commit 80eec5b245595712f480156d4436381d3dc1bd80
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Nov 7 17:48:41 2010 +0000

    Remove obsolete link
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1032332 13f79535-47bb-0310-9956-ffa450edef68

commit 5d5610cab934a0e606beec647d61a3364ff0eb03
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Nov 7 17:36:31 2010 +0000

    Align documents list with the menu. Two of them were missing from the list, but present on the menu.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1032324 13f79535-47bb-0310-9956-ffa450edef68

commit 3fa44d06b7093f27767dac1060486fa316ce1648
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Nov 7 09:21:48 2010 +0000

    changelog for r1032232
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1032234 13f79535-47bb-0310-9956-ffa450edef68

commit d0de426adfe010511f6b18a40843360824d4308a
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Nov 7 09:11:00 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50228
    Clear the reference to a writer when BodyContentImpl is recycled.
    
    By the way, this calls BodyContentImpl.clear() which recycles the buffer if it is grown too big. Recycling it early is good.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1032232 13f79535-47bb-0310-9956-ffa450edef68

commit 834c2366405eddfa1320b57e5a0ea86d4e35e44b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 5 21:08:09 2010 +0000

    Parallel deployment
    Additional Context.get[Name|Path]() clean up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1031795 13f79535-47bb-0310-9956-ffa450edef68

commit c6071b86111e4c2e09b45128e43157440065088f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 5 18:49:28 2010 +0000

    Parallel deployment
    Re-order postParseRequest in preparation for patch that does the real parallel deployment work
    The order may look a little odd now, all will be clear with the patch
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1031709 13f79535-47bb-0310-9956-ffa450edef68

commit 4886be4fc96a8f88f91f9e57fcb5ffe9b5c7e53f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 5 18:38:23 2010 +0000

    Parallel deployment
    Additional Context.get[Name|Path]() clean up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1031706 13f79535-47bb-0310-9956-ffa450edef68

commit ef580e30803be898f530880f4bf6daba462368e4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 5 18:17:56 2010 +0000

    Parallel deployment
    Additional Context.get[Name|Path]() clean up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1031690 13f79535-47bb-0310-9956-ffa450edef68

commit b0434032bf6edae2f7c3311365c83378f09364b7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 5 17:59:51 2010 +0000

    Remove unused method
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1031683 13f79535-47bb-0310-9956-ffa450edef68

commit b5449058ccb7aee91f70711b1ab1620021c2738e
Author: Peter Rossbach <pero@apache.org>
Date:   Fri Nov 5 15:50:51 2010 +0000

    Make attribute enabled changeable via JMX at AccessLogValve
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1031643 13f79535-47bb-0310-9956-ffa450edef68

commit 16ee654e28c2834d82ff9cb48eb2ff5e06689282
Author: Rainer Jung <rjung@apache.org>
Date:   Fri Nov 5 12:27:49 2010 +0000

    BZ50219: Fix typo in jndi-resources-howto.xml.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1031535 13f79535-47bb-0310-9956-ffa450edef68

commit 77f7fd9df01ead1156e1473c21384d02795f50fa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 4 23:03:26 2010 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=50168
    Add a DESTROYING state and associated events and use them to ensure Contexts are only destroyed once.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1031335 13f79535-47bb-0310-9956-ffa450edef68

commit a9c40fdc4dda7c3a0c09911f6d82d4eb6c7adf46
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 4 19:58:43 2010 +0000

    Use the local copy of the docs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1031196 13f79535-47bb-0310-9956-ffa450edef68

commit e7354e67f21f1cd38b7de5b6bde54f1075fcc9af
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 4 19:53:15 2010 +0000

    Typos.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1031194 13f79535-47bb-0310-9956-ffa450edef68

commit 3a1fd41745ff245041284555c5f0faff4a0bedc0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 4 19:51:30 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50127
    Also fix all the other Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1031190 13f79535-47bb-0310-9956-ffa450edef68

commit 7253e1f01eef646570adc4ff90965997d4ae07de
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 4 17:59:20 2010 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=50159
    Add a new attribute for <Resource> elements, singleton that controls whether or not a new object is created every time a JNDI lookup is performed to obtain the resource. The default value is true, which will return the same instance of the resource in every JNDI lookup.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1031112 13f79535-47bb-0310-9956-ffa450edef68

commit ad7b11c386d637d13e294ff785d7db0dc521165f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 4 17:42:41 2010 +0000

    List bugs in numerical order
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1031099 13f79535-47bb-0310-9956-ffa450edef68

commit 9c5c2a0a0ed4eb2dd095e9d77a9f5cea621a2ff8
Author: Timothy A. Funk <funkman@apache.org>
Date:   Thu Nov 4 15:47:56 2010 +0000

    Allow for configest
    
    Now one may type in bin/configtest.sh and then check the
    exit code.
    
    This will try to use the default loggers so it may spew
    "a lot" to stdout/err so as to avoid clobbering existing
    log files in use.
    
    Potential future todo
    - Making the parsing of server.xml more finicky as to avoid
      bad values being ignored (example - use 'x8005' as the
      shutdown port - and tomcat still starts up fine )
    
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1031043 13f79535-47bb-0310-9956-ffa450edef68

commit 044672359bff61da7943b211cd99fe7786813786
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 4 00:50:41 2010 +0000

    Ensure embedded jars contain all the necessary classes
    Re-order things so it is easier to check all are present
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1030783 13f79535-47bb-0310-9956-ffa450edef68

commit f4944f1fb952a9540254e24bc094910ceb45ad6b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 3 12:19:46 2010 +0000

    Typos
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1030433 13f79535-47bb-0310-9956-ffa450edef68

commit 4ab6332c5ececad33b86549d58eba481624df0b1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 3 12:18:27 2010 +0000

    Typos
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1030431 13f79535-47bb-0310-9956-ffa450edef68

commit 7f1337be02036dbd10a7b83b668404964473f0c2
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Nov 2 22:04:44 2010 +0000

    Improve handling of nulls in StandardEngine.logAccess()
    
    This takes care of the case when findChild(getDefaultHost()) returns null.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1030253 13f79535-47bb-0310-9956-ffa450edef68

commit 2201e3a69c6ab2610461d73a6cb3ab001b32e0c7
Author: Rainer Jung <rjung@apache.org>
Date:   Tue Nov 2 13:30:52 2010 +0000

    Log the right JSP.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1030037 13f79535-47bb-0310-9956-ffa450edef68

commit 3bd45480bef232c1ef96d93d7b93f079cad197b0
Author: Rainer Jung <rjung@apache.org>
Date:   Tue Nov 2 12:14:43 2010 +0000

    Add logging and JMX support to JSP unloading.
    
    Also need to make getContent() public in
    FastRemovalDequeue to support logging.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1030014 13f79535-47bb-0310-9956-ffa450edef68

commit ac38fd1006260463e39359f1ecfb1dbeb96d0780
Author: Rainer Jung <rjung@apache.org>
Date:   Tue Nov 2 10:57:26 2010 +0000

    Fix some MBean descriptors:
    - "asyncSupported" needs is="true" for Valves
    - "containerName" is gone in valves since r940802
    - "enabled" uses "get" instead of "is"
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1030000 13f79535-47bb-0310-9956-ffa450edef68

commit ea3eef635435d5eaeb7be804c1014c02c2e0dee5
Author: Rainer Jung <rjung@apache.org>
Date:   Tue Nov 2 10:55:05 2010 +0000

    Fix MBean description.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1029999 13f79535-47bb-0310-9956-ffa450edef68

commit e7e4fec68bb7c8cb1a7d1520b89254b4efe8828e
Author: Rainer Jung <rjung@apache.org>
Date:   Tue Nov 2 10:32:59 2010 +0000

    The jspFile attribute is no longer available
    in the StandardWrapper as of r1003589.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1029996 13f79535-47bb-0310-9956-ffa450edef68

commit f5e32a1df0f475ce88c1ee22353a581b7ccea417
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 1 17:51:19 2010 +0000

    Review comment from kkolinko
    Make sure we initialize StandardEngine.accessLog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1029767 13f79535-47bb-0310-9956-ffa450edef68

commit 9d23ce92a78599105575ff23d922d13e24d7d92c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 1 17:22:33 2010 +0000

    Make Tomcat more tolerant of nulls when generating JMX names for Valves.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1029755 13f79535-47bb-0310-9956-ffa450edef68

commit cea2548535e1f3125d62bd397717b6b1d282c5af
Author: Timothy A. Funk <funkman@apache.org>
Date:   Mon Nov 1 15:53:22 2010 +0000

    changelog update
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1029720 13f79535-47bb-0310-9956-ffa450edef68

commit 2450506049d14bef5c0aa5d405303fdcd41715e2
Author: Timothy A. Funk <funkman@apache.org>
Date:   Mon Nov 1 15:48:32 2010 +0000

    bug 49180
    
    Add option to disable log rotation in FileHandler
    credit: Pid (pidster at apache )
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1029719 13f79535-47bb-0310-9956-ffa450edef68

commit 54b7febca3455dc6273b4cc9b7673830ddb57af2
Author: Timothy A. Funk <funkman@apache.org>
Date:   Mon Nov 1 15:30:48 2010 +0000

    redesign of home page
    by Pid (pidster at apache )
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1029708 13f79535-47bb-0310-9956-ffa450edef68

commit 083e122006bc93c728c9e44ec95afd04ea51388e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 1 11:26:00 2010 +0000

    Parallel deployment
    Fix regression that broke WAR deployments
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1029616 13f79535-47bb-0310-9956-ffa450edef68

commit 8f225499136f2813115f753cf441ea6e2e82b6ca
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 1 02:04:53 2010 +0000

    Parallel deployment
    - More work separating Context.name & Context.path
    - Review use of Context.getName() and Context.getPath() and use the correct one
    - Start to add webappVersion property to Context (many components not version aware - e.g. Manager app)
    - Set version when deploying apps if version is specified
    - Include version in Context.name if version is specified
    - New ContextName util class to handle all path/name/version etc translations
    
    In most cases the behaviour is unchanged if the version is not specified. The one exception is JMX ObjectNames that used to contain a key value pair "path=...". Since context path is no longer unique when using versions, this has been changed to "context=..." and the context name used which is unique.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1029527 13f79535-47bb-0310-9956-ffa450edef68

commit 42403b09e4e56f5a41e27ec3f6f19f39166e730c
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Oct 31 15:22:12 2010 +0000

    Remove space char from the end of a line
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1029380 13f79535-47bb-0310-9956-ffa450edef68

commit 4a1291bd530ad5af02fb76116d0513b27f878151
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 31 13:11:55 2010 +0000

    Parallel deployment
    Start to separate context.name and context.path
    Currently name==path but eventually name may include a version element but path will not.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1029330 13f79535-47bb-0310-9956-ffa450edef68

commit cdcca8a9995a3e9c19a79f8c0acbedee932bd266
Author: Rainer Jung <rjung@apache.org>
Date:   Fri Oct 29 23:53:15 2010 +0000

    Make sure, we mention the unit "seconds" for
    jspIdleTimeout everywhere.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1028950 13f79535-47bb-0310-9956-ffa450edef68

commit 372a373a1811a0fce7e5edbf68d37d5f5a5c8d40
Author: Rainer Jung <rjung@apache.org>
Date:   Fri Oct 29 23:34:37 2010 +0000

    Document jspIdleTimeout.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1028944 13f79535-47bb-0310-9956-ffa450edef68

commit 127a09028f064e0857c787ed404ca6a0a08f2253
Author: Rainer Jung <rjung@apache.org>
Date:   Fri Oct 29 23:22:35 2010 +0000

    Add new JSP init parameter "jspIdleTimeout".
    
    If set > 0 (default -1), a background task
    will unload all JSPs being idle longer than this
    time in seconds.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1028940 13f79535-47bb-0310-9956-ffa450edef68

commit a845ef65221fe0dd5311363cf5a3163d2b62a58e
Author: Rainer Jung <rjung@apache.org>
Date:   Fri Oct 29 23:08:59 2010 +0000

    We will no longer continuously update the jspQueue
    order. Instead only update each JSP once between
    background task runs.
    
    Changes to JspRuntimeContext:
    - Rename "ticket" to "unloadHandle"
    - Rename "lastCheck" to "lastCompileCheck" to clarify purpose
    - Add lastJspQueueUpdate which contains the time of
      the last run of checkUnload()
    - Add getter for lastJspQueueUpdate
    - Background task checkUnload() now only tracks the time
      of its last execution.
    
    Changes to JspServletWrapper:
    - Rename "ticket" to "unloadHandle"
    - Replace options.getMaxLoadedJsps() with final field "unloadByCount"
    - Do no longer move wrapper in jspQueue on each access.
      Only move once after each run of the background task checkUnload().
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1028939 13f79535-47bb-0310-9956-ffa450edef68

commit 3e35b73937ab5f4806d2d004e04af78e3cf4be0d
Author: Rainer Jung <rjung@apache.org>
Date:   Fri Oct 29 22:44:52 2010 +0000

    Changes to FastRemovalDequeue:
    - Make queue thread safe and remove external synchronisation
    - Provide maximal size to queue
    - Include size checking when adding entries
    - Return handle to displaced entries when queue overflows
      while adding a new entry
    - Explicitely invalidate queue entries on removal by using
      new field "valid"
    
    Changes to JspRuntimeContext:
    - Initialize FastRemovalDequeue with correct size
    - No more external synchronisation for FastRemovalDequeue
    - Private utility method to unload a wrapper
    - Check for displaced wrapper when adding a new wrapper
      to the queue and unload it
    
    Changes to JspServletWrapper:
    - No more explicit overflow check for the queue. It's now
      done implicitely when adding to the queue.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1028935 13f79535-47bb-0310-9956-ffa450edef68

commit 235ed8ad4fe645670d2b2a217187fc7ddc9ebf39
Author: Rainer Jung <rjung@apache.org>
Date:   Fri Oct 29 17:54:27 2010 +0000

    Simplify JSP limiter:
    
    - inline getJspForUnload
      It is only used privately and only in one place
      plus the code gets easier to understand.
    
    - remove compilation interval check from
      background method checkUnload(). Better to run
      on every iteration of the background job.
    
    - Do not check JSP count against the size of
      the wrapper list (jsps). Instead check against
      the queue length.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1028863 13f79535-47bb-0310-9956-ffa450edef68

commit f2e2cc0c8e5a7c0ebdab597e80fa801aed08e8ff
Author: Rainer Jung <rjung@apache.org>
Date:   Fri Oct 29 17:47:01 2010 +0000

    Rearrange placement of JSP limter code in JSP
    servlet wrapper. Do everything in one place:
    
    - add to the queue if this is the first time
      and only then check for the size and shrink
      if necessary
    
    - move to the front of the queue otherwise
    
    Move this in front of the actual servlet service.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1028862 13f79535-47bb-0310-9956-ffa450edef68

commit 2e65a146515abbaaebcb703d2f755c46c2271792
Author: Rainer Jung <rjung@apache.org>
Date:   Fri Oct 29 17:41:05 2010 +0000

    Improve Jsp limiter:
    
    - Under high load entries removed from the jspQueue
      were already re-added via moveFirst by some other
      concurrent request, before the JspWrapper was
      unregistered. Add "valid" field to the Entry
      object to mark as invalid during removal.
    
    - Improve comment about thread-safetyness and add
      comment about the new "valid" field.
    
    - Add new getSize(). Will be used soon.
    
    - Reorder getters and setters of Entry.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1028861 13f79535-47bb-0310-9956-ffa450edef68

commit 6bd4569576bba55e857c280cddd6f6e2284bc618
Author: Timothy A. Funk <funkman@apache.org>
Date:   Fri Oct 29 13:43:30 2010 +0000

    for resourceOnlyServlets allow whitespace in the comma
    seperated list.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1028737 13f79535-47bb-0310-9956-ffa450edef68

commit 0f9c89e57895eae3a35927887ba05d19b84cd652
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Oct 29 01:13:43 2010 +0000

    Add changelog entry for r1005802
    Also corrected a typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1028575 13f79535-47bb-0310-9956-ffa450edef68

commit 89024f11632d3e739c261284a39954c52e462b96
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Oct 29 00:56:05 2010 +0000

    Use correct arguments for an error message in TagLibraryInfoImpl.
    It is a followup to r937791
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1028565 13f79535-47bb-0310-9956-ffa450edef68

commit f16b8322390219e6b671e891ab943ab280164d4b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 28 22:34:52 2010 +0000

    Missing closing tag
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1028523 13f79535-47bb-0310-9956-ffa450edef68

commit 4427d2ff2d5c099af410a91cf3dcd11a7797efc6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 28 22:33:45 2010 +0000

    Add new feature
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1028522 13f79535-47bb-0310-9956-ffa450edef68

commit 48ed3e05bbe8c23805cb1f2fc827ed6aacb1ecb2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 28 22:29:25 2010 +0000

    Provide configuration option to work around new welcome file mapping requirements of section 10.10 Servlet 3.0 that break a lot of existing apps. The default configuration retains the current Tomcat 6.0.x behaviour. Enabling STRICT_SERVLET_COMPLILANCE enforces the new requirements by default. Includes test cases.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1028521 13f79535-47bb-0310-9956-ffa450edef68

commit 080fa95d9fe60cadecb24aae59a748619cf932a1
Author: Rainer Jung <rjung@apache.org>
Date:   Thu Oct 28 17:30:28 2010 +0000

    Move Entry to an inner class of FastRemovalDequeue.
    
    All implementation details of Entry are now opaque
    to the consumer of the FastRemovalDequeue.
    
    Remove double generification when using the inner
    class.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1028396 13f79535-47bb-0310-9956-ffa450edef68

commit 05fdc5ba492d894c59a671e220f4526ccec947a9
Author: Rainer Jung <rjung@apache.org>
Date:   Thu Oct 28 17:13:25 2010 +0000

    Reduce visibility. All those are only needed
    by the Queue implementation, not by the consumer
    of the collection.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1028389 13f79535-47bb-0310-9956-ffa450edef68

commit 49e3b504084fa4b8fed55f074152294bb7c23274
Author: Rainer Jung <rjung@apache.org>
Date:   Thu Oct 28 16:27:31 2010 +0000

    Overhaul JspQueue, no functional change for Jasper.
    
    - Rename class to FastRemovalDequeue, because
      it can be used gnerally. Nothing jsp related in it.
    
    - Rename "head" to "first" as a better match for the
      existing "last"
    
    - Switch previous and next: "previous" was
      pointing from first to last, "next" from
      last to first. Mind-bending.
    
    - Add a bit to the description. Remove "ticket"
      language.
    
    - Use more standard terminology "push" to
      insert in front and "pop" to remove from last
    
    - Add methods shift and unshift for the operations
      at the other ends. Not used yet.
    
    - Add remove() method (not used yet).
    
    - Rename makeYoungest() to moveFirst() and add
      moveLast() (not used yet). This data structure
      doesn't actually know about young or old.
    
    Add "Entry-" prefix to Entry.toString().
    
    Rename makeFirst() in JspRuntimeContext to
    makeYoungest(), because there we actually are using
    timestamp information.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1028377 13f79535-47bb-0310-9956-ffa450edef68

commit c4d41f2d39254bdd6f89b9bb4b27dc0338913d42
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 28 12:31:07 2010 +0000

    Remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1028276 13f79535-47bb-0310-9956-ffa450edef68

commit 393ced6b4c307d6fb179e33879f01c56f4f2f725
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Oct 28 11:35:48 2010 +0000

    Add changelog entry for r1027893
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1028263 13f79535-47bb-0310-9956-ffa450edef68

commit 466e93c75295ce2494d1085dd75957dc12f74731
Author: Mladen Turk <mturk@apache.org>
Date:   Wed Oct 27 10:27:03 2010 +0000

    Upgrade to latest released Daemon 1.0.4
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1027893 13f79535-47bb-0310-9956-ffa450edef68

commit eddd0562ca9c6243ccc327d3058f63ae237b5ca8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 26 22:19:49 2010 +0000

    Fix the javadoc and Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1027762 13f79535-47bb-0310-9956-ffa450edef68

commit 865ef55d108db5a02fba33926bd37040b39cb7c9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 26 22:09:20 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50157
    Ensure MapperListener is only added to a container object once.
    Also
     - Improve debug logging for MapperListener registration.
     - Expose names of LifecycleListeners and ContainerListers for StandardContext via JMX.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1027760 13f79535-47bb-0310-9956-ffa450edef68

commit 5df94fe857ee99758420afd945a226207705cf2a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 26 13:23:35 2010 +0000

    Update ready for next release
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1027542 13f79535-47bb-0310-9956-ffa450edef68

commit a7739c27ac58624ddc278776ab48b69c35d532d3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 26 12:30:35 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50140
    Don't ignore a user specified install directory on 64-bit platforms
    Allow 32-bit or 64-bit JVMs to be selected when installing on a 64-bit platform
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1027504 13f79535-47bb-0310-9956-ffa450edef68

commit 14865b16b580f9117379b621050d3ac74ca88629
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 26 10:03:41 2010 +0000

    Align default with Context default
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1027440 13f79535-47bb-0310-9956-ffa450edef68

commit e3deaed5790b3ce201d07a61a897e45a9392f002
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Oct 25 15:27:05 2010 +0000

    Trivial typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1027166 13f79535-47bb-0310-9956-ffa450edef68

commit a86b16bff2a2f91b1936b0b94c4bbf04ec667ebe
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Oct 25 15:04:38 2010 +0000

    Staled is not a word
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1027160 13f79535-47bb-0310-9956-ffa450edef68

commit 6029c0472b74030988cb7c02d9729fc622da001d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Oct 25 13:57:15 2010 +0000

    Fix a couple of other typos
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1027121 13f79535-47bb-0310-9956-ffa450edef68

commit b14d7e8c584d0837b8c7a8cee35729eda5661837
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Oct 25 13:55:54 2010 +0000

    Fix numerous typos.
    Patch provide by Luke Meyer.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1027120 13f79535-47bb-0310-9956-ffa450edef68

commit 26635ee85853b0a87ef65483403f7ac3e3f66d9e
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Oct 25 00:13:56 2010 +0000

    Improve exception handling in PersistentManagerBase.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026920 13f79535-47bb-0310-9956-ffa450edef68

commit 119cc44ce4bb72d4abed56bcb1e08a22062e19ad
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Oct 24 22:52:07 2010 +0000

    Followup to r1026784
    Print a stacktrace if an exception (e.g. IOException) happens when calling store.keys() and running under a security manager.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026912 13f79535-47bb-0310-9956-ffa450edef68

commit 3ee8f4edb127350c826e3ef5e66351e8aeddc384
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 24 15:19:51 2010 +0000

    Fix the Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026821 13f79535-47bb-0310-9956-ffa450edef68

commit 374da33102a5cb591ea68b61749b6cf78b6787b1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 24 15:14:45 2010 +0000

    Remove unused DummyRequest
    Move DummyResponse to tests where it is used
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026819 13f79535-47bb-0310-9956-ffa450edef68

commit c0848d2ff80be0d038fe57c79036cc31a992f7c1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 24 15:03:15 2010 +0000

    Fix Javadoc warnings reported by Buildbot
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026815 13f79535-47bb-0310-9956-ffa450edef68

commit b5832bbc4ca0bbdfffdde4bc98259a7cd207a244
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 24 14:29:20 2010 +0000

    Re-factor to avoid IDE warnings re possible nulls.
    Includes a fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=50129
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026807 13f79535-47bb-0310-9956-ffa450edef68

commit f0a0d7645c5383e89c64991d7ffcb9fcb03a9102
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 24 14:17:33 2010 +0000

    Fair amount of clean-up. Add it to the changelog.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026806 13f79535-47bb-0310-9956-ffa450edef68

commit c444c03c5b12c29f68610cf7ded7c54b56ca83ed
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 24 14:12:29 2010 +0000

    Update changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026805 13f79535-47bb-0310-9956-ffa450edef68

commit 2668841cb98eee30cd7e6eb294d938cc99e244dc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 24 14:11:15 2010 +0000

    Enable Checkstyle import checks
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026803 13f79535-47bb-0310-9956-ffa450edef68

commit 0600a9b29f193eb2a312db8a4975ec56ecf1462e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 24 14:09:37 2010 +0000

    Allow Checkstyle's unused imports test to be used with the o.a.catalina.core package (remainder)
    Fix some Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026802 13f79535-47bb-0310-9956-ffa450edef68

commit c5a1ab1751ba0732bb4e0405adaaeef3b88d4747
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 24 14:04:56 2010 +0000

    Allow Checkstyle's unused imports test to be used with the o.a.catalina.core package (partial)
    Fix some Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026801 13f79535-47bb-0310-9956-ffa450edef68

commit d8439cf6a2f7248d1edf4e5630aeaae009a98d37
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 24 13:33:33 2010 +0000

    Allow Checkstyle's unused imports test to be used with the o.a.catalina.core package (partial)
    Fix some Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026797 13f79535-47bb-0310-9956-ffa450edef68

commit a99eb54d7a069f9400e2f887db1d65e94af3f580
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 24 13:29:36 2010 +0000

    Allow Checkstyle's unused imports test to be used with the o.a.catalina.authenticator package
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026796 13f79535-47bb-0310-9956-ffa450edef68

commit e4c55067ada71f80b91d86ebca21906fbf99f754
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 24 13:28:15 2010 +0000

    Code clean-up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026795 13f79535-47bb-0310-9956-ffa450edef68

commit 57f0257bccd312b45e2162d8e8619d844138b0e4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 24 13:25:36 2010 +0000

    Allow Checkstyle's unused imports test to be used with the o.a.catalina.ha package
    Fix some Eclipse warnings
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026793 13f79535-47bb-0310-9956-ffa450edef68

commit 0602bdafe2aeec389feadb658e9fb20b8f3694f4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 24 13:14:24 2010 +0000

    Allow Checkstyle's unused imports test to be used with the o.a.catalina.ha.authenticator package
    Fix Eclipse warnings
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026790 13f79535-47bb-0310-9956-ffa450edef68

commit f28258c31f68a6a009d6c56b1686df5f712b651c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 24 13:12:18 2010 +0000

    Allow Checkstyle's unused imports test to be used with the o.a.catalina.loader package
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026789 13f79535-47bb-0310-9956-ffa450edef68

commit de068a7872d050fbe08fdafefae7bdaacce5285d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 24 13:10:31 2010 +0000

    Allow Checkstyle's unused imports test to be used with the o.a.catalina.mbeans package
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026788 13f79535-47bb-0310-9956-ffa450edef68

commit 34987aed8129b8e72468f9f3279bd1c0d2fdabdb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 24 13:08:54 2010 +0000

    Allow Checkstyle's unused imports test to be used with the o.a.catalina.startup package
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026787 13f79535-47bb-0310-9956-ffa450edef68

commit f5afc9c29923547249aa3f797343e00396bbd5ab
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 24 13:08:26 2010 +0000

    Allow Checkstyle's unused imports test to be used with the o.a.catalina.realm package
    Fix some Eclipse warnings
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026786 13f79535-47bb-0310-9956-ffa450edef68

commit d069edb2a83c4ccf8f142fcc82f8bbe69d131b3c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 24 13:02:24 2010 +0000

    Avoid NPE
    Don't use exception.printStackTrace()
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026784 13f79535-47bb-0310-9956-ffa450edef68

commit 2b383553c87c3f8c09f4b1006e3064664fadb013
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 24 13:01:28 2010 +0000

    Allow Checkstyle's unused imports test to be used with the o.a.catalina.session package
    Fix some Eclipse warnings
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026782 13f79535-47bb-0310-9956-ffa450edef68

commit 31a3cf2a48c3e1cc3ef35b10898d456595bc009a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 24 12:52:04 2010 +0000

    Allow Checkstyle's unused imports test to be used with this class
    Fix Eclipse warnings
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026780 13f79535-47bb-0310-9956-ffa450edef68

commit 1362ce4c269f0639fce9a05177ecef0b1ab83f36
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 24 12:21:08 2010 +0000

    Fix Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026773 13f79535-47bb-0310-9956-ffa450edef68

commit c197ebe93395a9902f0b44dd185a8592eec10db4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 24 12:18:47 2010 +0000

    Allow Checkstyle's unused imports test to be used with the o.a.catalina package
    Fix Eclipse warnings
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026772 13f79535-47bb-0310-9956-ffa450edef68

commit 00946a1a108fbf4b1db3a18a50073d05fa0338a6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 24 12:13:53 2010 +0000

    Allow Checkstyle's unused imports test to be used with the o.a.catalina.valves package
    Fix some Eclipse warnings
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026771 13f79535-47bb-0310-9956-ffa450edef68

commit be5684c92b72b2f859f45f10c50311eb4f177272
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 24 11:55:10 2010 +0000

    Allow Checkstyle's unused imports test to be used with the o.a.el package
    Fix Eclipse warnings
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026769 13f79535-47bb-0310-9956-ffa450edef68

commit 17c91a5602af68524c93b6d1a79a9bf71681cac3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 24 11:41:12 2010 +0000

    Fix Eclipse nags
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026768 13f79535-47bb-0310-9956-ffa450edef68

commit 4380a93da75be155327a54c04bfb9b3a5749b179
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Oct 22 21:59:51 2010 +0000

    Revert part of r1026157
    
    Removing "throwa NamingException" from parseName() methods as was done in r1026157 changed their API,
    so that derived classes won't be able to throw that exception anymore.
    
    I do not know the full story behind these two parseName() methods, but if they were supposed be overwritten it seems likely that they may throw a NamingException.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026506 13f79535-47bb-0310-9956-ffa450edef68

commit 4935f875b0fbce92d9c2c1c35e739bab0a75e354
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Oct 22 21:15:03 2010 +0000

    correct typos
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026496 13f79535-47bb-0310-9956-ffa450edef68

commit 121db09f3c8aef1295fa0fdfc772cc1b7539f6ee
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 21 22:28:59 2010 +0000

    Add release date
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026166 13f79535-47bb-0310-9956-ffa450edef68

commit cf931b61165511c634124b8a31cf6089d50d1407
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 21 22:24:01 2010 +0000

    Allow Checkstyle's unused imports test to be used with this class
    Fix some Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026165 13f79535-47bb-0310-9956-ffa450edef68

commit 6e3819c08214ee9ebda63daef331c70c5d5d9e85
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 21 22:20:32 2010 +0000

    Allow Checkstyle's unused imports test to be used with this class
    Fix Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026164 13f79535-47bb-0310-9956-ffa450edef68

commit 9a50058c1381a5c894b770299e1b71bff7dbdfc0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 21 22:14:58 2010 +0000

    Fix Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026163 13f79535-47bb-0310-9956-ffa450edef68

commit 006184c1ada06ae6fb32c5feb559e461ba61f724
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 21 22:09:45 2010 +0000

    Allow Checkstyle's unused imports test to be used with this class
    Fix Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026157 13f79535-47bb-0310-9956-ffa450edef68

commit 0b43ed11aa8034d1e1369645d0ca57e53f21be84
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 21 21:53:09 2010 +0000

    Clean-up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026152 13f79535-47bb-0310-9956-ffa450edef68

commit e3f466012ff01def31e986b9f791bede0acf2e57
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 21 21:48:01 2010 +0000

    Allow Checkstyle's unused imports test to be used with this class
    Fix Eclipse warnings
    Align modifyAttributes() with WARDirContext
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026150 13f79535-47bb-0310-9956-ffa450edef68

commit 1b6e90b965ccfeb45fd5d42df7bd7a69fc4d05b2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 21 16:41:40 2010 +0000

    Fix Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026061 13f79535-47bb-0310-9956-ffa450edef68

commit 151071dd106ce33b021ec480afddc83585d31588
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 21 16:39:50 2010 +0000

    Allow Checkstyle's unused imports test to be used with this class
    Fix Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026060 13f79535-47bb-0310-9956-ffa450edef68

commit c507486db7c383d9d4f3485d631075af9b713760
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 21 16:26:50 2010 +0000

    Allow Checkstyle's unused imports test to be used with this class
    Fix Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026057 13f79535-47bb-0310-9956-ffa450edef68

commit 99fb8b53bf2e588ed9f54319b10c65c7bb53d39a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 21 16:18:12 2010 +0000

    Allow Checkstyle's unused imports test to be used with the o.a.tomcat.util classes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026054 13f79535-47bb-0310-9956-ffa450edef68

commit c90c71bbb8eec253d3bf02262d98e9dfebb85dfd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 21 16:12:42 2010 +0000

    Allow Checkstyle's unused imports test to be used with the api classes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026051 13f79535-47bb-0310-9956-ffa450edef68

commit 3932eebe0279ea1a69a55b1c2228bcd54281b44f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 21 16:09:50 2010 +0000

    Allow Checkstyle's unused imports test to be used with the unit testcode
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026049 13f79535-47bb-0310-9956-ffa450edef68

commit 3d9e1f2f01caf7500d8e5fbe9dbd8a1a3f4fc1e7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 21 16:07:11 2010 +0000

    Remove unused imports from webapps
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026047 13f79535-47bb-0310-9956-ffa450edef68

commit 92665bfbb51f65146b152beaabf36f74736d2d32
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 21 15:58:21 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50138
    Fix threading issues
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1026042 13f79535-47bb-0310-9956-ffa450edef68

commit 377a6f1b5ab0d18ae4b699bf358c3b9b095f1787
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Thu Oct 21 10:15:26 2010 +0000

    Improve sending an access message in DeltaManager.
    maxInactiveInterval of not Manager but the session is used.
    If maxInactiveInterval is negative, an access message is not sending.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1025924 13f79535-47bb-0310-9956-ffa450edef68

commit 380f8a7893f68235ca9754e0b0b55c8999ecf29d
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Thu Oct 21 09:21:10 2010 +0000

    Add support for maxActiveSessions attributes to BackupManager.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1025899 13f79535-47bb-0310-9956-ffa450edef68

commit f0df0a40e75f37ad5d4a5c733883afd60208f629
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 20 22:30:48 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=4227
    Update comments to indicate this is no longer an issue
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1025785 13f79535-47bb-0310-9956-ffa450edef68

commit 72fdfd258d6e117606af8b0ae1f66bb9c027988c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 20 21:55:30 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=3839
    Provide a mechanism to gracefully handle the case where users book-mark the form login page or otherwise abuse the FORM authentication process.
    Based on a suggestion by Mark Morris.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1025775 13f79535-47bb-0310-9956-ffa450edef68

commit b5d7ce20169c7060eebc83ee2bc23bdd0f2383e2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 20 20:45:50 2010 +0000

    Clean-up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1025713 13f79535-47bb-0310-9956-ffa450edef68

commit cc98ab6117bcd1212f750e7e23fbe6cb0be77507
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 20 19:26:05 2010 +0000

    Clean-up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1025684 13f79535-47bb-0310-9956-ffa450edef68

commit f2eb7780dfb65499538a573b9d0b632782b1f308
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 19 20:27:39 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49991
    Ensure servlet request listeners are fired for the login and error pages during FORM authentication.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1024397 13f79535-47bb-0310-9956-ffa450edef68

commit 9989b1f2df43c257a91b60b95ef66560a72685b3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 19 19:52:28 2010 +0000

    Re-factor ServletRequestListener events with an eye to https://issues.apache.org/bugzilla/show_bug.cgi?id=49991 and any possible future changes in the Servlet spec
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1024381 13f79535-47bb-0310-9956-ffa450edef68

commit fb86cb702ef7649df7d55e5321b8d423e80f906f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 19 18:51:44 2010 +0000

    Minor clean-up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1024355 13f79535-47bb-0310-9956-ffa450edef68

commit 9f593e1349db1c9b0d11218edf163f4a4a9004a3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 19 14:50:14 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50084
    Handle the case where the PID file is readable/writeable but the directory is not
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1024251 13f79535-47bb-0310-9956-ffa450edef68

commit 5df2bb01efe23cf907a4fbe6708b555da79a7a5b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 19 14:46:02 2010 +0000

    Fix indents
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1024250 13f79535-47bb-0310-9956-ffa450edef68

commit 762b0680997bf17566892f3bc79b22f82e2de2fc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 19 13:21:05 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49297
    Enforce the rules in the JSP specification for parsing the attributes of custom and standard actions that require that the attribute names are unique within an element and that there is whitespace before the attribute name. The whitespace test can be disabled by setting the system property <code>org.apache.jasper.compiler.Parser.STRICT_WHITESPACE</code> to <code>false</code>
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1024229 13f79535-47bb-0310-9956-ffa450edef68

commit af445b1936aab62334d767decf951b6102050ac9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 19 13:14:13 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50107
    When removing a Host via JMX, do not attempt to destroy the host's pipeline twice.
    Patch provided by Eiji Takahashi.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1024228 13f79535-47bb-0310-9956-ffa450edef68

commit d5358e6ae3a9459d3811033b2a0c94aa02736c03
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 19 13:08:05 2010 +0000

    Make private
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1024227 13f79535-47bb-0310-9956-ffa450edef68

commit 59f0ba9138a24af5089ba52f938180b6985f3651
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 19 13:06:59 2010 +0000

    Remove unused imports
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1024226 13f79535-47bb-0310-9956-ffa450edef68

commit f5cc173e9bb97a523a13a58355ae305a1ac57115
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 19 13:03:01 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50105
    Use Enum.name() rather than Enum.toString() in composite expressions
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1024224 13f79535-47bb-0310-9956-ffa450edef68

commit 5ee91471749ce429a1fffaf709a4aee350f10cc7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Oct 18 07:53:04 2010 +0000

    Comment typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1023678 13f79535-47bb-0310-9956-ffa450edef68

commit 1d1944b55f7aa66458efb7f7571aee69874a0ddd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 16 20:21:36 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=22965
    Typos, formatting, etc
    Based on a patch by Yann Cébron
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1023373 13f79535-47bb-0310-9956-ffa450edef68

commit 46f6ddd37a372d775eb78cd0add45f363b5b8d3a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 16 19:55:25 2010 +0000

    Update
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1023368 13f79535-47bb-0310-9956-ffa450edef68

commit 2535c488259aead6b82d4e63066c047a393d974e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 16 19:54:44 2010 +0000

    Messages displayed to the user in the Host Manager (text and HTML) should be based on the Locale of the user, not the server
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1023366 13f79535-47bb-0310-9956-ffa450edef68

commit b18889c7804c82af3a7a20e2011789c51a2e8bd8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 16 19:38:58 2010 +0000

    Update
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1023363 13f79535-47bb-0310-9956-ffa450edef68

commit 6e4eb031ed7888a718fb192d045c979d523a4ce0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 16 19:31:37 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49426
    Messages displayed to the user in the Manager (text and HTML) should be based on the Locale of the user, not the server
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1023361 13f79535-47bb-0310-9956-ffa450edef68

commit cc58d33321518ecf5ce7e244da2186ecb39e6f22
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 14 20:33:14 2010 +0000

    Fix Javadoc warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1022695 13f79535-47bb-0310-9956-ffa450edef68

commit 55350583ffbf65347f5372a440d410a029d9a630
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 14 20:28:50 2010 +0000

    Bump version
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1022694 13f79535-47bb-0310-9956-ffa450edef68

commit de05c0c5133962c74c0e89a6a1cc63bd6987c4f7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 14 17:41:26 2010 +0000

    Update
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1022626 13f79535-47bb-0310-9956-ffa450edef68

commit 4e4a4898af411dda4c97b62c88925bf3de14550a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 14 17:37:20 2010 +0000

    Enhance fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=50078
    Make cache sizes configurable
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1022623 13f79535-47bb-0310-9956-ffa450edef68

commit 01f15885c08d377928c925e6d742b208217a4b2f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 14 16:36:20 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50078
    Thread safety in EL caches. Patch provided by  Takayoshi Kimura
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1022606 13f79535-47bb-0310-9956-ffa450edef68

commit cd68788f508bdddc19bc98ac32c340b9f1361fc0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 14 16:05:55 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50087
    Catch ClassFormatErrors when scanning for annotations.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1022593 13f79535-47bb-0310-9956-ffa450edef68

commit d63a9de3fb5dec4c58fe9146b9a6b883aecb6380
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 14 12:11:51 2010 +0000

    Avoid NPE triggered when running TCK tests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1022478 13f79535-47bb-0310-9956-ffa450edef68

commit 82d5085a2a5930f9dfe0e898a8f8311f90c0bbed
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 14 10:46:47 2010 +0000

    Typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1022462 13f79535-47bb-0310-9956-ffa450edef68

commit f2ff9a31d6be119cf57df35ab751183896d012b9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 14 09:22:54 2010 +0000

    Add some more info on CSRF protection for the manager and host manager applications
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1022441 13f79535-47bb-0310-9956-ffa450edef68

commit 60690d4501daeba17af553b0d9ce64707557783b
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Oct 14 08:32:59 2010 +0000

    Improve recycling of processors in Http11NioProtocol
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1022415 13f79535-47bb-0310-9956-ffa450edef68

commit f1ca7dd0df69aafddc71c63936178c22efee5429
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Oct 14 07:06:01 2010 +0000

    Followup to r946230
    Do not fine-format integer values in debug output.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1022389 13f79535-47bb-0310-9956-ffa450edef68

commit cf38a2621c372d74289af7145cfd80c4564cba7a
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Oct 13 23:25:47 2010 +0000

    Followup to r1022303
    I think that releasing the socket should be done before passing it away to a poller.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1022323 13f79535-47bb-0310-9956-ffa450edef68

commit 1191e8c0a76211dc970f1054a160b19cd191529e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 13 22:03:42 2010 +0000

    Fix warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1022307 13f79535-47bb-0310-9956-ffa450edef68

commit 21e9c34c825a484e2fd7994564c824abc5732e07
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 13 21:57:46 2010 +0000

    Testing in 6.0.x confirmed this is the same issue.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1022304 13f79535-47bb-0310-9956-ffa450edef68

commit 9c13c3358987ff77ba9fd87a45d39d2ffe279b8f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 13 21:54:28 2010 +0000

    Better clean-up.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1022303 13f79535-47bb-0310-9956-ffa450edef68

commit 90024be6871a133d0c6632a70378731385a8558e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 13 21:19:17 2010 +0000

    Update change-log
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1022294 13f79535-47bb-0310-9956-ffa450edef68

commit 9905794cb6b78c2f42ccf47002bc16e6fdc0aa63
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 13 21:16:33 2010 +0000

    Fix reading the request line via NIO for slow clients (such as me typing via telnet). Need to treat each section of the request line (text or space) as a separate phase.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1022293 13f79535-47bb-0310-9956-ffa450edef68

commit 32a4cc08e0d1a46eb3ae7f90e885bc25935e75d1
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Oct 13 15:30:39 2010 +0000

    Add changelog entry for r1022120
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1022143 13f79535-47bb-0310-9956-ffa450edef68

commit 496aa18689e987a6819469e4eb202c9a49fbdaec
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 13 15:16:35 2010 +0000

    Avoid unnecessary cast
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1022134 13f79535-47bb-0310-9956-ffa450edef68

commit eb69da79d39c59ced071fb57201ccdf41b695f37
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 13 15:02:32 2010 +0000

    Typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1022125 13f79535-47bb-0310-9956-ffa450edef68

commit 6210035435a60404b43d7a7057c5f43765c01475
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Oct 13 14:55:27 2010 +0000

    Re-implement the fix for
    https://issues.apache.org/bugzilla/show_bug.cgi?id=49428
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1022120 13f79535-47bb-0310-9956-ffa450edef68

commit 6b9bd4b075a1e77764110321374d551d7371d49a
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Oct 13 14:03:23 2010 +0000

    Revert r964780 that was a fix for
    https://issues.apache.org/bugzilla/show_bug.cgi?id=49428
    
    See Re:r964780 thread on dev@ or TC 6.0 STATUS file.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1022109 13f79535-47bb-0310-9956-ffa450edef68

commit 4101926c1c9650a166e6cf916b5c389dcbd0da48
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 13 11:10:30 2010 +0000

    Better fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=49922
    Revert my approach and go with patch suggested by heyoulin.
    Extend test cases
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1022068 13f79535-47bb-0310-9956-ffa450edef68

commit 1c1feec044c3e689995963daa3096b345416ce39
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Oct 12 14:57:12 2010 +0000

    Restore credits removed by r1003846
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1021788 13f79535-47bb-0310-9956-ffa450edef68

commit 038a88c883cc0e3b609d7bb99e7b115aab876f71
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 12 14:09:59 2010 +0000

    Stop async requests hanging - side effect of r1006358
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1021780 13f79535-47bb-0310-9956-ffa450edef68

commit c7f8fe368c36f8c756d0abdbcf5564b17e40a0ce
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 12 12:10:43 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50044 for NIO connector
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1021753 13f79535-47bb-0310-9956-ffa450edef68

commit 99e2f3c9e3597e14ff191b96c32a43e335f97b25
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 10 22:10:27 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50044 for APR connector
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1006358 13f79535-47bb-0310-9956-ffa450edef68

commit 146f0620dac45d2b3e76282e0816917f1e140d14
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 10 19:14:13 2010 +0000

    Only call asyncPostProcess for async requests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1006341 13f79535-47bb-0310-9956-ffa450edef68

commit 1a12a579dfa8defa34a2c720b26845dce2d4b399
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 10 18:16:00 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50066
    Fix building of recursive tag files when the file depends on a JAR file. Patch provided by Sylvain Laurent.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1006330 13f79535-47bb-0310-9956-ffa450edef68

commit bd3c6633826aaed2f8563044dec352bc87ba2ab8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 10 18:09:43 2010 +0000

    Improve error handling in TLD processing and handle the case when there is no web.xml
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1006329 13f79535-47bb-0310-9956-ffa450edef68

commit e2bd26dee611eccbef734e9bc38f81135eb29a26
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 10 09:58:24 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50063
    Fix apps with meta-data complete returning 404s
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1006265 13f79535-47bb-0310-9956-ffa450edef68

commit cf5408f8b2c854404e74d6199ba90190146473fd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 8 21:46:05 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50027
    Avoid NPE on start when a Context is defined in server.xml with one or more JNDI resources.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1006037 13f79535-47bb-0310-9956-ffa450edef68

commit ce247d0a2fcf6d483c0d31ea10d887f456e8da3f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 8 21:37:19 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50059
    Always make JAR resources available
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1006033 13f79535-47bb-0310-9956-ffa450edef68

commit e491e5de91cbec369274c025553247ee5418bea4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 8 14:16:23 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50017
    Code clean-up. No functional change.
    Patch provided by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1005837 13f79535-47bb-0310-9956-ffa450edef68

commit f5195605a44a352cce11754831e1d3250cf7cbe5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 8 14:02:05 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50016
    Re-factor isUserInRole() and login() / logout() methods to support JACC implementations and to improve encapsulation.
    Patch provided by David Jencks.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1005834 13f79535-47bb-0310-9956-ffa450edef68

commit 0326572966d9aeecafd1a39af6d944176d15936b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 8 13:22:04 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50015
    Re-factor dynamic servlet security implementation to make extensions, such as JACC implementations, simpler. Patch provided by David Jencks.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1005811 13f79535-47bb-0310-9956-ffa450edef68

commit c19c021d5b475b93bbbbcd8234af1fdb49f4e0f5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 8 12:21:55 2010 +0000

    Additional fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=48716
    Don't call reset if the default LngManager is in use
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1005802 13f79535-47bb-0310-9956-ffa450edef68

commit 688a1aa285a7bca9b06ca8fefa28fc7169075558
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 8 12:10:28 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50013
    Correctly package classes from org.apache.tomcat.util.file and add the tomcat-util.jar to the class path for the Ant tasks. Based on a patch provided by Sylvain Laurent.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1005795 13f79535-47bb-0310-9956-ffa450edef68

commit 56ce6917dda992a5c791988f471faa8d4c769de1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 8 11:59:22 2010 +0000

    Update change log
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1005792 13f79535-47bb-0310-9956-ffa450edef68

commit f43c18832c5d5a87179a04fc371555e04e82a24b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 8 11:57:57 2010 +0000

    Add test cases for:
    - https://issues.apache.org/bugzilla/show_bug.cgi?id=49994
    - https://issues.apache.org/bugzilla/show_bug.cgi?id=23950
    Based on the original test case for bug 23950 provided by Eli Miller
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1005790 13f79535-47bb-0310-9956-ffa450edef68

commit 0b332b1f08e79189bd112db1d066e037a438ef99
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 8 11:57:04 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49994
    Lookup of JNDI references should return a new object instance each time
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1005789 13f79535-47bb-0310-9956-ffa450edef68

commit 36dd59fdee6ab100b9ea1b614dee8be19642ce7d
Author: Tim Whittington <timw@apache.org>
Date:   Fri Oct 8 08:11:24 2010 +0000

    Minor fixes to DefaultServlet docs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1005722 13f79535-47bb-0310-9956-ffa450edef68

commit 1416dfcb15f9ace6709cc64a314ab3b1cec658fe
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 7 21:53:55 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49987
    Fix thread safety issue with population of servlet context initialization parameters.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1005647 13f79535-47bb-0310-9956-ffa450edef68

commit 2c10f30609ef84d5a590683a6e8bbdae404c590e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 7 15:33:46 2010 +0000

    Fix some failing tests. No regression in Tomcat/Jasper, just need to take account of changes in test framework.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1005493 13f79535-47bb-0310-9956-ffa450edef68

commit 4e667e170e04f03283e5b2647a97efa800d9801b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 7 15:12:21 2010 +0000

    Fix some failing tests. No regression in Tomcat/Jasper, just need to take account of changes in test framework.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1005486 13f79535-47bb-0310-9956-ffa450edef68

commit 72182cda191d6ed5ce7ceede8a71f83266a871a2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 7 14:35:27 2010 +0000

    Add latest fix
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1005468 13f79535-47bb-0310-9956-ffa450edef68

commit 90ba18101fbf9717be9b49f16eb58feb980ab1f6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 7 14:34:29 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49986
    Thread safety issues in JSP reload process. (timw)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1005467 13f79535-47bb-0310-9956-ffa450edef68

commit b9150455ce7a70ff8843b08cd56c76662c274542
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 7 14:32:29 2010 +0000

    Fix warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1005465 13f79535-47bb-0310-9956-ffa450edef68

commit 16f4ed25ffa4ff2a8023b64f4734ddf2e84e76dd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 7 14:25:43 2010 +0000

    Add bug reference - looks like this one was reported and fixed independently.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1005461 13f79535-47bb-0310-9956-ffa450edef68

commit c23d266138ec53be2e8401b9d5964fdc725090ae
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 7 14:21:55 2010 +0000

    Couple of updates.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1005459 13f79535-47bb-0310-9956-ffa450edef68

commit c48221190f1001cb6c2052305fb26e5800a59aa0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 7 14:21:11 2010 +0000

    Fix import order
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1005458 13f79535-47bb-0310-9956-ffa450edef68

commit ad8b59a19c2640452bb4ab62ea22b32392c40009
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 7 14:13:44 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49978
    Don't try to create directories that already exist
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1005457 13f79535-47bb-0310-9956-ffa450edef68

commit 52a7c8170fd266f1e721d5be6a782de82aa1f2fd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 7 14:05:51 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49972
    Address potential thread safety issues.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1005452 13f79535-47bb-0310-9956-ffa450edef68

commit 0ec4342b9ede8375a9993ff4ad063bc9a47dd8cc
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Thu Oct 7 09:19:00 2010 +0000

    Set not maxThreads  but minSpareThreads to corePoolSize, if AbstractEndpoint.setMinSpareThreads is called.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1005379 13f79535-47bb-0310-9956-ffa450edef68

commit 736c025ddc8b93a8ec85b0546cb12a8b540ea000
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Thu Oct 7 08:54:51 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50054
    Correctly handle the setting of minSpareThreads in AJP connector.
    Other attributes (acceptorThreadCount etc.) are correctly set by this fix.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1005367 13f79535-47bb-0310-9956-ffa450edef68

commit f3d06b55309467de891c866b5cf21d30c37dc463
Author: Tim Whittington <timw@apache.org>
Date:   Thu Oct 7 00:53:21 2010 +0000

    Setting native line encoding.
    No functional change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1005309 13f79535-47bb-0310-9956-ffa450edef68

commit 5a04d623bc1425251473d033cd1964b9aaa13634
Author: Tim Whittington <timw@apache.org>
Date:   Thu Oct 7 00:50:28 2010 +0000

    Adding license headers.
    No functional change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1005308 13f79535-47bb-0310-9956-ffa450edef68

commit 9eb569b9636d2dca1baffa81845472bb59dbd040
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 6 22:54:13 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49957
    Correct regression due to Lifecycle re-factoring that cleared all work directories (with compiled JSPs and persisted sessions) when Tomcat was stopped.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1005284 13f79535-47bb-0310-9956-ffa450edef68

commit f9c5f39c9311cddec22772067deadcde313f58cf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 6 21:58:37 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49956
    Handle case when @Resource annotation uses the full JNDI name for a resource.
    Based on a patch by Gurkan Erdogdu.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1005271 13f79535-47bb-0310-9956-ffa450edef68

commit d40c96e6a7b949a466b43f72bd94dfcfd8253be1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 6 21:51:27 2010 +0000

    Fix indent
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1005269 13f79535-47bb-0310-9956-ffa450edef68

commit b664eb7c02f0ee74362183deaf7a5b3e7f8b4bb6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 6 21:50:10 2010 +0000

    Whitespace police
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1005267 13f79535-47bb-0310-9956-ffa450edef68

commit ab20f81c30c24de06cb34925ba14f203e345dcc7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 6 21:47:27 2010 +0000

    Fix comment typo
    Better error message when a SCL can not be added since the listeners have already been called.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1005266 13f79535-47bb-0310-9956-ffa450edef68

commit 02f3123c35630f26a3c98233d17555a18c49e1b0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 6 21:46:43 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49952
    Allow ServletContainerInitializers to add listeners to a web application.
    Patch provided by David Jencks.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1005265 13f79535-47bb-0310-9956-ffa450edef68

commit 5bf48a7970f763b956904df5ba7d0bab22eb3f22
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 6 21:25:23 2010 +0000

    7.0.3 not released. Missing license header in src file.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1005259 13f79535-47bb-0310-9956-ffa450edef68

commit f1d8546efc75b07f479d653506cc607a73fe276a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 6 15:09:37 2010 +0000

    Colleague at $work reported issues path parameters and extension mapping so add some tests. Looks OK.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1005076 13f79535-47bb-0310-9956-ffa450edef68

commit 5d878e892cd6cf4fb843e607066e07b2ef9b8953
Author: Tim Whittington <timw@apache.org>
Date:   Wed Oct 6 08:37:56 2010 +0000

    Adding unit tests for DefaultServlet and WebdavServlet to test basic serving/mounting behaviour and protection of special paths
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004928 13f79535-47bb-0310-9956-ffa450edef68

commit c70be97eff5029d64a87af51dd1b502f607979fa
Author: Tim Whittington <timw@apache.org>
Date:   Wed Oct 6 08:36:20 2010 +0000

    Making TomcatBaseTest.getUrl() work for get requests that return 404 responses
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004927 13f79535-47bb-0310-9956-ffa450edef68

commit c9e27deb3743a822672f03f7fd154d3053d461f9
Author: Tim Whittington <timw@apache.org>
Date:   Wed Oct 6 07:24:46 2010 +0000

    Correcting JavaDoc for HTTP methods.
    No functional change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004914 13f79535-47bb-0310-9956-ffa450edef68

commit 8b16d63c1909f6232d8305bbd19214ef9dce407a
Author: Tim Whittington <timw@apache.org>
Date:   Wed Oct 6 07:22:46 2010 +0000

    More fixes for https://issues.apache.org/bugzilla/show_bug.cgi?id=50026
    Calculating complete resource path when accessed via RequestDispatcher.include()
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004912 13f79535-47bb-0310-9956-ffa450edef68

commit 2059dff53ff7ec9aca3102cdf83569bc3bc8bb57
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Oct 6 01:06:27 2010 +0000

    Remove @SuppressWarnings that is no more needed
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004869 13f79535-47bb-0310-9956-ffa450edef68

commit 965b544fa1ceaa588d853030895416e802e6aa6b
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Oct 6 01:03:29 2010 +0000

    Amending the fix for
    https://issues.apache.org/bugzilla/show_bug.cgi?id=49669
    Do not depend on the deprecated class. Use reflection instead.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004868 13f79535-47bb-0310-9956-ffa450edef68

commit 1765d0543e3dc7830024c994cc6269b2b57ab7d1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 5 15:32:41 2010 +0000

    Turn the commented out test code into a unit test.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004671 13f79535-47bb-0310-9956-ffa450edef68

commit 96b019953b4da87ad49a2303665253270b27e2cd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 5 14:43:26 2010 +0000

    Simplify. Path is stored in MapElement.name
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004657 13f79535-47bb-0310-9956-ffa450edef68

commit b40244225f6c19e957deef4c5fbf912c0edc9ed3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 5 08:00:08 2010 +0000

    Make sure copyright year is replaced for root webapp
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004564 13f79535-47bb-0310-9956-ffa450edef68

commit 144700d93fa786a08cb152bb73f0f650f1ea08f3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 5 07:55:04 2010 +0000

    Make sure copyright year is replaced for root webapp
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004562 13f79535-47bb-0310-9956-ffa450edef68

commit df98b14e29ca59262ee8170413a9168cef9afa6f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 5 07:45:04 2010 +0000

    typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004555 13f79535-47bb-0310-9956-ffa450edef68

commit 0e902f974cfaabb69c3ef28374bd1f9f3aae1b21
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 5 07:30:54 2010 +0000

    Correct fix fot 49669
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004550 13f79535-47bb-0310-9956-ffa450edef68

commit fbdb54cb2b26b9b1e59e1629b954b3fc18c6cdec
Author: Tim Whittington <timw@apache.org>
Date:   Tue Oct 5 02:57:25 2010 +0000

    Updating changelog with fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=50026
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004513 13f79535-47bb-0310-9956-ffa450edef68

commit 9d4b8ea09fa3ec4c22462f293668fef532542f00
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Oct 4 22:00:38 2010 +0000

    Add missing AL2 header
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004449 13f79535-47bb-0310-9956-ffa450edef68

commit dae5cd725b34d1b658c972070d955af365f9db5b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Oct 4 21:24:55 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49945
    More JMX improvements.
    Patch provided by Chamith Buddhika.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004437 13f79535-47bb-0310-9956-ffa450edef68

commit 68ceb10f26cb25a56aa0ba98ee54320cb8f20f1d
Author: Tim Whittington <timw@apache.org>
Date:   Mon Oct 4 20:37:11 2010 +0000

    More fixes for https://issues.apache.org/bugzilla/show_bug.cgi?id=50026
    Calculating path prefix used in listings correctly so links in listings produced by WebdavServlet mounted to a subpath are correct.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004415 13f79535-47bb-0310-9956-ffa450edef68

commit 62672e31719b8bdce9c63bd6946c1096a7baac90
Author: Tim Whittington <timw@apache.org>
Date:   Mon Oct 4 20:33:57 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50026 for WebdavServlet
    Factored checking of special WEB-INF and META-INF paths into service to trap requests for GET methods handled by DefaultServlet (which does not check access).
    Retained checking of special paths in handlers for copy, delete, move (copy + delete), and in enumeration of resources (propfind).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004409 13f79535-47bb-0310-9956-ffa450edef68

commit 4607f9a3ce7bf3b3a38a726d65da28d4ee6c7f62
Author: Tim Whittington <timw@apache.org>
Date:   Mon Oct 4 20:19:09 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50026
    Always calculate path of resource to be served relative to the context root.
    This invokes the standard protection of WEB-INF and META-INF directories.
    This is a breaking change for the unofficial use of DefaultServlet to remount the webapp base under a new path.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004393 13f79535-47bb-0310-9956-ffa450edef68

commit 61c9fbc23e3411a588a378d4df23fb34fce44ca8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Oct 4 14:50:41 2010 +0000

    Reduce code duplication. Convert file names to a context path in a single method.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004269 13f79535-47bb-0310-9956-ffa450edef68

commit 1739a99608a886f49f2df5e174889949bc9e132d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Oct 4 14:18:14 2010 +0000

    Remove duplicate method. Rename remaining method.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004246 13f79535-47bb-0310-9956-ffa450edef68

commit 064151905452fa0ee66a04a296d675883a907fcd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Oct 4 13:47:25 2010 +0000

    Remove todo for bad idea
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004235 13f79535-47bb-0310-9956-ffa450edef68

commit 39989dd93fa31d9a60abb0697cbcc0bba77b4eb9
Author: Mladen Turk <mturk@apache.org>
Date:   Mon Oct 4 09:37:11 2010 +0000

    Use absolute time spend to unlockAccept and lower down the timeout to 30 secs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004168 13f79535-47bb-0310-9956-ffa450edef68

commit 277a5e05177f91657fd9f6c5a7ccf0b4eb2071b3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Oct 4 09:30:13 2010 +0000

    Mladen fixed 49923
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004165 13f79535-47bb-0310-9956-ffa450edef68

commit f2c5ffb95f9aedd3b50e2c32d3dae0bba9f67c60
Author: Mladen Turk <mturk@apache.org>
Date:   Mon Oct 4 09:22:03 2010 +0000

    Fix 49923 by making sure timeouts can't be negative
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004159 13f79535-47bb-0310-9956-ffa450edef68

commit 1a3bd30fa72748a80b89451179881db8f6ee935b
Author: Mladen Turk <mturk@apache.org>
Date:   Mon Oct 4 08:55:12 2010 +0000

    Use better explanation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004147 13f79535-47bb-0310-9956-ffa450edef68

commit 5a5640e805dd17fc53eccfb54499d242ad4079ce
Author: Mladen Turk <mturk@apache.org>
Date:   Mon Oct 4 08:52:11 2010 +0000

    Add log.warn if unlockAccept fails to wakeup the listening socket
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004145 13f79535-47bb-0310-9956-ffa450edef68

commit bc73236c99c82d936ca7e2adc5df55b7639c800a
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Mon Oct 4 06:47:17 2010 +0000

    To avoid NoSuchMethodException,
    xmlValidation and xmlNamespaceAware are removed from the createStandardHost definition of mbeans-descriptors.xml.
    xmlValidation and xmlNamespaceAware are attributes of not Host but Contex.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004125 13f79535-47bb-0310-9956-ffa450edef68

commit 94b4f8b6f1746e9baf67d19eb3b65dce04263c58
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 3 22:11:04 2010 +0000

    Simplify instantiating parent loggers. No need to instantiate all of them all at once since Logger.getLogger() will result in a call to this method.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004057 13f79535-47bb-0310-9956-ffa450edef68

commit efa84cba7b16110adb23891c8f86ce50ed87deb6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 3 21:58:42 2010 +0000

    Tweak generics. fix a handful of warnings.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004054 13f79535-47bb-0310-9956-ffa450edef68

commit b0172cb8f13dae45d6f82ff0711c017390f3baa7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 3 20:53:49 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49937
    Use InstanceManager to create AsyncListeners so annotations are processed. Based on a patch by David Jencks.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004047 13f79535-47bb-0310-9956-ffa450edef68

commit 56bf843e645e175eca6e42c689c0ab5b9f07a8ba
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 3 19:23:27 2010 +0000

    ADd missing entry
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004030 13f79535-47bb-0310-9956-ffa450edef68

commit d7e5bbde439b3b94f3a4686af049757452424f05
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 3 19:18:20 2010 +0000

    Correct fix version. I think a few more of these need correcting. Checking now...
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004028 13f79535-47bb-0310-9956-ffa450edef68

commit ecf12aaae16798e6cbdff393158b5117017de7fc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 3 19:16:32 2010 +0000

    Improve handling of setting primitive values on beans.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004027 13f79535-47bb-0310-9956-ffa450edef68

commit a44078dfa07e5e1de2df6a8e1c9131f92fdd7f30
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 3 17:27:42 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49922
    Don't map filter twice if filter matches multiple mapping.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004006 13f79535-47bb-0310-9956-ffa450edef68

commit c56531e90b8344ba2e7592ef2516136b83867474
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Oct 3 17:03:05 2010 +0000

    Correct changelog entry for r1003923
    7.0.3 was cut from r1003911, so this one will be in 7.0.4 as Mark noted in BZ
    Correct a typo in the bug number. It is BZ 49998
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1004001 13f79535-47bb-0310-9956-ffa450edef68

commit 5eb7a218eec8eca0928a9eebb5ec658125485f8e
Author: Tim Whittington <timw@apache.org>
Date:   Sun Oct 3 06:53:15 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49998
    Handle single quoted attributes in detection of jsp:root element in XML syntax JSP files.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1003923 13f79535-47bb-0310-9956-ffa450edef68

commit dd681d09138489ac83b38af39ccc1cee267ff20d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 2 22:15:50 2010 +0000

    Bump version
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1003904 13f79535-47bb-0310-9956-ffa450edef68

commit 632d31aaa4788de9b1643295a3352c6d634f0dfb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 2 21:14:37 2010 +0000

    Fix NPE and TCK failures caused by previous fix for bug 49799.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1003891 13f79535-47bb-0310-9956-ffa450edef68

commit 11b67c9ffc4abf66b23908e61ec8d647296654ef
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 2 18:53:30 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49985
    Make thread safe
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1003861 13f79535-47bb-0310-9956-ffa450edef68

commit 3a3da75148296047563097e902448fd06e8136e9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 2 17:57:42 2010 +0000

    Revert r1003552 & r1003550 as it had a significant negative performance impact (orders of magnitude) on Windows during testing.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1003846 13f79535-47bb-0310-9956-ffa450edef68

commit a3389287e8fcf0e290c761b3039738187f293e08
Author: Mladen Turk <mturk@apache.org>
Date:   Sat Oct 2 17:32:14 2010 +0000

    Create service-install.log file during installation with params that were used to invoke commons daemon
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1003840 13f79535-47bb-0310-9956-ffa450edef68

commit db3a0ded5b454f5d450eee14f46d636d37f66ab9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 1 17:29:03 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49916
    Switch to using an initialisation parameter to pass JSP file information from Catalina to Jasper. This simplifies the Catalina code as well as making it easier for Geronimo and others to integrate Jasper.
    Patch provided by David Jencks.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1003589 13f79535-47bb-0310-9956-ffa450edef68

commit 64c1ee3104eb2de3eb34e1b9e1386dc6b014c019
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 1 16:49:29 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49915
    Make error more obvious, particularly when accessed via JConsole, if StandardServer.storeConfig() is called when there is no StoreConfig implementation present.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1003581 13f79535-47bb-0310-9956-ffa450edef68

commit 16f360c5bb294fdf9ad8fb5b9961fcbcf89bdbdc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 1 16:34:37 2010 +0000

    Update changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1003574 13f79535-47bb-0310-9956-ffa450edef68

commit 36d9983c452bf71f8ac24201f37cdc9364f423c8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 1 16:32:31 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49905
    Prevent memory leak when using aysnc session replication
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1003572 13f79535-47bb-0310-9956-ffa450edef68

commit 8aa52f412dbfe0747ed81789098b6280ecfb9d45
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 1 15:08:23 2010 +0000

    -e doesn't exist on Solaris
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1003556 13f79535-47bb-0310-9956-ffa450edef68

commit 940615b083df3a152daab6784ff4d4492287e814
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 1 14:58:43 2010 +0000

    Add a TODO
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1003552 13f79535-47bb-0310-9956-ffa450edef68

commit c3cf572d8e123fa1d6adc1eccd11218f0555111c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 1 14:54:53 2010 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=49890
    Detect when the JVM bug occurs and log an error asking for more information.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1003550 13f79535-47bb-0310-9956-ffa450edef68

commit 01ff428af36c892f793ae405021026e05e0bbf38
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 1 14:36:31 2010 +0000

    getKeyCount() didn't do anything due to local variable definition
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1003548 13f79535-47bb-0310-9956-ffa450edef68

commit 537cc11d5e6bc3af5bd6066123f987623a35271a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 1 11:37:05 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49861
    Don't use commas when logging RMI port values
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1003488 13f79535-47bb-0310-9956-ffa450edef68

commit 1ab399b130d9debeef7483680ec0b4a66c752523
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 1 11:15:56 2010 +0000

    Fix Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1003485 13f79535-47bb-0310-9956-ffa450edef68

commit 5520c6bece949a329501a306d4a0b95f22cd1763
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 1 11:10:51 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49667
    Ensure JDBC leak prevention code doesn't trigger the very memory leak it is meant to be fixing.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1003481 13f79535-47bb-0310-9956-ffa450edef68

commit 13d87bd3ba479d81007c5e87fef2c63ee4935182
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 1 10:21:58 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49860
    Add support for trailing headers
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1003461 13f79535-47bb-0310-9956-ffa450edef68

commit 91c80f83d853d077035588c3e24ebbaa137ea9d1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 30 21:47:46 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49856
    Add an executorName attribute to Connectors so it is possible to trace ThreadPool to Connector to Executor via JMX.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1003304 13f79535-47bb-0310-9956-ffa450edef68

commit 4aeab45577b3fc4e306d6a31c95badf485b8cebf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 30 21:40:11 2010 +0000

    Fix Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1003301 13f79535-47bb-0310-9956-ffa450edef68

commit 703634a615faa94c6562147ed6e44f7d325fe5ea
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 30 21:39:16 2010 +0000

    Register and deregister Executors in JMX
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1003299 13f79535-47bb-0310-9956-ffa450edef68

commit 704d05f8e37d1c3a4e09edc028cff17c19a7d666
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 30 18:00:23 2010 +0000

    Fix warnings in this package
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1003187 13f79535-47bb-0310-9956-ffa450edef68

commit b72dc00cdc86bb181650019c9dcbc27264b6ea02
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 30 17:56:42 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49730
    Race condition in executor can lead to long delays in request processing
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1003183 13f79535-47bb-0310-9956-ffa450edef68

commit 6994cf76d54b49f84455a51990b43674bedf5813
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 30 17:35:35 2010 +0000

    Fix the root cause of the previous TCK failures (badly re-factored flush()) and restore the changes that were just working around the symptoms (poller stuff).
    Servlet 3.0 passes for the AJP/APR connector as of this commit.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1003177 13f79535-47bb-0310-9956-ffa450edef68

commit 6b8872ada514d49993fff77784fa1a90e40e2874
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 30 16:16:05 2010 +0000

    Fix remaining issues with AJP/APR and TCK. Note mod_jk log is full of warnings so there is still work to do here.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1003136 13f79535-47bb-0310-9956-ffa450edef68

commit ea5888a371565cbbe7556ff0765d7b322603eefd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 30 13:44:11 2010 +0000

    Fix some of the remaining issues with the AJP/APR connector post async refactoring. Still does not pass the TCK.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1003065 13f79535-47bb-0310-9956-ffa450edef68

commit f8194d25863bef3802f5dac4af42e3d9a1ac8697
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Thu Sep 30 02:49:34 2010 +0000

    Avoid NPE when mapOwner is null.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1002935 13f79535-47bb-0310-9956-ffa450edef68

commit 5c0d775a28c608466497ac0f828675e326ced38c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 30 00:31:33 2010 +0000

    Clean-up. No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1002912 13f79535-47bb-0310-9956-ffa450edef68

commit 1f40cb365412e1b1a820bc3ca088b6359f86639d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 30 00:28:59 2010 +0000

    Get AJP working after async refactoring. Some issues remain with AJP/APR connector which still has a handful of TCK failures.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1002911 13f79535-47bb-0310-9956-ffa450edef68

commit f31e82062dcdc22dd7a90cdb8b296aef9e8d89db
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 30 00:27:45 2010 +0000

    Minor clean-up to align with AJP
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1002910 13f79535-47bb-0310-9956-ffa450edef68

commit 04b21a8e2d068325ffb166bc181453eed141b9f0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 29 16:18:21 2010 +0000

    Tweak the refactoring
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1002714 13f79535-47bb-0310-9956-ffa450edef68

commit 9001f69ccbcd82b0ffb9eac4bad49a0e60880f26
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 29 16:13:05 2010 +0000

    Re-factor the async state machine into a separate class so it can be re-used for the AJP processors as well.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1002711 13f79535-47bb-0310-9956-ffa450edef68

commit 44d65f21309a9d1f95ed049494cb2a6165c3960c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 29 16:02:24 2010 +0000

    Rename local variable to make code clearer
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1002703 13f79535-47bb-0310-9956-ffa450edef68

commit 4640717ed1abb2b9155ce0ab1fc2e63c68d0cb12
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 29 15:36:54 2010 +0000

    Refactor logging
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1002683 13f79535-47bb-0310-9956-ffa450edef68

commit 3a8b4fd28b9394c919284ed60bacc335f4b8cf15
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 29 15:21:53 2010 +0000

    Reduce code duplication in the APR connectors (prior to aligning with the Async refactoring)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1002673 13f79535-47bb-0310-9956-ffa450edef68

commit a5d711bae1424d7b3b1091e3155fcb12c02eac34
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 29 10:15:51 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=50021
    Don't reference ExceptionUtisl from Bootstrap - it won't be visible at startup.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1002562 13f79535-47bb-0310-9956-ffa450edef68

commit 5c4048e1e2037579e38b0ad26d353def126a0cd8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 29 10:07:10 2010 +0000

    Fix error in fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=48644
    Should use ExcpetionUtils from o.a.tomcat.util, not o.a.jasper.util
    Fixed with the help of Eclipe's organise imports that also removed a few unused imports.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1002556 13f79535-47bb-0310-9956-ffa450edef68

commit bd87876b92335d23973888386631f553136084f5
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Sep 29 08:18:52 2010 +0000

    Correct a typo in message
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1002514 13f79535-47bb-0310-9956-ffa450edef68

commit 510eda16c4848a3865f6985444d2f17b3330c21c
Author: Tim Whittington <timw@apache.org>
Date:   Wed Sep 29 08:08:32 2010 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=50018
    Minor javadoc corrections in Jasper.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1002509 13f79535-47bb-0310-9956-ffa450edef68

commit e241c2f44524086679dc3b20eda3d623b22d74c2
Author: Mladen Turk <mturk@apache.org>
Date:   Wed Sep 29 05:43:57 2010 +0000

    Be consistent with CATALINA_PID quoting and always redirect all streams to /dev/null cause we are interested only in return value
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1002481 13f79535-47bb-0310-9956-ffa450edef68

commit c91daefa56e5c3344865cc1216f8d8c3283dd2ea
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 28 21:30:27 2010 +0000

    More review comments form mturk. Tighten up handling of ps output.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1002362 13f79535-47bb-0310-9956-ffa450edef68

commit d42a6a622ebf82c16e21f87ac89a5727bd19dd9d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 28 21:20:06 2010 +0000

    Respond to mturk's review. Make rm  more robust. Avoid potential issues with (...).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1002359 13f79535-47bb-0310-9956-ffa450edef68

commit 262f8de1c94ba5606117c6b1d59f689fe3a716de
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 28 20:43:32 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49195
    Avoid error message when shutting down Windows service when the shutdown port is disabled.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1002349 13f79535-47bb-0310-9956-ffa450edef68

commit 8892d82665f45a93a0d457bacf771a33b327fae6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 28 17:23:05 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49665
    Better handling for missing TLD files. Report JSP filename and location.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1002274 13f79535-47bb-0310-9956-ffa450edef68

commit ab65c44e5b9661d29a71ea12847a43f1b0ff1f2d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 28 17:02:33 2010 +0000

    Update
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1002264 13f79535-47bb-0310-9956-ffa450edef68

commit f56c2f9a8abad9535c0d3324b399aa425b9277bc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 28 16:59:54 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49728
    Improve PID file handling, particularly when another process creates it and Tomcat is unable to write to the file.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1002263 13f79535-47bb-0310-9956-ffa450edef68

commit 1b17865e532ec92ab9ccf0760657560617b2fcde
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 28 14:43:03 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49657
    Correctly handle CGI executables with spaces in the name/path
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1002185 13f79535-47bb-0310-9956-ffa450edef68

commit 17d8cd3e282aab2e394f688f81e577cb28a3c111
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 28 12:08:53 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49625
    Ensure Vary header is set if response may be compressed rather than only setting it if it is compressed.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1002133 13f79535-47bb-0310-9956-ffa450edef68

commit ec2a99407991e9ea08c3eb456fa6ae13f274ab65
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Sep 28 11:37:14 2010 +0000

    Add license header
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1002120 13f79535-47bb-0310-9956-ffa450edef68

commit b1e0f8e63421f9975954847b3b18474849aff598
Author: Tim Whittington <timw@apache.org>
Date:   Tue Sep 28 09:36:08 2010 +0000

    Moved all Eclipse specific files into res/ide-support/eclipse.
    Removed spaces from launch target filenames.
    Corrected launch targets to run in output/build instead of root directory (still not sure if they're a good idea)
    Added an Ant ide-eclipse target to prepare the working copy to be built with Eclipse and create Eclipse project files.
    Updated the Building docs to document new Eclipse setup method.
    Added descriptions of how to configure Eclipse to respect Tomcat coding conventions to the Building guide.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1002073 13f79535-47bb-0310-9956-ffa450edef68

commit 5d95f6791c64f2c54c7320d4a73dcdc4570dac2b
Author: Tim Whittington <timw@apache.org>
Date:   Tue Sep 28 09:28:30 2010 +0000

    Adding myself to active devs list.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1002070 13f79535-47bb-0310-9956-ffa450edef68

commit 5195c8f106d895a440e4d77bf563182437f2bc63
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 27 23:09:54 2010 +0000

    Update
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1001958 13f79535-47bb-0310-9956-ffa450edef68

commit 83db34700bbc013a14cae21f185ef720d0892e3d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 27 23:06:08 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49209
    Prevent possible AccessControlException during undeployment when running with a security manager
    Patch provided by Sylvain Laurent
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1001955 13f79535-47bb-0310-9956-ffa450edef68

commit f91c97a88bd248ab7b2b289cc76180fe0eb1cf38
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 27 22:31:03 2010 +0000

    Update
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1001941 13f79535-47bb-0310-9956-ffa450edef68

commit 79576c0026eb9f085f673671f597e54af9a68217
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 27 22:29:30 2010 +0000

    Remaining fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=48644
    Some Throwables must always be re-thrown
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1001939 13f79535-47bb-0310-9956-ffa450edef68

commit 77f21312c47f96a7cce8d6194bc30d3ab8c8f980
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 27 22:22:02 2010 +0000

    Partial fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=48644
    Some Throwables must always be re-thrown
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1001938 13f79535-47bb-0310-9956-ffa450edef68

commit eeb60bcd5fb8adb69369aca7bf0967f114d0c042
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 27 22:17:30 2010 +0000

    Partial fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=48644
    Some Throwables must always be re-thrown
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1001934 13f79535-47bb-0310-9956-ffa450edef68

commit 0bcdb07810a8cf80fa71e6a8e717a23fedfbe325
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 27 22:16:26 2010 +0000

    Partial fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=48644
    Some Throwables must always be re-thrown
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1001933 13f79535-47bb-0310-9956-ffa450edef68

commit a6418d0ce93804700588d74eaf19ffa7c836ab6b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 27 22:12:05 2010 +0000

    Partial fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=48644
    Some Throwables must always be re-thrown
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1001932 13f79535-47bb-0310-9956-ffa450edef68

commit 5890a7d92047e3f991647fd5eb08abf3be550ab5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 27 22:01:45 2010 +0000

    Partial fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=48644
    Some Throwables must always be re-thrown
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1001923 13f79535-47bb-0310-9956-ffa450edef68

commit 04991a58c78a290ae4a476c5e58bea7f394aab47
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 27 21:32:25 2010 +0000

    Partial fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=48644
    Some Throwables must always be re-thrown
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1001915 13f79535-47bb-0310-9956-ffa450edef68

commit fd6e6b69d426919f7dfcf7968e5bb3725e90b68f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 27 20:52:49 2010 +0000

    Partial fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=48644
    Some Throwables must always be re-thrown
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1001904 13f79535-47bb-0310-9956-ffa450edef68

commit d8a099842b9573fb43f5a18d3a1c035ec0142410
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 27 20:24:18 2010 +0000

    Partial fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=48644
    Don't catch Throwable
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1001899 13f79535-47bb-0310-9956-ffa450edef68

commit 01250839166b4419fab8c3b2dceb6ccf1a6fae34
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 27 12:58:06 2010 +0000

    Fix comment typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1001719 13f79535-47bb-0310-9956-ffa450edef68

commit bfe88d1e314ac0cd893b8b70cfc86bdba94d274d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 27 12:56:38 2010 +0000

    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1001718 13f79535-47bb-0310-9956-ffa450edef68

commit 92daeb6f17d8d6d6af1e532452cbe6127ac56bf6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 27 12:13:32 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49884
    
    This required a major re-factoring of the async implementation. In summary:
    - Moved state management to the Coyote Processor
    - Added a SocketWrapper to the APR socket
    - Added syncs to ensure only one async state change at a time
    - Added syncs to ensure only one thread changing a socket's state at a time
    
    A number of new bugs were also uncovered and fixed by this re-factoring:
    - delay processing complete() and dispatch() until request where startAsync() is called finished processing
    - onAsyncStart listener event
    
    Currently the test case for bug 49884 passes with the security manager enabled using "ab -n 5000 -c 150 -k ..." (it broke with "ab -n 50 -c 10 ..." previously)
    
    The unit tests pass for all three HTTP connectors.
    
    The AJP connectors have only been modified to ensure the code compiles.
    
    The following work remains:
    - Testing all connectors (HTTP and AJP) with TCK + security manager and fixing whatever is broken
    - Further clean-up
    - There is further scope for reducing code duplication between the connectors / aligning the code so it is easier to maintain.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1001698 13f79535-47bb-0310-9956-ffa450edef68

commit db56d4fbb15d27f0664fd5f6d925d6909b1f6a8b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 27 00:17:26 2010 +0000

    Change method name so it is easier to distinguish between async and comet processing. No so important here since comet isn't supported, but need to change it to align with changes to be made in NIO and APR
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1001564 13f79535-47bb-0310-9956-ffa450edef68

commit 247599b571856ea359577eb64638b176e2dd0caf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Sep 26 22:58:38 2010 +0000

    Remove some unused code.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1001553 13f79535-47bb-0310-9956-ffa450edef68

commit 13996f8e50b2f5d87d6e51d16fc3cd36f1c40f80
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Sep 26 22:50:30 2010 +0000

    More NPE avoidance.
    Keep process methods aligned.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1001552 13f79535-47bb-0310-9956-ffa450edef68

commit 4f629240fae81d8cb4cd072a0762072654d27b39
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Sep 26 22:46:35 2010 +0000

    Fix a handful of Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1001548 13f79535-47bb-0310-9956-ffa450edef68

commit ede9fcd173a73f8802f814ecfe88b96bcd3e61b9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Sep 26 22:38:14 2010 +0000

    Since SocketStatus is always OPEN or TIMEOUT for BIO, remove the test.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1001546 13f79535-47bb-0310-9956-ffa450edef68

commit 902f886abb9b20659c11d1bff48a90911efff0f4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Sep 26 22:37:31 2010 +0000

    Add some Javadoc.
    Use SocketStatus.OPEN rather than STOP since the BIO connector treats them the same way and it reduces code complexity. It also simplifies async re-factoring I have in the works,
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1001545 13f79535-47bb-0310-9956-ffa450edef68

commit 84edb4a6c5ea68d6b09bcebd78ccef3732ae81c9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Sep 26 22:22:25 2010 +0000

    Better Javadoc.
    If endpoint is shutting down, return false so connection to client is closed immediately.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1001538 13f79535-47bb-0310-9956-ffa450edef68

commit 9b3a15f74b6f9bc1dd2fc972205965d0242a614f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Sep 26 21:26:08 2010 +0000

    Clean-up. Reduce whitespace, unnecessary comments
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1001525 13f79535-47bb-0310-9956-ffa450edef68

commit 883817b68b19309204ca0baba0aa12ed5190f9bb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Sep 26 17:57:07 2010 +0000

    Tab police
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1001485 13f79535-47bb-0310-9956-ffa450edef68

commit 12a53cb6625b2474942d96d4377a19cd11076ec8
Author: Tim Whittington <timw@apache.org>
Date:   Sun Sep 26 07:46:27 2010 +0000

    Fixing Tomcat startup class in building instructions.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1001383 13f79535-47bb-0310-9956-ffa450edef68

commit 559c13391569447187064cd1a3b07cc0b55582f0
Author: Mladen Turk <mturk@apache.org>
Date:   Fri Sep 24 06:00:00 2010 +0000

    Fix Bz #49993 by checking the JAVA_HOME/JRE_HOME environment variables
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1000718 13f79535-47bb-0310-9956-ffa450edef68

commit 30806e790a1c6bbc03e1879a059cb672a884fd42
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 23 21:08:14 2010 +0000

    Reduce timeout from 60s to 3s to speed up async tests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1000625 13f79535-47bb-0310-9956-ffa450edef68

commit c7b8bb9b936c807ef52f4995a0c81d957c93ac35
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Sep 23 12:46:50 2010 +0000

    Add a comment.
    I guess it is too late to change it now, as the code is more than 3 years old.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1000433 13f79535-47bb-0310-9956-ffa450edef68

commit 71917fb765db097a8431840c17acc325af5ff528
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Sep 23 12:15:56 2010 +0000

    Take care of line endings for the two files added in r1000392
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1000423 13f79535-47bb-0310-9956-ffa450edef68

commit 004ff0c71ddf9a94ebfc509325f3cf3c0868daae
Author: Tim Whittington <timw@apache.org>
Date:   Thu Sep 23 10:38:56 2010 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=49102
    
    Protecting AJP code -> header/method lookup arrays with getters.
    No measurable slowdown (especially after a profiling JIT gets done with it).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1000400 13f79535-47bb-0310-9956-ffa450edef68

commit 4ce4197670ff523294208167b206b2c2f11208fc
Author: Tim Whittington <timw@apache.org>
Date:   Thu Sep 23 10:15:16 2010 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=49955
    
    Improvements and corrections for the Building Tomcat guide, plus
    sample Eclipse launch targets.
    
    Based on contribution from Wesley Acheson.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1000392 13f79535-47bb-0310-9956-ffa450edef68

commit 98351d571a0f8584526f7a3d85c67e9fd4885ad0
Author: Tim Whittington <timw@apache.org>
Date:   Thu Sep 23 10:14:54 2010 +0000

    Adding a description for build-docs task
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1000391 13f79535-47bb-0310-9956-ffa450edef68

commit ca4bcf557ec8daefd924a6df76a79c6785482cf2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 23 00:30:53 2010 +0000

    Fix Javadoc warnings highlighted by buildbot
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1000284 13f79535-47bb-0310-9956-ffa450edef68

commit 9277aa9eba74529ec8166eda788ca5d70e816cf2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 23 00:19:20 2010 +0000

    Parameterize the APR location for the unit tests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1000283 13f79535-47bb-0310-9956-ffa450edef68

commit 291ca6d470ce36b24d36ec92017a3543dd95b029
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 22 22:59:55 2010 +0000

    Correctly define the ROOT context in unit tests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1000269 13f79535-47bb-0310-9956-ffa450edef68

commit 8aab3424fa8242e9152228af50c1ad032369b4fd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 22 20:04:32 2010 +0000

    Add the missing onStartAsync event
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1000164 13f79535-47bb-0310-9956-ffa450edef68

commit 75b7f5fdd4befaffa1a72ef25a6f46bd34e04408
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Sep 22 14:48:53 2010 +0000

    Improving the documentation for logging configuration in Apache Tomcat
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1000003 13f79535-47bb-0310-9956-ffa450edef68

commit c8afddc5ef2eb82e33f8f4688021da0fd704ae2c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 22 14:47:16 2010 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@999995 13f79535-47bb-0310-9956-ffa450edef68

commit 6403cdbb2213892539735f176b16809fd6817901
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 22 14:34:23 2010 +0000

    Need ant-launcher.jar to compile JSPs with Ant rather than ECJ
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@999980 13f79535-47bb-0310-9956-ffa450edef68

commit 63fba11cb0244384065b0708476d0006e281fc54
Author: Mladen Turk <mturk@apache.org>
Date:   Wed Sep 22 14:29:07 2010 +0000

    Use *modern* types of nsis install/uninstall icons
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@999976 13f79535-47bb-0310-9956-ffa450edef68

commit 585752934971d382098bfc87c520923fc4a1bf20
Author: Mladen Turk <mturk@apache.org>
Date:   Wed Sep 22 14:22:48 2010 +0000

    Add connector wait for shutdown to changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@999972 13f79535-47bb-0310-9956-ffa450edef68

commit b66b5c07853db10cedfcb70ecf79a6469d5319b7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 22 14:18:48 2010 +0000

    Delete reference to option that was previously removed.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@999966 13f79535-47bb-0310-9956-ffa450edef68

commit ec67d84209baec2ca079ac95fccac25afb417fa5
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Sep 22 13:15:46 2010 +0000

    add release date for 7.0.2 beta,
    from announcement on tomcat.apache.org
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@999929 13f79535-47bb-0310-9956-ffa450edef68

commit 92cb029566c7051e072540404d8cfce2f458e824
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Sep 21 18:21:38 2010 +0000

    correct a typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@999523 13f79535-47bb-0310-9956-ffa450edef68

commit bc14d4ddeabc09b02df782f97c0a92263fa3c4c3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 18 21:41:44 2010 +0000

    Remove unused code as identified by UCDetector
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@998554 13f79535-47bb-0310-9956-ffa450edef68

commit 004523b814b25fc25a2c504ec46ca619d78d5db9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 18 21:20:00 2010 +0000

    Remove unused constructor
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@998549 13f79535-47bb-0310-9956-ffa450edef68

commit 89be4b79189a0c5f9e6b4ded7b2465cd3187a060
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 18 18:09:48 2010 +0000

    Re-factor JIO end point to look more like NIO end point. Moving stuff around, processing order should remain the same.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@998509 13f79535-47bb-0310-9956-ffa450edef68

commit e164222f9d6fe9d74e480eeb2eb3ac89a06200e1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 18 18:08:25 2010 +0000

    Remove unused imports
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@998506 13f79535-47bb-0310-9956-ffa450edef68

commit 0f7b953495451d24323290bba9b6f912403176b5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 18 15:04:40 2010 +0000

    More refactoring. This one very simple.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@998479 13f79535-47bb-0310-9956-ffa450edef68

commit 35650201ccd7c20b4f99bced3f8aa285db69576e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 18 13:47:49 2010 +0000

    Code clean-up
    Use a single method for unlockAccept
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@998468 13f79535-47bb-0310-9956-ffa450edef68

commit b38aba774b63fb514d58ade4e23d0857a40b0eea
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 18 11:53:19 2010 +0000

    Code clean-up
    Align end-point behaviours. Should then be easier to apply async chnages.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@998446 13f79535-47bb-0310-9956-ffa450edef68

commit 88a9255dbb66bc102b84a7237971f7224fadd231
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 17 18:27:49 2010 +0000

    Code clean-up.
    Align BIO and NIO to make Async refactoring easier
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@998236 13f79535-47bb-0310-9956-ffa450edef68

commit c173ef04587622d2aba64351b2d9e9e9f91f3d04
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 17 16:43:33 2010 +0000

    Nothing was reading this. Remove it. It can always be added back in later if we need it for something.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@998195 13f79535-47bb-0310-9956-ffa450edef68

commit 859fb10f068d43c6b17e2641d9a27dd099f97cac
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 17 16:30:54 2010 +0000

    Also handle NPEs (seen during testing of new async re-factoring) and ignore them if the endpoint is shutting down.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@998190 13f79535-47bb-0310-9956-ffa450edef68

commit 83da2cd49cfdecda5f89355c69ee5af053512049
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 17 15:02:45 2010 +0000

    Misc Eclipse and FindBugs warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@998168 13f79535-47bb-0310-9956-ffa450edef68

commit 6f4280bfcf2312ff167879ce00de60e5048da99d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 17 14:56:58 2010 +0000

    Remove unused import
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@998164 13f79535-47bb-0310-9956-ffa450edef68

commit ef4ab346bbc5eb960cffa260715b1e6cda3fcfb9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 17 14:56:28 2010 +0000

    Remove unnecessary code. Superclass method does exactly the same thing.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@998161 13f79535-47bb-0310-9956-ffa450edef68

commit d8e4f4baa27cf29cedd0c41c8fe5be71b5e077a0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 17 14:40:05 2010 +0000

    Code clean-up.
    Align BIO and NIO to make Async refactoring easier
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@998153 13f79535-47bb-0310-9956-ffa450edef68

commit 3e21ccc47d12f624ea8effde1685f525f4d6b7fa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 17 14:11:03 2010 +0000

    Remove more START/STOP actions and started attribute. They aren't adding anything.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@998145 13f79535-47bb-0310-9956-ffa450edef68

commit 620362b8d818ceb26b7eaee8aef8360b1a7a583e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 17 14:08:10 2010 +0000

    Remove START/STOP actions and started attribute. They aren't adding anything.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@998143 13f79535-47bb-0310-9956-ffa450edef68

commit 64925938173c7942a3fc87027c4dd0e6630e4959
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 17 14:00:10 2010 +0000

    NIO and APR processors don't use START/STOP so this code is unnecessary
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@998141 13f79535-47bb-0310-9956-ffa450edef68

commit 883bf843e2df5e120f75a8712240fa464821de76
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 17 11:05:39 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49909
    Re-enable JSTL. This was a regression in the fix for bz 47950
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@998071 13f79535-47bb-0310-9956-ffa450edef68

commit 700e2eb485d3a5cb708cd47e70ca3c008c61a4fa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 15 14:03:13 2010 +0000

    Remove empty dir
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@997341 13f79535-47bb-0310-9956-ffa450edef68

commit 1813f5c96bd49f515c60c5864a3307480070d8ba
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 15 13:39:08 2010 +0000

    Fix niggle
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@997331 13f79535-47bb-0310-9956-ffa450edef68

commit 92d58e38409169535903a387bb0c21a5e856f820
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 15 13:34:42 2010 +0000

    Include the suffix in the version number
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@997329 13f79535-47bb-0310-9956-ffa450edef68

commit 3697d2723220d2f3d1e43daa71d6ac247426297a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 15 13:29:47 2010 +0000

    Fix Javadoc
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@997326 13f79535-47bb-0310-9956-ffa450edef68

commit f14010a4ad0afb362cac7920e8760e0303a0e991
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 15 13:26:12 2010 +0000

    Update changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@997323 13f79535-47bb-0310-9956-ffa450edef68

commit 3e5adb24cb1ccec5d1cb1bd0478c083dff8ec16d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 15 13:24:14 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49584
    Move the offering of a new thread on release from the abandoned connection code to the release code to eliminate the possibility of a blocked thread on release.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@997321 13f79535-47bb-0310-9956-ffa450edef68

commit 59659b142f78cdc5e700b18e0b7d99b4511fa221
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 15 11:42:55 2010 +0000

    Address a concern raised in https://issues.apache.org/bugzilla/show_bug.cgi?id=49584
    Re-factor code to clarify con is never null when release is called.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@997291 13f79535-47bb-0310-9956-ffa450edef68

commit 3e76e912490b55c01177a6d006339ed2ccc74f69
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 14 12:38:53 2010 +0000

    More re-factoring: AsyncContext will throw exception
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@996871 13f79535-47bb-0310-9956-ffa450edef68

commit 52acba15360add0e78fc527bfca5059649e5ad69
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 14 12:09:50 2010 +0000

    More re-factoring: expose the Executor
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@996861 13f79535-47bb-0310-9956-ffa450edef68

commit 06b14bd4c260efc0b36d4a61deeae0a9412a5e00
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 14 11:47:57 2010 +0000

    More re-factoring prior to large async changes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@996852 13f79535-47bb-0310-9956-ffa450edef68

commit c5d92891060a51016810920cdd12675a68855e2b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 14 11:43:22 2010 +0000

    Code clean-up and a little preparatory re-factoring prior to large async changes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@996850 13f79535-47bb-0310-9956-ffa450edef68

commit d58ab9d9997eaaa98080e85cb5c288024199858d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 14 07:55:26 2010 +0000

    Fix most of the warnings in this package
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@996780 13f79535-47bb-0310-9956-ffa450edef68

commit 9e866fa4bd41ec565f59b82bbbe2d3db2d47bbf9
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Tue Sep 14 07:49:33 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49924
    When non-primary node changes into a primary node, make sure isPrimarySession is changed to true.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@996778 13f79535-47bb-0310-9956-ffa450edef68

commit bfb9462eea94c994d796b03fad575063fc53dfd6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 14 07:23:19 2010 +0000

    Add @Override markers to package
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@996771 13f79535-47bb-0310-9956-ffa450edef68

commit 721de1ec1f9e689dcd4f771d0d5112992b97f07e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 13 20:23:22 2010 +0000

    Convert ActionCode to an enum.
    Shorten all the names by removing ACTION_ from the beginning. We have to use ActionCode.XXX to ACTION_ is just wasted screen space.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@996677 13f79535-47bb-0310-9956-ffa450edef68

commit 7777e33dae3366e73d51475e60855bb50d127c9f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 13 20:03:17 2010 +0000

    Re-factoring the connectors. Remove large chunks of duplicated code in the Processors. Some minor changes elsewhere to support the re-factoring.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@996672 13f79535-47bb-0310-9956-ffa450edef68

commit de4c0097ee0ca3125f467c020f35550c2ce8663d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 13 17:28:53 2010 +0000

    Code clean-up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@996608 13f79535-47bb-0310-9956-ffa450edef68

commit 665ed84158870d3b8e7a397a45256d210ec76023
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Sep 12 08:05:35 2010 +0000

    Fix Eclipse warnings prior to working on bz49884 refactoring
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@996261 13f79535-47bb-0310-9956-ffa450edef68

commit 3963e323d8007fc3d40fee5caeec77ba591a0d5a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Sep 12 01:38:30 2010 +0000

    Fix typos. Remove attributes that don't exist. Add a missing attribute.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@996235 13f79535-47bb-0310-9956-ffa450edef68

commit f14440c72f939ecf65ebf97f6189af5ea1ce9934
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Sep 12 01:25:03 2010 +0000

    Further work for https://issues.apache.org/bugzilla/show_bug.cgi?id=49234
    GSOC 2010. Enable the creation of Services, Engines, Connectors, Hosts and Contexts via JMX from a minimal server.xml that contains only a Server element.
    Based on a patch by Chamith Buddhika. I added the additional changes to pass the parent class loader down the hierarchy.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@996231 13f79535-47bb-0310-9956-ffa450edef68

commit 2537074b7f74e7e1a370569500200d319f98ebe3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 11 16:32:02 2010 +0000

    Update commons pool to 1.5.5
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@996163 13f79535-47bb-0310-9956-ffa450edef68

commit 7d7f1b609b6f7198c8548fbf0f55a2f076572c93
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 11 15:47:01 2010 +0000

    Update changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@996159 13f79535-47bb-0310-9956-ffa450edef68

commit 4ba1203003a66641633c183ba881824b8f31e5cc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 11 10:44:50 2010 +0000

    Fix an issue where <Context .../> elements defined in server.xml did not use the configClass specified by the parent <Host .../> element
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@996117 13f79535-47bb-0310-9956-ffa450edef68

commit 6fc458210eb474258474446d88d825b6491f65cd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 11 10:17:07 2010 +0000

    Revert r996112. At least some of that config is required.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@996114 13f79535-47bb-0310-9956-ffa450edef68

commit c006252b1528e2e6f15cd38d3b77d121b421478e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 11 09:48:32 2010 +0000

    Remove unnecessary digester configuration
    hostConfigClass and engineConfigClass were removed before 6.0.x
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@996112 13f79535-47bb-0310-9956-ffa450edef68

commit 2f67dd2a25e5f2321236f7ead1ebe1e3af725251
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 10 21:35:55 2010 +0000

    Remove pointless comment.
    Schema validation moved to the context
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@995991 13f79535-47bb-0310-9956-ffa450edef68

commit 8866c7395a7e1cbd8309f499503bf2d69c64a7ee
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 9 21:08:50 2010 +0000

    Code clean up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@995577 13f79535-47bb-0310-9956-ffa450edef68

commit df8f6f614af42d300fe728f46236e4c510714f1d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 9 21:07:37 2010 +0000

    Refactor log messages to use logger from concrete class
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@995576 13f79535-47bb-0310-9956-ffa450edef68

commit 92ac0dffecf92c0dddcfa3cf6b9ce2e830e77869
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 9 20:34:27 2010 +0000

    Shorten the debug output
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@995572 13f79535-47bb-0310-9956-ffa450edef68

commit 330c332e6817096ab6cf21b4a95bf92da484af98
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 9 14:03:12 2010 +0000

    Update change log
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@995433 13f79535-47bb-0310-9956-ffa450edef68

commit 097279f04ab0ae8488fbd1d3532702d02b4e3d4b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 9 14:01:50 2010 +0000

    Trim whitespace from interceptor class names, property names and property values.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@995432 13f79535-47bb-0310-9956-ffa450edef68

commit 9ec719ef7ec02149ba2425341a8080c8a09e18c3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 8 19:46:34 2010 +0000

    Update changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@995226 13f79535-47bb-0310-9956-ffa450edef68

commit 6f3d1cb3013c1b634b0f11c6f398c8cca6887b2f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 8 19:45:16 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49892
    Correct JNDI name for method resource injections
    Based on a patch by Gurkan Erdogdu
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@995224 13f79535-47bb-0310-9956-ffa450edef68

commit 58cebfb07266f1e51e2ebd5ae58bbf7ce6575e8d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 8 19:39:36 2010 +0000

    Fix @Override warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@995218 13f79535-47bb-0310-9956-ffa450edef68

commit e5d818cdf5eecad8b3260c76bc67e26a012870ed
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 8 15:35:48 2010 +0000

    Update changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@995099 13f79535-47bb-0310-9956-ffa450edef68

commit 4dbef0f3eaf5469eed8b9497c99d087fe7a00a67
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 8 15:31:27 2010 +0000

    Document new validation class (https://issues.apache.org/bugzilla/show_bug.cgi?id=48817)
    Patch provided by Matt Passell.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@995095 13f79535-47bb-0310-9956-ffa450edef68

commit 613b2a970fb6d8eae57763b15bee706314f9b95f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 8 15:27:00 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49831
    Make sure pooled XA connections are properly closed when the pool shuts down.
    Based on a patch by Daniel Mikusa.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@995091 13f79535-47bb-0310-9956-ffa450edef68

commit b203229d8fa8477420b362073145d10366ef3e4f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 8 15:19:00 2010 +0000

    Remove some unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@995087 13f79535-47bb-0310-9956-ffa450edef68

commit 4ac44e591d09f1a51473cb547c6ee85adb581d2c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 8 15:11:49 2010 +0000

    Update changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@995084 13f79535-47bb-0310-9956-ffa450edef68

commit 66949a2da2349bfb313d8148a63cb4a1db133427
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 8 15:09:49 2010 +0000

    Update to latest Tomact 6.0.x and DBCP 1.3.x release
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@995083 13f79535-47bb-0310-9956-ffa450edef68

commit e40bf43a155417b73664125a2bff5b70bbff5d0f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 8 15:09:16 2010 +0000

    Bring changelog up to date
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@995082 13f79535-47bb-0310-9956-ffa450edef68

commit 59f319757456566a5d823cece2e5ba5e5a36b0d0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 8 06:03:33 2010 +0000

    Fix warnings in the host manager package
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@993618 13f79535-47bb-0310-9956-ffa450edef68

commit 51105c2477947fcd10a62177f33f619a396db0e2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 8 05:57:44 2010 +0000

    Remove unused attributes. This all moved to Context.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@993616 13f79535-47bb-0310-9956-ffa450edef68

commit d77baf3d3aa30c588e15af217a255a5b0fb59082
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 8 05:43:39 2010 +0000

    Remove unused attributes. This all moved to Context.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@993608 13f79535-47bb-0310-9956-ffa450edef68

commit 63cb573e09b81680566fb2502571ed6cb1b44144
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 7 12:56:29 2010 +0000

    Additional debug logging to investigate
    https://issues.apache.org/bugzilla/show_bug.cgi?id=49884
    - logs hashcodes for current request, coyote request and request processor
    - logs thread name
    - makes debug stack trace optional (enabled with trace level logging)
    - adds debug statements to additional methods
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@993340 13f79535-47bb-0310-9956-ffa450edef68

commit 981b6480ccf7c148b432902aa875a8b8d923d077
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 6 16:53:34 2010 +0000

    Reduce visibility, remove unused/unnecessary methods prior to fixing bz49884
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@993096 13f79535-47bb-0310-9956-ffa450edef68

commit b924754451aa9c9c06895a91cc2e49daf7b31d79
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 6 16:34:19 2010 +0000

    Add @Override to test code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@993087 13f79535-47bb-0310-9956-ffa450edef68

commit 437827a1e7ec96dfd435f4b9144a804a74474695
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 6 14:39:48 2010 +0000

    Avoid NPE when a parallel request invalidates the current session
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@993042 13f79535-47bb-0310-9956-ffa450edef68

commit ec4790017dab09b541be760690619b1879163022
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 6 14:20:11 2010 +0000

    Couple of trivial Eclipse nags
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@993038 13f79535-47bb-0310-9956-ffa450edef68

commit 053c41dbbda75b194d3e1db23fc80774c1460445
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 6 12:20:32 2010 +0000

    manager -> manager-script
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@993008 13f79535-47bb-0310-9956-ffa450edef68

commit 32c2c05957fd1205f8472455c21238295c4207a3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 6 12:07:42 2010 +0000

    If a ping message fails, removed the failed members from the map rather than propagating the exception
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@993007 13f79535-47bb-0310-9956-ffa450edef68

commit 53f5ec77e21d328bb9e11c475a2ab24e0f649d39
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 6 09:55:44 2010 +0000

    Extend fix for bz49883
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@992987 13f79535-47bb-0310-9956-ffa450edef68

commit 529c966149e8e15a5b3cdf941c466ef547f649a6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 6 09:28:07 2010 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@992983 13f79535-47bb-0310-9956-ffa450edef68

commit eb782979173a625cde01f14d8d7d5ce5b303c8b1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 6 09:24:54 2010 +0000

    Switch to a JSP for the Tomcat home page and make the version numebr dynamic as the hard-coded version number in the static page can cause confusion in when using CATALINA_BASE and switching between multiple CATALINA_HOMEs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@992982 13f79535-47bb-0310-9956-ffa450edef68

commit 8a9a750ece6606ce714b481b1207af4c3ea2e886
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 6 09:23:16 2010 +0000

    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@992981 13f79535-47bb-0310-9956-ffa450edef68

commit 13c566cd177821411e36f400d6524bd192de492a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Sep 5 21:08:42 2010 +0000

    Misc code clean-up.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@992895 13f79535-47bb-0310-9956-ffa450edef68

commit 0e97ceb9cc178f6faff83f85fe2def0cdb2b2234
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Sep 5 20:43:38 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49883
    Return a name for use in log messages rather than throwing an UnsupportedOperationException
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@992891 13f79535-47bb-0310-9956-ffa450edef68

commit 71e254f0f2f6b869f335a75ff3e37959ffc6ce92
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Sep 5 20:36:16 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49802
    Allow the connectors to be stopped via JMX.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@992890 13f79535-47bb-0310-9956-ffa450edef68

commit 278331d6f0f0225c2ca298dc9d502cc1f6d852dc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Sep 5 19:49:53 2010 +0000

    Make sure async timeout thread is stopped when the connector is stopped.
    Correct copy and pasted comment
    Also fix @Override warning for the method
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@992882 13f79535-47bb-0310-9956-ffa450edef68

commit d2f89f230ef8bb216961c8f49018a2694fa4766f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Sep 5 19:47:36 2010 +0000

    Make sure acceptor threads are stopped when the connector is stopped.
    Also fix @Override warnings for the method
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@992881 13f79535-47bb-0310-9956-ffa450edef68

commit 7b52ca58a9509a72a4546b063dde44815939aac2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 3 20:45:41 2010 +0000

    Fix an Eclispe nag.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@992463 13f79535-47bb-0310-9956-ffa450edef68

commit e157046628ba63b3de5de8c695c5b882d5327f62
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 3 20:41:25 2010 +0000

    Remove debug code that was added in r991959
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@992461 13f79535-47bb-0310-9956-ffa450edef68

commit 1e8edd838c5d372ee37a6324a4e7422309f23b2f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 3 20:37:46 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49865
    Allow Tomcat to start if catalina.properties is not present
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@992459 13f79535-47bb-0310-9956-ffa450edef68

commit 590846953f7db727df8e822ab765c2e6a0045030
Author: Mladen Turk <mturk@apache.org>
Date:   Fri Sep 3 20:30:10 2010 +0000

    Use shutdown instead close for hard closing the socket which is inside Socket.accept call
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@992456 13f79535-47bb-0310-9956-ffa450edef68

commit 8fb603aad11bb9d2fe306b5d247224228e1cd24f
Author: Mladen Turk <mturk@apache.org>
Date:   Fri Sep 3 19:54:02 2010 +0000

    Hard close the accepting socket if unlockAccept failed
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@992440 13f79535-47bb-0310-9956-ffa450edef68

commit 46c39bcb92af099b6fd893710e7b421264dff9d6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 3 18:50:57 2010 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=49876
    Generics warnings in the copied Apache Jakarta BCEL code. Based on a patch by Gábor. (markt)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@992416 13f79535-47bb-0310-9956-ffa450edef68

commit f81c94ca6a6d294225fc8856323b6a21e8bdb097
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 3 18:47:29 2010 +0000

    Remove some unnecessary code and fix an Eclipse warning
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@992413 13f79535-47bb-0310-9956-ffa450edef68

commit d4714340751840f20a6849488233cddac915e8b6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 3 18:35:59 2010 +0000

    White-space clean-up
    Reduce sequences of three or more blank lines to two blank lines
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@992409 13f79535-47bb-0310-9956-ffa450edef68

commit 790028f26fca0544a1c0e4f9dc308edeb866a5ab
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 3 17:57:33 2010 +0000

    Add @Override markers. Auto generated by Eclipse. Checked manually.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@992395 13f79535-47bb-0310-9956-ffa450edef68

commit 96278f5f27c17eefe1f90031e10b9fb9195e2702
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 3 17:50:32 2010 +0000

    Trace through some unused code and remove it.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@992394 13f79535-47bb-0310-9956-ffa450edef68

commit 50f788733809e1c0e056512e8986e4d4bb4eec09
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 3 17:45:05 2010 +0000

    Update merge info
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@992393 13f79535-47bb-0310-9956-ffa450edef68

commit aa0ff9c577395f1cdb4debefca340f09e9fd53de
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 3 17:40:12 2010 +0000

    Sync with Jakarta. Add generated serialVersionUID's.
    Don't use the same values as Jakarta since the code has been structurally modified (to removed unused elements)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@992392 13f79535-47bb-0310-9956-ffa450edef68

commit fb867695d59825a524d1f056ee1a6b5ee9f16f47
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 3 13:20:22 2010 +0000

    Keep MBean names consistent with Tomact 6.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@992290 13f79535-47bb-0310-9956-ffa450edef68

commit db9947cc79594dc36a5af034bc35d985f8d4d677
Author: Mladen Turk <mturk@apache.org>
Date:   Fri Sep 3 10:37:53 2010 +0000

    Make destroy method returning when the worker thread finishes instead separately calling destroy followed by join
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@992258 13f79535-47bb-0310-9956-ffa450edef68

commit bcd7177c79c107ecd638a08776d6137a172245d4
Author: Mladen Turk <mturk@apache.org>
Date:   Fri Sep 3 10:16:00 2010 +0000

    Call join only for alive threads
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@992252 13f79535-47bb-0310-9956-ffa450edef68

commit 66f3b9e2c6782d9b6f98362f0ccb60ef2dcb80e3
Author: Mladen Turk <mturk@apache.org>
Date:   Fri Sep 3 10:12:57 2010 +0000

    Add wrapper over Socket.destroy which will make sure we don't call destory for sockets already closed by the parent pool cleanup
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@992250 13f79535-47bb-0310-9956-ffa450edef68

commit 4b4928f38647ef43b44d5e32179b4e4a3c031394
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 3 09:49:52 2010 +0000

    Remove method that no longer exists
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@992246 13f79535-47bb-0310-9956-ffa450edef68

commit 17996d4cef1e8e22d0c0dfa6e4028ded4d7d28f7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 3 09:48:46 2010 +0000

    Expose current state of Lifecycle components via JMX beans (where a component has one). Mainly useful for monitoring web application status.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@992245 13f79535-47bb-0310-9956-ffa450edef68

commit 2a3224a66a2bd2f745088e418f96ea03986da927
Author: Rainer Jung <rjung@apache.org>
Date:   Fri Sep 3 08:54:20 2010 +0000

    BZ 49869: Javadoc Fix.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@992234 13f79535-47bb-0310-9956-ffa450edef68

commit 9efcaf18c2951c8f4e377564dab96f01dda0f0f2
Author: Mladen Turk <mturk@apache.org>
Date:   Fri Sep 3 05:27:24 2010 +0000

    Join poller and sendfile threads on destroy. This requires to change the Poller and Sendile to Thread instead Runnable for simplicity.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@992211 13f79535-47bb-0310-9956-ffa450edef68

commit d094e3f9d8c4778413e680e8e01393c9d7713781
Author: Mladen Turk <mturk@apache.org>
Date:   Fri Sep 3 04:36:46 2010 +0000

    Make sure we exit the thread if not running. Otherwise the thread will block in run until the VM shuts down
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@992200 13f79535-47bb-0310-9956-ffa450edef68

commit e12d7b09e9633729f4ea90d1260e0e8deec44f47
Author: Mladen Turk <mturk@apache.org>
Date:   Fri Sep 3 04:26:23 2010 +0000

    Store the Acceptor instances in the array like we do for other threads
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@992199 13f79535-47bb-0310-9956-ffa450edef68

commit 73c9342df4a9b3e56bed305465b400708e844f33
Author: Mladen Turk <mturk@apache.org>
Date:   Fri Sep 3 04:09:25 2010 +0000

    Trim trailing spaces. No functional change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@992194 13f79535-47bb-0310-9956-ffa450edef68

commit 8a6fdcdda9710a8009c06b027210236011c3f96f
Author: Rainer Jung <rjung@apache.org>
Date:   Thu Sep 2 16:52:48 2010 +0000

    BZ 49865: ExceptionUtils throw NoClassDefFoundError
    during startup. Add TODO markers.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@992018 13f79535-47bb-0310-9956-ffa450edef68

commit a8ba60c9e28863f22fab3e54f4836fae15ff980a
Author: Rainer Jung <rjung@apache.org>
Date:   Thu Sep 2 15:02:52 2010 +0000

    Followup to r991959.
    
    Forgot the two classes.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@991965 13f79535-47bb-0310-9956-ffa450edef68

commit a5b9becee7f6a493661adb39a2774bab3b16435c
Author: Rainer Jung <rjung@apache.org>
Date:   Thu Sep 2 14:52:11 2010 +0000

    BZ 48967: Replace strings "catalina.base" and "catalina.home"
    by globally defined constants.
    
    Patch provided by Marc Guillemot.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@991959 13f79535-47bb-0310-9956-ffa450edef68

commit 19bfaadd40891c5e8b4ee5fd4a14845e65db2282
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 2 12:36:23 2010 +0000

    Fix warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@991915 13f79535-47bb-0310-9956-ffa450edef68

commit 33e4c39f5625214c5a47a87512b107c400bad0b4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 2 09:08:46 2010 +0000

    Update the Servlet, JSP & EL javadoc links and add spec links.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@991867 13f79535-47bb-0310-9956-ffa450edef68

commit 2887b2ce21c5c7e0fc86f18fdaaf8ace95c62ebd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 2 08:01:20 2010 +0000

    Add a comment as a reminder
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@991842 13f79535-47bb-0310-9956-ffa450edef68

commit 6115bc40aee2a0680175f4a1013376a960cf4837
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 2 07:55:11 2010 +0000

    Remove setting distributable on the Context from the docs. It gets lost on webapp reload() e.g. when triggered from the manager app.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@991837 13f79535-47bb-0310-9956-ffa450edef68

commit fa172ae629c00eede1dfa45ef5f65fdda207c932
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 1 13:53:28 2010 +0000

    Remove excludes for files no longer in source tree
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@991539 13f79535-47bb-0310-9956-ffa450edef68

commit 68d2fc50c19917f3ff967487f51145f818c276a7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 31 22:07:58 2010 +0000

    Re-factoring. Reduce code duplication. More still to be done.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@991359 13f79535-47bb-0310-9956-ffa450edef68

commit dbbc891b4c4649a455cab5e7b23fe77346300543
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 31 19:13:01 2010 +0000

    Re-factoring. Preparing for Http11AprProtocol to extend AbstractHttp11Protocol
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@991296 13f79535-47bb-0310-9956-ffa450edef68

commit 91983b887ad39f2c732781c436dfec0f1a6f49da
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 31 18:25:58 2010 +0000

    Clean-up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@991281 13f79535-47bb-0310-9956-ffa450edef68

commit 99e18fae51e06a5fc35852872abf02326df39ae0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 31 17:52:45 2010 +0000

    Some Lifecycle clean-up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@991274 13f79535-47bb-0310-9956-ffa450edef68

commit 857bed3dda5a6873fc3e62ecc317e5cc054f2ae0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 31 17:27:43 2010 +0000

    Fix warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@991268 13f79535-47bb-0310-9956-ffa450edef68

commit e3698e7279446673e874143ec9b1e7648f21faee
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 31 17:06:05 2010 +0000

    Fix warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@991261 13f79535-47bb-0310-9956-ffa450edef68

commit ca8f05eb3ac37452dc94d9c5685c201fdacfdd66
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 30 22:49:08 2010 +0000

    Clean-up unused attributes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@991013 13f79535-47bb-0310-9956-ffa450edef68

commit 258181acdf0b8048e0cabc6e455e6de51ed00e46
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 30 22:32:08 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49799
    The new omit< attribute for <jsp:attribute .../> elements now supports the use of expressions and expression language.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@991011 13f79535-47bb-0310-9956-ffa450edef68

commit 6e1b26227a16bf538bbeb191b3ecbe2b1f9c08d3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 30 18:17:41 2010 +0000

    Remove some unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@990888 13f79535-47bb-0310-9956-ffa450edef68

commit 6aa260cecb2674ecd1e12ace19eca93f17c8f1b1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 29 14:50:11 2010 +0000

    Fix likely cause of Gump failure. Fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=49698 in r990342 was incomplete
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@990590 13f79535-47bb-0310-9956-ffa450edef68

commit a76a1180bf548a77e5e149729be9d0c53597ff60
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 29 14:20:58 2010 +0000

    Fix warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@990583 13f79535-47bb-0310-9956-ffa450edef68

commit 98fe645b9f42b15b709aaebfa491d04f5bce76f2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 29 14:18:35 2010 +0000

    Remove the debug logging since we got to the bottom of this failure a while ago.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@990582 13f79535-47bb-0310-9956-ffa450edef68

commit 3406f8bb336c43de5abc515c0fcec0fa15d54eec
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Aug 28 11:07:39 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49698
    Allow listeners to call complete when a async request times out
    Add a test case based on pero's previous timeout test case
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@990342 13f79535-47bb-0310-9956-ffa450edef68

commit 36f57732f46d641596f22162880922c91da40df6
Author: Rainer Jung <rjung@apache.org>
Date:   Thu Aug 26 15:07:54 2010 +0000

    BZ49828: Remove deprecated J2SE/J2EE terminology
    and replace links to Sun with links to Oracle
    (for those Oracle links that look static).
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@989742 13f79535-47bb-0310-9956-ffa450edef68

commit 9d176ba3c2a3f74ec0cebb32607bf79907f712c5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Aug 25 16:44:08 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=38113
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@989211 13f79535-47bb-0310-9956-ffa450edef68

commit 8508958666544396d36767bd26db05c6605ceefe
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Aug 25 11:36:38 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49749
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@989019 13f79535-47bb-0310-9956-ffa450edef68

commit 5ea77cabbdc8c38721da2b2c4b8214048b02ee8c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Aug 25 11:25:18 2010 +0000

    Trivial code clean-up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@989016 13f79535-47bb-0310-9956-ffa450edef68

commit d6f9ae634ad84437a4a62c823a6ef86215073eba
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Aug 25 11:24:42 2010 +0000

    Minor clean-up. Merge methods.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@989015 13f79535-47bb-0310-9956-ffa450edef68

commit 45a981f1e99b516d1971094dec4602af5e00c449
Author: Mladen Turk <mturk@apache.org>
Date:   Wed Aug 25 05:51:33 2010 +0000

    Simplify APR version requirement checks by calculating compound versions and doing a simple compare
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@988817 13f79535-47bb-0310-9956-ffa450edef68

commit a2a8a54df295eaa48d9b6d9b2a02f36d8705ca4b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 24 21:45:46 2010 +0000

    Remove empty package
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@988735 13f79535-47bb-0310-9956-ffa450edef68

commit f53e7dee309b1384d889d85a634bc6c85d327066
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 24 21:08:34 2010 +0000

    Fix memory leak on context stop
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@988729 13f79535-47bb-0310-9956-ffa450edef68

commit 6b7fdb8c66338e7654c83732c811f492ace164f0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 24 18:12:51 2010 +0000

    Fix some edge cases in the NIO connector when handling requests that are not received all at the same time and the socket needs to be returned to the poller.
    This should fix the current Gump failures in the NIO tests.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@988645 13f79535-47bb-0310-9956-ffa450edef68

commit 39aecd2f2fc141ff5ceea16f08767fbb92bc0adc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 24 10:49:33 2010 +0000

    Fix logger visibility
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@988474 13f79535-47bb-0310-9956-ffa450edef68

commit 60e760eb3b4660e59df344d77161f3e7f897cedc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 24 10:19:04 2010 +0000

    Notes on a couple more checks
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@988466 13f79535-47bb-0310-9956-ffa450edef68

commit 132532b126f48110c072e9b8af0840c3f4852236
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 24 10:02:14 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48738
    Workaround a couple of long standing JDK bugs to enable GZIP compressed output streams to be flushed. Based on a patch provided by Jiong Wang.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@988459 13f79535-47bb-0310-9956-ffa450edef68

commit 12b1c1bcb8fafab1d814523b1b09b6a4adbcc187
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 24 09:30:11 2010 +0000

    Correctly handle anchors in URLs with the CSRF prevention filter.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@988448 13f79535-47bb-0310-9956-ffa450edef68

commit 57f4a2318f56ddd5188a7ad4920e70db7b81fb8f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 24 08:19:25 2010 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@988429 13f79535-47bb-0310-9956-ffa450edef68

commit 50c0bbeb5be582e1319b12d19a6cb69a734bebb7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 24 08:00:55 2010 +0000

    Remove methods already defined by Container
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@988422 13f79535-47bb-0310-9956-ffa450edef68

commit 85b3feed97929cfde4818e40fc3a8b3349c4f1c9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 23 20:35:03 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49669
    Another Java class triggering a memory leak. This time javax.security.auth.Policy
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@988296 13f79535-47bb-0310-9956-ffa450edef68

commit c9c525ef29b99c8ce7910dc0474caf49b4cf8e8c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 23 20:15:13 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49670
    Fix SSO - broken by Lifecycle refactoring
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@988287 13f79535-47bb-0310-9956-ffa450edef68

commit 1b09e63119ff5fd887d14a868ca1b62a66327590
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 23 19:41:06 2010 +0000

    Update changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@988267 13f79535-47bb-0310-9956-ffa450edef68

commit 249b4e86364f5195ce00ae6e5e59b015ceb808dc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 23 19:37:25 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49721
    All JARs can be resource JARs. Although the spec defines no order, use ordered JARs in order then the remaining JARs in any order.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@988266 13f79535-47bb-0310-9956-ffa450edef68

commit dc11c03b3cad3368006845fda3e392fbb59c65e1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 23 19:23:28 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49726
    Specifying a default content type via a JSP property group should not prevent a page from setting some other content type
    Includes test cases
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@988262 13f79535-47bb-0310-9956-ffa450edef68

commit 4a4cbb0c3f24912fae17ad0128691dac157efe38
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 23 17:38:41 2010 +0000

    Fix the Eclipse warnings in o.a.c.loader
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@988225 13f79535-47bb-0310-9956-ffa450edef68

commit 08f0cf4a3277681807dd68d3993434e6dd02e7c2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 23 17:32:03 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49750
    Align WebappClassLoader.validate() implementation with Javadoc and ensure that javax.servlet.* classes can not be loaded by a WebappClassLoader instance.
    Patch provided by pid.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@988222 13f79535-47bb-0310-9956-ffa450edef68

commit d239103f38fa14e325ed60b59605474feaabeeeb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 23 09:47:42 2010 +0000

    Fix Gump build
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@988049 13f79535-47bb-0310-9956-ffa450edef68

commit 91e66b7624c986d010fd9da529c84f5135de2566
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Mon Aug 23 04:57:49 2010 +0000

    Add support for LAST_ACCESS_AT_START system property to DeltaSession.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@987995 13f79535-47bb-0310-9956-ffa450edef68

commit 1034a35cb61f6dd49fb8cd2d7b24a1bdad0ed148
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 22 23:11:18 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49758
    Fix generics warnings exposed by a fix in Eclipse 3.6. Patch provided by sebb.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@987958 13f79535-47bb-0310-9956-ffa450edef68

commit 2a8833adfd5617571d19da5c5b8240af62cfc673
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 22 22:55:26 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49779
    Improve handling of POST requests and FORM authentication, particularly when the user agent responds to the 302 response by repeating the POST request including a request body. Any request body provided at this point is now swallowed.
    Clean up the FormAuthenticator test case and extend the coverage to include bug 49779 and the remaining combinations of request methods.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@987955 13f79535-47bb-0310-9956-ffa450edef68

commit 35a7b683f515b0d79626ba917e681acd995078dd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 22 21:34:33 2010 +0000

    Correct test name since this turned out to be a side issue
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@987950 13f79535-47bb-0310-9956-ffa450edef68

commit e65ce95e8734ea25651003ae24737bc7c0e66a2e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 22 21:02:33 2010 +0000

    Provide 100 Continue responses if required during FORM authentication
    Side issues from investigating https://issues.apache.org/bugzilla/show_bug.cgi?id=49779
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@987948 13f79535-47bb-0310-9956-ffa450edef68

commit 3b585bee67d111ec7b643a6ba093f493b325c6c9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 22 20:56:12 2010 +0000

    Add support for parsing a session ID and the 100-continue expectation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@987947 13f79535-47bb-0310-9956-ffa450edef68

commit 1f467feaab4f0dba7f10df701a4aab3a3fd10253
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 22 20:16:56 2010 +0000

    Extend the simple MapRealm use for testing to support roles.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@987945 13f79535-47bb-0310-9956-ffa450edef68

commit c98a0037aca9708aaa0c49283aad541ee731d824
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 22 15:34:34 2010 +0000

    Code clean-up. No functional change.
    Extend Checkstyle checks to import order. Use Eclipse tooling to fix current code base.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@987920 13f79535-47bb-0310-9956-ffa450edef68

commit d18ce2296bdc7c993eba17c001b8cb7784d56e27
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Aug 22 15:26:08 2010 +0000

    Fix tpyos.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@987918 13f79535-47bb-0310-9956-ffa450edef68

commit ea6b668d28cc5e2befd4cd22bb2b347f668d790b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 22 14:56:20 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49757
    Correct generics warnings and a couple of other warnings whilst I had the files open.
    Based on a patch by Gábor
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@987916 13f79535-47bb-0310-9956-ffa450edef68

commit e6793ede4bd134d05ac6b68448cb98325b03aa02
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 22 14:44:51 2010 +0000

    Fix import ordering - no functional change
     -javax.* packages
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@987914 13f79535-47bb-0310-9956-ffa450edef68

commit 206c01c5a634a9a20c6b24990f70fd604314b46f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 22 14:40:30 2010 +0000

    Update changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@987912 13f79535-47bb-0310-9956-ffa450edef68

commit d974d9291d45cbe9ae955df090abf69fee85bd74
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 22 12:59:35 2010 +0000

    Fix POM reference error ID'd on users list
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@987896 13f79535-47bb-0310-9956-ffa450edef68

commit d3199fa2a2456ebb9026d1f3c7a424c1907efc83
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 20 15:09:04 2010 +0000

    Add a message to the exception
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@987538 13f79535-47bb-0310-9956-ffa450edef68

commit 9bad71eae1793d52249368f5a8312099b0684f4c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 20 14:47:33 2010 +0000

    Link the MBeanFactory to the Server that creates it as some MBeanFactory methods need the container to be set.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@987528 13f79535-47bb-0310-9956-ffa450edef68

commit 597b003131300eb272ab9d130901ab513060cddf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 20 14:46:04 2010 +0000

    Fix spec version numbers in comments
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@987527 13f79535-47bb-0310-9956-ffa450edef68

commit 6021597313cd55b7b3bb3880a66300b3726269f5
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Aug 15 14:43:29 2010 +0000

    Correct a typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@985683 13f79535-47bb-0310-9956-ffa450edef68

commit fee6e68d67d8191f71f02842a7739530e87358c7
Author: Rainer Jung <rjung@apache.org>
Date:   Thu Aug 12 21:12:19 2010 +0000

    Small fixes to TC 7 build docs:
    
    - correct download link
    - remove "ant download"
    - update ant version requirements from 1.6.5 to 1.8.1
    
    CTR
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@984978 13f79535-47bb-0310-9956-ffa450edef68

commit 3aeab4fd6317e95601e6a6a8f1202983a89a690c
Author: Rainer Jung <rjung@apache.org>
Date:   Thu Aug 12 20:59:27 2010 +0000

    Fix broken docs link.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@984969 13f79535-47bb-0310-9956-ffa450edef68

commit 56d1b55fe3720d007691a05a963195c39b4f6892
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Aug 11 17:55:14 2010 +0000

    Enable off-line building of extrsa - moves commons-logging libs to standard Tomcat lib download process
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@984495 13f79535-47bb-0310-9956-ffa450edef68

commit 07d16b07728b0b589c4b48a5659de5b91bb91d74
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 6 10:19:37 2010 +0000

    No need for autoconf
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@982926 13f79535-47bb-0310-9956-ffa450edef68

commit 96173cf1f66f5c48ac332e07ecb3213cb5f3f857
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Fri Aug 6 05:56:21 2010 +0000

    Add Null check when CHANGE_SESSION_ID message received.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@982877 13f79535-47bb-0310-9956-ffa450edef68

commit 3fd20ff0e23c03da764a7d6ebe6676f4be43aa7e
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Fri Aug 6 02:19:28 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49714
    The annotation process of Jar doesn't influence distributable element of web.xml.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@982850 13f79535-47bb-0310-9956-ffa450edef68

commit 588aca9f6f52894b5cd3c10d54e49703753c5fec
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Aug 5 22:27:53 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48817
    Add Validator interface and allow users to configure a Validator class name
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@982811 13f79535-47bb-0310-9956-ffa450edef68

commit 1b6470cced91a6f72fc8687fb26e5ed7b6b99245
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Aug 5 20:38:03 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49585
    Update for changes in Commons Daemon packaging
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@982770 13f79535-47bb-0310-9956-ffa450edef68

commit 5d6b21fd75931a77ebde2cb05de338c18953dad0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Aug 5 15:50:50 2010 +0000

    Extend fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=48545 to aid back-port to 6.0.x by better aligning behaviours
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@982669 13f79535-47bb-0310-9956-ffa450edef68

commit 973a64103095ec6cd9dbc01ddfc322b0ecfe7184
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Aug 5 12:55:15 2010 +0000

    Code clean up in o.a.t.until.net.jsse
     - @Override
     - import order
     - unused code
     - unnecessary code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@982589 13f79535-47bb-0310-9956-ffa450edef68

commit ab7c8bfce097f5e362c2206af122bc68113183a8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Aug 5 09:51:41 2010 +0000

    Skip repackaged DBCP in validate target (Gump was running it). Any build where the deps are downloaded inside the svn checkout would fail in a similar manner
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@982525 13f79535-47bb-0310-9956-ffa450edef68

commit c428d024ac36a3bf011c0de67ece219ede9f75c3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Aug 4 22:50:52 2010 +0000

    Couple more whitespace checks. In both cases went with the nospace option since that is what the majority of the current code uses
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@982428 13f79535-47bb-0310-9956-ffa450edef68

commit 19bb2347371bae6339f803176b7b3ef3f2866231
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Aug 4 22:45:20 2010 +0000

    Tried to add GenericWhitespace test - has to be disabled due to a bug
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@982426 13f79535-47bb-0310-9956-ffa450edef68

commit dc4650b577a6befb94ef875e266291bfd4c2254d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Aug 4 22:29:39 2010 +0000

    Remove redundant imports
     (Bugzilla was down)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@982422 13f79535-47bb-0310-9956-ffa450edef68

commit a5bd7cba6632f9ea5fcbee62cf4249cf2750d81b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Aug 4 21:55:19 2010 +0000

    Extend checkstyle to include checking * imports
    Fix all current * imports
    Fix a few other issues along the way
     - Missing @Override
     - serialVersionUID
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@982412 13f79535-47bb-0310-9956-ffa450edef68

commit 8c21f0672a2abc2b369196bca4257f3143563bc0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Aug 4 20:52:23 2010 +0000

    Fix Eclipse warnings in webapps
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@982399 13f79535-47bb-0310-9956-ffa450edef68

commit da22af09819ca15165ea60426d4e116e0f83528d
Author: Rainer Jung <rjung@apache.org>
Date:   Wed Aug 4 11:38:11 2010 +0000

    - Remove duplicate entry
    - Fix typo
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@982220 13f79535-47bb-0310-9956-ffa450edef68

commit 6f1d193054fd0e3cf08b127b68c2252e62384f66
Author: Rainer Jung <rjung@apache.org>
Date:   Wed Aug 4 11:03:30 2010 +0000

    Let's be more explicit in logging, what the actual
    jar file is.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@982210 13f79535-47bb-0310-9956-ffa450edef68

commit 841cde6845e921fa11978ff0cc285ceca463952c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Aug 4 10:52:16 2010 +0000

    Move stuff that didn't make the 7.0.2 tag
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@982208 13f79535-47bb-0310-9956-ffa450edef68

commit d809840d0322ea235db79d4fa26641d56314239e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Aug 4 10:50:50 2010 +0000

    Update the changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@982207 13f79535-47bb-0310-9956-ffa450edef68

commit 99c9ab2eb18d92509ca47863c69e546c194dec47
Author: Rainer Jung <rjung@apache.org>
Date:   Wed Aug 4 10:43:13 2010 +0000

    Fix class name of default jar scanner in docs.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@982202 13f79535-47bb-0310-9956-ffa450edef68

commit 4e10a26ba678708ad442dd210ae5fb40e253122a
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Wed Aug 4 08:59:48 2010 +0000

    Remove domainReplication attribute from ClusterManager.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@982165 13f79535-47bb-0310-9956-ffa450edef68

commit b237a24d69522bcb48ea6b079b1d91a6b85d5920
Author: Mladen Turk <mturk@apache.org>
Date:   Wed Aug 4 08:26:18 2010 +0000

    Add default --PidFile (new with daemon 1.0.3)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@982157 13f79535-47bb-0310-9956-ffa450edef68

commit 16b66335025ae42655d492acffb85d569427c39d
Author: Mladen Turk <mturk@apache.org>
Date:   Wed Aug 4 08:06:36 2010 +0000

    Use new admin-gui and manager-gui roles for the user
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@982151 13f79535-47bb-0310-9956-ffa450edef68

commit 71208d2c5b1cd9dafcbbf79d4947696d4ccc1c9c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 3 20:05:03 2010 +0000

    Bump version number
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@982020 13f79535-47bb-0310-9956-ffa450edef68

commit 700eb56b2646e4eb16aa15cdbb50b5113a65cfac
Author: Rainer Jung <rjung@apache.org>
Date:   Tue Aug 3 19:44:34 2010 +0000

    Spread out some glob patterns for the commons
    JARs in jarsToSkip.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@982015 13f79535-47bb-0310-9956-ffa450edef68

commit 5bcfb1f19198b91aeaa556caaca7a46b04c30ee0
Author: Rainer Jung <rjung@apache.org>
Date:   Tue Aug 3 19:39:38 2010 +0000

    - clean up Javadoc of new class
    - localize log messages
    - remove unused imports and members
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@982013 13f79535-47bb-0310-9956-ffa450edef68

commit 2a06d61e175f25bebc52aac1d1e84f801c24ced5
Author: Rainer Jung <rjung@apache.org>
Date:   Tue Aug 3 17:09:55 2010 +0000

    Allow glob patterns in the jarsToSkip configuration and add
    some debug logging to the jar scanner.
    
    Still need to localize debug log messages.
    ecj Jar in catalina.properties now uses a glob,
    did not yet add globs to all the commons jars
    in the default configuration.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981967 13f79535-47bb-0310-9956-ffa450edef68

commit 0cfcc12170955f0e080110d24a99a75b62c0f475
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 3 16:16:15 2010 +0000

    Add SKIP_IDENTIFIER_CHECK system property to control checking of EL expressions
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981951 13f79535-47bb-0310-9956-ffa450edef68

commit b961db2f1e5f63a82dc77dad82980d678dd7b5a7
Author: Rainer Jung <rjung@apache.org>
Date:   Tue Aug 3 14:03:30 2010 +0000

    Further places where our JDT version is hard coded.
    
    It would be nice to at least support globs in the
    jar scanner configuration, so instance configuration
    can be kept stable when doing product updates.
    
    Otherwise things will not break in an obvious way,
    but e.g. startup performance might drop.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981889 13f79535-47bb-0310-9956-ffa450edef68

commit fef02b3189de1c5bb616da7e103fe9c4e837bc18
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 3 12:59:06 2010 +0000

    Upgrade the Eclipse compiler
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981856 13f79535-47bb-0310-9956-ffa450edef68

commit a1ab1bbb5c6610ea040b55a3f3944f1c7087d96f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 3 12:45:24 2010 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981848 13f79535-47bb-0310-9956-ffa450edef68

commit 0d18e15750b3ab36111c7665892eed9cc99fae1d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 3 12:30:34 2010 +0000

    Fix multiple copies of RUNNING.txt in full-docs.tar.gz
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981845 13f79535-47bb-0310-9956-ffa450edef68

commit b9d75acce26655c0a6c2cae571cefaf6a73f660c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 3 12:21:13 2010 +0000

    Update changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981842 13f79535-47bb-0310-9956-ffa450edef68

commit 7e84a8dbca987a02f044d284c5e977fe6dda019b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 3 12:20:57 2010 +0000

    Provide Javadoc for Servlet, JSP & EL
    Provide external links to JAX-RPC Javadoc
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981841 13f79535-47bb-0310-9956-ffa450edef68

commit 5f1c9e04e4d3550568159942244098b7e3c1dc90
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 3 11:14:02 2010 +0000

    More Javadoc fixes that were missed earlier
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981822 13f79535-47bb-0310-9956-ffa450edef68

commit 26fa7971b1a95af133f17f7ba782843f34ae95e5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 3 10:44:58 2010 +0000

    Fix the remaining Javadocs except the external links to JAX-RPC
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981816 13f79535-47bb-0310-9956-ffa450edef68

commit c72efaecfe1210470ce6d4f3e95c461f1801476d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 3 10:42:56 2010 +0000

    Update to commons-daemon 1.0.3
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981815 13f79535-47bb-0310-9956-ffa450edef68

commit 8bc7f1622472b62ee1e69b9f0e79be6c75934a2e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 2 17:05:03 2010 +0000

    Handful of Javadoc fixes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981602 13f79535-47bb-0310-9956-ffa450edef68

commit 45a888ad183ff8639cd28def59c375f731a315b6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 2 16:30:51 2010 +0000

    Correct Javadoc copy and paste error
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981589 13f79535-47bb-0310-9956-ffa450edef68

commit 1b7b143ec30366d6e916bef95e2477ff0f2f966f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 2 16:16:18 2010 +0000

    Extend Checkstyle to most text files
    Fix tabs in remaining files
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981580 13f79535-47bb-0310-9956-ffa450edef68

commit 2dcc344d3f139944634e027d0a221efeeb5d1fd1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 2 16:13:22 2010 +0000

    Tab police
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981579 13f79535-47bb-0310-9956-ffa450edef68

commit e98dbf5dae0dbafea67c81d13e77825cdb083b54
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 2 16:10:21 2010 +0000

    Tab police
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981578 13f79535-47bb-0310-9956-ffa450edef68

commit fcd5cb57f4025f821da2c4d57fd42bda8b7ae14b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 2 15:58:37 2010 +0000

    Tab police
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981574 13f79535-47bb-0310-9956-ffa450edef68

commit e60a1ce9403cb133675180efaaccab129ad1d3de
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 2 15:43:58 2010 +0000

    Tab police
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981569 13f79535-47bb-0310-9956-ffa450edef68

commit a92a18a1d42da1ef2f32fe7d51c157baa5f0a1c6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 2 15:42:07 2010 +0000

    Tab police
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981567 13f79535-47bb-0310-9956-ffa450edef68

commit 3eabac018296e5f43edc0a2f5922326f807fb2de
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 2 15:41:50 2010 +0000

    Tab police
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981566 13f79535-47bb-0310-9956-ffa450edef68

commit 149a5178439267536c7ba2fa6c2df58a947e4fc1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 2 15:39:35 2010 +0000

    Tab police
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981565 13f79535-47bb-0310-9956-ffa450edef68

commit 99a0e292a2198a7777b02ea5707dec9b7eeca6c3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 2 15:13:34 2010 +0000

    Tab police
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981548 13f79535-47bb-0310-9956-ffa450edef68

commit 907bdb84f9c6670942063d5613fa6edd26dc6c77
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Aug 2 13:08:37 2010 +0000

    Replace UTF section sign in Javadoc by
    HTML entity.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981501 13f79535-47bb-0310-9956-ffa450edef68

commit 4aa231b0dbfdd97a52193fb9b5bc32d45633ac65
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Aug 2 13:07:03 2010 +0000

    Use source encoding ISO-8859-1 for javadoc
    just like we do for javac.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981500 13f79535-47bb-0310-9956-ffa450edef68

commit 1b7c35fc2bd1fe1f1a9e8c72caca0a5b71d9c08c
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Aug 2 12:52:11 2010 +0000

    Javadocs fix: @returns -> @return.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981490 13f79535-47bb-0310-9956-ffa450edef68

commit a85375bddd8b39a90c6eab6ed2136ea50e75e16e
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Aug 2 12:44:45 2010 +0000

    Javadocs fix: @Link -> @link
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981487 13f79535-47bb-0310-9956-ffa450edef68

commit edff6e1483f574cd6fe70b28341be946f6b5b724
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 2 12:01:13 2010 +0000

    Tab police
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981468 13f79535-47bb-0310-9956-ffa450edef68

commit 42f20adf18af45eadf6e1f0d6ed0d3f0d1d291c0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 2 11:53:26 2010 +0000

    Not ready for this check yet
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981466 13f79535-47bb-0310-9956-ffa450edef68

commit b965550f1ad9fad308150e69f55bb1ede50f25ac
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 2 11:00:51 2010 +0000

    nit
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981453 13f79535-47bb-0310-9956-ffa450edef68

commit 5eb2e311c9f2c7639acd5cb0ecc2dc396436a64e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 2 10:58:23 2010 +0000

    Javadoc fixes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981451 13f79535-47bb-0310-9956-ffa450edef68

commit a1ab0449996930f8ae3327fd147ef6ca96eebe1f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 2 10:49:06 2010 +0000

    Fix running with a security manager
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981448 13f79535-47bb-0310-9956-ffa450edef68

commit 84f55b56af79ff020ee2021b89440a6bae9b8327
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Aug 2 10:00:40 2010 +0000

    Fix svn properties:
    - java/org/apache/tomcat/util/http/fileupload/InvalidFileNameException.java
      Removed mime-type and added eol-style and keywords.
      Already pinged upstream about that.
      Used the same keywords as the other files, slightly
      different from TC conventions.
    - We should add tag, tagx, jspf, jspx to our eol-style
      subversion configuration for native line endings.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981441 13f79535-47bb-0310-9956-ffa450edef68

commit 95d73c2d7347b78c6d870378d6738647cf6daba7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 1 21:04:25 2010 +0000

    Add an explicit test case for bug 49655
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981318 13f79535-47bb-0310-9956-ffa450edef68

commit 05663a8eb5c680c9a3e830a4cc58c879635216ec
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 1 19:35:44 2010 +0000

    Bump version post 7.0.1 tag
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981286 13f79535-47bb-0310-9956-ffa450edef68

commit c5e9a36a96e5255e30f5bfef3fa4affa3042c965
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 1 11:13:10 2010 +0000

    Update packaged re-named Jakarta BCEL
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981203 13f79535-47bb-0310-9956-ffa450edef68

commit e2c6d4a8888928c05d5a3ce45e8d2b0c6ac34c1c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 1 11:09:10 2010 +0000

    Tab police
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981202 13f79535-47bb-0310-9956-ffa450edef68

commit 1c67d6aa4ef15d17f7179536484d08996813ce58
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 1 09:53:32 2010 +0000

    Missed prop update
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981191 13f79535-47bb-0310-9956-ffa450edef68

commit c88c635b54bf73a426e77ce148556095438dd3e2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 1 09:52:35 2010 +0000

    Update to commons-fileupload 1.2.2
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981190 13f79535-47bb-0310-9956-ffa450edef68

commit 36861698a86448ba6b9d29f693e1d95396c8de7d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 1 09:28:02 2010 +0000

    Switch back to standard commons file-upload layout - simpler to merge updates. Part 2.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981187 13f79535-47bb-0310-9956-ffa450edef68

commit aa93b3737ca4f39949030486de3a498e5d6a77e4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 1 09:26:20 2010 +0000

    Switch back to standard commons file-upload layout - simpler to merge updates. Part 1.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981186 13f79535-47bb-0310-9956-ffa450edef68

commit 474f9047e776ad785b0e2858a5cf7fe998bfb60b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 31 14:02:29 2010 +0000

    Revert r966596 - pollTime is in microseconds, wait is in milliseconds
    Add an additional wait that prevents a JVM crash on shutdown detected in TestAsyncContextImpl tests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981061 13f79535-47bb-0310-9956-ffa450edef68

commit 7d2b14b74a89e6797e4e52ae57ec078569742f96
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 31 09:58:17 2010 +0000

    Fix possible threading issue in unit tests. Adding some Thread.sleep() calls in the right place can cause the tests to fail. This is probably one of the causes of the current Gump failures.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@981027 13f79535-47bb-0310-9956-ffa450edef68

commit 676f6e624f2179e613a6958f30de84801035f2fb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 29 20:53:26 2010 +0000

    Add optional support to the HTML Manager application to display Proxy sessions. It is disabled by default.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@980567 13f79535-47bb-0310-9956-ffa450edef68

commit 912938d01b577163075484212772877351354f50
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 29 18:32:58 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49407
    Make BackupManager and DeltaManager handle primary and backup sessions consistently
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@980535 13f79535-47bb-0310-9956-ffa450edef68

commit 5007f8e7428afc9c271cc9d260b98d9372cf47b1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 29 18:17:15 2010 +0000

    Enable the HTML Manager application to differentiate between primary & backup sessions.
    Both can be invalidated
    Attributes can be viewed in both
    Attributes can only be removed from primary sessions
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@980532 13f79535-47bb-0310-9956-ffa450edef68

commit 83f68f4d1d5ac33973cecc67b3b92baf79022df4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 29 12:34:59 2010 +0000

    Update the changelog with a note on the session manager refactoring
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@980425 13f79535-47bb-0310-9956-ffa450edef68

commit 31fdee89368037689195b928b17c988abb92ac50
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 29 12:28:40 2010 +0000

    Follow on to r980418
    Need to move registration with context to ManagerBase too
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@980424 13f79535-47bb-0310-9956-ffa450edef68

commit 9bdc7de0e039013168eeb205ddfe2cbedffb5abd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 29 12:22:27 2010 +0000

    Refactoring
    Change BackupManager to extend ClusterManagerBase rather than StandardManager
    - The functionality being inherited from StandardManager (persistence over restart) was being bypassed
    - Further reduces code duplication, mainly in BackupManager
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@980421 13f79535-47bb-0310-9956-ffa450edef68

commit 33a8edd7ec2f19fe4420721c44b874133b7b906d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 29 12:10:51 2010 +0000

    Refactoring
    Move propertyChange() implementation to ManagerBase to reduce code duplication
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@980418 13f79535-47bb-0310-9956-ffa450edef68

commit 51e64b52e77189ff7ccbf76c94d1ad83b2ce813d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 29 11:49:47 2010 +0000

    Refactoring - reduce duplication
    Handle maxActiveSessions, rejectedSessions and processingTime in ManagerBase
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@980411 13f79535-47bb-0310-9956-ffa450edef68

commit eae4395c7e53a653e14c349de64bba31fa7f6696
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 29 11:26:02 2010 +0000

    Revert part of r980399 - attribute is present and used in ManagerBase so will be inherited
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@980408 13f79535-47bb-0310-9956-ffa450edef68

commit 73fa3f5ce2cf9396eb1800f37cf924a342fd2fff
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 29 11:24:45 2010 +0000

    Fix an Eclipse nag
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@980407 13f79535-47bb-0310-9956-ffa450edef68

commit f62b315dc57a937730c31b424662402a61c191c9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 29 11:16:29 2010 +0000

    Remove deprecated method
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@980404 13f79535-47bb-0310-9956-ffa450edef68

commit 13aa60363f49297725f8a3404b25b2834798e6da
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 29 11:10:00 2010 +0000

    Rejected session count should not be writable
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@980401 13f79535-47bb-0310-9956-ffa450edef68

commit ba90a0304f2a1ee59ffe1022fe785934fa362cc2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 29 11:03:32 2010 +0000

    Remove unused property
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@980399 13f79535-47bb-0310-9956-ffa450edef68

commit 4c0a911dffc6c977d7acedaf44647f48c4c8b00e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 29 09:45:32 2010 +0000

    Remove deprecated defaultMode attribute
    Clarify current behaviour of maxActiveSessions
    Clean-up cluster-manager docs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@980378 13f79535-47bb-0310-9956-ffa450edef68

commit 41103c8e1080a2a370f19827bc32d48895f1b6b3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 29 08:11:52 2010 +0000

    Remove unused SimpleTcpReplicationManager and associated ReplicatedSession
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@980355 13f79535-47bb-0310-9956-ffa450edef68

commit 5a47a8075813a36ce40ce5a9bfc1678fb3ac8460
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 29 07:52:07 2010 +0000

    Fix copy/paste typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@980347 13f79535-47bb-0310-9956-ffa450edef68

commit 6118c83ebfd2d8a1b8325367c4444fe0ca7b25b5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 28 23:03:40 2010 +0000

    Make life easier when debugging failing tests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@980262 13f79535-47bb-0310-9956-ffa450edef68

commit 77e69cc195aa8ddf37ca26d00d67f005afc4088b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 28 22:55:08 2010 +0000

    Fix a failing test with the APR connector. Handle async requests that timeout.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@980260 13f79535-47bb-0310-9956-ffa450edef68

commit c2e11f7464a1acc9c4b26130b52491f065d23550
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 28 16:14:03 2010 +0000

    Reduce log level for debug messages from error to debug
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@980111 13f79535-47bb-0310-9956-ffa450edef68

commit d57ca03340f836be6d33af775a9a690a43a3b733
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 28 15:58:30 2010 +0000

    Only download Checkstyle if it is going to be used
    Add note the Checkstyle is LGPL
    Add option (off by default) to fail test target as soon as one test fails.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@980106 13f79535-47bb-0310-9956-ffa450edef68

commit c3dc9e021d1402434b3a097b43413101329ade84
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 27 22:36:06 2010 +0000

    More unit test fixes - better handling when APR/native connector is not started
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@979896 13f79535-47bb-0310-9956-ffa450edef68

commit c8cf88774c4cd4f2754d8f7f1bef2a92635f4a23
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 27 21:05:16 2010 +0000

    Code clean-up
    Remove deps on o.a.catalina
    Fix a couple of Eclipse nags
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@979872 13f79535-47bb-0310-9956-ffa450edef68

commit 4f1b274bfba1a783b3188a9b5892bbf597101a21
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 27 20:56:10 2010 +0000

    Fix unit test failure. Ignore exceptions when destroying APR connector if APR was never initialised.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@979865 13f79535-47bb-0310-9956-ffa450edef68

commit 6c4c7e6573d3fd9104282017dc46d3da3ce50a12
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 27 20:28:38 2010 +0000

    Fix unit test failure with APR. SSL renegotiation will not work by default for this connector.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@979854 13f79535-47bb-0310-9956-ffa450edef68

commit 0fc590fa3bdd706aa40e38c6ab46a5b98905da82
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 27 20:27:56 2010 +0000

    Fix unit test failure with APR connector. Make sure MBeans are de-registered when connector stops.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@979853 13f79535-47bb-0310-9956-ffa450edef68

commit 28759675af736d10c6cfee0c5d664bd073bfee47
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 27 20:27:16 2010 +0000

    Only need to wait a single pollTime, not one pollTime for each poller.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@979852 13f79535-47bb-0310-9956-ffa450edef68

commit 17dca74f5dc1ae12ff35eca1fc5b677c84251960
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 27 20:26:14 2010 +0000

    Prevent JVM crashes caused by shutting down the APR library too early.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@979850 13f79535-47bb-0310-9956-ffa450edef68

commit 62d2bbcd16e08d7eb74db7f686a744e1bebe3867
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 27 20:25:35 2010 +0000

    Provide control over which connectors are used to run tests - helpful when (as now) only one of the connectors has issues
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@979849 13f79535-47bb-0310-9956-ffa450edef68

commit 7de518eb3001d2750c790259e80966b4983b159d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 27 20:24:11 2010 +0000

    Update changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@979844 13f79535-47bb-0310-9956-ffa450edef68

commit ee9df9dbc2e096a2e94b67f0fc338f73297ecf32
Author: William Barker <billbarker@apache.org>
Date:   Mon Jul 26 03:27:37 2010 +0000

    reverting, since 1.8 requires an indirect
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@979143 13f79535-47bb-0310-9956-ffa450edef68

commit 9b212a82483c85ea424e2f3ff116ee0042e3931b
Author: William Barker <billbarker@apache.org>
Date:   Mon Jul 26 03:00:08 2010 +0000

    no reason to do indirect here
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@979138 13f79535-47bb-0310-9956-ffa450edef68

commit cc11b9b5e0638d30b18d41c5a4166bf07e3f8799
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 25 00:12:02 2010 +0000

    Add additional tests known to pass - list provided by Marc Guillemot.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@978952 13f79535-47bb-0310-9956-ffa450edef68

commit 4f48696590489e3dfbe3245b90f8a7e889450956
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 24 13:03:11 2010 +0000

    Remainder of tabs to spaces changes
    Enable check in checkstyle config
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@978865 13f79535-47bb-0310-9956-ffa450edef68

commit 4876f8425fbcffe8bbf0dbb0e14f4a40aee3e179
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 24 12:25:40 2010 +0000

    Ignore config for checkstyle Eclipse plugin
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@978862 13f79535-47bb-0310-9956-ffa450edef68

commit de14aa3cf73878f8d6435659beb7e6adab6e7786
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 24 12:23:44 2010 +0000

    Extend checks to webapps
    Tab police for /test and /webapps
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@978861 13f79535-47bb-0310-9956-ffa450edef68

commit e0b2ccdf48a3f157cf7d906030d32bcd12cf14ce
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 24 11:10:48 2010 +0000

    Check the tests too.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@978847 13f79535-47bb-0310-9956-ffa450edef68

commit 3ea9cae05e77c985e1c2e7679d13f0d98e51fd32
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 24 11:03:00 2010 +0000

    More tab police
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@978845 13f79535-47bb-0310-9956-ffa450edef68

commit 7057e42ce2f740ec6aa103090981c6817916656c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 24 10:17:45 2010 +0000

    Tab police in org.apache.catalina
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@978840 13f79535-47bb-0310-9956-ffa450edef68

commit 593776e7b98d0e7ede8998d171d1df72f321697e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 24 08:37:48 2010 +0000

    Update to require Ant 1.8.x+ to take advantage of the new property expansion for if/unless and then use it control if the validate code is executed.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@978826 13f79535-47bb-0310-9956-ffa450edef68

commit 6383c89900aa69a808b29b4473ff73ef2fcec310
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 23 22:04:32 2010 +0000

    More tab police - misc packages
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@967284 13f79535-47bb-0310-9956-ffa450edef68

commit e51b05c4548576d768333892f35c1ad5bd66eef0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 23 21:47:39 2010 +0000

    More tab police - javax.servlet.jsp
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@967277 13f79535-47bb-0310-9956-ffa450edef68

commit 1e0820fa8eebc1153fb3841550bdf18f8fa1dcf0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 23 16:03:25 2010 +0000

    Tab police: javax.servlet.http
    Thanks to Checkstyle and Eclipse source formatting
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@967146 13f79535-47bb-0310-9956-ffa450edef68

commit abc1622e5217e44bf7791c5cd67cd90a1629f140
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 23 15:48:53 2010 +0000

    Tab police: javax.servlet (remainder - not sub-packages)
    Thanks to Checkstyle and Eclipse source formatting
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@967140 13f79535-47bb-0310-9956-ffa450edef68

commit 8e2552c0285dff3f89aacff223124ea484d485e3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 23 14:30:26 2010 +0000

    Handle the edge cases where resources packaged in JARs have names that start with a single quote character or a double quote character.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@967107 13f79535-47bb-0310-9956-ffa450edef68

commit cd74fea5f3fee580dab190c996faa293da231b1d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 23 12:37:45 2010 +0000

    Fix the paths used for JAR resources
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@967073 13f79535-47bb-0310-9956-ffa450edef68

commit 9d9bcbc963e2fc759cf12c245c9cb3fe555ddff1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 23 10:35:20 2010 +0000

    Revert part of previous clean-up. Jar needs to remain open
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@967026 13f79535-47bb-0310-9956-ffa450edef68

commit 191234858460112ad929b1be49292214dfaf8ee8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 23 10:19:32 2010 +0000

    Code clean-up. Fix Eclipse warnings. Implement TODOs.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@967021 13f79535-47bb-0310-9956-ffa450edef68

commit c1f9cd9496e4a1a770ce7876e44c77230a554a93
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 22 22:48:18 2010 +0000

    Tab police: javax.servlet (partial)
    Thanks to Checkstyle and Eclipse source formatting
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@966888 13f79535-47bb-0310-9956-ffa450edef68

commit 3df7f9944d3e3c9616dfe7d47c84eef9bff0cfe3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 22 22:35:32 2010 +0000

    Tab police: javax.el
    Thanks to Checkstyle
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@966883 13f79535-47bb-0310-9956-ffa450edef68

commit 78205e5cb3528e010e366575e9fd7d37c0841f66
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 22 22:31:30 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49268
    Add necessary plumbing to enable Checkstyle
    The config file is deliberately empty. The check will be uncommented once the source code has been fixed (~200 files contain tabs).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@966882 13f79535-47bb-0310-9956-ffa450edef68

commit de635ece42c0f5560afe25eb66a6279030eadc64
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 22 21:36:55 2010 +0000

    Use specific imports
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@966864 13f79535-47bb-0310-9956-ffa450edef68

commit 79b8a8b8e7e7e4c487f975ffcbf6f7d082fe5c82
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 22 21:36:11 2010 +0000

    Fix regression in previous fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=49555
    Use TCCL to load webapp classes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@966863 13f79535-47bb-0310-9956-ffa450edef68

commit 4859f6ed8888974708cba372dc1b33ff1ff5dbff
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 22 21:29:42 2010 +0000

    Fix copy/paste error
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@966862 13f79535-47bb-0310-9956-ffa450edef68

commit 47178c7880ad243128b2d52241477b14661b331c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 22 16:58:26 2010 +0000

    Fix some Eclipse warnings, remove some implemented TODOs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@966745 13f79535-47bb-0310-9956-ffa450edef68

commit b7407c34930deb99ef01138e126dc8e170e7f6aa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 22 16:56:32 2010 +0000

    Implement some Servlet 3 TODOs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@966744 13f79535-47bb-0310-9956-ffa450edef68

commit 762e3d74f81434471eb4249724ab8f1713990e9c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 22 16:32:11 2010 +0000

    Extend Lifecycle state machine so global listeners can start before everything else without impacting the context and TLD config listeners
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@966735 13f79535-47bb-0310-9956-ffa450edef68

commit f7eeb58a1fcef0e8d05c59abcaeeaaa822354af6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 22 14:36:15 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49613
    Improve performance for multiple calls to Request.getAttributeNames() when using SSL. Patch provided by Sampo Savolainen.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@966692 13f79535-47bb-0310-9956-ffa450edef68

commit fb8b4c7bcb8ac986deda50fcd69c5a621b354590
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 22 14:27:20 2010 +0000

    Remove some TODOs that have been implemented
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@966684 13f79535-47bb-0310-9956-ffa450edef68

commit a7714ccdbaf56b4cc6c8ebe7b3f0273acf59e179
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 22 12:18:59 2010 +0000

    Run all unit tests will all connectors
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@966613 13f79535-47bb-0310-9956-ffa450edef68

commit 9dc94cd66fc60255d9bbc0c43976c5f5128080b8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 22 11:51:00 2010 +0000

    Poll time and wait are both in milliseconds
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@966596 13f79535-47bb-0310-9956-ffa450edef68

commit db2cac4183eaefa888d4f25c95a73bb101ad918c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 22 10:43:43 2010 +0000

    Fix possible NPE
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@966570 13f79535-47bb-0310-9956-ffa450edef68

commit fe6a0fda1e715c5e9b0852d83f19034665078b71
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 22 09:12:18 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49567
    Better handling of calls to complete() from a separate thread.
    There are still a handful of TODOs around this which will follow shortly but I'm committing this since it passes the unit tests and the Servlet TCK (with BIO)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@966548 13f79535-47bb-0310-9956-ffa450edef68

commit 3febb2caa56550d80f2002a6354dc4320753e89f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 21 20:31:30 2010 +0000

    Test case for https://issues.apache.org/bugzilla/show_bug.cgi?id=49600
    Based on a patch by Marc Guillemot
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@966405 13f79535-47bb-0310-9956-ffa450edef68

commit 8f18b0434593f3dd7954acc7c22d7e2d257d6e72
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 21 20:30:53 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49600
    Return a consistent exception for 'Not Found' resources.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@966404 13f79535-47bb-0310-9956-ffa450edef68

commit 3e375f1b2268f037680480e9c949c2cd3d36584b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 21 16:37:58 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49617
    Correct the ExpiresFilter documentation after changes to the submitted patch
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@966304 13f79535-47bb-0310-9956-ffa450edef68

commit 9a1a42bc09e4fc4f24572c95eeb0ed0679b7a0aa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 21 16:09:41 2010 +0000

    Return copies of the URL array rather than the original. This facilitated CVE-2010-1622 although the root cause was in the Spring Framework. Returning a copy in this case seems like a good idea.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@966292 13f79535-47bb-0310-9956-ffa450edef68

commit 3d7188756d56f7f99c733d61873e4e9ecb67aa2f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 21 10:59:31 2010 +0000

    Correct explanation. mapSendOptions=6 is synchronous, not asynchronous.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@966178 13f79535-47bb-0310-9956-ffa450edef68

commit 605694800578805ddf785441db167a5a7b5f0326
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 21 10:58:56 2010 +0000

    Add note about message processing order.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@966177 13f79535-47bb-0310-9956-ffa450edef68

commit fa8dfa464078dc410c37653ffa4ef41ffb7b84eb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 21 08:12:37 2010 +0000

    Eclipse sample files need to have correct (platform specific) line endings in src distributions.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@966131 13f79535-47bb-0310-9956-ffa450edef68

commit 36cefa42e75267f27cfad37368c00687aacb7de5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 17 23:57:23 2010 +0000

    Restore pero's timeout fix for the BIO connector. Add configuration of the timeout.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@965150 13f79535-47bb-0310-9956-ffa450edef68

commit 7e7e22fba70cbe4f86221867348cd26a4547904f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 17 20:40:51 2010 +0000

    Trivial - align comment
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@965130 13f79535-47bb-0310-9956-ffa450edef68

commit 2b036d8c5d440d5fe957621a43c4a7da93f606f6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 17 18:24:01 2010 +0000

    Expose executor.
    Required so Servlet 3 Async implementation can use the container thread pool when a new thread needs to be dispatched. (e.g. from AsyncContext.start(Runnable)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@965123 13f79535-47bb-0310-9956-ffa450edef68

commit 2c5d036289f6c76b043a51ff3f67f46b3ce9c1a5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 17 18:20:11 2010 +0000

    Clean-up. No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@965122 13f79535-47bb-0310-9956-ffa450edef68

commit b62cf35c5b25fcc233cb3806a13a654ac41984ad
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 17 18:13:21 2010 +0000

    Remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@965118 13f79535-47bb-0310-9956-ffa450edef68

commit aea01afbcc37906551eead69bd53b2d003833848
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 16 14:55:01 2010 +0000

    Make the bean Serializable so I can use the example to test/demo session persistence on restart
    Add required getters/setters
    Indent using 4 spaces
    Fix FindBugs warning
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@964816 13f79535-47bb-0310-9956-ffa450edef68

commit 7d1296b918149e1414ce49888e6ac6c4217e8a22
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 16 11:59:57 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49428
    Add a work-around for the known namespace issues for some Microsoft WebDAV clients. Patch provided by Panagiotis Astithas.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@964780 13f79535-47bb-0310-9956-ffa450edef68

commit 84b73c75de6c2cda6194ac225dc798096ef9e3bc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 16 09:09:44 2010 +0000

    As suggested on the users list, add redirects to the HTML interface to the root of the host-manager and manager applications
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@964722 13f79535-47bb-0310-9956-ffa450edef68

commit 6c44f1596e02978b18f62c2576db829cfed10dcd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 15 21:37:41 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49598
    When updating the session cookie header, actually update it rather than adding a new header without a name.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@964614 13f79535-47bb-0310-9956-ffa450edef68

commit b47df60be1fdbf1f3f39ef5c43802dcc963d7742
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 15 21:32:35 2010 +0000

    Test case for https://issues.apache.org/bugzilla/show_bug.cgi?id=49598
    Multiple invalid session cookies
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@964611 13f79535-47bb-0310-9956-ffa450edef68

commit d0e5bd18ab05c3c03b0f5e8b9cd76bcb101af33e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 14 22:15:50 2010 +0000

    Remove the ExpiresActive option. Just comment it out if you don't want to use it.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@964222 13f79535-47bb-0310-9956-ffa450edef68

commit 010b05b462da7bc7b5e57ae1d03e204231d5fe26
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 14 22:11:30 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48998
    Add the ExpiresFilter, a port of mod_expires
    Patch provided by Cyrille Le Clerc
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@964219 13f79535-47bb-0310-9956-ffa450edef68

commit e8e02e5605f2123e4ac5adc18f04cb12c170efe2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 14 21:39:40 2010 +0000

    Fxi https://issues.apache.org/bugzilla/show_bug.cgi?id=49127
    Don't swallow exceptions unnecessarily
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@964216 13f79535-47bb-0310-9956-ffa450edef68

commit aae2ff8e8610ae4a776efc4d83dde65ed8fe283a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 14 21:35:37 2010 +0000

    Fxi https://issues.apache.org/bugzilla/show_bug.cgi?id=49128
    Don't swallow exceptions unnecessarily
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@964215 13f79535-47bb-0310-9956-ffa450edef68

commit 87c8d09b4857ff550baefa7bffe3eecfccfd37a1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 14 21:29:44 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49130
    Better describe the core package
    Patch provided by sebb.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@964211 13f79535-47bb-0310-9956-ffa450edef68

commit 322abc20b193de81933eb9c18ef47f78ed0fa476
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 14 21:24:45 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49182
    Align setclasspath comments with reality.
    Based on a patch provided by sebb.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@964208 13f79535-47bb-0310-9956-ffa450edef68

commit d7e17f46e5e5d134f2d741bae1b29b37a5c0b286
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Jul 14 13:54:43 2010 +0000

    Add myself to the list.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@964049 13f79535-47bb-0310-9956-ffa450edef68

commit ba937478ff705e5c76fff8dae83589941db35c95
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 13 21:35:39 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48960
    Disable exec by default in SSI and provide an option to enable it for both  Servlet and Filter
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@963868 13f79535-47bb-0310-9956-ffa450edef68

commit bc9a7ec38c94d5633829f3c2c347f989062165ff
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 13 16:02:09 2010 +0000

    Sign the pom.
    Make sure source jar signature doesn't overwrite the non-source jar signature.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@963776 13f79535-47bb-0310-9956-ffa450edef68

commit 0966057f889d8d72615198d2b29cd01abfafd7cd
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Tue Jul 13 04:44:25 2010 +0000

    Avoid NullPointerException, when copyXML=true and META-INF/context.xml does not exist.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@963599 13f79535-47bb-0310-9956-ffa450edef68

commit 920b352b87d6f485c2c2bad71a5365830d47c4fd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 12 13:17:01 2010 +0000

    Hard code the snapshot version for 7.0.
    7.0-SNAPSHOT will always point to the latest snapshot.
    I'll clean out the snapshot repo before I do the next update
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@963275 13f79535-47bb-0310-9956-ffa450edef68

commit b6dfd9418a1498d308b1d4512d4db8dbdf60ee9a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 12 13:02:30 2010 +0000

    Prepare for the next release
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@963273 13f79535-47bb-0310-9956-ffa450edef68

commit 8938621e805827fc6f10f0c96235c3bba76ba700
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 11 16:37:32 2010 +0000

    Make the fix for bug 49555 more robust
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@963106 13f79535-47bb-0310-9956-ffa450edef68

commit f6fafdecb9faf4a488703fb7e5f99fcd3cb673d0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 11 16:29:25 2010 +0000

    Remove unnecessary code since Class.getCanonicalName() is available
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@963103 13f79535-47bb-0310-9956-ffa450edef68

commit b036dae44cd69b908caefa2584426eb246f03505
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 10 21:43:02 2010 +0000

    Eclipse warnings for annotations
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@962923 13f79535-47bb-0310-9956-ffa450edef68

commit d6ab3159f501032c81e2ffc855d666470ac5f468
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 10 21:39:58 2010 +0000

    javax.mail is a dummy implementation - mark it as such to stop Eclipse complaining about empty methods and unused parameters
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@962922 13f79535-47bb-0310-9956-ffa450edef68

commit 356a88b528ff7704c3e584414c1f1682858a13fc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 10 21:33:16 2010 +0000

    Trivial cleanup no functional change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@962921 13f79535-47bb-0310-9956-ffa450edef68

commit d49a4ba9217299b61d4ac9c384dec508819d37db
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 10 21:22:12 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49442
    Trivial code clean-up. No functional change.
    Based on a patch provided by Sebb.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@962919 13f79535-47bb-0310-9956-ffa450edef68

commit 0f1413a0f650d4698e81ac7565bbeec70460e1d7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 10 21:13:23 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49478
    Add support for user specified character sets to the AddDefaultCharsetFilter. Based on a patch by Felix Schumacher.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@962917 13f79535-47bb-0310-9956-ffa450edef68

commit feb8e5f19d3ab5ae56a081210f61314706169340
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 10 18:33:14 2010 +0000

    Typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@962900 13f79535-47bb-0310-9956-ffa450edef68

commit 6b32729b78edb5671eaab76400fc9dbe4631396e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 10 17:20:41 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49570
    When using the example compression filter, set the Vary header on compressed responses
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@962889 13f79535-47bb-0310-9956-ffa450edef68

commit 3d5e5d47c9dbcf3a22f4664771932f38d512ec7d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 10 16:41:59 2010 +0000

    Make the random source used for nonces user configurable
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@962881 13f79535-47bb-0310-9956-ffa450edef68

commit f9bf8c99a1f3825d3042cc63783e88e73d94dcb9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 10 16:19:26 2010 +0000

    Align implementation with docs. nonceCacheSize should be configurable
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@962872 13f79535-47bb-0310-9956-ffa450edef68

commit bca111a08029f7f5e6328c62aa5dd76d8ff7a388
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 10 16:14:42 2010 +0000

    Add CVE-2010-2227 test case
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@962871 13f79535-47bb-0310-9956-ffa450edef68

commit e7559a9dc3f4497ca3c208d530deb85935bd2fca
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 10 16:10:33 2010 +0000

    Improve CSRF protection filter by using SecureRandom rather than Random
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@962865 13f79535-47bb-0310-9956-ffa450edef68

commit 501390bb1729f8060af3d1bf32c600ad831e8c36
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 10 16:05:52 2010 +0000

    Align docs with reality
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@962864 13f79535-47bb-0310-9956-ffa450edef68

commit 1a15a412b045b0a23db74f390fcb3a633fec9d6d
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Jul 10 15:12:24 2010 +0000

    Add release date
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@962857 13f79535-47bb-0310-9956-ffa450edef68

commit 5a8678164f57981a833e3922cae3e6d71b7f599b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 9 09:41:25 2010 +0000

    Documentation improvements:
    - Explicit version number in <title ../>
    - Add version and date to every page
    - Remove duplicate "Apache Tomcat 7" and promote real page title
    - Automate copyright end date
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@962466 13f79535-47bb-0310-9956-ffa450edef68

commit dac677d8088dc15219bacc48c22170939ae0cdbd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 8 22:22:34 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48297
    Use the HandlerInfo to initialise the HandlerChain, rather than adding to it which clearly isn't correct.
    From looking at the javadoc, I believe this is the fix required but I don't have a test case.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@961963 13f79535-47bb-0310-9956-ffa450edef68

commit 52ce20615cd33c64b816e7504b39202d016dd9d2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 8 21:55:46 2010 +0000

    GSOC 2010. Continue work to align MBean descriptors with reality. Patch provided by Chamith Buddhika.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@961956 13f79535-47bb-0310-9956-ffa450edef68

commit 075646b722bc78b69d001b49d5367e2a01813487
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 8 21:29:12 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49555
    Correctly handle tag libraries that use functions defined in static inner classes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@961948 13f79535-47bb-0310-9956-ffa450edef68

commit 21524bd9b1356cb1c226a1bee8be6af63203b85e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 8 21:28:21 2010 +0000

    Test case for https://issues.apache.org/bugzilla/show_bug.cgi?id=49555
    Fix to follow shortly
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@961947 13f79535-47bb-0310-9956-ffa450edef68

commit 4855789677ef53910a8c42f5df0edc22af5632bb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 8 21:19:39 2010 +0000

    Tab police
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@961942 13f79535-47bb-0310-9956-ffa450edef68

commit c16e1a6894f199d4839e560174c3ba8b8683c2f1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 8 15:48:48 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49503
    Revert the protocol handler component of r940656. Subsequent lifecycle fixes have resolved the issues that required this change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@961819 13f79535-47bb-0310-9956-ffa450edef68

commit e47113ed2053ea4f8b332bf535fbf782251d3e8b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 8 09:00:47 2010 +0000

    Update post release of 7.0.0 beta
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@961647 13f79535-47bb-0310-9956-ffa450edef68

commit f577de1acc68c7f5ed918659f67fcd12a123255c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 8 00:05:38 2010 +0000

    Include session ID in error message logged when trying to set an attribute on an invalid session.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@961541 13f79535-47bb-0310-9956-ffa450edef68

commit 2ee732fc6aee83e72c4891a50a3b0e300e9dbf46
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 7 23:33:28 2010 +0000

    Improve logging of unhandled servlet exceptions by including the context name. For JasperExceptions, the JSP snippet will be logged (if enabled). Previously this was not logged and only displayed in the error page seen by the user.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@961535 13f79535-47bb-0310-9956-ffa450edef68

commit f25698a3934a010e25f23c257bedb614b3f59541
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 7 22:34:47 2010 +0000

    Fix some Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@961525 13f79535-47bb-0310-9956-ffa450edef68

commit f9d3b32d2dbed62dc65533940c115c106e960bad
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 7 09:10:38 2010 +0000

    Better error message
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@961313 13f79535-47bb-0310-9956-ffa450edef68

commit e6a903d384e647bbe9f203304e93e05c08c14cbf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 6 16:47:39 2010 +0000

    Improve fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=49217
    Make sure identifiers meet the requirements of the JLS
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@960942 13f79535-47bb-0310-9956-ffa450edef68

commit 033faff58e9e7ee9a6a3cdb0459ee3752b293c80
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 6 16:45:23 2010 +0000

    Side effect of fixing https://issues.apache.org/bugzilla/show_bug.cgi?id=49217
    Make the examples and the unit tests spec compliant
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@960940 13f79535-47bb-0310-9956-ffa450edef68

commit 65d4256c661e16cbbeb8032a8aec2d31453d2c08
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 5 21:45:26 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49217
    Prevent use of Java keywords in identifiers
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@960712 13f79535-47bb-0310-9956-ffa450edef68

commit 2a5f02fc0bbc2b70ccfc71ae03c27525db226d82
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 5 21:44:29 2010 +0000

    Test case for https://issues.apache.org/bugzilla/show_bug.cgi?id=49217
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@960711 13f79535-47bb-0310-9956-ffa450edef68

commit 6974fc1c08df2f793b3b73944d748a1996a6fc5e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 5 21:07:32 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49551
    Allow default context.xml file to be specified using an absolute path.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@960701 13f79535-47bb-0310-9956-ffa450edef68

commit dfea59526d7cf5294630c42847177a3bdf20c9bb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 5 20:58:23 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49550
    Trivial code clean up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@960698 13f79535-47bb-0310-9956-ffa450edef68

commit 8e482ddbb9705b11669acb6b6ebd640e6069643b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 5 20:51:21 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49528
    Previous fix was incomplete. Improve test case and fix
    TCK and test cases pass with this patch
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@960692 13f79535-47bb-0310-9956-ffa450edef68

commit e9b8a82b2e815d712fdbf5339577ef15d46ff24f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 4 20:48:07 2010 +0000

    Clean up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@960394 13f79535-47bb-0310-9956-ffa450edef68

commit 2f42c8eb1aa9111ede2f9f1263488b7808a44367
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 4 20:38:41 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49528
    AsyncContext.start() uses an internal dispatch but this should not have the same side-effects as calling dispatch()
    TCK and test cases passes with this patch
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@960392 13f79535-47bb-0310-9956-ffa450edef68

commit 776ebc336cf79d482af9959de468894a4c716151
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 4 20:34:02 2010 +0000

    Add a test case for https://issues.apache.org/bugzilla/show_bug.cgi?id=49528
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@960391 13f79535-47bb-0310-9956-ffa450edef68

commit d6389feb8775a615bea642856ea56505b5d9eb5b
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Jul 4 16:01:43 2010 +0000

    Remove *.rtf from fixcrlf patternset.
    
    No need for native line ends in RTF files.
    Their spec indicates they should use CRLF.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@960350 13f79535-47bb-0310-9956-ffa450edef68

commit 75a8d5a790b7c65c46c6cc04c4ddf6f404805c4d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 4 15:44:45 2010 +0000

    Revert r958362, r960083, r958406, r960069. r958362 broke the TCK tests and the other commits were sufficiently tightly coupled to it that it was easier to revert all of them than try to unpick them.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@960348 13f79535-47bb-0310-9956-ffa450edef68

commit 57dffd2367d73713681ed2263279761d3b2eff7d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 4 15:38:40 2010 +0000

    Revert r960283, r960316, r960318. r960283 broke the spec and the other commits were sufficiently tightly coupled to it that it was easier to revert all of them than try to unpick them.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@960347 13f79535-47bb-0310-9956-ffa450edef68

commit 0651a6c11c459bba3c59dd3af480fae91484cbcd
Author: Peter Rossbach <pero@apache.org>
Date:   Sun Jul 4 10:50:53 2010 +0000

    no functional change.
    reformating and fix some checkstyle warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@960318 13f79535-47bb-0310-9956-ffa450edef68

commit 30b28739c9363f6445300a3bda7453cf23f3bc0d
Author: Peter Rossbach <pero@apache.org>
Date:   Sun Jul 4 10:47:12 2010 +0000

    Fix indentation...
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@960317 13f79535-47bb-0310-9956-ffa450edef68

commit 54f92a2c621b08d57d2d3063da5ca938ceb18af1
Author: Peter Rossbach <pero@apache.org>
Date:   Sat Jul 3 23:02:46 2010 +0000

    Fix NPE and add small test case to check VirtualWebappLoader.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@960284 13f79535-47bb-0310-9956-ffa450edef68

commit 529a34ea5ba0a239739896278ca4d3afe70150d7
Author: Peter Rossbach <pero@apache.org>
Date:   Sat Jul 3 22:48:16 2010 +0000

    Fix Bug 49528 - HttpServletRequest.isAsyncStarted() returns false when a Runnable is started
    Add isDebugEnabled statements.
    
    Todo: Why we doesn't start directly a container thread with asyncContext.start()?
    Currently we start user runnable as an internal forward.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@960283 13f79535-47bb-0310-9956-ffa450edef68

commit 563ed6de08a5b867ab10353c4a8a1dc13640843a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 2 21:13:25 2010 +0000

    A few more FindBugs issues
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@960104 13f79535-47bb-0310-9956-ffa450edef68

commit dc429c3fe20c0e61cd042e9de41dd88272b86454
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 2 21:10:35 2010 +0000

    Fix FindBugs niggle
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@960103 13f79535-47bb-0310-9956-ffa450edef68

commit b2ee54062b41383606313c4a9b0d71e3fe2ec5c2
Author: Peter Rossbach <pero@apache.org>
Date:   Fri Jul 2 18:30:34 2010 +0000

    Test NIO AsyncListener timeout.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@960083 13f79535-47bb-0310-9956-ffa450edef68

commit cb8d0f84f621146f351cad05e3a537956cd422b2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 2 18:25:54 2010 +0000

    Further MBean improvements.
    Patch provided by chamith buddhika
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@960081 13f79535-47bb-0310-9956-ffa450edef68

commit cacb5f5a5ccf7b84e739a1eb753e84a4a4c14b23
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 2 18:04:14 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49530
    Make sure children are stopped if they are running when the parent stops.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@960076 13f79535-47bb-0310-9956-ffa450edef68

commit 17fddde6e3eef4960117ea07ef7bc64bd979a2dd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 2 17:50:56 2010 +0000

    Make new timeout thread a daemon thread so Tomcat will shutdown properly
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@960069 13f79535-47bb-0310-9956-ffa450edef68

commit b1dc4a41b9585135000e67297eeeacc3ffa32132
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 2 10:01:32 2010 +0000

    Additional debug logging for manager selection
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@959931 13f79535-47bb-0310-9956-ffa450edef68

commit 58b8b3b52db835ce85b1dae0dc5467bb177464d2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 1 21:35:19 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49536
    Ensure a 404 response for an unmapped request when no ROOT context is deployed.
    Most of the change is getting the mapper to use the Host object rather than the ObjectName or an empty string
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@959790 13f79535-47bb-0310-9956-ffa450edef68

commit 6e9357f8b48053cc0e8aaa9747fc774886f48ead
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 1 19:37:40 2010 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@959756 13f79535-47bb-0310-9956-ffa450edef68

commit b91464ad31a6bb6ae179f9a79ae3cbc1e96f86b5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 1 19:33:45 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49525
    Cookies for ROOT context need a path of /
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@959754 13f79535-47bb-0310-9956-ffa450edef68

commit c41e70a628d366669940956f9c0aeba64ca14adf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 1 18:06:47 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49522
    Just use host and path in NamingResources MBean name rather than full Context MBean name
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@959736 13f79535-47bb-0310-9956-ffa450edef68

commit 3aefaf94d2bbb4fa6855c888f3459444e2f8663d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 1 11:28:49 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49518
    Correct typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@959620 13f79535-47bb-0310-9956-ffa450edef68

commit 20dc261ee215c286fab133c4a2bcea07e328cf81
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 1 09:57:07 2010 +0000

    Improve default security settings. Enable the LockOutRealm by default.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@959580 13f79535-47bb-0310-9956-ffa450edef68

commit 0191bb1bdff1970d3d19009ea8e9b42f5ffed7f1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 1 09:35:23 2010 +0000

    Improve handling for method invocation in EL, in particular the method used to identify the method to invoke. This reverts r953440 and implements a more comprehensive solution.
    The method identification code attempts to mimic how the Java compiler works. In a few cases it finds methods where the Java complier reports an ambiguous method. The EL spec is sufficiently vague on method selection that I don't think this will be an issue.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@959568 13f79535-47bb-0310-9956-ffa450edef68

commit 61822e1e318378c962ae063e09b308cb9eb7fdfb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 30 08:46:50 2010 +0000

    Re-factor to make upcoming changes easier to understand
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@959233 13f79535-47bb-0310-9956-ffa450edef68

commit 7de22ef63ec3e93e9bb14d7d2583561b5ac0f115
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Jun 29 19:06:43 2010 +0000

    Correct broken link on the index.html page of the jsp examples.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@959075 13f79535-47bb-0310-9956-ffa450edef68

commit dce5fd456bbb18d146232ff6368acb5f9871996a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 29 16:41:06 2010 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@959023 13f79535-47bb-0310-9956-ffa450edef68

commit 78835484d9e6188dc7268f0d7a7d8db415a649bb
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Tue Jun 29 10:13:54 2010 +0000

    Arrange filter logic.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@958911 13f79535-47bb-0310-9956-ffa450edef68

commit 86bf950733b758426475323b8b4f3e923ae71ee6
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jun 28 15:59:12 2010 +0000

    Implement support for using *.jar pattern in VirtualWebappLoader to specify all JAR files in a certain directory.
    
    This is inspired by Bootstrap.createClassLoader(..) and ClassLoaderFactory.createClassLoader(..).
    There is a small difference with regards to ClassLoaderFactory.createClassLoader(..) implementation:
    1. I removed the file.canRead() checks as I think that they are not necessary here. I am checking existence and type only.
    2. Note that isFile()/isDirectory() are documented to return false if the path does not exist, so using a separate exists() call there is not necessary.
    
    Also three other changes:
    1. Added trim() to the tokens.
    2. Implemented debug logging.
    3. Removed "not for production" warning from the JavaDoc.
    
    
    An update for the documentation (/config/loader.html) should follow later.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@958615 13f79535-47bb-0310-9956-ffa450edef68

commit d4104c3e2360d6cddfbc5cd8821107123a526682
Author: Peter Rossbach <pero@apache.org>
Date:   Sun Jun 27 18:41:48 2010 +0000

    remove second fix entry. Sorry!
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@958406 13f79535-47bb-0310-9956-ffa450edef68

commit e6a9575390a95fc0409fa2b1fe363efba70c6e10
Author: Peter Rossbach <pero@apache.org>
Date:   Sun Jun 27 11:02:10 2010 +0000

    Start JioEndpoint timeout thread, to handle timeout a AsyncListener.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@958362 13f79535-47bb-0310-9956-ffa450edef68

commit 21e91e843d958ebe28e0d8efd424009b0b3662a6
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Jun 26 21:35:58 2010 +0000

    Simplify code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@958287 13f79535-47bb-0310-9956-ffa450edef68

commit a7a2c049ace13fdfd58e30166af45962e981c84a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jun 26 13:50:32 2010 +0000

    Better way to keep Eclipse happy
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@958226 13f79535-47bb-0310-9956-ffa450edef68

commit 03a1910cb804818bb6cc7d4ff27d2ed5dbb79eda
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jun 26 12:17:33 2010 +0000

    Fix some Eclispe / Findbugs warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@958214 13f79535-47bb-0310-9956-ffa450edef68

commit 57ffc0a9bc492c331f76d06371ddaf6fde0dc74a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jun 26 12:05:30 2010 +0000

    Remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@958213 13f79535-47bb-0310-9956-ffa450edef68

commit fff836409d332ef6cb64571eb14904655cc4acda
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jun 26 07:04:32 2010 +0000

    Improve fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=49414
    Just look for presence of CoyoteAdapter class
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@958192 13f79535-47bb-0310-9956-ffa450edef68

commit c3c1230af563140e8f8189db544d6036b0756ad8
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Jun 25 14:13:26 2010 +0000

    Additional fix for
    https://issues.apache.org/bugzilla/show_bug.cgi?id=49030
    When initializing/starting/stopping connectors and one of them fails, do not ignore the others.
    
    These changes are already included in the BZ 49030 patch that I proposed for TC6.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@957960 13f79535-47bb-0310-9956-ffa450edef68

commit 98e7abf905ed4d24c33dc8f254481acbfe9e1d8e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 25 09:02:48 2010 +0000

    Update changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@957853 13f79535-47bb-0310-9956-ffa450edef68

commit 45c113eaa741d2538391d158499a994fed09128f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 25 07:58:14 2010 +0000

    Add a check of the edge cases for bug 49488. As expected, they all pass.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@957833 13f79535-47bb-0310-9956-ffa450edef68

commit d7ce2bf8948d26e18f946d361c3d1acaf862f218
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 25 07:53:24 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49414
    Try to differentiate between request threads and threads started by applications
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@957830 13f79535-47bb-0310-9956-ffa450edef68

commit f341a16ec8f77d8f5f4f2c5f5fd8abe3a2e2b731
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 25 07:47:31 2010 +0000

    Switch the Host Manager app to the generic CSRF protection
    Don't allow starting of hosts that are started
    Don't allow stopping of hosts that are stopped
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@957828 13f79535-47bb-0310-9956-ffa450edef68

commit 20e4dbc84e135bf30598311a18407a11bc39c544
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 24 18:54:24 2010 +0000

    Clean-up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@957681 13f79535-47bb-0310-9956-ffa450edef68

commit ee0534682d3b30edd78e3b3e82652320b6f78444
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 24 18:43:38 2010 +0000

    Typos
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@957675 13f79535-47bb-0310-9956-ffa450edef68

commit 730a4c99101b2f9d4cd7bf873dd173b3f840dd06
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 24 13:10:41 2010 +0000

    Fix the Eclipse warnings and as a result better handle directory creation failures
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@957539 13f79535-47bb-0310-9956-ffa450edef68

commit 8cdec9169fccf7210597b99ec846a8e31a8cf578
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Jun 24 12:27:35 2010 +0000

    Remove unneeded classcasts
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@957524 13f79535-47bb-0310-9956-ffa450edef68

commit db4bbee101ad5c6f0e043b94a9b1b226b8810c98
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 24 10:25:34 2010 +0000

    Must get in the habit of updating the 7.0.x changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@957493 13f79535-47bb-0310-9956-ffa450edef68

commit e6d7d789634486bb11ff7030a462b9309c46c22f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 24 09:57:02 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49476
    CSRF protection was preventing access to session expiration features
    Also:
    - Switch Manager app to generic CSRF protection
    - Add support for multiple nonces to CSRF filter
    - Improve 403 page
    - Don't open JSP pages in session expiration in a new window - makes CSRF prevention a real pain
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@957478 13f79535-47bb-0310-9956-ffa450edef68

commit 56bcce4bd4267dbb1dd02e459b22b548b4ad1318
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 23 08:14:14 2010 +0000

    Trim the value before adding to the list
    Review feedback from kkolinko
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@957139 13f79535-47bb-0310-9956-ffa450edef68

commit bfe51a637f8ca6a6b28f928f936bd8b0edf24ba6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 23 07:40:19 2010 +0000

    Improve the fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=49230
    Don't log an error about loading Sun class on non-Sun JVMs. Use i18n for message.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@957130 13f79535-47bb-0310-9956-ffa450edef68

commit db087c1c1895d0478fb64cca4a21e10e69b0f36e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 22 21:44:17 2010 +0000

    Fix some old copy/paste errors
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@957044 13f79535-47bb-0310-9956-ffa450edef68

commit b45dbe5766d4c34018941e6b509b2e14c03bf657
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 22 19:18:51 2010 +0000

    Add fix of 49475
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@956984 13f79535-47bb-0310-9956-ffa450edef68

commit a0b310663eebb693032f95637a91a466f78e27eb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 22 19:17:08 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49475
    Use new role name for manager app access
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@956983 13f79535-47bb-0310-9956-ffa450edef68

commit 6cb233d7fc56687321e7e08bbf64e5aecdc67531
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 22 17:52:40 2010 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=49122
    Update ROOT's index page
    Patch provided by pid
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@956964 13f79535-47bb-0310-9956-ffa450edef68

commit 3223b4897997e74d56f7569c1de5cd809a01b985
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 22 17:24:53 2010 +0000

    Update version number
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@956958 13f79535-47bb-0310-9956-ffa450edef68

commit 7c57892dc6bf32c173220860f05610b9e651e3d9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 22 09:21:25 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49230
    Enhance JRE leak prevention listener with protection for the keep-alive thread started by sun.net.www.http.HttpClient
    Patch provided by Rob Kooper.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@956832 13f79535-47bb-0310-9956-ffa450edef68

commit ad14d4d69bfc6fcc089d581bcb38ca2a21101786
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 21 17:53:27 2010 +0000

    Add useful test JSP. Not used in unit tests yet but I expect to use it in later commits.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@956655 13f79535-47bb-0310-9956-ffa450edef68

commit 7f85dfcfac30a28be04781faecbca41b56f05d80
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 21 17:52:25 2010 +0000

    Add support for additional 500 error codes.
    Allow responses to include blank lines
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@956653 13f79535-47bb-0310-9956-ffa450edef68

commit 09104cfd96c7f9001d36218ad6ddaac3bd23627b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 21 15:16:33 2010 +0000

    Reduce code duplication in connectors: Move initializeFilters()to base class
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@956617 13f79535-47bb-0310-9956-ffa450edef68

commit 5c9e03ed9f5b72d9f107f0dcffb6006b759c4db1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 21 11:54:13 2010 +0000

    Fix Eclipse warnings in this package. No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@956537 13f79535-47bb-0310-9956-ffa450edef68

commit fc05f7d0a9c4f08986902173d3fa6930e0369f46
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 21 11:27:18 2010 +0000

    Reduce code duplication in connectors: Move addFilter() and addInputFilter() to base class
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@956533 13f79535-47bb-0310-9956-ffa450edef68

commit 4c338aee57985e6d62c6013b4efcaf666e0155a4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 21 11:25:46 2010 +0000

    Reduce code duplication in connectors: Use AbstractOutputBuffer with APR/native connector
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@956532 13f79535-47bb-0310-9956-ffa450edef68

commit bc2e82dccee8147a72ef520efb3eac162ffc167f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 21 11:25:08 2010 +0000

    Reduce code duplication in connectors: Use AbstractInputBuffer with APR/native connector
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@956531 13f79535-47bb-0310-9956-ffa450edef68

commit 0432261af80c7fd5c7680c5dc3079a59f9f40d63
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 20 18:59:51 2010 +0000

    Add entryPoint support to the CSRF prevention filter.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@956385 13f79535-47bb-0310-9956-ffa450edef68

commit 9bf5b55fc338721a64fcb1a0bcb7b48ce3e11948
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 20 18:56:36 2010 +0000

    Alphabetical order
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@956384 13f79535-47bb-0310-9956-ffa450edef68

commit 5ebcf2ba0422b7c2cad30bcf570c5f6a1493a46f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jun 19 16:53:36 2010 +0000

    When using a Loader configured with searchExternalFirst="true" failure to find the class in an external repository should not prevent searching of the local repositories.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@956252 13f79535-47bb-0310-9956-ffa450edef68

commit e730b71556f94a72a55da60ff6f4d7782bc9114c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jun 19 14:23:29 2010 +0000

    Update changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@956227 13f79535-47bb-0310-9956-ffa450edef68

commit 6adbeadb0a5bb128dcb528bcc651555b8cc8cc99
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jun 19 09:41:35 2010 +0000

    Fix Gump failure
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@956209 13f79535-47bb-0310-9956-ffa450edef68

commit 9e6ad10715562b772235c58528b67eda0181ce0b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 18 11:19:38 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49443
    Use remoteIp... rather then remoteIP... consistently
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@955937 13f79535-47bb-0310-9956-ffa450edef68

commit a48787b7109b944b131aff22b329f9a7f5a7f45e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 18 10:18:09 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49436
    Correct default for UserDatabase's readonly attribute
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@955920 13f79535-47bb-0310-9956-ffa450edef68

commit 6ddadcf5b1a9617c2aef9c49c25a17c1401a1c9a
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Jun 17 16:04:28 2010 +0000

    Strictly speaking, the webapps are in ${catalina.base}, not .home,
    as well as it is shown by examples below those lines in the policy file.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@955655 13f79535-47bb-0310-9956-ffa450edef68

commit 4ae2f4f1f4391170253c1a0604923bf2a057072d
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Jun 17 15:56:37 2010 +0000

    Update the doc. It is a followup to r954435
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@955648 13f79535-47bb-0310-9956-ffa450edef68

commit 17a23d144d37c40349f10bbb50c76a8dfd416257
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Thu Jun 17 09:41:19 2010 +0000

    Typo in previous fix for 44285
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@955527 13f79535-47bb-0310-9956-ffa450edef68

commit 6fa720b8399838618488bbad107f64f8c4db238c
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Wed Jun 16 11:01:45 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49445
    The change in session ID is notified to other node.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@955190 13f79535-47bb-0310-9956-ffa450edef68

commit b1411518f027600d2d5720fda03b970fbf17d6d0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 14 21:25:26 2010 +0000

    Update changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@954652 13f79535-47bb-0310-9956-ffa450edef68

commit e11b6952a65fe493ea6d631f6b3c3983c72dcd7d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 14 21:23:49 2010 +0000

    Remove an unused method
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@954651 13f79535-47bb-0310-9956-ffa450edef68

commit 945c2d158c3051733d93ec66e10314bf299d3a52
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 14 21:23:23 2010 +0000

    Fix problem with JSF convertors - restore behaviour prior to r894720 that only checks a subsets of types for validity
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@954650 13f79535-47bb-0310-9956-ffa450edef68

commit 9516f98f1d5266bc45b26bc13936dd503dc8aa00
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 14 16:52:33 2010 +0000

    Update changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@954553 13f79535-47bb-0310-9956-ffa450edef68

commit f97c11975919e7444ad86411385103d5ea94e8d7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 14 12:53:20 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49213
    Add permissions required by Manager application
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@954435 13f79535-47bb-0310-9956-ffa450edef68

commit 962befe9dd6fe57bbe0e9b02576a4323b410451e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 14 12:32:32 2010 +0000

    Previous cleanup missed one string
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@954429 13f79535-47bb-0310-9956-ffa450edef68

commit 22f9956e22280cb70a01e9addcb572bba1fc4222
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 14 12:29:03 2010 +0000

    Cleanup. Make consistent, remove duplication, correct names.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@954427 13f79535-47bb-0310-9956-ffa450edef68

commit 3340b4f7683755cc7f9a400d90f1920572cdef40
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 14 12:17:59 2010 +0000

    After deprecating the Embedded class, move the package access/protection initialisation to Catalina
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@954423 13f79535-47bb-0310-9956-ffa450edef68

commit 8e6e4fa7c88af1b3d76f1a4598bc80209ab844fd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 14 09:36:55 2010 +0000

    Remove all references to Jikes since it won't work on a 1.6 jdk
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@954384 13f79535-47bb-0310-9956-ffa450edef68

commit f89bdd0c71f50c49c794280036b9fc9f0ca3c8fa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 14 09:35:49 2010 +0000

    Modules are separate - should have own changelog etc.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@954383 13f79535-47bb-0310-9956-ffa450edef68

commit 67f2764643733f9efb14d5d2846d9136872cb62d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 13 21:27:43 2010 +0000

    Update changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@954312 13f79535-47bb-0310-9956-ffa450edef68

commit b3fcaa571a2c3e97c085ad24d3f6ed19511c4d48
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 13 21:25:34 2010 +0000

    GSOC: MBean clean-up
    Patch provided by Chamith Buddhika
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@954311 13f79535-47bb-0310-9956-ffa450edef68

commit ec793776b3bcdb5f068516bb86fcd71b04ffc976
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 10 20:11:55 2010 +0000

    Fix an Eclipse warning
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@953441 13f79535-47bb-0310-9956-ffa450edef68

commit 0dace68bdcae67c93cbfbe4c405ac9548870dfe2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 10 20:11:29 2010 +0000

    We already have the exact types. Don't try and derive them.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@953440 13f79535-47bb-0310-9956-ffa450edef68

commit f6b7bb32ec93e40249ca24b1c00c34978b9f7a52
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 10 20:09:47 2010 +0000

    Test method invocation with super classes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@953438 13f79535-47bb-0310-9956-ffa450edef68

commit 8ddacf10bf404ddbb9ed8c9430281f95086a5c18
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 10 19:58:49 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49424
    Avoid NPE if no input data is provided in a chunked POST request
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@953434 13f79535-47bb-0310-9956-ffa450edef68

commit 0443df99881f3d69773e1d2ad91454ceb8a07503
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 10 19:58:02 2010 +0000

    Test cases for bug49424 based on a patch by Earl Nolan
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@953433 13f79535-47bb-0310-9956-ffa450edef68

commit 1ee2e048b047650c5e6b8d9b0a0f8c461eec5504
Author: Rainer Jung <rjung@apache.org>
Date:   Wed Jun 9 10:29:00 2010 +0000

    BZ49410: Missing tomcat-juli.jar in tool-wraper CLASSPATH.
    
    Fixed by aligning toolwrapper scripbt closer with
    catalina script (not only for the juli jar).
    
    The jar is now needed, because the classpath manifest entry
    for it has been removed from bootstrap.jar in order to support
    per instance juli.
    
    It seems the tool-wrapper is only used for digest generation.
    If so, we could drop it and keep a much simpler digest script.
    I don't know any other use cases for the tool-wrapper.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@952945 13f79535-47bb-0310-9956-ffa450edef68

commit e83e490d03741a47bc01fdc0294ed4cef81dd576
Author: Rainer Jung <rjung@apache.org>
Date:   Wed Jun 9 09:22:32 2010 +0000

    Cleanup JDT vs. ECJ:
    
    - Replace "jasper-jdt.jar component" with "Eclipse JDT Java compiler"
      in license texts
    
    - Add JDT version to our ant version filter
      and replace explicit version in release notes file with version tag
    
    - Replace "jasper-jdt.jar" by "ecj-*.jar" in generated documentation.
      I assume people know what we mean by "ecj-*.jar".
      We shouldn't maintain detailed versions in those pages. Alternatively
      running them through the filter means either adding maintenance by
      keeping the file list up-to-date or much overhead by running all of
      them through the filter.
      Renaming the ecj-*.jar to simply ecj.jar or ecj-3.jar would hide
      the full version from the interested observer.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@952919 13f79535-47bb-0310-9956-ffa450edef68

commit 5f5a9108e37ba2afa67549c97dcdd31e44b6ca54
Author: Timothy A. Funk <funkman@apache.org>
Date:   Tue Jun 8 17:08:45 2010 +0000

    s/jre5/jre6/
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@952737 13f79535-47bb-0310-9956-ffa450edef68

commit 9dfc5e89e1f2abf8f3cd777857546ab3f479095a
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jun 7 23:26:38 2010 +0000

    Remove unneeded phrase from a comment. It should be evident that someone should unwrap the line.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@952483 13f79535-47bb-0310-9956-ffa450edef68

commit 3eaa27ec9e0c2e33ff5af0f4cf48183a17db59b4
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jun 7 23:04:25 2010 +0000

    Do not evaluate the "execute.installer" property,
    because it is never used in this build file: "skip.installer" is used instead.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@952478 13f79535-47bb-0310-9956-ffa450edef68

commit 61944b24661f566e8dd8da21c0d243a7144d30bc
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jun 7 23:00:05 2010 +0000

    Make 'info' fields in these classes static and final, like in other places in Tomcat.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@952475 13f79535-47bb-0310-9956-ffa450edef68

commit 954334c1f65ca9e03d061c955370294f61166e73
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jun 7 22:38:15 2010 +0000

    Make constants final.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@952467 13f79535-47bb-0310-9956-ffa450edef68

commit 27d3688646b5101a48cda4073219ebdc08959d67
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 7 16:03:38 2010 +0000

    Remove unnecessary comment
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@952295 13f79535-47bb-0310-9956-ffa450edef68

commit addc2df0ce516ee3b8e7ff57f46eb666b4c98fa9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 6 21:51:30 2010 +0000

    Remainder of fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=49372
    Avoid invalid Lifecycle transitions on failed start due to already bound shutdown port
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@952001 13f79535-47bb-0310-9956-ffa450edef68

commit 6028b6254b24730df40238ccb86ccac32890f4e2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 6 21:50:11 2010 +0000

    Make syncs consistent
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@952000 13f79535-47bb-0310-9956-ffa450edef68

commit e119b5bb4b0b43f0c4f6a42554b48a0dd3090237
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 6 21:31:20 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49376
    Correct package names in info properties
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@951992 13f79535-47bb-0310-9956-ffa450edef68

commit db6e8e572d4b673e992ff389f944a526bfc3fc1e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 6 21:24:09 2010 +0000

    Final part of refactoring STRICT_SERVLET_COMPLIANCE so it just changes defaults
    New property LAST_ACCESS_AT_START
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@951985 13f79535-47bb-0310-9956-ffa450edef68

commit 2a2fda8595a1d83bd2c3ec21dcf202ad5f3b9be1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 6 21:22:25 2010 +0000

    Use the constant rather than re-reading
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@951981 13f79535-47bb-0310-9956-ffa450edef68

commit fe5a95170c5ee1a212cb2b8376c0c45b1e7f14e0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 6 21:21:51 2010 +0000

    Additional fix required for http://svn.apache.org/viewvc?rev=951926&view=rev
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@951980 13f79535-47bb-0310-9956-ffa450edef68

commit 077365f07a055cb2756fc084836f51ee0b2cf1b4
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Jun 6 20:20:02 2010 +0000

    correct a typo in a comment
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@951951 13f79535-47bb-0310-9956-ffa450edef68

commit ba236141d5ffef16ecbaea1c756c857f33cb5440
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 6 18:47:14 2010 +0000

    Part of refactoring STRICT_SERVLET_COMPLIANCE so it just changes defaults
    New WRAP_SAME_OBJECT property
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@951926 13f79535-47bb-0310-9956-ffa450edef68

commit dd4749481d0b123bb4cbb6704816162bf5d1ce24
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 6 18:42:12 2010 +0000

    Copy/paste error. Sorry for the noise.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@951925 13f79535-47bb-0310-9956-ffa450edef68

commit 5248c20e344124ee43b2c752b4b48b5f9dd13a06
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 6 18:39:48 2010 +0000

    Typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@951924 13f79535-47bb-0310-9956-ffa450edef68

commit eb2c1f7d605fddabb0e8df6bb82ba9ab3c33dc81
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 6 18:39:33 2010 +0000

    Part of refactoring STRICT_SERVLET_COMPLIANCE so it just changes defaults
    New GET_RESOURCE_REQUIRE_SLASH property
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@951923 13f79535-47bb-0310-9956-ffa450edef68

commit 66aac26356a0a18a0a2560e608ab3cc856bb506d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 6 18:29:26 2010 +0000

    Part of refactoring STRICT_SERVLET_COMPLIANCE so it just changes defaults
    New ACCESS_SESSION property
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@951922 13f79535-47bb-0310-9956-ffa450edef68

commit f9c7a3b2c21a9f825f2969db5ab80a697a777a85
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 6 18:23:33 2010 +0000

    Put the comment in the right place
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@951921 13f79535-47bb-0310-9956-ffa450edef68

commit 11ed1f2aaf10fa9999fb22b4f86c8d1e4b7cdace
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 6 17:36:34 2010 +0000

    Use STRICT_SERVLET_COMPLIANCE to override the default for ACTIVITY_CHECK to align behaviour with other system properties
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@951909 13f79535-47bb-0310-9956-ffa450edef68

commit abd364ed494a99d4791fc75949bcbb733badddb1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 6 17:04:42 2010 +0000

    Remove the warning. The bug reports received indicate that folks are using this, generally successfully.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@951898 13f79535-47bb-0310-9956-ffa450edef68

commit 523d7c08c9ccd7e8019d49ace008c69d871e09fc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 6 16:42:56 2010 +0000

    Add AccessLog interface to JDBCAccessLog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@951892 13f79535-47bb-0310-9956-ffa450edef68

commit e79377353822892fe6896d9fc8aefe60b5ffa195
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Jun 6 16:02:30 2010 +0000

    Rearrange tomcat-juli permissions, for better readability.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@951880 13f79535-47bb-0310-9956-ffa450edef68

commit 63deb61743c20b7e0c295e2283bba0e4574943a4
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Jun 5 00:21:53 2010 +0000

    Update in-document copy of the default catalina.policy file
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@951621 13f79535-47bb-0310-9956-ffa450edef68

commit 650eff514eed9876d67e142c91086b9db2dbbc27
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Jun 5 00:19:07 2010 +0000

    Wrap long lines, so that this file could be copied to security-manager-howto.xml as is.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@951620 13f79535-47bb-0310-9956-ffa450edef68

commit 6aa65fcec923de2db45d8b09b4095837311725f0
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Jun 4 23:51:02 2010 +0000

    Correct wording in a comment. It is a followup to r950596
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@951615 13f79535-47bb-0310-9956-ffa450edef68

commit 3820abc3b6a1581fac445b7bbba943699720f179
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 4 15:36:04 2010 +0000

    Use provided parameter
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@951447 13f79535-47bb-0310-9956-ffa450edef68

commit 547735df3bc6b5e9f123915a89fb900ce552190b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 3 18:28:58 2010 +0000

    Remove code duplication by used abstract base class
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@951101 13f79535-47bb-0310-9956-ffa450edef68

commit 5c54a1451bd67f772b27dd164bff139e268eca1d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 3 18:28:01 2010 +0000

    Correct Javadoc
    Fix whitespace
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@951100 13f79535-47bb-0310-9956-ffa450edef68

commit a11310e6813369c36fb2e3ad95052044b9d00451
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 3 18:15:47 2010 +0000

    Started is only used in BIO connector
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@951094 13f79535-47bb-0310-9956-ffa450edef68

commit 8f03761991b5bd661efe049e83ad0568b6b71669
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 3 18:13:47 2010 +0000

    Extend access logging to requests rejected in the Processors
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@951093 13f79535-47bb-0310-9956-ffa450edef68

commit cf3a84c91268b26dcd5a08e364923e16008c0a32
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 3 15:00:11 2010 +0000

    Refactor the hooks from the CoyoteAdapter to the access logs
    - cleaner interface
    - handles AccessLogs at multiple levels (but not multiple AccessLogs per container)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@951018 13f79535-47bb-0310-9956-ffa450edef68

commit f1929c6b965994b6a4d321855a5aa3361533bd17
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 3 14:33:16 2010 +0000

    Expand the common pattern as an example to users
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@951012 13f79535-47bb-0310-9956-ffa450edef68

commit f4998f18eb43e7a7d85a20f29523a2814db94c17
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 3 13:16:27 2010 +0000

    Enable access logs by default for 7.0.x
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@950983 13f79535-47bb-0310-9956-ffa450edef68

commit 33ddf9f91f03f6bd08e40d6af230a6036af6d730
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 3 10:02:30 2010 +0000

    Re-order so it is easier to check all objects are re-cycled
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@950929 13f79535-47bb-0310-9956-ffa450edef68

commit a616a436c1d154ff3d268bf6634fcbd059980197
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Thu Jun 3 09:37:36 2010 +0000

    "this.channel.removeChannelListener(this.rpcChannel);" call is replaced with "this.rpcChannel.breakdown();".
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@950922 13f79535-47bb-0310-9956-ffa450edef68

commit 21d81ca3b5133fcf05988cc2d0fe3d91ebe14311
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 3 07:56:23 2010 +0000

    Clean up FastHttpDateFormat initialisation when using a security manager as prompted by Konstantin
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@950905 13f79535-47bb-0310-9956-ffa450edef68

commit 3ca762b8f1c0035f3067b605e4c2ec285be9840b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 3 07:50:51 2010 +0000

    Fix an Eclipse nag
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@950904 13f79535-47bb-0310-9956-ffa450edef68

commit cf003fc854019888ae363147f997e12987dd2bb9
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Jun 3 06:17:47 2010 +0000

    Include major.minor version numbers into the name of the registry key used to autolaunch Tomcat Monitor at Windows startup. This allows Tomcat 7 monitor to be installed and run in parallel to the Tomcat 6 one.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@950885 13f79535-47bb-0310-9956-ffa450edef68

commit be686be1c27a234d39683e3ad1325a3798f54d72
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Jun 3 01:33:08 2010 +0000

    Prevent possible deadlocks in AprEndpoint.Poller and AprEndpoint.Sendfile,
    caused by missing Object.notify() wakeup,
    which is similar to https://issues.apache.org/bugzilla/show_bug.cgi?id=48843
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@950851 13f79535-47bb-0310-9956-ffa450edef68

commit 0dab8327ee466d36bab3acdaa49ea5d161ecc85d
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Jun 2 22:54:49 2010 +0000

    Followup to r950587 which was a fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=49099
    Fix lookup of the root context: its name is "", not "/".
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@950809 13f79535-47bb-0310-9956-ffa450edef68

commit f7358700b06cd4f7fc22fe9c471fe08d67157de3
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Jun 2 17:34:55 2010 +0000

    Followup to r948043 that was a fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=49095
    We should not use PrintWriter(OutputStream), because that implicitly uses the platform default charset. Specify the charset explicitly.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@950682 13f79535-47bb-0310-9956-ffa450edef68

commit 7a9653f29a46d58c064696278cc9c19d63c6dbce
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Jun 2 16:09:22 2010 +0000

    Add whitespace between words.
    It is trivial followup to r950164
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@950614 13f79535-47bb-0310-9956-ffa450edef68

commit d86c217ecb05669909a3cced6a78902246718919
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 2 15:26:30 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49178
    Using ${catalina.base}/lib will require an additional permission
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@950596 13f79535-47bb-0310-9956-ffa450edef68

commit 40a84ff3d7d045f1441220a3ce36f32eb58ceb19
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 2 15:23:57 2010 +0000

    Improve comment
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@950594 13f79535-47bb-0310-9956-ffa450edef68

commit 137f2476ab89727a72eb10fdc57a6e0b5d1a8160
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 2 15:12:36 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49099
    Hooking the CoyoteAdaptor into the existing AccessLog wasn't as invasive as I feared so go that route to log requests rejected by the Adaptor before the request/response reaches the AcessLogValve
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@950587 13f79535-47bb-0310-9956-ffa450edef68

commit a1abe8383a4f497fe9ce4f2bfdf30c86f53a10f3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 2 11:45:11 2010 +0000

    Fix Eclipse warnings in the o.a.c.tribes.test package
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@950507 13f79535-47bb-0310-9956-ffa450edef68

commit ff2f3e00d50ae1099f14ebf44a1c3a51c26c557b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 2 11:40:55 2010 +0000

    Fix test failure. Need to explicitly configure stopping timer threads
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@950504 13f79535-47bb-0310-9956-ffa450edef68

commit ac8a5ba9071f2314646557c1cfa55012ba4e3736
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 1 16:59:14 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48971
    Make stopping of TimerThreads optional and disabled by default
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@950164 13f79535-47bb-0310-9956-ffa450edef68

commit 1f2d4c3ff511a3cb4e61885d53ef56df678569ac
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 31 18:39:55 2010 +0000

    Fix EL issue reported on users list by obtaining class information directly from the values rather than via getType() which is likely to return a more generic type that the actual type of the value.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@949829 13f79535-47bb-0310-9956-ffa450edef68

commit 13cbbca43331ba17dd92ef4dbb44cf62fb26d74c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 31 18:20:39 2010 +0000

    Add some checks that nulls are handled correctly.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@949825 13f79535-47bb-0310-9956-ffa450edef68

commit 06709261692b230a02775ef9fd98dc1c23c3c7ea
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 31 17:30:25 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49345
    Second parameter for new ValueReference should be property. There is no guarantee that the property will be the second child node.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@949809 13f79535-47bb-0310-9956-ffa450edef68

commit cb7319670e0084ffbbcc4174cf8972d1b97659b4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 31 17:29:17 2010 +0000

    Test case for https://issues.apache.org/bugzilla/show_bug.cgi?id=49345
    Fix to follow
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@949808 13f79535-47bb-0310-9956-ffa450edef68

commit ac22dd827b425b140079395da40516a1230a91e2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 31 16:57:45 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49360
    Managers will be restarted on Context reload
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@949807 13f79535-47bb-0310-9956-ffa450edef68

commit 1aebc5ce3aacfb5fbe795df54bfa6c96566b809f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 31 16:18:31 2010 +0000

    It works (I fixed it for 6.0.20) but it still needs docs.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@949792 13f79535-47bb-0310-9956-ffa450edef68

commit 0f669e3496b513ae59c78a0d19f74b6e535ad7b6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri May 28 20:08:02 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49340
    Simplify the mapper listener registration/de-registration process
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@949273 13f79535-47bb-0310-9956-ffa450edef68

commit b784e6c416c782f389f81606761e07eaa68983f1
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Thu May 27 12:05:50 2010 +0000

    Fix APR AJP logic.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@948795 13f79535-47bb-0310-9956-ffa450edef68

commit bf9cb6fe8a940f625731bc8c7a8704d502e000f6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 27 00:43:54 2010 +0000

    Extend to test deferred expressions. Need to use request scope attributes since page scope ones won't be visible to the tag file when evaluating the deferred expressions.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@948644 13f79535-47bb-0310-9956-ffa450edef68

commit 7f62e151ed188d0f398171e3eb9e598f508f24d7
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Wed May 26 11:58:55 2010 +0000

    Fix for BZ49343.
    When ChannelException is thrown, remove listener from channel.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@948402 13f79535-47bb-0310-9956-ffa450edef68

commit 3abc0ffe633086d6a9c737239334c953113c86af
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 25 23:48:21 2010 +0000

    GSOC 2010
    Expose additional cluster attributes
    Patch provided by chamith buddhika
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@948258 13f79535-47bb-0310-9956-ffa450edef68

commit c4c5b141b630cfc1bb37a98fed132d0d9032c8de
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 25 23:38:40 2010 +0000

    GSOC 2010
    Expose additional cluster attributes
    Patch provided by chamith buddhika
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@948255 13f79535-47bb-0310-9956-ffa450edef68

commit 0b1fbfa03c276059882093d9d64aca7ba9f9764a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 25 23:37:03 2010 +0000

    GSOC 2010
    Add the container although it isn't much use yet.
    Patch provided by chamith buddhika
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@948254 13f79535-47bb-0310-9956-ffa450edef68

commit c631717129097f747ffb3884e17b4b37b6cf7dde
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 25 23:14:06 2010 +0000

    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@948248 13f79535-47bb-0310-9956-ffa450edef68

commit b1e60cde4fe9e84ba38b803b5c0f969ce16d1dbf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 25 22:44:21 2010 +0000

    Make test more exact. Want to spot any change in the number of MBeans.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@948233 13f79535-47bb-0310-9956-ffa450edef68

commit b5b64f2123268dcf243e06a04682643c140b279c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 25 22:43:45 2010 +0000

    Restore the naming resource MBeans
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@948232 13f79535-47bb-0310-9956-ffa450edef68

commit 5bf56d583a00a742816cf09191472b66c94d34aa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 25 21:25:45 2010 +0000

    Clean-up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@948213 13f79535-47bb-0310-9956-ffa450edef68

commit 1d76e7dd27db6ce3491a98605fc23cf2811089f9
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Tue May 25 16:08:36 2010 +0000

    Add missing classes.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@948085 13f79535-47bb-0310-9956-ffa450edef68

commit f1189891676ffa55f262182b32ddce3c2ec2d04b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 25 15:18:02 2010 +0000

    Remove unused imports
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@948073 13f79535-47bb-0310-9956-ffa450edef68

commit 788126b22629c843d487917d62530af106f428af
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 25 14:20:58 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49196
    Avoid NPE on PageContext.getErrorData()
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@948057 13f79535-47bb-0310-9956-ffa450edef68

commit 88adbcb0351ae276421d3f0631fcb1a649858bdf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 25 14:20:16 2010 +0000

    Add a test case for https://issues.apache.org/bugzilla/show_bug.cgi?id=49196
    Patch to follow shortly
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@948055 13f79535-47bb-0310-9956-ffa450edef68

commit bb7a27af0f14cf922846786c803a06cd846aef87
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 25 14:16:08 2010 +0000

    Tabs to spaces
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@948053 13f79535-47bb-0310-9956-ffa450edef68

commit d5c073f04d1a34572c9ecf9991e87329ff91dac1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 25 13:53:14 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49095
    AprEndpoint does not wakeup accepts with deferred accept or BSD filters
    Based on a patch provided by Ruediger Pluem
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@948043 13f79535-47bb-0310-9956-ffa450edef68

commit cee24cfcfab35acd48c6b5b68e878bcaebd5de49
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 25 12:50:19 2010 +0000

    Remove duplicate code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@948028 13f79535-47bb-0310-9956-ffa450edef68

commit 03327c7a6633e1d28d2448d20761980ce7a587e4
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Tue May 25 09:13:15 2010 +0000

    It would a lot of work to have it switchable in APR.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@947974 13f79535-47bb-0310-9956-ffa450edef68

commit a51c5df6e20a6fe0bcf3c5f928717fdd6713a926
Author: Costin Manolache <costin@apache.org>
Date:   Tue May 25 07:37:23 2010 +0000

    Missed 2 files - older version of the protocol, will update them when I get to the new proto.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@947952 13f79535-47bb-0310-9956-ffa450edef68

commit d6bb10296184553f50d7620d914c95b770512ad1
Author: Costin Manolache <costin@apache.org>
Date:   Tue May 25 07:36:04 2010 +0000

    Matching test fixes. Seems to pass ( maven can be used, but will build/test against tomcat6 ).
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@947950 13f79535-47bb-0310-9956-ffa450edef68

commit fb3b1a48c611f5e3d8c16538cba8fa7de7a68fcd
Author: Costin Manolache <costin@apache.org>
Date:   Tue May 25 06:54:47 2010 +0000

    Various changes to better support coyote, remove integration package, prepare to replace jsse with apr, etc.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@947940 13f79535-47bb-0310-9956-ffa450edef68

commit 0d07360f4d9a3c202c40c94b32f0ec42b52e11b6
Author: Costin Manolache <costin@apache.org>
Date:   Tue May 25 06:44:02 2010 +0000

    More coyote support.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@947936 13f79535-47bb-0310-9956-ffa450edef68

commit 7791b3135baafa6e8e0458ec7134fb0e6b6eb33a
Author: Costin Manolache <costin@apache.org>
Date:   Tue May 25 06:42:26 2010 +0000

    Moved the JSSE code to separate package. Added a bunch of workarounds to support harmony/android, there seems to be a problem with the ciphers.
    Probably the code will go away after I add APR support - too many problems, in particular SPDY can't be implemented as it relies on SSL protocol negotiation.
    For now it mostly works on android.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@947935 13f79535-47bb-0310-9956-ffa450edef68

commit 4364b16d88282f6532bf36e0b5019c9b9f32330d
Author: Costin Manolache <costin@apache.org>
Date:   Tue May 25 06:21:36 2010 +0000

    Broken, not used. Source in o.a.t.util.buf was removed as well.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@947933 13f79535-47bb-0310-9956-ffa450edef68

commit 04bd7df391bbacf2022aea6df5ef9cdd07ac1cc3
Author: Costin Manolache <costin@apache.org>
Date:   Tue May 25 06:12:38 2010 +0000

    Remove the 'integration' - ObjectManager and wrapping of DI frameworks. Lite is just a library/connector - doesn't need it, instead will integrate
    it with existing tomcat JNI model. I may add it back for an example of using tomcat-lite standalone, but for now it's better to avoid confusion.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@947932 13f79535-47bb-0310-9956-ffa450edef68

commit 08d2cf52409d19f281bbbb59859c19d98188d227
Author: Costin Manolache <costin@apache.org>
Date:   Tue May 25 06:09:40 2010 +0000

    Removing the mini-'servlet' code from lite. The goal is to implement connector and http client, this creates confusion.
    
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@947931 13f79535-47bb-0310-9956-ffa450edef68

commit 00358ce322315f5bedab9f305b3591cb4c141fd8
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon May 24 22:19:23 2010 +0000

    Correct a typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@947837 13f79535-47bb-0310-9956-ffa450edef68

commit 38b460726d9739a6a2a1d006d35e0ec5338cc244
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 24 17:03:37 2010 +0000

    Fix some TCK failures with the BIO AJP connector when using a security manager
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@947717 13f79535-47bb-0310-9956-ffa450edef68

commit 06cda08a7d68b0f26a0458e2622ce56012fe40b3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 24 14:28:20 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48976
    Document JAVA_ENDORSED_DIRS
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@947652 13f79535-47bb-0310-9956-ffa450edef68

commit 553c10ec405e253899d29227aafa086228b50ecb
Author: Rainer Jung <rjung@apache.org>
Date:   Mon May 24 12:08:24 2010 +0000

    According to Konstantin's review comments:
    - eliminate line breaks in descriptions
    - change capitalization of attribute from "uRLs" to
      "URLs".
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@947617 13f79535-47bb-0310-9956-ffa450edef68

commit c4706431f11629dcaa837d69d041e0969d95691f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 23 21:04:08 2010 +0000

    Restore -dev suffix post tag
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@947495 13f79535-47bb-0310-9956-ffa450edef68

commit d09e8db40adb91a8387dda74b2da1bf4e2bee67b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 23 21:01:36 2010 +0000

    Prep for RC3
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@947493 13f79535-47bb-0310-9956-ffa450edef68

commit 424a74ef120e9947912cf7bbb55a7d39a9fdb1ae
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 23 11:32:12 2010 +0000

    Don't add HostConfig as a listener twice. It breaks the Manager app and probably other stuff too.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@947397 13f79535-47bb-0310-9956-ffa450edef68

commit ce0b5942a3b4c44a85fdb20b8826d6ea8638a9fa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 23 10:46:40 2010 +0000

    Align host-manager role names with manager role names.
    Add a 403 page to inform users of changed role name.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@947396 13f79535-47bb-0310-9956-ffa450edef68

commit cfa48e102f03889eefb5be68b2ffe6ee0d6c8618
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 23 10:41:25 2010 +0000

    Add a 403 page. If the user tries to use the old manager role, they'll get a 403.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@947395 13f79535-47bb-0310-9956-ffa450edef68

commit d724f6e545a364c3bc6b9ffb6f7a73aaa81f83fe
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu May 20 18:28:39 2010 +0000

    Tabs to 8 spaces. No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946746 13f79535-47bb-0310-9956-ffa450edef68

commit d6740108d7eb0e714dd2d398594a776286854bcd
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Thu May 20 17:12:10 2010 +0000

    Improvement suggested by Sebastian Bazley.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946716 13f79535-47bb-0310-9956-ffa450edef68

commit 74dd4c2ca0b7a628a85e2a1e4292a7c52e54be17
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu May 20 17:02:06 2010 +0000

    Tabs to 8 spaces. No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946712 13f79535-47bb-0310-9956-ffa450edef68

commit f59726f6f59c49cf90070bb1c068719e578cb404
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Thu May 20 16:52:16 2010 +0000

    The SSL gets cleaned too.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946707 13f79535-47bb-0310-9956-ffa450edef68

commit 304aeaab39e9e38bdb8ff2c3cb7fdf6580e7e73d
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu May 20 16:19:49 2010 +0000

    Additional fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=48840
    Port the fix from catalina.sh to tool-wrapper.sh as well.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946686 13f79535-47bb-0310-9956-ffa450edef68

commit 79066ef4ea31089d2db9867cd78808fbe81c50c0
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Thu May 20 15:50:51 2010 +0000

    Oops... Minor errors.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946677 13f79535-47bb-0310-9956-ffa450edef68

commit d356de4b5e3ccc5ea7790e322e163a0a8ed8c0c2
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Thu May 20 15:42:17 2010 +0000

    Arrange APR logic.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946674 13f79535-47bb-0310-9956-ffa450edef68

commit c47b72206b795ddbbfc652c76a6d8d57bbbf8984
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Thu May 20 15:41:10 2010 +0000

    Needed to test APR.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946673 13f79535-47bb-0310-9956-ffa450edef68

commit 984a796bff69d762057ca1dbad34cab46ad501ee
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Thu May 20 15:25:13 2010 +0000

    Prevent core due to wrong synchronisation.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946671 13f79535-47bb-0310-9956-ffa450edef68

commit 837de558da0c73aa6c93ac3c38086b26a3936393
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Thu May 20 13:14:20 2010 +0000

    Add the certificate and key for the APR tests.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946620 13f79535-47bb-0310-9956-ffa450edef68

commit 2c093e73ae4629246bee4cc4fdb56133576b4573
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 20 12:07:38 2010 +0000

    Minor clean-up. Result is always converted to String so just do it once.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946604 13f79535-47bb-0310-9956-ffa450edef68

commit 8483c206e9969c12b4536b0f99389db5db3c17b3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 20 11:06:33 2010 +0000

    Remove unused code identified by Eclipse
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946591 13f79535-47bb-0310-9956-ffa450edef68

commit bf17f236595db5f5bb9f518392c5f8508de06d9a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 20 09:49:24 2010 +0000

    Fix lost session path parameter on redirect
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946584 13f79535-47bb-0310-9956-ffa450edef68

commit 2bc48bb9ab45b0baa9435b8662ed87fb78e0f460
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 20 09:48:43 2010 +0000

    REpurpose the duplicate pathPath test to test the redirect process
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946583 13f79535-47bb-0310-9956-ffa450edef68

commit bc774da4c74b5db90f6769929ce135a40db175ae
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 19 16:38:41 2010 +0000

    GSOC 2010: ResourceLink
    Patch provided by Chamith Buddhika
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946265 13f79535-47bb-0310-9956-ffa450edef68

commit 9ac11f0d91e95fd15b529e97a0df7b71fbcbfd0b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 19 16:18:29 2010 +0000

    GSOC 2010: Further improvements to o.a.c.connector
    Patch provided by Chamith Buddhika
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946258 13f79535-47bb-0310-9956-ffa450edef68

commit ee2f8c33262bd2797c02c0c8f00e89dd214c68f4
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Wed May 19 16:06:51 2010 +0000

    Allow to test with APR.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946250 13f79535-47bb-0310-9956-ffa450edef68

commit c78049367689aab19e95fa8b9187a05f07d26a75
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed May 19 15:55:33 2010 +0000

    Add method TomcatBaseTest#getTemporaryDirectory()
    Use mkdirs() to create tempDir directory in TomcatBaseTest#setUp()
    Fix issue with TestRegistration test failing when ${tomcat.output} ant property had non-default value.
    
    The failure was due to the contextDir.mkdir() call in TestRegistration#testMBeanDeregistration() failing to create a subdirectory because its parent directory did not exist.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946241 13f79535-47bb-0310-9956-ffa450edef68

commit 8e738230946bbfe29785b10c21b4f5be8bc1de86
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 19 15:46:30 2010 +0000

    Complete correction of name
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946234 13f79535-47bb-0310-9956-ffa450edef68

commit cceb80b75a2c22615a93ae3a38435876c50f6344
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 19 15:45:55 2010 +0000

    Enable debug logging to investigate Gump failures
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946232 13f79535-47bb-0310-9956-ffa450edef68

commit 4bd8e75d828821187ea49a8fee310e2fadbdbacd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 19 15:45:20 2010 +0000

    Additional change required for debug logging
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946231 13f79535-47bb-0310-9956-ffa450edef68

commit 2a22f2061b3e8ace183e90da876d6748dcba68fd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 19 15:44:57 2010 +0000

    Add some debug logging for investigating the Gump failures. I may remove it once those have been resolved.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946230 13f79535-47bb-0310-9956-ffa450edef68

commit b49e19a8f732eb2037a902e5876b06756f4e7172
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 19 15:17:50 2010 +0000

    Corrent name
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946213 13f79535-47bb-0310-9956-ffa450edef68

commit 77ccbf46068c863aedd20fe952185b8e67d30392
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed May 19 15:17:23 2010 +0000

    Typo in a comment
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946212 13f79535-47bb-0310-9956-ffa450edef68

commit add6693ed9b52db8bb34633317866769b493187b
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed May 19 15:14:03 2010 +0000

    Do not try to find compiled class files of test classes by looking directly into "known" places, but ask the classloader where it loads them from.
    This fixes test failure when ${tomcat.output} ant property has non-default value.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946211 13f79535-47bb-0310-9956-ffa450edef68

commit 334ca2b7a3c568d3432cfc0f83fc58a63e5676bc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 19 14:52:42 2010 +0000

    Typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946205 13f79535-47bb-0310-9956-ffa450edef68

commit 2148f0fe7e52e0732b930d3cfcc7b727e7566acc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 19 13:03:57 2010 +0000

    Move encoding outside the loop
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946168 13f79535-47bb-0310-9956-ffa450edef68

commit af8af38b4ae32fa04569c8a3fc3cc508bbcec8cd
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed May 19 12:50:34 2010 +0000

    revert r946149
    Those "blank lines" must be there, because they separate sections of the manifest.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946160 13f79535-47bb-0310-9956-ffa450edef68

commit b2002205f1a2baa227fc1d6dac7fe5db39c0c19e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 19 12:21:11 2010 +0000

    Remove blank lines
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946149 13f79535-47bb-0310-9956-ffa450edef68

commit cbad6ddb3f09289e4a26f46d0e910705edd28df4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 19 12:19:51 2010 +0000

    Sync Windows installer config files with 'normal' versions
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946148 13f79535-47bb-0310-9956-ffa450edef68

commit 8f64ad80ce459bcaff0a501981fa2a170cd97d7e
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Wed May 19 12:10:32 2010 +0000

    Otherwise it will fail with java 1.6.0_18 +.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946143 13f79535-47bb-0310-9956-ffa450edef68

commit 9de3c5e7e1144aafc0a07a5740d4f9d8e38ad8b4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 19 10:33:17 2010 +0000

    Clean-up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946109 13f79535-47bb-0310-9956-ffa450edef68

commit edf86c1a27f83e6b5c0431c84d8c4a77f53d59c5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 19 10:24:53 2010 +0000

    Make Log and StringManager instances private to the class.
    This fixes:
    - messages for one class being logged via the logger of another
    - messages not being found since the class is in a different packager to the super class
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946107 13f79535-47bb-0310-9956-ffa450edef68

commit 6c66f0d186d97656f05a57bb25a19beb5f7e8c88
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 19 10:12:00 2010 +0000

    Fix Eclipse warnings, line-length
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946103 13f79535-47bb-0310-9956-ffa450edef68

commit dfa5c88c5ecdd3632f7167e2e65d19bef74715fd
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed May 19 03:57:04 2010 +0000

    A simple testcase that prints version info
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946013 13f79535-47bb-0310-9956-ffa450edef68

commit 46334748753bf4af55c02e1c8c22dedfe68f5dce
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed May 19 03:44:51 2010 +0000

    re-add all-in-one testcase,
    in case if it matters for the failure that was observed by Gump
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@946011 13f79535-47bb-0310-9956-ffa450edef68

commit dd564931a346de2275afc5213c80b930b503d6a8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 18 21:20:50 2010 +0000

    Add missing keyword
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@945895 13f79535-47bb-0310-9956-ffa450edef68

commit 6261e9a40928d82c6d1e46ee413a8dfff4742f0d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 18 19:42:06 2010 +0000

    Make list of user roles immutable
    Modify a copy in getRoles()
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@945841 13f79535-47bb-0310-9956-ffa450edef68

commit 2254019a19b1adef0b8b8d2cb1eea70c0019119c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 18 19:22:50 2010 +0000

    Only redirect stdout
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@945835 13f79535-47bb-0310-9956-ffa450edef68

commit cd4ae62b370ce81df2555dfd64f7ede7b2af2764
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 18 18:51:47 2010 +0000

    Fix an Eclipse warning
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@945819 13f79535-47bb-0310-9956-ffa450edef68

commit b633e8da2c8b1ccf03d7f54f27aebb9e6b876dde
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 18 18:33:24 2010 +0000

    Document recompileOnFail
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@945808 13f79535-47bb-0310-9956-ffa450edef68

commit f7918f053b2504bfb1dfc79f70e2c22164b9379e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 18 16:04:45 2010 +0000

    Clear results of SCI scan on reload
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@945725 13f79535-47bb-0310-9956-ffa450edef68

commit 761ab09253d18f64382f49b7dc2823a0cd68a65c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 18 15:58:58 2010 +0000

    Only register the MapperListener once per component and remove it as soon as it is no longer required.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@945722 13f79535-47bb-0310-9956-ffa450edef68

commit d9bf367700d2ecd2f784c640a55f9598221db644
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 18 13:35:35 2010 +0000

    Re-factor test to get a clearer idea of why Gump is failing
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@945647 13f79535-47bb-0310-9956-ffa450edef68

commit 9890e14628c514d22982b698230696d876a95f0a
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue May 18 01:07:10 2010 +0000

    Do not abort testing after the first failure,
    but report about existence of failures after all the tests were run.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@945446 13f79535-47bb-0310-9956-ffa450edef68

commit cc92354abf660fbdfc44c20f9936f89d864fca2c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 17 20:20:42 2010 +0000

    Fix tests for a pure Ant run
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@945342 13f79535-47bb-0310-9956-ffa450edef68

commit 1f8ec77fa92721504f57cc43d44992043093eb69
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 17 17:45:53 2010 +0000

    Fix Eclipse warnings.
    Reduce line length.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@945271 13f79535-47bb-0310-9956-ffa450edef68

commit 9e6c02105a036ec0ac4906d4029226207ffe2adc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 17 17:41:30 2010 +0000

    Simplify test
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@945267 13f79535-47bb-0310-9956-ffa450edef68

commit 5fc52c49116bb591c6a3716148ebfc660d2d416c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 17 17:38:35 2010 +0000

    Fix Eclipse warning in webapps
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@945265 13f79535-47bb-0310-9956-ffa450edef68

commit e83c78b932b87f4ef27570332a7c850b4a593086
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 17 17:27:38 2010 +0000

    Return version to 7.0.0-dev
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@945258 13f79535-47bb-0310-9956-ffa450edef68

commit 36a2a19045788004a5f35fc20c6c759746311bbf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 17 17:25:35 2010 +0000

    Prepare for 7.0.0-RC2
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@945256 13f79535-47bb-0310-9956-ffa450edef68

commit f284fe24083a6ea24663afaeef367e9906b7d8e0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 17 17:24:18 2010 +0000

    Don't recommend a version that hasn't been released
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@945253 13f79535-47bb-0310-9956-ffa450edef68

commit 14d8338aacc8945055753786366767eee39d6832
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon May 17 16:28:44 2010 +0000

    Fix a bug in ByteChunk.indexOf(String, ...)
    
    The problem is that the method could not find a string which length is 1,
    as the only successful exit from the method was from inside the loop that
    checks the second and subsequent characters.
    
    I added the testcase for this in r945230.
    In the test the bc.indexOf("o", 0, 1, 5) call returned -1, instead of 7.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@945231 13f79535-47bb-0310-9956-ffa450edef68

commit ca8c52f86c2fe3463c7ed99182379896de1ce036
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon May 17 16:24:43 2010 +0000

    Tests for ByteChunk indexOf/find* methods.
    
    It caught a bug in implementation of ByteChunk.indexOf(String, ...) when searching for a single-character string. I will commit a fix soon.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@945230 13f79535-47bb-0310-9956-ffa450edef68

commit 2e8286d4861ad272f164ea20d0b143eda8ade08f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 17 13:56:16 2010 +0000

    Fix some Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@945161 13f79535-47bb-0310-9956-ffa450edef68

commit 480a14c87ceb290215ea68b7f342544286de2c13
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 17 13:55:29 2010 +0000

    Remove the dependency on MBean notifications for the mapper
    Unit tests pass.
    Fixes an issue with the TCK and welcome files.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@945159 13f79535-47bb-0310-9956-ffa450edef68

commit 7f52bc3f6a97f1a71e2cc0d6be0bc21d6963a5d1
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon May 17 13:32:08 2010 +0000

    cleanup code added in r945074
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@945143 13f79535-47bb-0310-9956-ffa450edef68

commit 4266cbc23b20d97cf73e735a14347bd080771260
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 17 11:33:01 2010 +0000

    More clean-up:
    - findCharXXX to findByteXXX
    - whitespace
    - make code consistent where possible
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@945095 13f79535-47bb-0310-9956-ffa450edef68

commit 13cf4ca023cfd38cc075bb62742cba6f06116ce9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 17 10:47:50 2010 +0000

    Wrap debug message is usual tyest
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@945074 13f79535-47bb-0310-9956-ffa450edef68

commit 6ec2b1c68fa40105b2c54f3dcb6be7f20dde0bba
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 17 10:47:03 2010 +0000

    Add some debug logging for state changes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@945073 13f79535-47bb-0310-9956-ffa450edef68

commit d39cc3e0dcd8f014487fe2a40ac7915aad54d6d1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 17 10:36:25 2010 +0000

    Correct example
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@945071 13f79535-47bb-0310-9956-ffa450edef68

commit 9c1f61c8fd2e89c504726719eb1ddbb600dca2f2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 17 10:35:04 2010 +0000

    Align comment and example
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@945070 13f79535-47bb-0310-9956-ffa450edef68

commit 505fcdca5341dfc25fa377e766dfb8bfa98765f1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 17 10:29:04 2010 +0000

    Fix comments
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@945067 13f79535-47bb-0310-9956-ffa450edef68

commit 1447b25f029957baac94927e354264cef8375b2a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 17 08:26:43 2010 +0000

    findChar is inconsistent in that it only supports characters in the range 0-127 while all the other methods support all single byte characters.
    It isn't used within the Tomcat codebase. Make it's behaviour consistent with the other character search methods.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@945016 13f79535-47bb-0310-9956-ffa450edef68

commit 5a9d5d26cce728cc0568106d3b60cf6a5d59d917
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 17 08:20:00 2010 +0000

    Improve comments, make param names consistent, clean up formatting.
    No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@945014 13f79535-47bb-0310-9956-ffa450edef68

commit 3a2e1bc0efa89c6d93f5896b12f510f8c463d985
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 17 07:51:31 2010 +0000

    Revert r944918
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@945007 13f79535-47bb-0310-9956-ffa450edef68

commit 37645bf756763ef8af47d1faf4c9b74c1bf74be7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 16 22:29:29 2010 +0000

    Refactor XML validation error handling. Error reporting in web.xml and web-fragment.xml now includes source info.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@944928 13f79535-47bb-0310-9956-ffa450edef68

commit 93696360f79201746c48dc129a97a1a19c22ebea
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 16 21:47:26 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49299
    Implement the requirements of section 7.1.1 of the Servlet 3.0 spec that require the path parameter to change name as well.
    Remove the option to set the default via a system property for the sake of simplicity.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@944920 13f79535-47bb-0310-9956-ffa450edef68

commit 77e93e90cb016528d094ef17462a3abbe79d0329
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 16 21:43:15 2010 +0000

    Role name change. Be explicit about the URL that the role is used with.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@944919 13f79535-47bb-0310-9956-ffa450edef68

commit 6058aeb44e0150fece6364e15399a661e0e24576
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 16 21:31:57 2010 +0000

    Code clean-up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@944918 13f79535-47bb-0310-9956-ffa450edef68

commit d10dc3571e2838abb479b75630683403a33ee891
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 16 15:45:31 2010 +0000

    Code cleanup. No functional change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@944866 13f79535-47bb-0310-9956-ffa450edef68

commit 1a108a65faa1264776d33ddaa1de188b85b6543c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 16 14:49:16 2010 +0000

    Tabs -> 8 spaces
    Format long lines
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@944838 13f79535-47bb-0310-9956-ffa450edef68

commit e23b9da1b3c1d576bac7ea6abf2693210ad3a2c3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 16 14:26:19 2010 +0000

    Code cleanup.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@944837 13f79535-47bb-0310-9956-ffa450edef68

commit 289a414ebc0cc7513e7d447cb974cd15cd510caa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 16 14:20:11 2010 +0000

    Minor code cleanup. No functional change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@944835 13f79535-47bb-0310-9956-ffa450edef68

commit a7b96d0c920c46b5edf2c469321154fa04de1af3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 15 22:52:18 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49290
    Allow Tomcat to start when using a JarScanner with scanAllDirectories=true
    Patch by Larry Issacs (with minor tweaks)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@944739 13f79535-47bb-0310-9956-ffa450edef68

commit 34f40b2236561081019b0d7c0fa1830995f6ebeb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 15 22:40:16 2010 +0000

    Fix auto-deploy issues caused by Lifecycle refactoring.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@944738 13f79535-47bb-0310-9956-ffa450edef68

commit d36b3a7fe17a50179a2cef73cdea69b1351840b3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 15 20:23:06 2010 +0000

    Revert r944511
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@944712 13f79535-47bb-0310-9956-ffa450edef68

commit d40de71bd3d53204529b8c8089e3d574a883ddb4
Author: Rainer Jung <rjung@apache.org>
Date:   Sat May 15 12:59:21 2010 +0000

    List array elements in the JMX proxy output of the
    Manager application.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@944633 13f79535-47bb-0310-9956-ffa450edef68

commit 3f18a292e9d187ab60cff1b997dfe93e916cd31f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri May 14 23:43:51 2010 +0000

    TCK failures: Fix remaining failures with APR/native and a security Manager
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@944518 13f79535-47bb-0310-9956-ffa450edef68

commit 921844c241d30aaee2e17d015a6da561a18ae36e
Author: Rainer Jung <rjung@apache.org>
Date:   Fri May 14 23:14:51 2010 +0000

    Check whether context is null.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@944511 13f79535-47bb-0310-9956-ffa450edef68

commit 6b81e215dec086314ad44580b32e90d2a77ab1e3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri May 14 20:57:34 2010 +0000

    Better handling for public ID when validation is enabled
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@944462 13f79535-47bb-0310-9956-ffa450edef68

commit e7b1d4288a60414d177860e68d54d1c48fad68ea
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri May 14 19:32:17 2010 +0000

    Better comment
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@944416 13f79535-47bb-0310-9956-ffa450edef68

commit 6ac4c8909a3370287d26be55983c8fed6fc9b5a8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri May 14 19:19:42 2010 +0000

    Remove whitespace
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@944409 13f79535-47bb-0310-9956-ffa450edef68

commit 0cc067317774f407917529b507526a5fee9967fc
Author: Rainer Jung <rjung@apache.org>
Date:   Fri May 14 18:59:22 2010 +0000

    Add the new contextName property of WebappClassLoader
    to its toString() and expose a read only via JMX.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@944396 13f79535-47bb-0310-9956-ffa450edef68

commit 9d4edd03e4f759c1d1309a08b55f406c1d198ce6
Author: Rainer Jung <rjung@apache.org>
Date:   Fri May 14 17:33:40 2010 +0000

    Add Token Poller protection to our list
    of special leak protection.
    It initializes Java Cryptography Architecture
    early during startup to prevent the occasional
    Token Poller thread being started with the web app
    class loader as TCCL.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@944350 13f79535-47bb-0310-9956-ffa450edef68

commit 2d8ce9517cb9887600ba9e2a5eba70c1100b102c
Author: Rainer Jung <rjung@apache.org>
Date:   Fri May 14 17:31:50 2010 +0000

    Preparation be fore adding a new leak prevention feature:
    change order of features to alphabetic like in listener docs.
    Makes checking easier.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@944349 13f79535-47bb-0310-9956-ffa450edef68

commit c4654a0c7cbce99d21299063dfac34682ef1a459
Author: Peter Rossbach <pero@apache.org>
Date:   Fri May 14 15:03:35 2010 +0000

    Fix change fragment absolute-ordering at web.xml with manager redeploy! (Add test fragment samples)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@944305 13f79535-47bb-0310-9956-ffa450edef68

commit a01b0a2c3b890abe07a3850ccbb5aa09f3589d79
Author: Peter Rossbach <pero@apache.org>
Date:   Fri May 14 15:00:06 2010 +0000

    Fix change fragment absolute-ordering at web.xml with manager redeploy!
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@944304 13f79535-47bb-0310-9956-ffa450edef68

commit 4785ee3addc274310bf8ebac5b74364875db31aa
Author: Peter Rossbach <pero@apache.org>
Date:   Fri May 14 12:07:00 2010 +0000

    Warn to be used wrong fragment name at web.xml!
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@944217 13f79535-47bb-0310-9956-ffa450edef68

commit 6bd45aefe40c2dbcfffe1663f3e614a5ff387d40
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 13 21:17:44 2010 +0000

    Fix copy/paste error
    Add whitespace to aid readability
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@944018 13f79535-47bb-0310-9956-ffa450edef68

commit 261384e3d29f9abad6bba15b1818b9385635cb96
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 13 20:51:10 2010 +0000

    Whitespace tweaks
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@944011 13f79535-47bb-0310-9956-ffa450edef68

commit 02a8ac2eef59a39065238dd7523be4500eeb2c44
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 13 20:04:05 2010 +0000

    Essentially revert r943726
    Children may be added prior to calling Context.start() and they *do* need to be started in that case.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@943995 13f79535-47bb-0310-9956-ffa450edef68

commit 107d0190bd8f9895854bb7eabe3434ad814937c5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 13 12:22:05 2010 +0000

    Update to JSTL 1.1.2 to fix numerous XML validation issues with TLD files
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@943873 13f79535-47bb-0310-9956-ffa450edef68

commit c051983f829ada77c51611ddca2f4dd70b6ec463
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 13 12:19:43 2010 +0000

    Identify source of TLD validation errors to aid debugging
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@943872 13f79535-47bb-0310-9956-ffa450edef68

commit 2416183ebe722ce3b61538b0b97a0958b210c358
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 13 09:04:39 2010 +0000

    Simplify xml validation configuration. It is now configurable per context and can be set per host using a host-level context.xml file so remove the attributes on the host.
    If running with STRICT_SERVLET_COMPLIANCE, enable validation by default.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@943851 13f79535-47bb-0310-9956-ffa450edef68

commit bf96750ced62ec669bc4a6f4fc322965ef314e6d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 12 23:08:10 2010 +0000

    Remove some stuff we have already done.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@943746 13f79535-47bb-0310-9956-ffa450edef68

commit ae27601e6f670dfdbdd24a7d6437355f547d7112
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 12 23:01:57 2010 +0000

    Remove completed item
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@943745 13f79535-47bb-0310-9956-ffa450edef68

commit db2e3486a90434379f1f6ebea8c198c31e4a41b5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 12 22:40:54 2010 +0000

    Fix HTML niggles.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@943733 13f79535-47bb-0310-9956-ffa450edef68

commit ffd289db20a0b7a13b4021e6e95b8ffc30caac09
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 12 22:32:22 2010 +0000

    Wrappers are started when added to the Context (since the Context is already starting). Don't try and start them twice.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@943726 13f79535-47bb-0310-9956-ffa450edef68

commit 55fb0eeb4d1a39fe3e058c5a38e6ae9bd74ae22d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 12 20:03:40 2010 +0000

    Fix TCK failure
    Restore initialisation of logger that was triggering an NPE
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@943664 13f79535-47bb-0310-9956-ffa450edef68

commit fd5657b4e416ec8c527d01e2637c40db216fb5f1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 12 19:50:07 2010 +0000

    Remove unused imports
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@943658 13f79535-47bb-0310-9956-ffa450edef68

commit a7743e8c666c1f4ce33b1d266874d1535f9741dc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 12 19:49:26 2010 +0000

    Multiple TCK failures. Child containers are started during the STARTING_PREP state so if a child whilst the container is in that state, it must also be started.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@943657 13f79535-47bb-0310-9956-ffa450edef68

commit 8a486f7c207a13aa250ce293182af24f215a0b32
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 12 11:10:03 2010 +0000

    Fix remaining issue described in https://issues.apache.org/bugzilla/show_bug.cgi?id=49218
    doLookup should return null if the resource cannot be found and should not throw an exception
    Fixes a potential infinite loop in VirtualDirContext
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@943447 13f79535-47bb-0310-9956-ffa450edef68

commit 05810eeb2fe1bffe0509c35b652650a0704bf687
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 12 10:31:04 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49221
    Ensure case conversion behaves as expected
    Patch provided by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@943435 13f79535-47bb-0310-9956-ffa450edef68

commit 4fff6c03bd0829d5445f5aa500a178b9c188dce3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 12 10:29:06 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49224
    Only try setting the username and password if they are non-null
    Patch provided by Matt Passell
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@943434 13f79535-47bb-0310-9956-ffa450edef68

commit 552ffddec9325ea83f5ab5f7c2efcdc681ec7824
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 12 10:24:00 2010 +0000

    Fix remainder of https://issues.apache.org/bugzilla/show_bug.cgi?id=49181
    Add additional check to prevent adding Servlet context listeners once the calls to the Servlet Context listeners start
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@943432 13f79535-47bb-0310-9956-ffa450edef68

commit 01b1911cd6fd9fbd297d6b37cdd1761a5dbb52ef
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 11 21:02:19 2010 +0000

    Change role name for Manager GUI access to manager-gui to align with planned changes to Tomcat 5/6
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@943290 13f79535-47bb-0310-9956-ffa450edef68

commit 5ad9ecdfc65736b88613e42bcc849008d2cacd71
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 11 20:05:15 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49226
    Ensure case conversion behaves as expected
    Patch provided by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@943260 13f79535-47bb-0310-9956-ffa450edef68

commit 09abffbdcd2024b60ad5c89e5d755a31ca1320d2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 11 19:51:45 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49227
    Ensure case conversion behaves as expected
    Patch provided by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@943250 13f79535-47bb-0310-9956-ffa450edef68

commit a9548060156d94e4b25e0e7485a097dd429f4b6c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 11 15:53:10 2010 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=49228
    Use English Locale since other Locale's may give add results
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@943155 13f79535-47bb-0310-9956-ffa450edef68

commit 4a581aafa655d2f17d4ebb959615e2ebaf7a1193
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 11 15:48:36 2010 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=49235
    Fix handlesTypes with annotations. The annotated class should be reported, not the annotation class.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@943151 13f79535-47bb-0310-9956-ffa450edef68

commit 2a193ad82beeeb869c10bdb4b23cc9f271297a64
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 11 13:09:43 2010 +0000

    NPE protection
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@943112 13f79535-47bb-0310-9956-ffa450edef68

commit dbbd555a79dc06a767055ad219bbf33400710713
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 11 13:01:50 2010 +0000

    Fix typos
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@943110 13f79535-47bb-0310-9956-ffa450edef68

commit d1fb030c504acf5acee0d4450324abb74f31ac85
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 11 11:06:02 2010 +0000

    No need to remove LifecycleListeners from destroyed components
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@943081 13f79535-47bb-0310-9956-ffa450edef68

commit 142398dd3cbe877d2da3862f8f6dee321c5bcafc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 11 10:18:55 2010 +0000

    ContainerListener != LifecycleListener. Use the correct one.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@943073 13f79535-47bb-0310-9956-ffa450edef68

commit f24ed2db67ac9afd02ab831e08639f0e9ab69ad7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 11 09:46:42 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49240
    If a class can't be loaded, don't scan HandlesTypes for it
    Also handle NoClassDefFoundError
    Patch provided by pid
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@943065 13f79535-47bb-0310-9956-ffa450edef68

commit 27a3909178610e6a5ddd7d7622618f3106f60afc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 11 08:01:52 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49269
    Set maxIdle to maxActive by default to prevent warning on start when maxIdle > maxActive
    Patch provided by Matt Passell
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@943032 13f79535-47bb-0310-9956-ffa450edef68

commit c169c761002186b131323bef30e433d4aec1b51c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 10 16:17:22 2010 +0000

    Extend Lifecycle/MBean refactoring to ContainerBase
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@942813 13f79535-47bb-0310-9956-ffa450edef68

commit d638c23bd39fe202bc89de1970d5961c2b79f267
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 10 15:44:52 2010 +0000

    Make sure Tomcat instance is closed down correctly (prevents warnings in the logs).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@942797 13f79535-47bb-0310-9956-ffa450edef68

commit 00ef3fbdad996c0d74d1bfe9e12cbeab8ff9669f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 10 15:41:58 2010 +0000

    Allow the transition from NEW to DESTROYED for objects that are never started.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@942794 13f79535-47bb-0310-9956-ffa450edef68

commit 72edeec4e3a161b8949fed2172fd3d339d6f93a0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 9 16:12:41 2010 +0000

    Fix FindBugs warning
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@942554 13f79535-47bb-0310-9956-ffa450edef68

commit 1f0355bc381e78c4338057ec4d2b30b25e62a877
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 8 16:01:16 2010 +0000

    Stop the tests failing
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@942409 13f79535-47bb-0310-9956-ffa450edef68

commit b78bb6371febf47ba51b5fae2a56963519812ed1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 8 15:54:44 2010 +0000

    Fix JULI configuration so JULI is actually used.
    Fix FindBugs warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@942407 13f79535-47bb-0310-9956-ffa450edef68

commit e71a53aec21f43a51ae0fc8bb3700829f7bda4a0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 8 15:31:53 2010 +0000

    Clean up experimental (from Tomcat 5) MBean registration feature of StandardEngine prior to Lifecycle/MBean refactoring for ContainerBase
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@942402 13f79535-47bb-0310-9956-ffa450edef68

commit 27f1482f733b251eba969df456a33a81121ef22b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri May 7 17:38:03 2010 +0000

    Add a simple CSRF prevention filter. It has been tested with the Tomcat 6 manager app and a back-port proposal will follow shortly.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@942157 13f79535-47bb-0310-9956-ffa450edef68

commit 51e0d974796fd778c1c8af39b84014e241b74034
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 6 22:19:17 2010 +0000

    IBM has agreed to re-license the affected files.
    A patch was provided by an IBM employee with a CLA on file under https://issues.apache.org/bugzilla/show_bug.cgi?id=49259
    The files can now therefore be treated the same way as the other BCEL files.
    The updated files have been applied to BCEL and I have copied them across to Tomcat 7 and made the same set of changes as I made previously.
    The various LICENSE and NOTICE changes made in r934220 have been reverted.
    Thanks to Kevan Miller and his IBM colleagues for working to resolve this so quickly.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@941955 13f79535-47bb-0310-9956-ffa450edef68

commit 6cb127793c3e656b63725986defc42fe289dc134
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Thu May 6 13:44:15 2010 +0000

    make sure the entropy can be converted to a String.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@941722 13f79535-47bb-0310-9956-ffa450edef68

commit e9a491caedb9cc590e073f53d33a2f20be3354fc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 6 12:13:20 2010 +0000

    Descriptions need to be on a single line
    Fix attribute alignment so file is consistent
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@941687 13f79535-47bb-0310-9956-ffa450edef68

commit 6d5b83aaf5922819a0b9db8909d05d0509011ff0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 6 12:07:20 2010 +0000

    GSoC 2010: Add missing attributes, use alphabetical ordering
    Patch provided by Chamith Buddhika
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@941686 13f79535-47bb-0310-9956-ffa450edef68

commit 28126683ef24b2fb8a0c32fa0849c160bc86ad4e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 6 11:57:14 2010 +0000

    GSoC 2010: Make some JMX attributes read-only
    Based on a patch provided by Chamith Buddhika
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@941684 13f79535-47bb-0310-9956-ffa450edef68

commit 9530e963038c405707c4a8c086f22d3217ed4045
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 5 23:27:26 2010 +0000

    Typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@941540 13f79535-47bb-0310-9956-ffa450edef68

commit 8146a858a9d44f04b943589e0276e53adccfcca7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 5 23:23:38 2010 +0000

    Document comet package move
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@941538 13f79535-47bb-0310-9956-ffa450edef68

commit a3bcab9dca96a065f6022eb96c8d34141c46f720
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed May 5 20:13:30 2010 +0000

    More anchor handling improvements:
    1) escape '#' character as well as spaces. See virtual-hosting-howto.html for an example.
    2) allow to explicitly specify anchor name, using anchor="" attribute on a (sub)section. See default-servlet.html for an example.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@941463 13f79535-47bb-0310-9956-ffa450edef68

commit d0562971fc729337b5b1ad31533a62ca5bd90cdf
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed May 5 18:50:49 2010 +0000

    Correct a sentence
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@941425 13f79535-47bb-0310-9956-ffa450edef68

commit 25a9a6c07e84ff09fad28ec18094fc3a5ba53f16
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed May 5 15:45:21 2010 +0000

    Replace spaces with underscore in HTML anchor names.
    To preserve compatibility each (sub)section will now generate two anchors:
    the old one and the new one, if they differ.
    It is port of r936982 from tomcat/site
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@941356 13f79535-47bb-0310-9956-ffa450edef68

commit 4c1dab48aa0f2fede401b1d57b99b4efc7f5b0bb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 5 09:05:42 2010 +0000

    GSoC 2010: Add missing JMX attributes
    Patch provided by Chamith Buddhika
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@941209 13f79535-47bb-0310-9956-ffa450edef68

commit 35ec2ebee9ae83611086f744a80aa799592b0c32
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 4 21:51:37 2010 +0000

    Re-factor Realms to use LifecycleMBeanBase
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@941064 13f79535-47bb-0310-9956-ffa450edef68

commit 08effc5fdd9dd56267210c84d649b63831cfa389
Author: Rainer Jung <rjung@apache.org>
Date:   Tue May 4 19:14:53 2010 +0000

    Fix copy&paste error in script comment.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@941003 13f79535-47bb-0310-9956-ffa450edef68

commit 509b468b880ceb440c12946437d6e992a979d9f7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 4 15:07:33 2010 +0000

    Rename Eclipse files so they become samples
    Align the svn ignores list and the excludes list for the src tarball. The sample Eclipse files will be included, the 'real' ones will be excluded.
    Add ALv2 headers to sample Eclipse files
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940891 13f79535-47bb-0310-9956-ffa450edef68

commit 2880cc44e16d1c3d47b74f6089cc9509d90a2b6d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 4 10:59:52 2010 +0000

    Re-factor Valves to use LifecycleMBeanBase
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940802 13f79535-47bb-0310-9956-ffa450edef68

commit 913a5ebd7fd9db84ed125ee74e9f7c0daccd7c64
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 3 22:50:52 2010 +0000

    Move ManagerBase to new Lifecycle/MBean implementation
    Fix a bunch of Eclipse/FindBugs warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940660 13f79535-47bb-0310-9956-ffa450edef68

commit 0d3c27fa7b4797ba7b573154a57a08ff768d7bf2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 3 22:29:11 2010 +0000

    Remove unnecessary code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940658 13f79535-47bb-0310-9956-ffa450edef68

commit c887284c403a4c2d15d0b20746c6dd04bfcfceec
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 3 22:18:43 2010 +0000

    Fix the tests the Lifecycle/MBean refactoring in r940634 broke.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940656 13f79535-47bb-0310-9956-ffa450edef68

commit 4a2830c5ba1765d10aa8c1c0bc6aab722d655f64
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 3 21:40:52 2010 +0000

    With the benefit of some sleep, refactor the MBean support for Lifecycle (still some components to convert)
    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49134
    Thanks to Marc Guillemot whose test case for 49134 provided the basis of o.a.c.mbeans.TestRegistration
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940634 13f79535-47bb-0310-9956-ffa450edef68

commit b75b021bead0018d5fa1102b7521e06b6810e3cb
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon May 3 19:12:48 2010 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=49241
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940574 13f79535-47bb-0310-9956-ffa450edef68

commit 127ceac80576873d0641bd3c8a71d4bade374307
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 3 17:15:00 2010 +0000

    Remove classes that are no longer in the source tree
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940517 13f79535-47bb-0310-9956-ffa450edef68

commit 4e9d96280e9f04a29a8f5ef1733a8f80334d59e0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 3 15:47:15 2010 +0000

    Better error message
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940487 13f79535-47bb-0310-9956-ffa450edef68

commit 47e4af72bec514e3301bfa92deb8e5fd4917f5ab
Author: Peter Rossbach <pero@apache.org>
Date:   Mon May 3 09:44:39 2010 +0000

    Search to more jars and fix testcase!
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940405 13f79535-47bb-0310-9956-ffa450edef68

commit 8b2bf185f045543c7940a75af5eb6909fbada3fb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 2 23:47:51 2010 +0000

    Simplify the connector. Keep a reference to just the Service rather than the Service and the Engine.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940338 13f79535-47bb-0310-9956-ffa450edef68

commit f76aeb0cfaa8c0e854fd00622403052ac0f85c26
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 2 19:17:52 2010 +0000

    Clean-up prior to MBean changes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940307 13f79535-47bb-0310-9956-ffa450edef68

commit bb0b8ef26f0eabd6e3411ed61ad3b35c4536c3d5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 2 19:13:34 2010 +0000

    Increase the threshold to try and catch if MBean registration breaks and MBeans don't get registered.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940306 13f79535-47bb-0310-9956-ffa450edef68

commit d10b38913e1edaab05436a34ff8df0f5d7c02dd5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 2 19:10:40 2010 +0000

    Add a setDomain() method to LifecycleMBeanRegistration since not all components (eg Exectutor) retain a reference to their parent.
    Implement this new method where required.
    Implement MBean (de)registration for Executors using the new interface.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940305 13f79535-47bb-0310-9956-ffa450edef68

commit 456a61acd83b7c660928ebf7a7e11ee5f89e7bb4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 2 19:05:07 2010 +0000

    Just log multiple calls to destroy rather than throwing an Exception.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940304 13f79535-47bb-0310-9956-ffa450edef68

commit 51e5f6ce0f127e587af6f8d91dd369058b3cb5d4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 2 18:47:56 2010 +0000

    Add LifecycleMBeanRegistration
    Align init() and destroy()
    Executors and Connectors need to handle their own (de)registration
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940298 13f79535-47bb-0310-9956-ffa450edef68

commit 501f390c29ea6262cdb18ac844601ec036f141c7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 2 18:31:41 2010 +0000

    Make sure Server calls destroy() on subordinate Services
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940292 13f79535-47bb-0310-9956-ffa450edef68

commit ffd29661b563f2ae99bef9141c741dde611b9657
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 2 18:13:34 2010 +0000

    Register the MBeanFactory
    Make sure all the objects registered are unregistered
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940284 13f79535-47bb-0310-9956-ffa450edef68

commit 1d126e65d02b7d1464de1a5349b04ccdb5ec209e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 2 18:10:12 2010 +0000

    No longer need ServerLifecycleListener
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940283 13f79535-47bb-0310-9956-ffa450edef68

commit 8f86e98d2a3702ae1700199e0100c187f9ab58fe
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 2 18:02:34 2010 +0000

    Add call to destroy() that should unregister all the MBeans
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940282 13f79535-47bb-0310-9956-ffa450edef68

commit 972fb7a1e3f029fa371ea181929c39601829d7c6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 2 18:01:58 2010 +0000

    Add init() and destroy() support
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940281 13f79535-47bb-0310-9956-ffa450edef68

commit 9bfb54bf999fea6ce10966c08f076c2dd8d9826e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 2 17:58:28 2010 +0000

    Align test with expected behaviour (currently fails). Will fix in following commits.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940278 13f79535-47bb-0310-9956-ffa450edef68

commit 8da64f6a3fc6d021d2d75fdd4aebad9a425a03dd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 2 17:47:31 2010 +0000

    Remove invalid auto-generated import.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940275 13f79535-47bb-0310-9956-ffa450edef68

commit 8f5612617ca3e65a228aad52c771d873dd8c72d1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 2 17:36:38 2010 +0000

    Add new interface to StandardServer to enable MBean (de)registration on init/destroy
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940273 13f79535-47bb-0310-9956-ffa450edef68

commit ccdfe0439c12921755b19fa1544dd1a6ab88d9b6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 2 17:35:10 2010 +0000

    Line lengths. No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940272 13f79535-47bb-0310-9956-ffa450edef68

commit fc34219056b6936fdfd376cb52edd856bae59637
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 2 17:34:33 2010 +0000

    Add MBean registration and de-registration to LifecycleBase
    The new interface will need to be added to each component to get this to work.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940271 13f79535-47bb-0310-9956-ffa450edef68

commit 96f5c64aef388f3c60347210221563905a757908
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 2 14:26:54 2010 +0000

    Clean-up post init/destroy lifecycle refactoring
    Allow Manager objects to be restarted
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940238 13f79535-47bb-0310-9956-ffa450edef68

commit 7ee9fb1271ed52f00371af864a3d32df35837d3c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 2 14:26:34 2010 +0000

    Clean-up post init/destroy lifecycle refactoring
    Allow Loader objects to be restarted
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940237 13f79535-47bb-0310-9956-ffa450edef68

commit 5baaac19a33bf7e4cd34263584b005a32e1e238a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 2 14:25:42 2010 +0000

    Clean-up post init/destroy lifecycle refactoring
    By default, remove children on destroy, not stop
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940236 13f79535-47bb-0310-9956-ffa450edef68

commit 51e776c26a376b247e3a76d47de0ad285dd3f266
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Sun May 2 10:02:56 2010 +0000

    try to fix async for APR.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940189 13f79535-47bb-0310-9956-ffa450edef68

commit 32ffdd5c5b4877a24e261f54fc50ac6a89c46194
Author: Peter Rossbach <pero@apache.org>
Date:   Sun May 2 09:44:01 2010 +0000

    Revert... Editor seams display problem... Sorry!
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940184 13f79535-47bb-0310-9956-ffa450edef68

commit 324fcbf54fe0e721d293e33a7cbe9d9aaeb8464e
Author: Peter Rossbach <pero@apache.org>
Date:   Sun May 2 09:40:46 2010 +0000

    Add License Header
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940183 13f79535-47bb-0310-9956-ffa450edef68

commit a34a58774f958919bfc190b7cc8116599b00ebab
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 1 17:44:26 2010 +0000

    Remove the controller - MBean registration will always happen in init()/destroy() after Lifecycle refactoring
    Fix a handful of Eclipse/FindBugs warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940089 13f79535-47bb-0310-9956-ffa450edef68

commit de8299390ab759e5f8d72d5116f8655d6beb9259
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat May 1 16:00:29 2010 +0000

    Log any unexpected errors that might occur during server shutdown from the shutdown hook,
    and do not forget to shutdown (read: flush) the logging subsystem.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940064 13f79535-47bb-0310-9956-ffa450edef68

commit 334278b429b17696030df742115bd1140eb4cd39
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 1 15:44:33 2010 +0000

    Make md volatile to be sure there are no threading issues
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940057 13f79535-47bb-0310-9956-ffa450edef68

commit a256fa9b48022cf052dff36600f4d041e65a874f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 1 15:41:46 2010 +0000

    I can't see any reason why a Realm shouldn't be re-startable by default. Individual Realms can always override this.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940056 13f79535-47bb-0310-9956-ffa450edef68

commit 616bd684e7ec46d58d994d19992010236364d621
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 1 15:20:31 2010 +0000

    Another fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=49092
    Make constant final
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940055 13f79535-47bb-0310-9956-ffa450edef68

commit f9c596e5a625d6436ffd94c45222ae8eeb3bb5e3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 1 14:26:50 2010 +0000

    Minor clean-up having reviewed the diff between current code and the code prior to the Lifecycle re-factoring
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940038 13f79535-47bb-0310-9956-ffa450edef68

commit 6ab18d70118e72aafe6a1ca6f81079d45fd4fd2e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 1 14:18:05 2010 +0000

    Get the shutdown hook working again.
    Now LifecycleBase uses synchronized methods, Catalina can't extend it else the shutdown hook can't function.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940036 13f79535-47bb-0310-9956-ffa450edef68

commit 6b54d6cef3bc5236b8f758c91d1883c2084ad6c3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 1 14:12:34 2010 +0000

    Clarify
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940034 13f79535-47bb-0310-9956-ffa450edef68

commit 65e3054ebb3cc1fb139fb6988d8bc35746e6c7f5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 1 14:08:47 2010 +0000

    Clean up start code. Catalina no longer implements Service. The model is now: Bootstrap sorts out the class loaders, Catalina does the remaining plumbing and holds a reference to a Server object which in turn contains 1 or more services etc. Still need to fix the shutdown hook.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940031 13f79535-47bb-0310-9956-ffa450edef68

commit 124cf70bb5b6dd09b3683200349271d5ecbf502d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 1 13:43:03 2010 +0000

    Document must destroy state
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940012 13f79535-47bb-0310-9956-ffa450edef68

commit 9af344b2b39a621ff830fca5fe91956f6b6126c0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 1 13:31:46 2010 +0000

    Add init() and destroy() to the Lifecycle interface
    Note that this commit breaks the shutdown hook. I'll fix that in a following commit.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@940008 13f79535-47bb-0310-9956-ffa450edef68

commit ff1cab9dbd1ce9a47142c40a55a8f0219395c5a5
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat May 1 11:59:54 2010 +0000

    Fix wrapped and thus broken $Id$. Use $Revision$ instead, because it is shorter.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@939985 13f79535-47bb-0310-9956-ffa450edef68

commit 3988331bd85d436d0e7f8cc58a5fbf9a9028dd08
Author: Peter Rossbach <pero@apache.org>
Date:   Fri Apr 30 18:49:52 2010 +0000

    Space to tab
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@939774 13f79535-47bb-0310-9956-ffa450edef68

commit 0666fccbb0e5b3fe1ba38d8b9a6a45a605c033df
Author: Peter Rossbach <pero@apache.org>
Date:   Fri Apr 30 12:10:08 2010 +0000

    Add second resource jar and testcase failed again :-( You can switch assert resourceF and see that also resourceB test failed..
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@939650 13f79535-47bb-0310-9956-ffa450edef68

commit a58a11008f577b7beb8346dbfa8383d41c5d35cc
Author: Peter Rossbach <pero@apache.org>
Date:   Fri Apr 30 11:25:10 2010 +0000

    Fix NPE if no encoding parameter exists at request!
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@939639 13f79535-47bb-0310-9956-ffa450edef68

commit d7080b9ea942d3bdb2a72b42c775ac3bd83f7cfa
Author: Peter Rossbach <pero@apache.org>
Date:   Fri Apr 30 11:23:41 2010 +0000

    web.xml or fragment must merge with annotations s. Servlet Spec 3.0 8.2.3
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@939638 13f79535-47bb-0310-9956-ffa450edef68

commit f13a1c08107cac5b2e8d39d5211b85b0dc0f7958
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Apr 30 09:56:35 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49236
    Do not use indexing when packing Tomcat JARs.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@939612 13f79535-47bb-0310-9956-ffa450edef68

commit 3c51db764752958f1da65dc391cdb1f48b817479
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Apr 30 04:00:01 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49218
    The test runs successfully if JreMemoryLeakPreventionListener is present.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@939553 13f79535-47bb-0310-9956-ffa450edef68

commit b7c336a1b0414898adab2fc6e79aa9471003e2be
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Apr 30 03:49:40 2010 +0000

    Log unexpected runtima and IO errors in ApplicationContext#getResource() and ApplicationContext#getResourceAsStream(). This is inspired by BZ 49218.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@939551 13f79535-47bb-0310-9956-ffa450edef68

commit 76e3ae58cb4da887a8c5482497072fa10ad9a60c
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Apr 29 22:00:17 2010 +0000

    Per documentation:
    http://java.sun.com/javase/6/docs/api/javax/security/auth/Subject.html
    Therefore all concrete Principal implementations associated with Subjects must implement Serializable.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@939491 13f79535-47bb-0310-9956-ffa450edef68

commit ebc7bebfec9152936b86179cbb6ed78738441707
Author: Peter Rossbach <pero@apache.org>
Date:   Thu Apr 29 15:21:54 2010 +0000

    Fix to correct JarScanner (StandardJarScanner) default!
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@939342 13f79535-47bb-0310-9956-ffa450edef68

commit f4c2d854a50441d14a840556c3ec67c8de23400c
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Apr 29 14:23:46 2010 +0000

    Set svn:keywords=Id where there is unexpanded $Id$ keyword in the files
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@939320 13f79535-47bb-0310-9956-ffa450edef68

commit 2caeb7b876e1979b2efab9f2bc2fd0fc829641be
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Apr 29 14:11:01 2010 +0000

    Replace $Date$ with $Id$ because of its i18n and timezone issues
    (http://subversion.tigris.org/issues/show_bug.cgi?id=2332)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@939315 13f79535-47bb-0310-9956-ffa450edef68

commit 3c7fa8ea9a1d016f55a4745ffcbed810c81cb7d8
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Apr 29 14:02:25 2010 +0000

    Replace $Date$ with $Id$ because of its i18n and timezone issues
    (http://subversion.tigris.org/issues/show_bug.cgi?id=2332)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@939312 13f79535-47bb-0310-9956-ffa450edef68

commit ce4d007b39569252e9895c8a85568c5e972b6b5d
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Apr 29 14:01:02 2010 +0000

    Replace $Date$ with $Id$ because of its i18n and timezone issues
    (http://subversion.tigris.org/issues/show_bug.cgi?id=2332)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@939311 13f79535-47bb-0310-9956-ffa450edef68

commit b9614e4e428b8557beb1d41f8a35f554134237c6
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Apr 29 13:54:26 2010 +0000

    Replace $Date$ with $Id$ because of its i18n and timezone issues
    (http://subversion.tigris.org/issues/show_bug.cgi?id=2332)
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@939309 13f79535-47bb-0310-9956-ffa450edef68

commit d6ae3d4ae060031b820e4315db7c11652966af36
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Apr 29 13:43:39 2010 +0000

    Replace $Date$ with $Id$ because of its i18n and timezone issues
    (http://subversion.tigris.org/issues/show_bug.cgi?id=2332)
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@939305 13f79535-47bb-0310-9956-ffa450edef68

commit 6ed2fcb8095905a0c666f02af2dff0d6a100603a
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Apr 29 12:52:36 2010 +0000

    Remove MultiMap class. It is never used.
    Note, that its implementation was incomplete, e.g. MultiMap.Field#name and #value fields are never assigned.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@939299 13f79535-47bb-0310-9956-ffa450edef68

commit b15fdbec95fb1c548fb3d2f640c8ed2019b82b84
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Apr 29 11:48:38 2010 +0000

    Move and rename the aliases support test.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@939287 13f79535-47bb-0310-9956-ffa450edef68

commit 7bc2a8a82419303cf507392ad7a19c202fbb8f27
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Apr 29 10:24:14 2010 +0000

    Tests for Servlet 3.0 support of bundling static resources in META-INF/resources subdirectory of a jar file.
    It is a separate web application, because the old "webapp-3.0" has metadata-complete="true".
    
    The tests in TestStandardContextResources are currently failing,
    and thus are disabled until a solution is found. See the comment in TestStandardContextResources.java
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@939253 13f79535-47bb-0310-9956-ffa450edef68

commit 2ea63ff96d0ffd1e997b56099d303b045998e4e6
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Apr 29 07:30:29 2010 +0000

    $Date$ was wrapped and thus broken in r939212
    
    Replacing with $Id$ because of i18n and timezone issues that $Date$ has
    (http://subversion.tigris.org/issues/show_bug.cgi?id=2332)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@939221 13f79535-47bb-0310-9956-ffa450edef68

commit 40e0bf401f22fe9321802df2d56c2abd10f26fb6
Author: Peter Rossbach <pero@apache.org>
Date:   Thu Apr 29 06:37:20 2010 +0000

    Fix my IDE and use spaces. - No functional change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@939212 13f79535-47bb-0310-9956-ffa450edef68

commit fbf0bebc0522c2fa05b018322a694881742dee98
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 29 00:36:35 2010 +0000

    It isn't practical to list every single commit that implemented Servlet 3.0.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@939143 13f79535-47bb-0310-9956-ffa450edef68

commit 6e60a3b900ead58625cc7954f5abb83525fa44ac
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 28 23:07:43 2010 +0000

    Follow up on pero's review comments.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@939130 13f79535-47bb-0310-9956-ffa450edef68

commit 5155c4fd763b17c57dfc95f6bf16f77f7246a130
Author: Peter Rossbach <pero@apache.org>
Date:   Wed Apr 28 22:18:24 2010 +0000

    web.xml and fragments overwrite annotation parameters (s. Servlet API Sepc Nov 2009 Section 8.2.3.3 pages 80-84)
    not yet complete -- filter support is missing!
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@939115 13f79535-47bb-0310-9956-ffa450edef68

commit cd5968e84c996b8eb998515a2eb4137b9ac65709
Author: Peter Rossbach <pero@apache.org>
Date:   Wed Apr 28 22:16:49 2010 +0000

    web.xml and fragments overwrite annotation parameters (s. Servlet API Sepc Nov 2009 Section 8.2.3.3 pages 80-84)
    not yet complete -- filter support is missing!
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@939114 13f79535-47bb-0310-9956-ffa450edef68

commit 4a466eb85a6b70d3c0aedd4520e2dc1fd746fdd5
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Apr 28 18:49:11 2010 +0000

    Implement support for running the tests when the build output directory has non-default value.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@939050 13f79535-47bb-0310-9956-ffa450edef68

commit 33969170eba20cd63fc4ee7dc66ae539df80aa11
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Apr 28 16:21:32 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49207
    FilterMap#filterName was null when it was configured dynamically with addMappingForUrlPatterns()
    Patch provided by Pid
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@939001 13f79535-47bb-0310-9956-ffa450edef68

commit e2d982e8a1b740b56febb13ce1931bfbea1be4de
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Apr 28 09:08:52 2010 +0000

    Mark StandardContext#aliases as private, because there is a getter method.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@938829 13f79535-47bb-0310-9956-ffa450edef68

commit 96c9b161edafca7b77716299e25c6b777d3abd7e
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Apr 28 08:21:32 2010 +0000

    Use a helper class to manage the filter mappings.
    Fix ArrayIndexOutOfBoundsException in addFilterMapBefore as reported in re: r937975 thread.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@938814 13f79535-47bb-0310-9956-ffa450edef68

commit 8409c2fdc31a958b77a6e92aa80a3c0e9e46b359
Author: Timothy A. Funk <funkman@apache.org>
Date:   Wed Apr 28 00:34:46 2010 +0000

    minor tweaks for versions
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@938739 13f79535-47bb-0310-9956-ffa450edef68

commit 73d90f287a1d6b26e2dba9f8c3eb6238e726e98b
Author: Timothy A. Funk <funkman@apache.org>
Date:   Wed Apr 28 00:26:27 2010 +0000

    java 6, not java5
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@938737 13f79535-47bb-0310-9956-ffa450edef68

commit e498632f0c7f7e79982b5689d013b0630041f7d5
Author: Timothy A. Funk <funkman@apache.org>
Date:   Wed Apr 28 00:24:13 2010 +0000

    s/2.1/2.2/ for jsp spec version
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@938736 13f79535-47bb-0310-9956-ffa450edef68

commit 059ad7e20e8b0b774e368e736664a1de306a17cf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Apr 27 12:50:38 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49073
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@938430 13f79535-47bb-0310-9956-ffa450edef68

commit 9e623c287b51eb2212c61cc135639a972ec5d5c9
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Apr 27 09:01:37 2010 +0000

    If the class implements both interfaces then call addApplicationLifecycleListener only once.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@938363 13f79535-47bb-0310-9956-ffa450edef68

commit 031e5ebc4faa4941be3850b56c32c9c307108224
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Apr 27 08:04:41 2010 +0000

    Simplify code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@938348 13f79535-47bb-0310-9956-ffa450edef68

commit c1ada45af7a1ffb8d59f15476a78f10e58bde125
Author: Peter Rossbach <pero@apache.org>
Date:   Mon Apr 26 10:46:01 2010 +0000

    Include .project and .classpath files to src distribution.
    s. http://ant.apache.org/manual/dirtasks.html#defaultexcludes to not include scm files!
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@937993 13f79535-47bb-0310-9956-ffa450edef68

commit 3f4a24140ffc4976411f92f5c9b8fd237e7cdcdc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Apr 26 09:17:46 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49184
    Prevent ArrayIndexOutOfBoundsException
    Patch provided by Pid
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@937975 13f79535-47bb-0310-9956-ffa450edef68

commit efd418bc2a37dfbcd11a3940c851b1eb3e1aa18e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 25 12:56:32 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48689
    Access TLD files through a new JarResource interface to make extending Jasper simpler, particularly in OSGi environments.
    Patch provided by Jarek Gawor.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@937791 13f79535-47bb-0310-9956-ffa450edef68

commit 8bbab22d7855b40898504f8ac05a6edb83b4e3e0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 25 12:19:19 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48358
    Add the ability to limit the number of JSPs loaded at any one time.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@937787 13f79535-47bb-0310-9956-ffa450edef68

commit 76dc5008c05a131f0edb21ce293e0cf693a7b75e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 25 11:26:29 2010 +0000

    Fix leftover bug from changing the design
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@937781 13f79535-47bb-0310-9956-ffa450edef68

commit 9b32d183e63daee98702a4092c24337e40e5abcb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 25 11:24:41 2010 +0000

    Fix SCI when there is more than one JAR on the classpath
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@937779 13f79535-47bb-0310-9956-ffa450edef68

commit 34f27083cccc0c1662ff5ad1e7bcd32a0e46f524
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 25 11:21:41 2010 +0000

    Update ignore list now ecj-x.x.x.jar is used directly
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@937778 13f79535-47bb-0310-9956-ffa450edef68

commit c41d59fcc34cfc5d4d31b99484c44d5a70499348
Author: William Barker <billbarker@apache.org>
Date:   Sun Apr 25 01:24:33 2010 +0000

    Allow time for the OS to do a context switch.  Otherwise this fails 100% of the time on my Windows 7 box
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@937733 13f79535-47bb-0310-9956-ffa450edef68

commit 478093a74ea8c57ac3612a4dc954909add126aa2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Apr 24 23:30:28 2010 +0000

    Update
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@937723 13f79535-47bb-0310-9956-ffa450edef68

commit 71deb956f6da3bd2aff014d1919c9bd396442451
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Apr 24 23:26:20 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49181
    Patch provided by Pid
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@937722 13f79535-47bb-0310-9956-ffa450edef68

commit af6f99eaa1a15fd72f270e0442400d712ef4f008
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Apr 24 23:23:23 2010 +0000

    Trigger a DBCP rebuild if src or bin is missing
    Should fix buildbot
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@937721 13f79535-47bb-0310-9956-ffa450edef68

commit 7af2fbd5cfb21e9a2deed29a4d808833b7d218f1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Apr 24 23:11:50 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48222
    Provide src JARs for Maven
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@937719 13f79535-47bb-0310-9956-ffa450edef68

commit 20984dba098447497be65d5d49b8fe2ce754d4b7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Apr 24 21:18:40 2010 +0000

    Build script improvements:
     - build src jars for every jar
     - use ecj-x.x.x.jar directly
     - add an embed-release target
    
    Note: src JARs are required to fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48222 (providing src JARs for Maven)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@937698 13f79535-47bb-0310-9956-ffa450edef68

commit 870909f2ccd7a7152ce67b42fa2b59f2a358138f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Apr 24 21:10:25 2010 +0000

    The release build doesn't run the tests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@937697 13f79535-47bb-0310-9956-ffa450edef68

commit 1be8bf520121efe6ebfb5644dd1ee74e46f1ab0a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Apr 24 19:26:17 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48644
    Don't silently swallow Throwables that need to be re-thrown
    Patch provided by Charlotte H (with a few tweaks)
    Patch developed during the London GDC OS Jumpstart 2010
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@937680 13f79535-47bb-0310-9956-ffa450edef68

commit af4d66cf84b5c2f38d52df96735148aa8d48fa0e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Apr 24 19:21:14 2010 +0000

    Restore global JNDI support broken in r937542
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@937678 13f79535-47bb-0310-9956-ffa450edef68

commit 45ecf594c475fa488922479a9e28362ba392ff82
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 23 22:20:33 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49132
    Need to start JNDI before listeners are called
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@937542 13f79535-47bb-0310-9956-ffa450edef68

commit f1c2d5231fe6ec018b5a518a16c1ea58d82c805f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 23 22:19:12 2010 +0000

    Add test case for bug 49132.
    Check JNDI is available when ServletContextListeners start
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@937541 13f79535-47bb-0310-9956-ffa450edef68

commit 50332e88ef77fabfbda4b59c4bb8f329766ff5d4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 23 15:09:58 2010 +0000

    Remove unnecessary instanceof tests ID'd by FindBugs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@937325 13f79535-47bb-0310-9956-ffa450edef68

commit 306d51cd4a8f6ea52acfc2d909c45597bc6a302b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 23 15:06:40 2010 +0000

    Remove impossible tests ID'd by FindBugs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@937324 13f79535-47bb-0310-9956-ffa450edef68

commit b30fc95f32bb934fe8056a0ded0f96d7d6ac0c89
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 23 15:03:28 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49140
    Use appropriate iterators and for-each where possible
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@937322 13f79535-47bb-0310-9956-ffa450edef68

commit a6092d771ec50cf9aa434c75455b842f3ac6c628
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 23 14:23:45 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49143
    Threading / initialisation issues. Not all were valid. Make them volatile anyway so FindBugs doesn't complain.
    Fix some additional issues - use of valueOf() - found along the way
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@937309 13f79535-47bb-0310-9956-ffa450edef68

commit fd7ed831b31a858d1ca8c6544e8b4c6e84e8214a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 23 13:59:54 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49144
    Not an issue but stop FindBugs complaining
    Also fix one other FindBugs report for this class.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@937302 13f79535-47bb-0310-9956-ffa450edef68

commit aa758d8c27e8bf72bbf01831f6972a7fd52e0a80
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 23 13:48:16 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49164
    Improve unit tests by propagating failures from spawned threads to main thread.
    Patch provided by Felix Schumacher.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@937298 13f79535-47bb-0310-9956-ffa450edef68

commit 8bd4d7aba5899e84c0acf5aa3463c86f8127e697
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 23 13:43:27 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49171
    Fix IDE warning
    Patch provided by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@937292 13f79535-47bb-0310-9956-ffa450edef68

commit aeeccf6ff92276b861e3ced7377c8c72b745137e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 23 13:34:17 2010 +0000

    Servlet 3. Implement ServletContainerInitializer support
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@937288 13f79535-47bb-0310-9956-ffa450edef68

commit 75e1d182f8de8a484317de4f065ddd92a5eda187
Author: Rainer Jung <rjung@apache.org>
Date:   Fri Apr 23 12:16:56 2010 +0000

    Context aliases:
    - add a little to the docs
    - disallow an alias for "/"
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@937264 13f79535-47bb-0310-9956-ffa450edef68

commit b08e1ae336aa629f641b438af06a22183e3e7d1b
Author: Rainer Jung <rjung@apache.org>
Date:   Thu Apr 22 15:14:11 2010 +0000

    Respect configurable search order in getURLs().
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@936892 13f79535-47bb-0310-9956-ffa450edef68

commit 219c2fde8f80ee0af61bd2511e856fe8dd702105
Author: Rainer Jung <rjung@apache.org>
Date:   Thu Apr 22 13:36:03 2010 +0000

    Update changelog.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@936840 13f79535-47bb-0310-9956-ffa450edef68

commit af0e565cd15c8f93b6c4d87467ea02068f85935c
Author: Rainer Jung <rjung@apache.org>
Date:   Thu Apr 22 13:27:38 2010 +0000

    Add docs about VirtualWebappLoader.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@936837 13f79535-47bb-0310-9956-ffa450edef68

commit 9b5d53d9e0fa80e90787a824920adcd936d68cfb
Author: Rainer Jung <rjung@apache.org>
Date:   Thu Apr 22 13:11:24 2010 +0000

    Expose the new WebappLoader flag in the VirtualWebappLoader,
    but allow alternative name searchVirtualFirst to make it
    consistent with the "virtual" terminology.
    
    Now you can decide, whether the virtual paths will
    be searched before the webapp or after it.
    
    If searched before, external resources take precendence
    over internal ones. Before that change one couldn't overwrite
    resources already present in the webapp.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@936825 13f79535-47bb-0310-9956-ffa450edef68

commit 34188922965de65f591c1a1294a6ba66aa6b59dd
Author: Rainer Jung <rjung@apache.org>
Date:   Thu Apr 22 13:08:01 2010 +0000

    Add property "searchExternalFirst" to WebappLoader:
    if set the external repositories will be searched before
    the WEB-INF ones. Default (false) is unchanged behaviour.
    Expose the new property via JMX and document it..
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@936823 13f79535-47bb-0310-9956-ffa450edef68

commit b63a9b2ac2bc93dcec308eff4291ba6720d3da9b
Author: Rainer Jung <rjung@apache.org>
Date:   Thu Apr 22 13:00:11 2010 +0000

    Expose properties of VirtualWebappLoader
    and WebappClassLoader via JMX.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@936819 13f79535-47bb-0310-9956-ffa450edef68

commit f61100df219bb86c6b1e7ef0ddc3f6ea9be48ed6
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Thu Apr 22 10:57:55 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49170
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@936777 13f79535-47bb-0310-9956-ffa450edef68

commit 7db39a2ac696d42cdc548e975ba913f7c33f2125
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 22 10:06:06 2010 +0000

    Complete review of spec. One additional requirement
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@936723 13f79535-47bb-0310-9956-ffa450edef68

commit eef882479f05cd9a6f1257e5521975af3bdae102
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 22 08:33:53 2010 +0000

    Update
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@936651 13f79535-47bb-0310-9956-ffa450edef68

commit 451393fcabfcf9dce1b672155c5e0d94df21e4a3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 22 08:13:08 2010 +0000

    Add support for loading static resources from /META-INF/resources inside JARs bundled with a web application
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@936646 13f79535-47bb-0310-9956-ffa450edef68

commit 257857fac52b2a3a0a9e7541f7a021e45eb2a3ae
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 22 08:02:14 2010 +0000

    typos
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@936642 13f79535-47bb-0310-9956-ffa450edef68

commit d5d288ca342062f1b6955825838b1ec7bd265af3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 22 08:00:26 2010 +0000

    Fix Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@936641 13f79535-47bb-0310-9956-ffa450edef68

commit 6802c9e1d32c064593b89d62bc40426d5f06b750
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 22 07:59:21 2010 +0000

    Fix typo in overridden method name
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@936640 13f79535-47bb-0310-9956-ffa450edef68

commit a4de93b2aaf74fff7c1e194f7ce3d2228a9680b8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 21 22:11:29 2010 +0000

    Fix CVE-2010-1157.
    Prevent possible disclosure of host name or IP address via the HTTP WWW-Authenticate header when using BASIC or DIGEST authentication.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@936539 13f79535-47bb-0310-9956-ffa450edef68

commit e7fb8fa6574760b238cc85223698bc2a1cca5e48
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Wed Apr 21 12:55:19 2010 +0000

    Fix for 43642.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@936289 13f79535-47bb-0310-9956-ffa450edef68

commit d67a651faf56a6b07991a09f18640fb2f4436c7f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 21 12:07:05 2010 +0000

    Minor fixes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@936274 13f79535-47bb-0310-9956-ffa450edef68

commit 9910b5fe55cc9307427264a488014e11a83f007b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Apr 20 22:19:42 2010 +0000

    Remove mystery method
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@936091 13f79535-47bb-0310-9956-ffa450edef68

commit b6a07a8fb4caa5124e13ef920f0ede31bd414bf2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Apr 20 22:11:15 2010 +0000

    getCookies is a httpServletRequestMethod, not a httpServletResponseMethod
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@936086 13f79535-47bb-0310-9956-ffa450edef68

commit 7205c742cf3f28da35cdb850f8ad589e05d168d4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Apr 20 19:49:10 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49141
    Stop Findbugs complaining
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@936047 13f79535-47bb-0310-9956-ffa450edef68

commit 91593f543785b1bb7439bb97fc6208ebe8e91ba0
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Apr 20 17:13:37 2010 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=49158
    Session cookies should only set one header
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@935998 13f79535-47bb-0310-9956-ffa450edef68

commit 2468252b88a98678d7e20a527d60e6a830beb6f8
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Apr 20 16:34:27 2010 +0000

    Add test case for bug 49158
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@935984 13f79535-47bb-0310-9956-ffa450edef68

commit a2499e7002e29f8fa9513dc003eb5e1dc91e2049
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Apr 20 16:30:52 2010 +0000

    Additional patch for https://issues.apache.org/bugzilla/show_bug.cgi?id=48589
    Do not access JNDIRealm$User class fields directly, but use the getter methods,
    as (theoretically) those can be overwritten in subclasses.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@935983 13f79535-47bb-0310-9956-ffa450edef68

commit 030c5a2f07e1acac00de725abd6753ade8a0453b
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Tue Apr 20 00:46:19 2010 +0000

    remove null check.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@935777 13f79535-47bb-0310-9956-ffa450edef68

commit fcb9861420cc934b939c03e90013e0b4e6009f9b
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Mon Apr 19 10:12:02 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49151
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@935510 13f79535-47bb-0310-9956-ffa450edef68

commit 09f4e2578faa9d777b9f5d9d08ea3e3a3aa74b84
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Mon Apr 19 10:07:16 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49150
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@935509 13f79535-47bb-0310-9956-ffa450edef68

commit 725a8924de0be0850204a6df2deff57fd5014d74
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Apr 17 01:59:56 2010 +0000

    Improve the ChatServlet comet example.
    1. Fix possible deadlock in ChatServlet$MessageSender, similar to BZ 48843.
    2. Properly wake up ChatServlet$MessageSender when the servlet is destroyed.
    3. Filter special characters when printing the message in ChatServlet.
    4. Provide an explicit charset everywhere.
    5. Fix frames layout. Fix redirections.
    Use target="<name>" attribute in HTML to send request to a particular frame.
    6. Fix DTDs. Use frameset DTD for the page containing frames.
    7. Add "xxx joined the chat" message at startup.
    8. Rename chat.jsp -> index.jsp, so that the entry point to this example is more visible.
    9. Corrected the link that opens a new chat window. It referenced an undefined JavaScript function. Now it is implemented just by using target="_blank".
    10. Added submit button to the form pages.
    11. Minor message tweaks.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@935105 13f79535-47bb-0310-9956-ffa450edef68

commit c9e6af21b6a9e1b14904aa99345da9b8f3bc36f3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 16 22:39:55 2010 +0000

    More checking against the spec
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@935092 13f79535-47bb-0310-9956-ffa450edef68

commit bcc22ba00ce8b2f7ae2572ac28747cf533a2ec9f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 16 20:41:11 2010 +0000

    Get build working with relative base.path
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@935077 13f79535-47bb-0310-9956-ffa450edef68

commit 01cce30a11fffe288b31883e64ad63392949b4d1
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Apr 16 15:44:51 2010 +0000

    Remove unused dependency on o.a.t.util.collections.MultiMap.
    An indication here is that MultiMap$Field.name and .value fields are never assigned.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@934968 13f79535-47bb-0310-9956-ffa450edef68

commit 336924615c22f47afbac8a45d1d0e6d8c9efabcd
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Fri Apr 16 14:44:50 2010 +0000

    Fix asyn with APR.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@934936 13f79535-47bb-0310-9956-ffa450edef68

commit b890c3b9088d31bf42199db4cfc4b5885d836418
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 16 06:45:39 2010 +0000

    Review section 4. More stuff to do.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@934696 13f79535-47bb-0310-9956-ffa450edef68

commit 3b16183c5732ef93e54c15c40b9196b9edb934d7
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Apr 16 03:37:59 2010 +0000

    Clean up a bit
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@934677 13f79535-47bb-0310-9956-ffa450edef68

commit d5113deea13c1d2e2ce3a07a76c787c0bc7c7340
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Apr 16 00:02:53 2010 +0000

    Add in statement cache
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@934651 13f79535-47bb-0310-9956-ffa450edef68

commit e2df4726e3bd64eb260e7c637772a058bb7216ee
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Apr 15 23:41:52 2010 +0000

    Correct a misprint (s/provide/provided), wrap the long line.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@934647 13f79535-47bb-0310-9956-ffa450edef68

commit 1b17a5fe4fc8166aa8e7d5d955bc3ca9c15b4844
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Apr 15 23:36:49 2010 +0000

    Followup to r934220.
    Set svn:eol-style=native for the added files. No change in their content.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@934644 13f79535-47bb-0310-9956-ffa450edef68

commit 1307122af4a0257a9d4deb247a19995a76ee1f27
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 15 23:07:22 2010 +0000

    Section 3 of spec checked
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@934640 13f79535-47bb-0310-9956-ffa450edef68

commit 17e1a5ae5d8232ed6a838211813f2592d91392bf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 15 22:57:36 2010 +0000

    Implement SRV.3.2. Non file parts should be exposed via getParameters()
    Cache results so multiple calls to getParts() work
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@934634 13f79535-47bb-0310-9956-ffa450edef68

commit a8dd98fea2bf0fedb8b568cfdd56380f02cf4565
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Apr 15 15:38:17 2010 +0000

    if error, next request
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@934457 13f79535-47bb-0310-9956-ffa450edef68

commit 5efe01b91aaa116606ef786b8991cc970c34a3a7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 15 15:01:55 2010 +0000

    Section 3.2 of the Servlet 3 spec says getParameter should still work for parameters that do not represent file uploads (it doesn't at the moment - patch to follow)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@934438 13f79535-47bb-0310-9956-ffa450edef68

commit cddfe48e277730a3b8a1bff0a5ea43fff074b183
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 15 12:06:24 2010 +0000

    Update release plan.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@934382 13f79535-47bb-0310-9956-ffa450edef68

commit a905ebc00b3f06e5f88257a21254a04f04c24ecb
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Thu Apr 15 09:19:02 2010 +0000

    sessionCounter and expiredSessions declares as long instead of int.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@934337 13f79535-47bb-0310-9956-ffa450edef68

commit dfc934360043f471fcce78846a5b380d7a012535
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 14 23:17:26 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49024
    Enhance the RemoteIpFilter docs
    Patch provided by Cyrille Le Clerc
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@934239 13f79535-47bb-0310-9956-ffa450edef68

commit 867605f477e1a5a0e0f6b47ff7d4a69134388b41
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 14 23:13:45 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49129
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@934238 13f79535-47bb-0310-9956-ffa450edef68

commit 95a2eb88f042ef92db0525d56d0cf70028056016
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 14 22:50:35 2010 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=49118
    Use StringBuilder rather than concatenation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@934234 13f79535-47bb-0310-9956-ffa450edef68

commit b0272591c058983519708e2bf8740c47c8c39b86
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 14 22:47:57 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49110
    Make inner class static to prevent possible memory leak - found by FindBugs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@934233 13f79535-47bb-0310-9956-ffa450edef68

commit bcf0a01b691fd18042d50e1ab9bf15154b248edf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 14 22:43:37 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49109
    Remove unused authenticate() method with a broken default impl
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@934232 13f79535-47bb-0310-9956-ffa450edef68

commit f8d356505f0a4b6dfe91c1b63c027cd09c1c7d46
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 14 22:29:34 2010 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=49106
    Remove unused import
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@934225 13f79535-47bb-0310-9956-ffa450edef68

commit ead39973f946dd302c480ff6f881c95acd297fd9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 14 22:27:59 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49105
    Misc Javadoc corrections.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@934224 13f79535-47bb-0310-9956-ffa450edef68

commit 5be4f296ce48f2a0d79897def4af592576fde40f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 14 22:24:17 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49104
    Generics
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@934223 13f79535-47bb-0310-9956-ffa450edef68

commit 1018cd77fcd14ed19b0716b721fcbd9d3ee5b4bd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 14 22:19:33 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49103
    Add @Override where appropriate
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@934222 13f79535-47bb-0310-9956-ffa450edef68

commit 1df3ae6df2c32ede3e3881eca4171cd40d644daf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 14 22:11:30 2010 +0000

    Two BCEL files have IBM copyright and EPL licensing. Update LICENSE and NOTICE files accordingly.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@934220 13f79535-47bb-0310-9956-ffa450edef68

commit 5b6857bea2f1b65a8608275fef14028043d06f20
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 14 22:10:35 2010 +0000

    CPL allows us to elect to distribute under a later version of the license so elect to distribute under EPL as we are already using EPL for Eclipse JDT.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@934219 13f79535-47bb-0310-9956-ffa450edef68

commit 893ed3bd451a60611011a5fe5591f1a1f9f08346
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 14 21:40:13 2010 +0000

    Don't include modules in the src release
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@934207 13f79535-47bb-0310-9956-ffa450edef68

commit de80e1e89c3ab8ef8e2b6ecec71490b41e43fb31
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 14 21:25:20 2010 +0000

    Parametrise current year in all embedded NOTICE files
    Don't use the same property name for different output files
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@934203 13f79535-47bb-0310-9956-ffa450edef68

commit a7b4879e63cfff164585cb451595a8bb68f23ceb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 14 20:51:19 2010 +0000

    Add license headers to NSIS files
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@934192 13f79535-47bb-0310-9956-ffa450edef68

commit 5f1bfb0bb07c5f3d399f4185ad3909d3c01cf8fb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 14 20:18:14 2010 +0000

    AL2 header
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@934173 13f79535-47bb-0310-9956-ffa450edef68

commit 201913e32882f2193b76684811dfe7e7fb63d78c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 14 20:11:59 2010 +0000

    Tomcat 7 needs Java 6
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@934170 13f79535-47bb-0310-9956-ffa450edef68

commit 27c3e87781f59fc03ff4ec3164c6ce513621f391
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 14 18:00:34 2010 +0000

    Add info on API stability to the release.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@934067 13f79535-47bb-0310-9956-ffa450edef68

commit 66247504d52e1d5b83017282fb1bfddcee547efb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 14 14:46:07 2010 +0000

    Fully fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49082
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@933972 13f79535-47bb-0310-9956-ffa450edef68

commit 32046ebbd98e01e1b3f77d30df1777000d1bea37
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 14 12:07:04 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49045
    Add support for adding Services and Engines via JMX
    Based on a patch by Chamith Buddhika
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@933921 13f79535-47bb-0310-9956-ffa450edef68

commit cb0b0296ccb1ee4f6b208c1d16ec9df566bd4cb9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 14 10:14:34 2010 +0000

    Alternative fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=49089
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@933907 13f79535-47bb-0310-9956-ffa450edef68

commit bddfc0acd1b1d2cc99843be3c5df52dfe6ef3a05
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Wed Apr 14 08:48:43 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49116
    If session is already invalid, expire session to prevent memory leak.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@933881 13f79535-47bb-0310-9956-ffa450edef68

commit 4349e9c92d549e89216e429f7f1a20123538d61e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Apr 13 09:59:54 2010 +0000

    Fix download location for native binaries
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@933535 13f79535-47bb-0310-9956-ffa450edef68

commit 6fc4360afb58a2e181582005992a97b0d06a5ccc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Apr 12 10:34:09 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49086
    Add Javadocs to javax.servlet.annotation
    Patch provided by Pid.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@933183 13f79535-47bb-0310-9956-ffa450edef68

commit 9840f00385fe7a322894120cb6150fe54564f22e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Apr 12 09:47:42 2010 +0000

    Make constant final
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@933168 13f79535-47bb-0310-9956-ffa450edef68

commit 1ecfaa9aa7dc9faf2e85999d54360e33d884c6b3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Apr 12 09:42:07 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49091
    Reduce visibility
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@933167 13f79535-47bb-0310-9956-ffa450edef68

commit 276ea1ac1d1a8adebc92f051e0e1ded33a74d64a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Apr 12 09:35:52 2010 +0000

    Make public constant final
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@933165 13f79535-47bb-0310-9956-ffa450edef68

commit e9118c9c54f590ee769ee6ac452dbe85d1c57bd3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Apr 12 09:26:39 2010 +0000

    Partial fox for https://issues.apache.org/bugzilla/show_bug.cgi?id=49082
    java.home may not include the final path separator
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@933162 13f79535-47bb-0310-9956-ffa450edef68

commit 051be4d6331e5e70865d5c88b6e64b606c98e9b8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Apr 12 08:32:22 2010 +0000

    Add some additional tests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@933141 13f79535-47bb-0310-9956-ffa450edef68

commit 08c3adfa79d0578a313d340baa1f3b7c82d68d87
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Apr 12 08:26:34 2010 +0000

    Re-factor to allow easier addition of extra tests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@933140 13f79535-47bb-0310-9956-ffa450edef68

commit ade4d16928b444baeb3f9c73a6ff08989c102671
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 11 23:02:13 2010 +0000

    Back to -dev
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@933021 13f79535-47bb-0310-9956-ffa450edef68

commit ef8e75314332a3164a10e0853867ea34308cf98c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 11 22:52:44 2010 +0000

    Prepare for RC1 release
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@933012 13f79535-47bb-0310-9956-ffa450edef68

commit f3d0ffaa687182dfcbd0299880af543f9da96450
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 11 22:43:09 2010 +0000

    TCK failures: EL TCK with security manager
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@933007 13f79535-47bb-0310-9956-ffa450edef68

commit f4b6cfea8a6dc86f5d337ad32b5e47e11e9a4948
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Apr 11 20:51:16 2010 +0000

    Use spec compliant session expiration in STRICT_SERVLET_COMPLIANCE mode.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@932989 13f79535-47bb-0310-9956-ffa450edef68

commit 36bb7c8354609b6b757bea0f104be6ceda254a1d
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Apr 11 18:26:20 2010 +0000

    Reduce failures of new API when running under security manager.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@932969 13f79535-47bb-0310-9956-ffa450edef68

commit 9590fadf345464f69fbc269bb8f58ab13191c08b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 11 18:15:02 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49081
    "#${1+1}" should evaluate to "#2"
    Note that all files apart from ELParser.jjt are generated by javacc from the changes to ELParser.jjt
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@932967 13f79535-47bb-0310-9956-ffa450edef68

commit 96a6cd3a6a7a257a470b1dda6a8a885380f191db
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 11 18:09:16 2010 +0000

    Add test cases for https://issues.apache.org/bugzilla/show_bug.cgi?id=49081
    "#${1+1}" should evaluate to "#2"
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@932965 13f79535-47bb-0310-9956-ffa450edef68

commit 502aab982bd98ebce522bb73fe5414ebca705a36
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Apr 11 17:47:00 2010 +0000

    Allow JioEndpoint to switch context class loader
    under security manager. Code copied from standard session.
    
    Add two more classes to class pre-loading to improve
    security manager interoperability.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@932953 13f79535-47bb-0310-9956-ffa450edef68

commit 8966779b13050c277679bf95abcb556e303f42ae
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Apr 11 15:53:07 2010 +0000

    Ignore request handling time in session lastAccessedTime
    when acting servlet spec compliant.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@932926 13f79535-47bb-0310-9956-ffa450edef68

commit 99daf7c18d7cf8ae2ed97e219b2b6bcbab4df50e
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Apr 11 01:46:20 2010 +0000

    And another property for the policy.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@932826 13f79535-47bb-0310-9956-ffa450edef68

commit 8848f504dcbb3ec53df4e2533a2657b355dbeb50
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Apr 11 01:26:43 2010 +0000

    Add another property access to our security policy.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@932823 13f79535-47bb-0310-9956-ffa450edef68

commit 528deefeffafd6ad629effb577e065983c5f5d8b
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Apr 11 01:08:09 2010 +0000

    Add permission to read the STRICT_SERVLET_COMPLIANCE property
    to our default policy for the security manager.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@932822 13f79535-47bb-0310-9956-ffa450edef68

commit 1b69d84b627915c9a0291eb250c4123a6b67f0ad
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Sat Apr 10 18:07:39 2010 +0000

    Add missing class.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@932776 13f79535-47bb-0310-9956-ffa450edef68

commit 96ef910b645485beba798206c223bb4421516bf8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Apr 10 15:53:14 2010 +0000

    TCK failure (with security manager): Preload required class.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@932751 13f79535-47bb-0310-9956-ffa450edef68

commit 220337ee3d2091451306e5cd1a7d61d4107cf036
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 9 11:43:16 2010 +0000

    Javadoc update
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@932363 13f79535-47bb-0310-9956-ffa450edef68

commit e59ba8f0f660be4c649d5763070276a31de0b5e7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 9 11:16:40 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49075
    NPE protection if roles is null and roles needs to be modifiable
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@932357 13f79535-47bb-0310-9956-ffa450edef68

commit 667768cf54e2bc83905ad3c992aba0423645168d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 9 08:01:07 2010 +0000

    Update EL & JSP versions
    Minor tweaks
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@932289 13f79535-47bb-0310-9956-ffa450edef68

commit d0aa09cb14ccd98799aef97a267547e3afa696a0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 7 22:17:19 2010 +0000

    Use chunked encoding for http 1.1 requests with no content-length (regardless of keep-alive) so client can differentiate between complete and partial responses.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@931709 13f79535-47bb-0310-9956-ffa450edef68

commit 34c8313dbee2a705267e8734813d333b1b73765c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 7 21:46:55 2010 +0000

    Further corrections to SSL session timeout attribute name.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@931699 13f79535-47bb-0310-9956-ffa450edef68

commit 8b8dad76320ec31dfc70d908aeed5c366fc0b445
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 7 20:11:57 2010 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@931664 13f79535-47bb-0310-9956-ffa450edef68

commit aa3350dcacb450e21ba872d207f0544fd3afc1ce
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Apr 7 13:54:21 2010 +0000

    Start working on a statement cache. Add in disconnect event for interceptors, make the statement decorator extensible
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@931550 13f79535-47bb-0310-9956-ffa450edef68

commit 155e3f8188d0163ae505132a7d760f6c13cf3bf3
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Apr 7 03:24:08 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49018
    Fix processing of time argument in the "Expire sessions" action in the Manager web application
    
    Also, provide separate templates for the "managerServlet.sessiontimeout" message, to allow it to be properly translated into other languages. I cannot provide the actual translations, though. The translated variants of the new messages are now a mix of English and translated text, which just mimics the old behaviour.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@931415 13f79535-47bb-0310-9956-ffa450edef68

commit beaec673976cd407ea9373a5f4a0765bd926df81
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Tue Apr 6 09:25:59 2010 +0000

    memberAlive is not called if member has not already existed in membership.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@931061 13f79535-47bb-0310-9956-ffa450edef68

commit 2b38bf12db7ead1a95033c3ba8a516e60fe517bf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Apr 5 19:38:28 2010 +0000

    Revert accidental commit
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@930936 13f79535-47bb-0310-9956-ffa450edef68

commit 216352a8a995060d4d91bdf36cc464a6302b0544
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 4 16:26:51 2010 +0000

    Fix the immediate problem described in https://issues.apache.org/bugzilla/show_bug.cgi?id=48648
    Still need review remainder of bug report
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@930711 13f79535-47bb-0310-9956-ffa450edef68

commit d9330a97c0f39c583292a2db551fddb2ee3398b4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 4 10:37:17 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49014
    Add test cases for the RemoteIpFilter
    Patch provided by Cyrille Le Clerc
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@930659 13f79535-47bb-0310-9956-ffa450edef68

commit 9a42719225c54c485d9940484dd949d99b469e8f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 4 10:25:56 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48983
    Additional debug logging for when RemoteIp(Valve|Filter) is not invoked
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@930657 13f79535-47bb-0310-9956-ffa450edef68

commit bcc7505dac8b19e8d2f77987d2d8381653370397
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 4 10:09:18 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48914
    Invoke should use parameters provided in expression in preference to parameters provided in invoke() call
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@930653 13f79535-47bb-0310-9956-ffa450edef68

commit 9cc94126cca1d656f02ac9cbb71cdf1052ba3dff
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 4 10:08:04 2010 +0000

    Modify unit tests to take account of https://issues.apache.org/bugzilla/show_bug.cgi?id=48914
    Invoke should use parameters provided in expression in preference to parameters provided in invoke() call
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@930652 13f79535-47bb-0310-9956-ffa450edef68

commit 0d9485146eef65876d9652a59673f6850f64ac99
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Apr 3 17:40:53 2010 +0000

    Cleanup. Remove field that is never initialized and never read.
    req.getResponse() is used instead of it when needed.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@930549 13f79535-47bb-0310-9956-ffa450edef68

commit 7a06459cb1cc230844b4cf45acbb7f8af986f5fb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Apr 3 12:41:31 2010 +0000

    TCK failures: If a servlet/filter has any mappings in the main web.xml, these override rather than replace the mappings defined in the fragments. The same goes for fragments and annotations.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@930514 13f79535-47bb-0310-9956-ffa450edef68

commit 0478fe9c81898cbced4a223a7cf9f394ab783340
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Apr 2 14:59:33 2010 +0000

    Fix copy paste error
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@930289 13f79535-47bb-0310-9956-ffa450edef68

commit 4925b6e6df8786fb88d8c932f490bde6623fb722
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 31 13:06:30 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=49030
    Failure of one connector should not leave some connectors started and some ignored
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@929521 13f79535-47bb-0310-9956-ffa450edef68

commit 514732324005e0baf182883ac0d74a0df8948d21
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Wed Mar 31 08:09:40 2010 +0000

    delete test file
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@929428 13f79535-47bb-0310-9956-ffa450edef68

commit 0b8a665d3dd757d9911d8b81443e2288432b9709
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Wed Mar 31 08:06:13 2010 +0000

    commit access test
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@929427 13f79535-47bb-0310-9956-ffa450edef68

commit 3f731b778bb74b5a69caebd52f04d42342052f65
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Wed Mar 31 06:32:46 2010 +0000

    delete test file
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@929404 13f79535-47bb-0310-9956-ffa450edef68

commit d4b2460319e0a3046369d4bef34563b05cdcfdbb
Author: Keiichi Fujino <kfujino@apache.org>
Date:   Wed Mar 31 06:08:32 2010 +0000

    commit access test
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@929394 13f79535-47bb-0310-9956-ffa450edef68

commit f4961992c43ca07181490add2fb578f9bb2f564b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 30 21:01:02 2010 +0000

    When changing a session ID, use the internal add cookie method in the same way as when first creating a session cookie.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@929284 13f79535-47bb-0310-9956-ffa450edef68

commit b2c34f2fe90ad7be3b4e1fcab055dbee28373155
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Mar 30 16:03:32 2010 +0000

    Clear up state handling a bit
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@929181 13f79535-47bb-0310-9956-ffa450edef68

commit ae6fcf5e79753d17b73aac2b945db95d3c6fe803
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 29 15:01:14 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48895
    Make clearing thread locals optional and disabled by default since it isn't thread-safe
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@928798 13f79535-47bb-0310-9956-ffa450edef68

commit 1d7fdc8ee1b2c8a9590dc765b5e73533489c3458
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 29 11:51:46 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48840
    If CDPATH is set, cd may result in output to stdout.
    Swallow the output. This is safe since the script outputs the value used for CATALINA_HOME so any issues will be visible then.
    Patch provided by mdietze
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@928732 13f79535-47bb-0310-9956-ffa450edef68

commit 5dc6615588ab40faf27615fb6796b6ee6a0480af
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 29 10:37:53 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48839
    Correctly handle multi-line headers with the NIO connector
    Patch suggested by Richa Baronia
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@928695 13f79535-47bb-0310-9956-ffa450edef68

commit 1747fab19646fa98226f47f4caae07190c8c39d5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 29 10:36:55 2010 +0000

    Test case for https://issues.apache.org/bugzilla/show_bug.cgi?id=48839
    Fix to follow shortly
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@928694 13f79535-47bb-0310-9956-ffa450edef68

commit 629fcc10a55272b398109f0dbe291b2dd37b5eb2
Author: Mladen Turk <mturk@apache.org>
Date:   Mon Mar 29 05:46:57 2010 +0000

    New installer side graphics. Artwork provided by Adela Turk
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@928599 13f79535-47bb-0310-9956-ffa450edef68

commit 39d308220f15eb4a64653722c297a113c485d785
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 28 19:34:12 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48717
    When a node joins a cluster and it receives all the current sessions, ensure the sessionCreated event is fired if the Manager is configured to replicate session events
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@928482 13f79535-47bb-0310-9956-ffa450edef68

commit d6c3514e9ffd84221925e6e6ee851b0fba61da44
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 28 12:28:54 2010 +0000

    Language tweaks
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@928388 13f79535-47bb-0310-9956-ffa450edef68

commit 83226d99cc91396cee328ae6b2478d749b4932b7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 28 11:57:46 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48662
    Make extraction of context.xml files configurable and disable it by default for Tomcat 7
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@928380 13f79535-47bb-0310-9956-ffa450edef68

commit ac1066a1c91a1a441f8ea0e4c0a2911eaaf4e045
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 28 10:07:42 2010 +0000

    MUST_STOP is also a valid state from which to transition to STOPPING_PREP
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@928370 13f79535-47bb-0310-9956-ffa450edef68

commit 5fb55c9cc532925e9eb32ff3b5ceffba34215c1c
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Mar 27 09:11:45 2010 +0000

    Use both single and double quotes in the test, for diversity
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@928175 13f79535-47bb-0310-9956-ffa450edef68

commit 44dd79d68beec3309998e51db705793deab078be
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat Mar 27 01:50:13 2010 +0000

    Add in some debug, what is causing some TCK failures is a request/response pair not being recycled properly
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@928120 13f79535-47bb-0310-9956-ffa450edef68

commit 0ca1bf809456962183ad6a48284c12785896ae66
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Mar 26 16:21:57 2010 +0000

    Adjust startAsync().complete() behavior
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@927951 13f79535-47bb-0310-9956-ffa450edef68

commit 3e82938b04658a4146c991a401aec3d011ad070e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 26 15:43:44 2010 +0000

    Clean up
     - Eclipse warnings
     - Unnecessary code
     - Line length
     - i18n message names
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@927923 13f79535-47bb-0310-9956-ffa450edef68

commit a5209bcb3ad77d84de98c42b96992a251bbc7f20
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Mar 26 15:21:39 2010 +0000

    Adjust examples to the latest implementation
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@927911 13f79535-47bb-0310-9956-ffa450edef68

commit a75e8a213119c9ec3624f42f3219e80a47cf5fde
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Mar 26 15:16:52 2010 +0000

    Mark example servlets as async
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@927908 13f79535-47bb-0310-9956-ffa450edef68

commit 424af8a12b941fc03c6aa46a12ca45fac4f08ba0
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Mar 26 14:40:30 2010 +0000

    Mark ResourceEntry.loadedClass as volatile.
    That is because WebappClassLoader#findClassInternal() uses double-checked locking to initialize this field.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@927877 13f79535-47bb-0310-9956-ffa450edef68

commit b285d9f778ee3baf7497a72cdfecd617214e7bf4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 26 13:48:30 2010 +0000

    Missed a file in r927850
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@927851 13f79535-47bb-0310-9956-ffa450edef68

commit 4081f43576512bf902fcb62d121e8f36af218593
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 26 13:47:18 2010 +0000

    Improve log message when deploying from configBase to make it clearer where xml file is read from.
    Javadoc tweak
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@927850 13f79535-47bb-0310-9956-ffa450edef68

commit 4bd731570ff9b0dd38bf72b647180a83835feada
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Mar 26 13:38:02 2010 +0000

    spec says that "started" is defined as started until the thread has returned to the container.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@927845 13f79535-47bb-0310-9956-ffa450edef68

commit d2790bf2f67022fb942ef0f0d0404c510030df50
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 26 13:36:22 2010 +0000

    Remove tests rendered unnecessary when context.xml files were moved from appBase to configBase
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@927844 13f79535-47bb-0310-9956-ffa450edef68

commit f00e8e64d43a1649b591ee6bd13290adbb08feb5
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Mar 26 10:28:47 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48992
    Fix XML tags in examples for CombinedRealm and LockOutRealm
    Based on the patch by Fumiyuki Shimizu
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@927759 13f79535-47bb-0310-9956-ffa450edef68

commit 9dbb2f23eac122abd06529da0d3bc260d6b1dca5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 25 22:46:40 2010 +0000

    Obey the rules on quoting
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@927623 13f79535-47bb-0310-9956-ffa450edef68

commit ad97002366297949cf65e66e6252127a02cd1d9b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 25 22:46:12 2010 +0000

    Re-fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45015
    Regression in recent parsing re-factoring
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@927621 13f79535-47bb-0310-9956-ffa450edef68

commit 833a52e54a4c11a771766fa23b27c9e153d04b60
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 25 21:41:46 2010 +0000

    Add an additional test case for bug 45015.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@927597 13f79535-47bb-0310-9956-ffa450edef68

commit 137cbb7c668acbf9bd070ac5ae098d37d3e428f8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 25 20:43:23 2010 +0000

    Remove unused imports
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@927591 13f79535-47bb-0310-9956-ffa450edef68

commit fdd12426a65fc2680d295e0b34fe3aff0e5f7c73
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Mar 25 20:11:32 2010 +0000

    prevent duplicate threads processing the same socket
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@927576 13f79535-47bb-0310-9956-ffa450edef68

commit 7dbfb08d0127650ba5c62f867ce63844a90e3f19
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 25 19:47:33 2010 +0000

    Ignore setenv.* so I don't accidently check it in
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@927567 13f79535-47bb-0310-9956-ffa450edef68

commit 7f6de346d6bb0b05ee550be06d8abe7beeebe641
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 25 19:45:51 2010 +0000

    Update project name
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@927566 13f79535-47bb-0310-9956-ffa450edef68

commit 4df6f0e4779af8e110110db1f05ac835330486dd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 25 19:44:41 2010 +0000

    Address various class-loader deadlock / sync issues
    https://issues.apache.org/bugzilla/show_bug.cgi?id=44041
    https://issues.apache.org/bugzilla/show_bug.cgi?id=48694
    https://issues.apache.org/bugzilla/show_bug.cgi?id=48903
    
    Whilst parallel class-loading would be a nice feature, the various issues that have emerged have demonstrated that anything other than synchronized(this) is likely to cause issues.
    
    Parallel class-loading will be explored for Tomcat 7 (disabled by default) and ported back to 6.0.x when proven to be stable.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@927565 13f79535-47bb-0310-9956-ffa450edef68

commit 10bd883d8d3624eb1180097f5390284bb573b4bf
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Mar 25 19:32:46 2010 +0000

    Clean up. The setAsync can be done in a single bottleneck, instead mixed into the processor
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@927555 13f79535-47bb-0310-9956-ffa450edef68

commit 98e90d81794a9b99f944705ed9c733917d2e44ba
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 25 18:11:52 2010 +0000

    TCK failures: Make valve Async aware - with some help from Filip
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@927525 13f79535-47bb-0310-9956-ffa450edef68

commit e0ebbb8d7c5620fd8ea2245cde08d90f6603cf84
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Mar 25 17:07:55 2010 +0000

    recycle properly
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@927502 13f79535-47bb-0310-9956-ffa450edef68

commit 8a5843ccb3924bf376559702520aedc25e11f906
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Mar 25 16:41:05 2010 +0000

    Enable async behavior for the AJP connector
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@927490 13f79535-47bb-0310-9956-ffa450edef68

commit 40d4721b1f972e7b443bbce7b8b56176fed3260f
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Mar 25 15:45:13 2010 +0000

    Prevent looping by correctly setting the socket wrapper async state
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@927455 13f79535-47bb-0310-9956-ffa450edef68

commit 122bdc228821f212fd8c939ae54bf96c1e5f09da
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 25 00:59:23 2010 +0000

    Make sure start() and stop() are called on Wrappers. This was a regression in the recent Lifecycle changes.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@927247 13f79535-47bb-0310-9956-ffa450edef68

commit f53a2f387ba7ec87e9c267dbd1edc3468cf9955e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 25 00:33:35 2010 +0000

    Use context path in debug log message
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@927240 13f79535-47bb-0310-9956-ffa450edef68

commit ee69bc0ee6b68c5ad89dc068a7ff304fae808633
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Mar 24 21:26:47 2010 +0000

    Add in a slightly different behavior for dispatch.
    dispatch() will return immediately, according to spec. But if dispatch is called from the tomcat worker thread, then the dispatch will not happen until the worker thread has backed out of the call. This prevents multiple threads being launched into the same request/response and causing potential concurrency issues.
    The Async state machine guarantees that multiple dispatch can not be called.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@927182 13f79535-47bb-0310-9956-ffa450edef68

commit 6450c080447441e2fde8c9b3666401821a8c7d6a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 24 16:13:29 2010 +0000

    Tracking down a memory leak. Add some debug logging to the mapper.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@927105 13f79535-47bb-0310-9956-ffa450edef68

commit 20c83924e15613da9f0b97807eef00bc591e802a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 24 14:05:15 2010 +0000

    Add support for detecting Spring Security user names in the manager app
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@927062 13f79535-47bb-0310-9956-ffa450edef68

commit 5ca3eaa822406e32dc201b450c15c93c3a749ebc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 24 12:38:23 2010 +0000

    Simpler fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=48790 based on a patch by kkolinko
    Make maxActive thread safe. Probably unnecessary but technically a bug.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@927037 13f79535-47bb-0310-9956-ffa450edef68

commit e2c9a955b49b461e7feec6db13c5753da3737ff6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 24 12:26:11 2010 +0000

    Revert fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=48790 in preparation for a simpler solution
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@927031 13f79535-47bb-0310-9956-ffa450edef68

commit b5e1cb86e151dd44dae8b48b8a9eb30265a5955d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 23 18:43:19 2010 +0000

    TCK failures: Fix session expiry on cross-context requests. Need to test the local session is valid before calling access() which will make it valid again.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@926716 13f79535-47bb-0310-9956-ffa450edef68

commit 61ef675b650c5888866a66e5f342934502b9b663
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 23 13:16:50 2010 +0000

    TCK failures: Don't delegate dispatcher type to wrapped request as it may well be different.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@926562 13f79535-47bb-0310-9956-ffa450edef68

commit 2b84ca3c744d42860e818c9091b04ce3b4343484
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 22 22:29:18 2010 +0000

    TCK failures: Look for the right element
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@926379 13f79535-47bb-0310-9956-ffa450edef68

commit c9e26e41eb1abd38f46bbb32d158c97ef2065324
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 22 22:28:38 2010 +0000

    TCK failures: Make sure FilterDefs where async-support was not defined are set to the default of false before being added to the context
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@926378 13f79535-47bb-0310-9956-ffa450edef68

commit f7277fd1452d5c4c881eca963603aa8438cd13ea
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 22 22:27:24 2010 +0000

    TCK failures: Servlets do not support async by default
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@926377 13f79535-47bb-0310-9956-ffa450edef68

commit f821764e65c494e788e989a703d8eb474703c95b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 22 21:38:52 2010 +0000

    SRV.9.3 says we must throw a FNFE
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@926355 13f79535-47bb-0310-9956-ffa450edef68

commit a8c8750f39ec9927aab36a05a6093dc890439dec
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 22 21:00:24 2010 +0000

    Provide the method expected by the digester for adding security-role-ref elements
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@926332 13f79535-47bb-0310-9956-ffa450edef68

commit b0923cfd88781d0f5c0aaec7364ca9a1ef844846
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Mar 22 17:44:24 2010 +0000

    More async stuff, implement timeout handling
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@926219 13f79535-47bb-0310-9956-ffa450edef68

commit 70f4ec18d202a9e4656f8ba552a56e3c592acba9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 22 14:23:26 2010 +0000

    Make method names consistent with the names the digester looks for
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@926101 13f79535-47bb-0310-9956-ffa450edef68

commit cc82ff28f28e565f69c78c91f6ff381bf52fe203
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 22 13:57:46 2010 +0000

    Fix some TCK issues. The behaviour is undefined in the spec, so go with the TCK requirements
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@926087 13f79535-47bb-0310-9956-ffa450edef68

commit be4cf4e2235ee7365ce52da262335e0313afad90
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 22 13:18:31 2010 +0000

    Fire listeners in reverse order for requestDestroyed
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@926064 13f79535-47bb-0310-9956-ffa450edef68

commit 80eeee13a2b57acfaa80ec5970abf2bbc43f133c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 22 12:52:07 2010 +0000

    Servlets added through the new ServletContext.addServlet(...) methods may not be initialised
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@926055 13f79535-47bb-0310-9956-ffa450edef68

commit 5756c0a842ec3d4665a1a988637c1c9ec4218988
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 22 11:50:53 2010 +0000

    It is valid to call startAsync() inside a dispatched request
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@926042 13f79535-47bb-0310-9956-ffa450edef68

commit 08094cb0e704c903e3537bc7a972dee556ecf7d5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 21 22:18:03 2010 +0000

    Always use the InstanceManager to create listeners, filters & servlets
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@925921 13f79535-47bb-0310-9956-ffa450edef68

commit bc18735e25424bce2c736b4e59fe77e5cc9cf50b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 21 22:17:19 2010 +0000

    Arrays indexes start at zero so no need for "... + 1"
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@925920 13f79535-47bb-0310-9956-ffa450edef68

commit 659c5088c032480149714027c59b05b37f92a30e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 21 21:53:16 2010 +0000

    Doh! Return the newly created registrations rather than just creating work for the garbage collector.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@925905 13f79535-47bb-0310-9956-ffa450edef68

commit d92e4d7472d25a918a5a356edddc8632fe70ccf6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 21 21:22:54 2010 +0000

    Fix various exceptions that prevented one of the TCK web applications from starting
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@925901 13f79535-47bb-0310-9956-ffa450edef68

commit b3f3e9e4df6b420d590668cdee3fcbea9738f2ce
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 21 14:13:40 2010 +0000

    Fix a couple of ASync issues that were causing Servlet 3.0 TCK test failures.
    1. <quote section="2.3.3.3" page="17">
    The complete method can be invoked by the container if the request is dispatched to a servlet that does not support async processing, or the target servlet called by AsyncContext.dispatch does not do a subsequent call to startAsync. In this case, it is the container's responsibility to call complete() as soon as that servlet's service method is exited.
    </quote>
    2. <quote section="2.3.3.3" page ="13">
    public boolean isAsyncStarted() - Returns true if async processing has started on this request, and false otherwise. If this request has been dispatched using one of the AsyncContext.dispatch methods since it was put in asynchronous mode, or a call to AsynContext.complete is made, this method returns false.
    </quote>
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@925769 13f79535-47bb-0310-9956-ffa450edef68

commit 0990fc3cf4798611be12dba85703685b6c1ce74d
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Mar 19 14:22:09 2010 +0000

    More async stuff, only timeout left
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@925232 13f79535-47bb-0310-9956-ffa450edef68

commit fc66705b8fe1fc998b095e4719d313070fcad9b4
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Mar 18 13:54:27 2010 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=48934
    The wrong sender was disconnected, should only be the sender holding the actual TCP connections.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@924776 13f79535-47bb-0310-9956-ffa450edef68

commit 24c452664b298e390b522b67ef13812c5aba3d4e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 18 10:25:04 2010 +0000

    Use better variable name.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@924686 13f79535-47bb-0310-9956-ffa450edef68

commit 00c86eb06b01afbab59d6cffebc1bd6daac9989e
Author: Mladen Turk <mturk@apache.org>
Date:   Fri Mar 12 15:52:09 2010 +0000

    Use TEMP environment for storing the autoresponse file, and make sure the file was created
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@922301 13f79535-47bb-0310-9956-ffa450edef68

commit 9eb65ba6aba3f005380db25d5b7aeb9bdb55889b
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Mar 12 14:28:46 2010 +0000

    correct a comment
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@922273 13f79535-47bb-0310-9956-ffa450edef68

commit 1a8d52580e8e37f3c9df4379d6114eddff7912fc
Author: Mladen Turk <mturk@apache.org>
Date:   Fri Mar 12 12:13:45 2010 +0000

    Use real exit value if shutdown via stop
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@922228 13f79535-47bb-0310-9956-ffa450edef68

commit 37ebe5c58385c4990d71aafcfcbd5d643893067d
Author: Mladen Turk <mturk@apache.org>
Date:   Fri Mar 12 11:38:43 2010 +0000

    Suppress anoying Terminate batch job prompt when hitting CTRL+C. Note however that it leaves the file named yes in the bin directory
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@922223 13f79535-47bb-0310-9956-ffa450edef68

commit 871fef2600f146ffdb91dcb2d4d3c8fc1f6f9d22
Author: William Barker <billbarker@apache.org>
Date:   Fri Mar 12 03:52:01 2010 +0000

    Re-work the script to make it more Gump friendly
    
    No functional change for normal builds, but allows skipping a taskdef that Gump doesn't want or need when running tests.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@922136 13f79535-47bb-0310-9956-ffa450edef68

commit 368eb500a15de9a097d4b492cd2eb14472e0404c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 11 20:28:34 2010 +0000

    Alternative fix for bug 48795. Add a new property to control if the next request always triggers recompilation after a compilation failure. Defaults to false and only applies in development mode
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@922010 13f79535-47bb-0310-9956-ffa450edef68

commit 9113574124be6b2205ded91eda0f55c243dcb800
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Mar 11 18:32:39 2010 +0000

    Mark the min(a,b) method as static.
    Inspired by https://issues.apache.org/bugzilla/show_bug.cgi?id=44265
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@921973 13f79535-47bb-0310-9956-ffa450edef68

commit f9f787b3b3dc9dd3aee5edfe34b92f57a05110f4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 11 13:23:09 2010 +0000

    Revert 921464 for rework
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@921838 13f79535-47bb-0310-9956-ffa450edef68

commit 0606aa1e6a9bf62e64cad7af7982e2f62e845922
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Mar 10 23:39:45 2010 +0000

    Update to NSIS 2.46
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@921630 13f79535-47bb-0310-9956-ffa450edef68

commit feae18af22798cc7e817d21f70ff6e8986b0557a
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Mar 10 23:36:38 2010 +0000

    Fix download of commons-daemon-1.0.2:
    The "destfile" parameter has to be specified for "downloadzip" task.
    It specifies the file which absence triggers the download of the archive.
    Thus, without it the archive was redownloaded again and again with each build.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@921629 13f79535-47bb-0310-9956-ffa450edef68

commit cb04111c61b88e9a9db7546030d28899bddc18e9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 10 17:35:43 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48795
    If compilation fails, always try to re-compile the next time around
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@921464 13f79535-47bb-0310-9956-ffa450edef68

commit f41d44fc818383dbe8f287585e6772bcdda9ef4c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 10 16:46:46 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48793
    Make catalina.sh more robust to different return values on different platforms
    Patch provided by Thomas GL
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@921444 13f79535-47bb-0310-9956-ffa450edef68

commit f9ca850ce1033d415bd180218e54a538f2943f66
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 10 16:18:10 2010 +0000

    Remainder of fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=48379
    Allow session cookie name to be configured per context
    With this option, the servlet 3 options and system property there were just too many places this was being configured so the system property option has been removed for Tomcat 7.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@921426 13f79535-47bb-0310-9956-ffa450edef68

commit 94440d496e7ebc031021e25168365a375372ef81
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 10 14:41:07 2010 +0000

    Remove some changes that have since made it into 6.0.x
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@921372 13f79535-47bb-0310-9956-ffa450edef68

commit e67ef55db9abd1e600e765f3aef8d5bd9fda99db
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 10 13:56:28 2010 +0000

    Partial fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=48379
    Allow session cookie path to be configured per context
    With this option, the servlet 3 options and Connector.emptySessionPath there were just too many places this was being configured so the Connector option has been removed for Tomcat 7.
    Based on a patch by Brane F. Gracnar
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@921352 13f79535-47bb-0310-9956-ffa450edef68

commit c6d4f99a97f22ce6d3c63a3a45441decf6139b90
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 10 12:54:16 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48258 for TC7
    Allow session cookie domain to be over-ridden by context configuration in the same way httpOnly may be
    Based on a patch by Donn Aiken
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@921331 13f79535-47bb-0310-9956-ffa450edef68

commit a1f74d152f5cb2f5dfed099e78b324c7254123ee
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 9 22:19:44 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48790
    Make maxActive thread safe. Technically a bug but seems like overkill.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@921166 13f79535-47bb-0310-9956-ffa450edef68

commit 71ff90f1d2c55cc2565bba798aea74e705806abd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 9 21:56:36 2010 +0000

    Move the 48nnn bugs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@921150 13f79535-47bb-0310-9956-ffa450edef68

commit 915670120817ca19e8058f119d942c6027526128
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 9 21:52:26 2010 +0000

    Too many 48nnn bugs in context root
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@921147 13f79535-47bb-0310-9956-ffa450edef68

commit 42bac6954fed5474df957798f7df23bfe30b308b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 9 21:51:46 2010 +0000

    Bug 48701 test cases
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@921145 13f79535-47bb-0310-9956-ffa450edef68

commit 906acd0dab5f52b126a16cecc55e17f5464d48c8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 9 21:51:18 2010 +0000

    Complete fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=48701
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@921144 13f79535-47bb-0310-9956-ffa450edef68

commit b6dc5fa8690109e6950f178d1917367fa2d3ed51
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 9 20:33:27 2010 +0000

    Make StandardContext aliases work with ServletContext.getResourcePaths()
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@921110 13f79535-47bb-0310-9956-ffa450edef68

commit b9708c93fe1deebe65e80baa53ddd3e9a442b686
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 9 15:44:30 2010 +0000

    Re-org some JSPs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@920926 13f79535-47bb-0310-9956-ffa450edef68

commit ab93a13e704fc989fc72b9d3ff57fe27f3e87ec5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 9 15:36:10 2010 +0000

    Create a directory for all the bug 45nnn JSPs to make things more manageable. I'll do the same for other groups of bugs as the numers grow.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@920925 13f79535-47bb-0310-9956-ffa450edef68

commit 6a1df3e24cb06a95583b3add418a2f2de8dff5bf
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Mar 9 15:04:53 2010 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=48007#c5
    Improve exception processing in CustomObjectInputStream#resolveClass(),
    to help find the cause behind BZ 48007.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@920912 13f79535-47bb-0310-9956-ffa450edef68

commit cd6331a98d0bb8cd16c75bafc02a27e99cb9c3fe
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 9 15:01:05 2010 +0000

    Review feedback
    1. getNameFromAttribute() returns the attribute name, not the variable name and
    2. This is a translation time test so the attribute value is not known
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@920907 13f79535-47bb-0310-9956-ffa450edef68

commit 1fbec8a8daac9bc5f7ecf24f0fdffb98ca58564b
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Mar 9 14:04:58 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48701
    Add a system property to allow disabling enforcement of a requirement of JSP.5.3.
    The specification recommends, but does not require us to enforce it.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@920880 13f79535-47bb-0310-9956-ffa450edef68

commit 088f70b0e2a0bd6f5065c47fca5f4b6f79866141
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Mar 9 13:21:30 2010 +0000

    Correct description for STRICT_QUOTE_ESCAPING system property
    C-T-R
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@920860 13f79535-47bb-0310-9956-ffa450edef68

commit f1760d88adf26c5d6e10858618ad769c1b2cbc98
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 9 13:15:15 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48760
    Remove potential race condition that can result in multiple threads trying to use the same InputStream
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@920858 13f79535-47bb-0310-9956-ffa450edef68

commit 6ac5036e93d3ee755697db7aa84ecb8efc078fe8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 9 12:30:37 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48737
    Don't assume paths that start with /META-INF/... are always in JARs. This is not true for some IDEs
    Patch provided by Fabrizio Giustina
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@920840 13f79535-47bb-0310-9956-ffa450edef68

commit 4cf35b8cec49364c40a38c1c6409be8b35139137
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 9 12:14:23 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48729
    Return roles defined by both userRoleName and roleName mechanisms
    Patch provided by 'eric'
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@920824 13f79535-47bb-0310-9956-ffa450edef68

commit 659bb91442760e03d8db9d394eabf481460863e4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 9 12:08:17 2010 +0000

    Remove unnecessary duplication
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@920820 13f79535-47bb-0310-9956-ffa450edef68

commit 1114f73940cdf2a8503059124f5309c833587475
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 9 12:02:43 2010 +0000

    Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@920818 13f79535-47bb-0310-9956-ffa450edef68

commit c6c721ba5d8e6840faf90965d79a711274a827f8
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Mar 9 02:58:50 2010 +0000

    Updated the tests because r920110 was reverted in r920608.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@920632 13f79535-47bb-0310-9956-ffa450edef68

commit 3050aeb6b215f4fc1972ec5ed0a74fdc0351374d
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Mar 9 01:28:14 2010 +0000

    Revert r920110
    Compatibility with JSP 1.2 tag libraries had to be covered by JSP 2.0 specification,
    see "Backwards Compatibility with JSP 1.2" in the Preface part of JSP 2.0 specification,
    and there is no provision for this feature.
    Discussed in the Re: r920055 thread on dev@
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@920608 13f79535-47bb-0310-9956-ffa450edef68

commit 5e0f0c4b6bf46a14106d83645bd48fd1095abba2
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Mar 9 00:43:23 2010 +0000

    Amendment for BZ 48668 fixes.
    Use setter methods that accept String value to set pageInfo properties.
    Throw an exception if tagInfo is not available for a tag file or requiredVersion is not parseable. (Both of that should not happen).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@920596 13f79535-47bb-0310-9956-ffa450edef68

commit 533915e0d528f393f85dfc6005905b8200037c29
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Mar 9 00:04:30 2010 +0000

    JavaDoc correction
    C-T-R
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@920580 13f79535-47bb-0310-9956-ffa450edef68

commit aee1e3e4e9cc2e9ee3d3bff5dc17fea66acc8466
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 8 21:53:29 2010 +0000

    Revisit https://issues.apache.org/bugzilla/show_bug.cgi?id=48701
    Allow TagVariableInfo as well as VariableInfo to introduce objects later used by <jsp:getProperty> - JSP.5.3
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@920532 13f79535-47bb-0310-9956-ffa450edef68

commit d162cb1f9cc853bbdbf216f60f855e9c4f80cb23
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 8 20:59:18 2010 +0000

    Whitespace
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@920506 13f79535-47bb-0310-9956-ffa450edef68

commit 1ec5ca7cf5bf83262865526799a50c7945c3cba0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 8 18:58:28 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48661
    If the response has been committed, include the error page like Jasper does
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@920449 13f79535-47bb-0310-9956-ffa450edef68

commit 4d8b1ffe5acbc8aec8da056c030cde33f8c50f22
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 8 17:59:51 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48629
    Make nested role search work with username as well as DN
    Add roleNested to the docs
    Patch provided by Felix Schumacher
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@920422 13f79535-47bb-0310-9956-ffa450edef68

commit ee7c065b8c63b967c5afdaeb1ce64b0fe0fcdd4b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 8 17:22:33 2010 +0000

    Use the Lifecycle state to dtermine if the context is in the correct state to allow configuration
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@920410 13f79535-47bb-0310-9956-ffa450edef68

commit d5bf53450f17934188bc89f3513506ac71175a02
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Mar 8 16:38:35 2010 +0000

    more work towards making the JIO connector ready for async
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@920392 13f79535-47bb-0310-9956-ffa450edef68

commit 4f91bdf62bfd60c6601829f3df026a320ea85cda
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 8 12:45:56 2010 +0000

    Add context name to leak detection log messages
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@920298 13f79535-47bb-0310-9956-ffa450edef68

commit a6cbdb59983d50bb79dc8356a0d2d48ebe6bddd7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 8 12:39:57 2010 +0000

    Handle component failure without throwing a whole stack of exceptions
    Adds a new permitted transition from NEW to STOPPED that does not fire any events
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@920297 13f79535-47bb-0310-9956-ffa450edef68

commit b79c662b54f56e676e602fdb041af8236bcecddf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 8 10:14:44 2010 +0000

    No need for separate ant download
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@920257 13f79535-47bb-0310-9956-ffa450edef68

commit 6d3767b062a544a296d8dced029196a32820c872
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 7 21:30:54 2010 +0000

    Update change log
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@920123 13f79535-47bb-0310-9956-ffa450edef68

commit b303f46fc3359634e74f53893690d19c20e828a7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 7 21:30:32 2010 +0000

    Lifecycle refactoring - ContainerBase
    Adds a new CONFIGURE event to allow Context to fire the START event at the right time
    Context fires START a little later
    ReplicatedContext takes advantage of LifecycleBase ensuring start() is only called once
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@920122 13f79535-47bb-0310-9956-ffa450edef68

commit 299b449f51db7bf30c24a3b1977d002dce437846
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 7 21:25:37 2010 +0000

    Fix intermittent test failures
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@920120 13f79535-47bb-0310-9956-ffa450edef68

commit 300c3ae0da2602604e84f33ea86302126ca27fa3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 7 20:54:01 2010 +0000

    isELIgnored depends on library version and web.xml declaration
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@920110 13f79535-47bb-0310-9956-ffa450edef68

commit c40179a4585e89dd559ab5beed1e5d16cc6705cf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 7 20:51:34 2010 +0000

    Rename no-el to el-as-literal
    Add tests for 2.3, 2.4 & 2.5 webapps with Tag libraries that require various JSP versions
    These currently all work and I think some should fail - looking into that next
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@920109 13f79535-47bb-0310-9956-ffa450edef68

commit 18122ff876c879209833eebeef7a6362d24ee116
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 7 20:32:26 2010 +0000

    Test that tags from libraries that declare various JSP versions have EL and deferred EL enabled/disabled as appropriate.
    This currently triggers a failure - fix to follow shortly.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@920096 13f79535-47bb-0310-9956-ffa450edef68

commit 473238b2cab1f9463722bbfc562bffd9505cf2d2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 7 20:29:39 2010 +0000

    Extend the no-el test to cover deferred expressions
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@920092 13f79535-47bb-0310-9956-ffa450edef68

commit 86ebe825f8e681a48665da32680f11d955c102d7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 7 18:45:50 2010 +0000

    Both TLD and web.xml determine if deferred EL syntax is treated as EL or as a literal
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@920055 13f79535-47bb-0310-9956-ffa450edef68

commit 4c8a7af35eab40ebd8a86c5cb7f8f0283b08877b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 7 16:22:32 2010 +0000

    Line length
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@920025 13f79535-47bb-0310-9956-ffa450edef68

commit 25a1c0486a09fa614acdb8db235b8981f20c12d3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 7 11:41:27 2010 +0000

    Make getVersion(), getMagorVersion() and getMinorVersion() return consistent values
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919974 13f79535-47bb-0310-9956-ffa450edef68

commit 907da516e2af7e7ccb0088d7465d5e2e10724450
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 7 11:39:39 2010 +0000

    Ensure result of getVersion() is consistent with getMajorVersion() and getMinorVersion()
    With the current code this fails. Patch to fix this to follow.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919973 13f79535-47bb-0310-9956-ffa450edef68

commit f6e3e7104d4633db273186577892137e6caddd99
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 7 11:31:00 2010 +0000

    Remove the TestAll suite. Ant doesn't use it, IDEs don't need it and it is often out of sync with the tests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919969 13f79535-47bb-0310-9956-ffa450edef68

commit 3c1985d426cfc773d7c3b06c6584ca0237507a7d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 7 11:27:20 2010 +0000

    Check all versions are correctly parsed
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919968 13f79535-47bb-0310-9956-ffa450edef68

commit 875daa46603bd710d89f1610a8874a15c26e370e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 7 11:09:09 2010 +0000

    Add a test the EL doesn't work if the web-app is a 2.3 web-app
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919966 13f79535-47bb-0310-9956-ffa450edef68

commit 009876fb5339dc52e8e5d230ed895c9bb0170339
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 7 10:16:38 2010 +0000

    Rename webapp to allow tetsing with webapps with different servlet spec versions in web.xml
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919961 13f79535-47bb-0310-9956-ffa450edef68

commit de0e6e1e1df5106a514f9d1c1df672b9d63c2bd5
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Mar 7 02:43:12 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48668
    Fix remaining issues in BZ48668
    The idea behind this change is to make ELParser aware about isDeferredAsLiteral option.
    Before this change ELParser was used to parse an attribute regardless of isELIgnored or isDeferredSyntaxAllowedAsLiteral values. With this change we do not use ELParser when isELIgnored is true and ELParser does not parse '#{' in expressions when isDeferredSyntaxAllowedAsLiteral is true.
    It simplified the code in many places.
    Also, servlet specification version from web.xml and JSP specification version from TLD file are now taken into account when determining the default values for isELIgnored and isDeferredSyntaxAllowedAsLiteral. As far as I understand the code, previously only isELIgnored was determined by the servlet specification version.
    
    TstParser.java, bug48668a.jsp:
    I reenabled the tests that now pass with these changes applied.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919914 13f79535-47bb-0310-9956-ffa450edef68

commit 916154fb573e86a3eac4a21d7b3215b510553a49
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Mar 6 21:03:14 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48668
    Honor isELIgnored and isDeferredSyntaxAllowed in the Parser
    
    Uncommented the test cases in TestParser/bug48668a.jsp that now are passing.
    The ##12,13,16,17 remain commented, because they are still failing.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919851 13f79535-47bb-0310-9956-ffa450edef68

commit bf36a0c22e1de27c47b7b2d7270518ef31035711
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Mar 6 20:46:06 2010 +0000

    Additional tests for https://issues.apache.org/bugzilla/show_bug.cgi?id=48668
    The TestCase currently passes:
    the parts that do not pass currently are commented-out:
    - in bug48668a.jsp: those that prevent JSP from being compiled
    - in TestParser.java: also those that provide wrong output.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919847 13f79535-47bb-0310-9956-ffa450edef68

commit ee506bb83ee8d61b8f5d3c69cee7e024f7aa419b
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Mar 6 19:36:53 2010 +0000

    remove extra newline character
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919828 13f79535-47bb-0310-9956-ffa450edef68

commit 4ee453345a8ded90dcd0a090b4b17ab58ca48923
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 6 15:52:40 2010 +0000

    Shave a few seconds of the rebuild time if the manifests don't need to be updated
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919790 13f79535-47bb-0310-9956-ffa450edef68

commit b6e62cdbda1f72b2382032750cb091ab7d009ffc
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Mar 6 15:32:42 2010 +0000

    Add comment to the tomcat-users.xml template used by the Tomcat exe installer on Windows.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919788 13f79535-47bb-0310-9956-ffa450edef68

commit 52d47f5a4f69a5f4ac16a27dea439013e84cf3bb
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Mar 6 15:14:37 2010 +0000

    Add comment about the "manager" role (copied from TC 5.5)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919782 13f79535-47bb-0310-9956-ffa450edef68

commit fc719717c08dfb107caf3f114842f3b880c4a298
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Mar 6 15:08:58 2010 +0000

    Add a comment about comment to tomcat-users.xml
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919781 13f79535-47bb-0310-9956-ffa450edef68

commit 358796d195dd755f661d6278ba355b621b938607
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Mar 6 14:28:21 2010 +0000

    trivial: correct a link on an image on the jsp-examples index page
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919769 13f79535-47bb-0310-9956-ffa450edef68

commit a737b00d44b398339eb51030266bd8c90de662bc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 6 13:03:11 2010 +0000

    Lifecycle refactoring - Manager
    Lifecycle.START event fired too early in a number of cases
    Added toString() for use in Lifecycle error messages
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919756 13f79535-47bb-0310-9956-ffa450edef68

commit 98e4b390f76a0ad01a178d3e4071947e6d0eabf1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 6 12:42:36 2010 +0000

    Line length
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919753 13f79535-47bb-0310-9956-ffa450edef68

commit 72853b2c897cfe9a3879985722d1cdff11dc2bc1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 6 12:02:19 2010 +0000

    Lifecycle refactoring - Store
    Added toString() for use in Lifecycle error messages
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919750 13f79535-47bb-0310-9956-ffa450edef68

commit 7e420f9113be982b589ae13981b87499ef35b763
Author: Rainer Jung <rjung@apache.org>
Date:   Sat Mar 6 11:49:56 2010 +0000

    Fix two message strings where natively encoded chars
    had been lost and replaced by '?'.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919748 13f79535-47bb-0310-9956-ffa450edef68

commit 91695b35a76a36ae9505b38f928d8c9ae6aa03cb
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Mar 6 11:41:30 2010 +0000

    Correction
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919746 13f79535-47bb-0310-9956-ffa450edef68

commit 2bbb8580728ca2c1e20c322ef1c14d099f124bce
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 6 10:54:38 2010 +0000

    Lifecycle refactoring - Cluster
    Added toString() for use in Lifecycle error messages
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919740 13f79535-47bb-0310-9956-ffa450edef68

commit 14c5df70d1911cac7d6e134af0b912a30fb8e8bc
Author: Rainer Jung <rjung@apache.org>
Date:   Sat Mar 6 10:35:12 2010 +0000

    Fix utf-8 encoding in message string properties.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919737 13f79535-47bb-0310-9956-ffa450edef68

commit 6a4f9e56273865a500bf7d81b0b2e940acaad36e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 6 10:02:16 2010 +0000

    Lifecycle refactoring - Executor
    The LifecycleState.STARTING event was being fired too early
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919730 13f79535-47bb-0310-9956-ffa450edef68

commit 9fb335047f9c115e72cd27b38a576f8aa36d0caf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 6 09:42:33 2010 +0000

    Fix some Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919725 13f79535-47bb-0310-9956-ffa450edef68

commit 02a8928e1a189f032a3309b12aad869301040d50
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 6 09:34:08 2010 +0000

    Tabs to 8 spaces - no functional change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919724 13f79535-47bb-0310-9956-ffa450edef68

commit 0fadbc2a536f8dae8c93ad683dd42a80d1f8b424
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 6 09:31:47 2010 +0000

    Lifecycle refactoring - Valves
    Most valves were firing the LifecycleState.STARTING event too early
    Make the toString() consistent for all Valves
    Some copy and paste errors in i18n start/stop messages are fixed as a side effect. Some unused messages were also removed.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919723 13f79535-47bb-0310-9956-ffa450edef68

commit 7c1fc1c7553bd9f7f993442cbd1b7d3d80262caf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 6 09:26:33 2010 +0000

    Fix some inconsistencies identified during lifecycle refactoring for valves
    - don't start a basic valve when adding it to the pipeline if the pipeline is not started
    - if pipeline is started when adding a basic valve, register the basic valve
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919722 13f79535-47bb-0310-9956-ffa450edef68

commit 9dd51593e3293a0aef418ab6a31c845c1de5ab7f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 5 17:11:27 2010 +0000

    Add some additional debugging information when components are started or stopped multiple times
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919505 13f79535-47bb-0310-9956-ffa450edef68

commit f3a143a8c13c4826f2380926ed9d5d411be0ce8b
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Fri Mar 5 17:07:14 2010 +0000

    Arrange the french translation submitted by Henri Gomez.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919503 13f79535-47bb-0310-9956-ffa450edef68

commit 237c872c5ac45f29975c209ad41d39bb057d3503
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 5 14:49:39 2010 +0000

    Lifecycle refactoring
    o.a.c.loader - Note WebappClassloader only has a stubbed Lifecycle implementation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919434 13f79535-47bb-0310-9956-ffa450edef68

commit 6591c4c284da9d9154dc83737ed3892022f015c9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 5 14:04:57 2010 +0000

    Revert r919347. On error , we don't need the read lock.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919421 13f79535-47bb-0310-9956-ffa450edef68

commit 8cb285511c32216d21aead3398dfe75df03c9005
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 5 09:35:17 2010 +0000

    Ensure read lock is obtained before write lock is released on an error condition
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919347 13f79535-47bb-0310-9956-ffa450edef68

commit 94dd25abfa9f9d10354b1884169145f4c8fe0e80
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 5 09:08:45 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48861 for Tomcat 7 (missed a couple)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919341 13f79535-47bb-0310-9956-ffa450edef68

commit e7df8ea239cfc898bc39fd53916db311e9b60356
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 5 09:03:30 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48861 for Tomcat 7. Still an issue for Tomcat-lite
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919338 13f79535-47bb-0310-9956-ffa450edef68

commit 55ae1ed9160371f0341a47837541a97756fbd416
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 4 22:16:50 2010 +0000

    Lifecycle refactoring
    Realm: Note most implementations were firing the start event too early
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919208 13f79535-47bb-0310-9956-ffa450edef68

commit ac46a3544add83bcf7bad59b59a0510c66a9b71f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 4 21:20:59 2010 +0000

    Fix svn properties. Patch provided by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919188 13f79535-47bb-0310-9956-ffa450edef68

commit 4a79507bc1c1f2a95b5e2512665e21fdb50c29f9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 4 21:18:03 2010 +0000

    Lifecycle refactoring
    StandardPipeline
    (and turn Eclipse compilation warnings up to 11)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919187 13f79535-47bb-0310-9956-ffa450edef68

commit a9213b60a6d6b7b0488eb864e86657a16c22b7ae
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 4 19:17:32 2010 +0000

    Lifecycle refactoring
    StandardService - Note use of LifecycleState.MUST_STOP in Catalina to ensure shutdown
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919138 13f79535-47bb-0310-9956-ffa450edef68

commit f8d2252c779c0feee19f74ffdfeba4f0763f3262
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 4 18:55:30 2010 +0000

    Fix eol-style
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919128 13f79535-47bb-0310-9956-ffa450edef68

commit 03f5ba344a2b617b96ad2c12ca50e560f7c43d83
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 4 18:49:21 2010 +0000

    Make toString() consistent with other components
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919123 13f79535-47bb-0310-9956-ffa450edef68

commit 2bb7162dcb7d018af8d4c3927d158d6ee869223b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 4 18:47:17 2010 +0000

    Lifecycle refactoring
    StandardServer - relatively straight forward
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919121 13f79535-47bb-0310-9956-ffa450edef68

commit 18490d9837d855ab32b0c296dd4e45939feb76f9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 4 18:34:36 2010 +0000

    Lifecycle refactoring
    Connector - relatively straight forward
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919115 13f79535-47bb-0310-9956-ffa450edef68

commit 8089ef6592485c809ba58a8d70f6908f2ac53698
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 4 18:07:59 2010 +0000

    Lifecycle refactoring.
    In an effort to reduce code duplication and improve consistency, provide a base Lifecycle implementation. This will be used as the basis of the refactoring of the components that implement Lifecycle
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919102 13f79535-47bb-0310-9956-ffa450edef68

commit c1b99c5ba464d29ff016770e8496ccd9ff106c8d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 4 18:06:21 2010 +0000

    Lifecycle refactoring.
    Part 1 of many.
    Better define the start and stop methods as well as the overall component lifecycle and the relationship between start/stop, component state and events.
    Add a getState() method but it is commented out in this checkin to prevent compilation errors. It will be uncommented once the method has been added to the components that implement Lifecycle.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919100 13f79535-47bb-0310-9956-ffa450edef68

commit 52290982a2f5bcfa7af5b707b54c5c7298353997
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Mar 4 17:21:41 2010 +0000

    Add in and document more XA support
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@919076 13f79535-47bb-0310-9956-ffa450edef68

commit 65093e0556a3073bf0097e532486a9a6021b2386
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 4 12:05:06 2010 +0000

    Revert r917784 and r905722 - changes associated with the invalid bug 48050
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@918957 13f79535-47bb-0310-9956-ffa450edef68

commit f4cb82f70f747c7177d7e88d28e99b0d4d6bcfdb
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Mar 4 10:19:52 2010 +0000

    Move source/target JDK versions to the main section of the manifest,
    because these values belong to the JAR file as the whole, not to some subset of it.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@918923 13f79535-47bb-0310-9956-ffa450edef68

commit 2770fac4388eab7144bebdce3ae1360a15fc521e
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Mar 4 09:47:35 2010 +0000

    If subsection name is not unique, prefix the anchor name with the name of section that contains it.
    This is especially useful for the Tomcat configuration docs, where names such as "Introduction" or "Attributes" are not unique. See e.g.
    config/filter.html
    config/valve.html
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@918914 13f79535-47bb-0310-9956-ffa450edef68

commit 28d76cfb7b81cf66d7f7b7ccc49895b187f78b81
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Mar 4 08:49:38 2010 +0000

    svn:eol-style, no functional change
    (followup to r918682)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@918895 13f79535-47bb-0310-9956-ffa450edef68

commit 11ca0ae617b4d299f6cf95b099e433716db9e379
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Mar 4 08:05:36 2010 +0000

    Fix 1. of https://issues.apache.org/bugzilla/show_bug.cgi?id=48831#c3
    Ignore the reset() call from java.util.logging.LogManager.Cleaner,
    because we have our own shutdown hook that will take care.
    
    There are three hooks that run at VM shutdown:
    1. j.u.l.LogManager.Cleaner
    2. o.a.j.ClassLoaderLogManager.Cleaner
    3. o.a.c.startup.Catalina.CatalinaShutdownHook
    2. vs. 3. was taken care by r910974 and r918594. This takes care of 1. vs. (2.,3.)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@918885 13f79535-47bb-0310-9956-ffa450edef68

commit 1ad666d267ddab50db57e73fa00c8537d5b11e30
Author: Mladen Turk <mturk@apache.org>
Date:   Thu Mar 4 07:27:32 2010 +0000

    If CATALINA_BASE is not defined we would try to read directly from /bin/setenv.sh file
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@918883 13f79535-47bb-0310-9956-ffa450edef68

commit 3445dc3dba7b15f2fff27faef77003215f62e49a
Author: Mladen Turk <mturk@apache.org>
Date:   Thu Mar 4 06:43:30 2010 +0000

    Use eval instead direct call or exec command so that arguments with spaces are properly handled
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@918873 13f79535-47bb-0310-9956-ffa450edef68

commit 891af62fdcb897a2afdc4177eb1b08d50f756d8d
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Mar 4 01:01:48 2010 +0000

    Mark JNDIRealm.User class constructor as public. The class itself remains protected.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@918803 13f79535-47bb-0310-9956-ffa450edef68

commit f2321ea53f479721e7af79a27a2c54c979c13b49
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Mar 4 00:46:44 2010 +0000

    Followup to r918594
    Be more strict with try/finally when locking
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@918799 13f79535-47bb-0310-9956-ffa450edef68

commit 0267bff2ccbc700284cb0e40e72c07ab9c772796
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Mar 4 00:28:47 2010 +0000

    Followup to markt's r918594
    Replace tabs with four spaces. No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@918792 13f79535-47bb-0310-9956-ffa450edef68

commit 9b8038f2817ab42893f8b77e444ee11943db9fbb
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Mar 4 00:18:44 2010 +0000

    Fix 2. of https://issues.apache.org/bugzilla/show_bug.cgi?id=48831#c3
    When resetting a logger do not close handlers that do not belong to the current class loader.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@918787 13f79535-47bb-0310-9956-ffa450edef68

commit 718992548fe3ceabad56994eb7c6e05f34ae9d31
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 3 21:00:22 2010 +0000

    Revert previous fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=47977 that caused regression https://issues.apache.org/bugzilla/show_bug.cgi?id=48827 and implement an alternative fix
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@918684 13f79535-47bb-0310-9956-ffa450edef68

commit 715989d6596102cabbad694d927f7a6f370e72cb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 3 20:59:23 2010 +0000

    Add tests for bugs 47977 and 48827
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@918682 13f79535-47bb-0310-9956-ffa450edef68

commit e54e5dbf25c00a64f8a24733d3d3b67ee3163418
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 3 19:27:25 2010 +0000

    Echo tags are not expected to have bodies. Has the happy side-effect of providing a tag that can be used to test bug 48827.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@918651 13f79535-47bb-0310-9956-ffa450edef68

commit 68b2ba9bcc3d7930d915c5f1e8c24522a699e22f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 3 17:26:54 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48831
    Address issues 1 & 2 by using a ReadWriteLock to control access to the writer. This ensures messages won't be written while the writer is null. Note there is no (easy) way to not close the handler.
    Address issue 3 by re-enabling the JULI shutdown hook if JULI is being used and Tomcat isn't stopped via a shutdown hook.
    Address issue 4 by making ClassLoaderLogManager#useShutdownHook volatile
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@918594 13f79535-47bb-0310-9956-ffa450edef68

commit 818de91e47888742b865537a963bbd4c9aebf2ea
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 3 14:38:01 2010 +0000

    Implement review feedback
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@918489 13f79535-47bb-0310-9956-ffa450edef68

commit 5e367118a5ecfa57d5d52355365f9b426b2ab25b
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Mar 3 14:21:09 2010 +0000

    Add generated TOC,
    replacing manual TOC if it was present earlier
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@918482 13f79535-47bb-0310-9956-ffa450edef68

commit 32bb26b7a7c440ef993258007eb7ae84db6f6101
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Mar 3 13:16:55 2010 +0000

    Add generated TOC,
    replacing manual TOC if it was present earlier
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@918461 13f79535-47bb-0310-9956-ffa450edef68

commit 5982cb3f2235833762cfff39255863439efc49cd
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Mar 3 12:37:43 2010 +0000

    Replaced manual TOC with generated one and corrected tags nesting.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@918445 13f79535-47bb-0310-9956-ffa450edef68

commit c570114eb22deb90f7ad9b86813f4f2e1f7c8ee8
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Mar 3 10:53:48 2010 +0000

    Added "r" to the text of revision number links generated from <rev> tag.
    As of now, those are used in changelog.xml only.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@918396 13f79535-47bb-0310-9956-ffa450edef68

commit 5070d89d9a2c60d9039a6ef2fdb1a8aee5c794ce
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 2 16:02:25 2010 +0000

    Better fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=48660
    As per Konstantin's comments, ensure a single Vary header is used and take account of * if present
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@918093 13f79535-47bb-0310-9956-ffa450edef68

commit e00e86151f08eb20ebce40a6528814eea7dcfce5
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Mar 2 15:23:06 2010 +0000

    Implement support for automatic generation of Table of Contents.
    It is triggered by <toc/> element.
    Section header is not included into generation, so the complete code fragment to add will be
    <section name="Table of Contents">
    <toc/>
    </section>
    The html-manager-howto.xml provides a usage example for this.
    Also corrected minor issues with tags nesting, reported by w3c validator.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@918073 13f79535-47bb-0310-9956-ffa450edef68

commit e921b5bb5e6b7cf9590f4c38daa614b625dee1bd
Author: Mladen Turk <mturk@apache.org>
Date:   Tue Mar 2 13:08:14 2010 +0000

    As per Remy's suggestion use the new ABI only if present
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@918017 13f79535-47bb-0310-9956-ffa450edef68

commit 65a51478cb6d27e3fccb67f4d6584d19ee31b7d9
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Mar 2 11:58:28 2010 +0000

    Use definitions list instead of unordered list.
    Add information about extras and sources.
    Add charset information to the <META> tag.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@917984 13f79535-47bb-0310-9956-ffa450edef68

commit 9c6413fd09a44009452a831dbb647ed5e8d36847
Author: Mladen Turk <mturk@apache.org>
Date:   Tue Mar 2 11:48:02 2010 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@917978 13f79535-47bb-0310-9956-ffa450edef68

commit 0e3a1254949b0723cd757da140db7398ee453cf1
Author: Mladen Turk <mturk@apache.org>
Date:   Tue Mar 2 09:19:45 2010 +0000

    With unsafe reneg, minimum required is 1.2.21 caused by API change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@917931 13f79535-47bb-0310-9956-ffa450edef68

commit 148b6c41b3d6f9d70666a5e6e734756604f2db66
Author: Mladen Turk <mturk@apache.org>
Date:   Tue Mar 2 09:14:44 2010 +0000

    Port SSLInsecureRenegotiation from mod_ssl
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@917928 13f79535-47bb-0310-9956-ffa450edef68

commit e9abdc4cdb70dfa7d8810c9463f2bf4f1081334b
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Mar 2 09:04:59 2010 +0000

    Do not mention Tomcat version unless necessary.
    Especially, do not mention Tomcat 6 in Tomcat 7 docs.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@917924 13f79535-47bb-0310-9956-ffa450edef68

commit c79e59edf8ccfdb7c2cd73902fb8e7f58f1e308a
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Mar 2 08:05:40 2010 +0000

    Amend the documentation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@917907 13f79535-47bb-0310-9956-ffa450edef68

commit 390724f579fb605c71cdab2e83e193f8f8e212c4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 1 23:14:12 2010 +0000

    Correct fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=48050
    NamingContext.createSubcontext method returns Context with wrong name
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@917784 13f79535-47bb-0310-9956-ffa450edef68

commit 32ccb84086af3cc119d5b81bb20db5b03bc5a8b0
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Mar 1 18:25:39 2010 +0000

    Amend the messages displayed by Find Leaks diagnostics in the Manager application.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@917633 13f79535-47bb-0310-9956-ffa450edef68

commit b581f6805f6ec0db96f9f3b672c865f94e0def32
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Mar 1 17:16:42 2010 +0000

    Move sessionDetail.jsp sessionsList.jsp of Manager webapp into WEB-INF/jsp/
    Those are not supposed to be callable directly.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@917598 13f79535-47bb-0310-9956-ffa450edef68

commit 7ce74fdb64120e6369ba5f5abcc24907a6f8585f
Author: Mladen Turk <mturk@apache.org>
Date:   Fri Feb 26 14:51:31 2010 +0000

    I suppose no one needs my home dir :) Revert to default
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@916701 13f79535-47bb-0310-9956-ffa450edef68

commit ad81c4258de4a616dfdb8b36c2000a3927951f2f
Author: Mladen Turk <mturk@apache.org>
Date:   Fri Feb 26 14:49:15 2010 +0000

    Update to Commons Daemon 1.0.2 and use procrun from upsream distribution. Axe our binary spins
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@916700 13f79535-47bb-0310-9956-ffa450edef68

commit 99a6d6a5303bd5ba534b2e70ac4f6cff8c0863b0
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Feb 25 19:34:55 2010 +0000

    correct download location
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@916417 13f79535-47bb-0310-9956-ffa450edef68

commit 15e9a2053611610e3561ff803324c123ae3879f3
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Feb 25 17:21:10 2010 +0000

    upgrade location and version of H2, this location should not change as frequently
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@916361 13f79535-47bb-0310-9956-ffa450edef68

commit 822fb2c70d1dc3b6f05a5a44e37191c429d9d05a
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Feb 25 09:32:08 2010 +0000

    correct a typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@916196 13f79535-47bb-0310-9956-ffa450edef68

commit d2e7987bb86c9cc07de6033ba172b8b06066bb8c
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Feb 25 08:06:19 2010 +0000

    Correct the number
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@916170 13f79535-47bb-0310-9956-ffa450edef68

commit da6f23005ed13d3226faa85480cbb5d042aec138
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Feb 25 07:03:14 2010 +0000

    Improvements for JspC:
    - allow the encoding used for web.xml files to be specified explicitly,
    - allow the addWebXmlMappings option to be specified on the command line
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@916157 13f79535-47bb-0310-9956-ffa450edef68

commit 9db52711502315598ba73412a5ecbd042d88faaa
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Feb 25 06:08:58 2010 +0000

    Remove unused public methods
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@916143 13f79535-47bb-0310-9956-ffa450edef68

commit 0d7cf3965b5a83548d8817c29e8ab0276c7dc26e
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Feb 25 06:05:55 2010 +0000

    updated the JavaDoc
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@916141 13f79535-47bb-0310-9956-ffa450edef68

commit 921974dbd51a868639d08c073657f699441ed85f
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Feb 25 02:58:25 2010 +0000

    fix for #mergeIntoWebXml()
    Note that the "inserted" flag was never set to true in the old code.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@916097 13f79535-47bb-0310-9956-ffa450edef68

commit 4afd23d6c4e35fe2e9c271fca697b97c57c563ea
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Feb 24 19:27:09 2010 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=48392
    Add an interceptor to be able to wrap existing statements and result sets to prevent code from accessing the connection
    Patch submitted by gsfernandes@gmail.com
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@915940 13f79535-47bb-0310-9956-ffa450edef68

commit 39947e4c4b6ac49ac2ff16024cb27ada42253e03
Author: Costin Manolache <costin@apache.org>
Date:   Wed Feb 24 18:03:00 2010 +0000

    Moved utils to connector ( the servlet part will either go away or be a separate package ). Make it compile again on android. Few sync
    issues found while load testing. SSL fixes. Separate build target for connector.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@915902 13f79535-47bb-0310-9956-ffa450edef68

commit 8ff32ae7db2753f129dd8135d04714020aa01167
Author: Mladen Turk <mturk@apache.org>
Date:   Wed Feb 24 16:49:19 2010 +0000

    Fix thrown accept error on shutdown
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@915861 13f79535-47bb-0310-9956-ffa450edef68

commit 9acfa251796165a388a303e75256fa241ad13d1f
Author: Rainer Jung <rjung@apache.org>
Date:   Wed Feb 24 11:35:58 2010 +0000

    Add remark about reliability of System.gc() to
    manager diagnostics docs.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@915757 13f79535-47bb-0310-9956-ffa450edef68

commit b4541b68cc4df65fbeb10a310468e455d6d0cb04
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Feb 24 10:12:58 2010 +0000

    fixes for #getElement():
    - avoid infinite looping on unexpected end of file
    - fix XML comment reading
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@915737 13f79535-47bb-0310-9956-ffa450edef68

commit d1434051e3bac842ea127665b8d315ec22f9a50c
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Feb 23 07:36:05 2010 +0000

    Update version of native bundled in distributives to 1.1.20.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@915226 13f79535-47bb-0310-9956-ffa450edef68

commit 1b67b47de194d356f4fcedd87f72b5819d8eefe6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 22 21:45:35 2010 +0000

    Remove comment. jvmRoute replacement happens elsewhere
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@915076 13f79535-47bb-0310-9956-ffa450edef68

commit 655d44e008f16b49cf177ceddda8719e223a741d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 22 21:44:43 2010 +0000

    Remove comment - odds of session duplication are so small to be insignificant
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@915075 13f79535-47bb-0310-9956-ffa450edef68

commit 0c6d7440df3a2121d23f41abefa60358752bd16d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 22 21:21:06 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48783
    Correct defaults
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@915072 13f79535-47bb-0310-9956-ffa450edef68

commit 98f04f7b5a080e6f7765b2bf1b3dff5fc5e76d6f
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Feb 19 23:02:49 2010 +0000

    In some drivers, the call to setTransactionIsolation should be the very first call
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@912026 13f79535-47bb-0310-9956-ffa450edef68

commit e63ca92f861326baa8856cb54d38cec06cb6d0f2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 18 21:35:48 2010 +0000

    Comment typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@911601 13f79535-47bb-0310-9956-ffa450edef68

commit 0336663a2da30123f07e707614ff27a67b0f26f3
Author: Mladen Turk <mturk@apache.org>
Date:   Thu Feb 18 16:44:57 2010 +0000

    Make sure we favor the values from AjpMessage.processHeader. If the signature is invalid len can be any random number in that case
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@911481 13f79535-47bb-0310-9956-ffa450edef68

commit 685da85bc8b801d7c3f61e02e2c17f841ae05511
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 17 13:53:08 2010 +0000

    More (minor) lifecycle clean-up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@910975 13f79535-47bb-0310-9956-ffa450edef68

commit 7d8f1d52ffff3def5c18ed7ac71b0f4ec73b801d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 17 13:51:37 2010 +0000

    Improve logging behaviour when shutdown occurs via a shutdownhook. If present, use Catalina's shutdown hook to shutdown Tomcat and JULI. This enables them to be shutdown in the correct order.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@910974 13f79535-47bb-0310-9956-ffa450edef68

commit 71a40aac5b0204341facb772dfcf65034fd47866
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 17 13:44:28 2010 +0000

    Hold off on update until archive syncs (should be no more than 24 hrs)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@910969 13f79535-47bb-0310-9956-ffa450edef68

commit fe26e6e5f659f0b98343b899b49069d824b12692
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 17 12:28:13 2010 +0000

    Update to latest native connector
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@910947 13f79535-47bb-0310-9956-ffa450edef68

commit beb37a770feef8c94af8458f6cb3dd1e0bea91eb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 17 09:38:07 2010 +0000

    More lifecycle clean-up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@910883 13f79535-47bb-0310-9956-ffa450edef68

commit 2e35455b5a242675ad9a6f0a3f178e8e316310d7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 17 09:21:30 2010 +0000

    Remove unused imports
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@910879 13f79535-47bb-0310-9956-ffa450edef68

commit dcf5b025d9cb3f90b7303858a28daae5c515d5f2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 17 09:20:59 2010 +0000

    Add Lifecycle to Container, Server and Service
    Remove casts instanceof tests and any other code this makes unnecessary
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@910877 13f79535-47bb-0310-9956-ffa450edef68

commit 039c64faba864e371fb7ada0acaf8aabf1910320
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Feb 17 02:26:41 2010 +0000

    Provide slightly more efficient implementations for ScopeMap.size() and ScopeMap.containsKey().
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@910803 13f79535-47bb-0310-9956-ffa450edef68

commit 65c3b34ec53678118627df909a7be1584f44b41b
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Feb 17 01:52:41 2010 +0000

    Fix a bug in ImplicitObjectELResolver.ScopeMap intruduced when applying generics there:
    the get(String) and remove(String) methods were not overwriting the ones of AbstractMap,
    because those are declared as get(Object) and remove(Object),
    thus using ineffective implementations provided by AbstractMap.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@910796 13f79535-47bb-0310-9956-ffa450edef68

commit eb06b92925deec9f99f883471479a4f69fc0f5ba
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Feb 17 01:10:34 2010 +0000

    Apply my patch from https://issues.apache.org/bugzilla/show_bug.cgi?id=48616#c20
    This patch
    - Reverts r905145,
    - Provides an alternative fix for bug 48616 and bug 42390,
    - Replaces Vector -> List, Hashtable -> HashMap in the affected API.
    
    JspFragments are scriptless, so no need to declare or sync scripting
    variables for fragments. Since errors in syncing the scripting variables for
    JSP Fragments caused 48616 & 42390, this fixes both these bugs too.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@910792 13f79535-47bb-0310-9956-ffa450edef68

commit 8e6106c51d6b3e0a9bfb2c7651db9d7de3d9bbc3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 16 21:15:21 2010 +0000

    Revert r904914. https://issues.apache.org/bugzilla/show_bug.cgi?id=48629
     now proposes a better solution
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@910695 13f79535-47bb-0310-9956-ffa450edef68

commit 08a302ee2dcf3751e39c9eec01467a9e7bf0f16a
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Feb 16 17:29:57 2010 +0000

    If the memory leak occured in the ROOT application, display "/" instead on an empty line
    
    It might be better to apply this fix to StandardHost.findReloadedContextMemoryLeaks(),
    as it is equally hard to see an empty string when calling this method through JConsole,
    but I am not sure that I want to introduce irregularity into the API.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@910612 13f79535-47bb-0310-9956-ffa450edef68

commit c82b704fa48e85bfe7a1f48149e1a6c205396530
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 16 17:23:23 2010 +0000

    Manifest improvements
    - automate copyright year
    - add manifests for el & annotations
    - improve default NOTICE
    - add info to bootstrap manifest
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@910604 13f79535-47bb-0310-9956-ffa450edef68

commit 1c93f701e9b86397604244295b53e5b15e1a7b7f
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Feb 16 16:34:10 2010 +0000

    correct a misprint
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@910584 13f79535-47bb-0310-9956-ffa450edef68

commit 3d04b5bd3cf434f377164d09a10d03a7909c68dd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 16 11:40:55 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48589
    Make JNDIRealm easier to extend by making the User class protected
    Based on a patch by Candid Dauth
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@910485 13f79535-47bb-0310-9956-ffa450edef68

commit 7301a105ca15ee30d29be061206ee514ad0fe450
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 16 11:07:00 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48582
    Avoid NPE as config may be null but ctxt won't be
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@910471 13f79535-47bb-0310-9956-ffa450edef68

commit 9e55819e9e7efe4a4a3398ba10f53246978d13d5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 16 09:27:49 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48580
    Prevent AccessControlException if first access is to a JSP that uses a FunctionMapper
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@910442 13f79535-47bb-0310-9956-ffa450edef68

commit 9470327d8ca9a8b4f28e642f0f3a72e997dc4051
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Feb 16 04:52:38 2010 +0000

    Additional test for BZ 48616
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@910395 13f79535-47bb-0310-9956-ffa450edef68

commit 789ac1e2ccc86f2037b82ed8d388f430cc8131d8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 16 00:46:07 2010 +0000

    Workaround Java 6/7 bug described in https://issues.apache.org/bugzilla/show_bug.cgi?id=48498
    Avoid the ArrayIndexOutOfBoundsException
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@910370 13f79535-47bb-0310-9956-ffa450edef68

commit cf857a0c18c87179f32b79e0784eb986263aec07
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 15 17:14:27 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48545
    Truststores don't have to have passwords
    Based on a patch by 'smmwpf54'
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@910266 13f79535-47bb-0310-9956-ffa450edef68

commit eff5bb0708615179c4155e6298d4305d181efdbe
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 15 08:09:39 2010 +0000

    Spacing
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@910172 13f79535-47bb-0310-9956-ffa450edef68

commit 076a28ce132e0758e4448b8d1876a2fc003915d3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 15 08:09:05 2010 +0000

    Update to dbcp 1.4 release that supports JDBC4 and compiles on Java 6
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@910171 13f79535-47bb-0310-9956-ffa450edef68

commit 68a4e33239bd0dabdffbfc450cdbf09d297d8a9d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 15 00:06:05 2010 +0000

    Use the Context interface rather than StandardEngine
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@910134 13f79535-47bb-0310-9956-ffa450edef68

commit bbb0999ea47dc0d1bf743dfa4ceedb914fb7eb35
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 14 23:54:52 2010 +0000

    Use the Context interface rather than StandardContext
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@910125 13f79535-47bb-0310-9956-ffa450edef68

commit dc9825ab802b6c9a98dbcc3bfa2f9948f4e8c3ae
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 14 23:45:18 2010 +0000

    Use interfaces in o.a.c.startup.Tomcat and update tests as appropriate
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@910123 13f79535-47bb-0310-9956-ffa450edef68

commit 205f17f5390996e7345631e2f3020a82eb349de5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 14 23:44:20 2010 +0000

    Add missing test
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@910122 13f79535-47bb-0310-9956-ffa450edef68

commit 0e595cf7c0669428514e6a58d7d0907a12a87b05
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Feb 13 20:12:11 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48384
    Add a per context xslt option for directory listings
    Make the fallback options work as described in the docs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@909887 13f79535-47bb-0310-9956-ffa450edef68

commit 571dd0e0841bec254c40c49019286bed9c105416
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Feb 13 19:22:02 2010 +0000

    Address review comments
    Don't use toString() to try and co-erce any old object to an Enum - the spec only mentions String
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@909875 13f79535-47bb-0310-9956-ffa450edef68

commit 563e315106174ae441022ba080961bbca986dcb3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Feb 13 18:25:07 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48371
    Skip comments when working out where to insert generated servlets and associated mappings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@909869 13f79535-47bb-0310-9956-ffa450edef68

commit 0c0025add1e40227fe91fa2e583a22b027a60427
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Feb 13 18:14:32 2010 +0000

    JavaDoc correction
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@909866 13f79535-47bb-0310-9956-ffa450edef68

commit 132835e213a04ab43c2bf29305bc1be1c7da539a
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Feb 13 18:04:52 2010 +0000

    JavaDoc correction
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@909865 13f79535-47bb-0310-9956-ffa450edef68

commit a9184ee8caf29531002b8a79c4d361093ecdeb7d
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Feb 13 16:37:49 2010 +0000

    reverted Filip's r909673
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@909845 13f79535-47bb-0310-9956-ffa450edef68

commit f89a1276bc4a81c620f57f7f56b326e5b4aeb48c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Feb 13 11:02:23 2010 +0000

    Change a few variable names to reduce potential confusion - no functional change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@909789 13f79535-47bb-0310-9956-ffa450edef68

commit 674a1e58809a25ed4b335e5c220bd2237bd304ea
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat Feb 13 00:51:47 2010 +0000

    fix compilation error
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@909673 13f79535-47bb-0310-9956-ffa450edef68

commit da42e443d9ac7961695d881db68ee4df23c21d4e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 12 22:12:48 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48318
    Handle case where WebDAV resource is in directory listing but is not accessible
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@909636 13f79535-47bb-0310-9956-ffa450edef68

commit 3dde65d93a18c8df2b1b6c5196ec368604dfffd6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 12 21:34:20 2010 +0000

    Update for new Eclipse lib
    Align with new trunk build script
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@909613 13f79535-47bb-0310-9956-ffa450edef68

commit d47900b6b0036b510901a2d58dac84a2202dab7a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 12 19:15:32 2010 +0000

    Add listener before child is added else listener won't get called on first load
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@909563 13f79535-47bb-0310-9956-ffa450edef68

commit 1075936cbbc175efb8c4d1bc05116acbbfb33636
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 12 18:03:48 2010 +0000

    Document new findleaks command
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@909542 13f79535-47bb-0310-9956-ffa450edef68

commit 13f53fbe1990fb7699d6e02a68951dd543d6d39b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 12 17:51:06 2010 +0000

    Add a find leaks option - with a suitable warning to the manager app (html & text)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@909528 13f79535-47bb-0310-9956-ffa450edef68

commit 7da56ef239d5da5948f7f6aad66b67e0e0c13c88
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 12 17:50:22 2010 +0000

    Make class loader registration more robust
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@909526 13f79535-47bb-0310-9956-ffa450edef68

commit 1dfd1b734d127b904d555f2dd5d33b626440699f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 12 17:49:49 2010 +0000

    Looks like the ResourceBundle leaks are triggered by a GC bug - only seems to affect Sun JVMs.
    The fix is also Sun specific so only log a debug message if the internal field can't be found on a non-Sun JVM (it isn't there for IBM for example)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@909525 13f79535-47bb-0310-9956-ffa450edef68

commit 07ae0a1624fc731f483d3b5aa3aafcc6cc357589
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 12 09:58:13 2010 +0000

    Remove quotes from example - they break it
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@909321 13f79535-47bb-0310-9956-ffa450edef68

commit ca89c78cf9b0bdd35d22eb136fe04ac4101eb0b9
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Feb 12 03:19:31 2010 +0000

    When the key is null (i.e., a stale entry), it cannot be removed with an explicit remove(key) call: you'll get an NPE. Those can be removed with expungeStaleEntries() call.
    Also, simplified the code: Reference.referent can be accessed by calling get() - no need to use reflection for that.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@909212 13f79535-47bb-0310-9956-ffa450edef68

commit 651b596680dee51360e5fa818b82d1e5a4cd4882
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Feb 12 02:22:23 2010 +0000

    followup to r908002
    Use the debug message (added in r908002) for debug output
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@909206 13f79535-47bb-0310-9956-ffa450edef68

commit c34c0dec243b3bb19993512feb525b9b0302c343
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Feb 12 02:01:41 2010 +0000

    followup to r909134:
    correct a misprint
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@909204 13f79535-47bb-0310-9956-ffa450edef68

commit 4ed4e6378ce0dc1404552fe65341bc54c3bdda80
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 11 20:32:09 2010 +0000

    Add rudimentary detection for PermGen memory leaks on web application reload. Only available via JMX for now. Next step is to add it to the manager app.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@909134 13f79535-47bb-0310-9956-ffa450edef68

commit b917fa250b8ea02f27e734000e662411fe6d0094
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 11 18:09:08 2010 +0000

    Improved memory leak prevention for resource ResourceBundle
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@909097 13f79535-47bb-0310-9956-ffa450edef68

commit 29063a55f4a9f52632257a1bbf38ecc47fe796b7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 11 16:55:26 2010 +0000

    Revert simple ResourceBundle fix
    On reflection (no pun intended) a reflection based will be better since
    - it can be implemented at a single point
    - it can easily be ported to Tomcat 6
    - it will be able to handle any exotic class loader structures created by apps
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@909072 13f79535-47bb-0310-9956-ffa450edef68

commit 4f77d06d3c851dae5dd4ac219bfc7120efe70644
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 11 15:14:55 2010 +0000

    More memory leak prevention - ResourceBundle
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@909017 13f79535-47bb-0310-9956-ffa450edef68

commit d7ca45fe5875e0446226569f2434fd049444bab5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 11 13:17:05 2010 +0000

    Convert my ApacheCon securing Tomcat presentation to a how to
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@908955 13f79535-47bb-0310-9956-ffa450edef68

commit bf80ddaa399729c2c76072e2ad10d848110c67a5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 11 12:23:36 2010 +0000

    This is no longer security related as unsafe usage is blocked
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@908942 13f79535-47bb-0310-9956-ffa450edef68

commit 53e067401b6a2d9d2b3da8cd8e9977e42cfa6796
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 10 23:47:11 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48726
    Prevent OOME when uploading large files with the deployer
    Patch provided by 'adam'
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@908759 13f79535-47bb-0310-9956-ffa450edef68

commit 00dd2de85162ab7fa3227121943ebc68cfc629ba
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 10 23:36:51 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48716
    Provide an undocumented 'shoot yourself in the foot' option to disable the JULI logging reset
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@908754 13f79535-47bb-0310-9956-ffa450edef68

commit 3e319bd66d8bca1d039324deca9ba7f1f79ce246
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 10 22:55:58 2010 +0000

    Update logging docs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@908721 13f79535-47bb-0310-9956-ffa450edef68

commit 515be4eb538bf6dfd9297f687ce8a1781305ad5c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 10 22:41:55 2010 +0000

    Part of fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=48694 that is not in trunk
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@908701 13f79535-47bb-0310-9956-ffa450edef68

commit c4bc093b1cd522e03db52adbb9875103a84fc73e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 10 22:40:14 2010 +0000

    Another copy/paste error
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@908697 13f79535-47bb-0310-9956-ffa450edef68

commit 604708de776966f904ef980fd7278da9c86ed643
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 10 22:39:35 2010 +0000

    Clean-up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@908696 13f79535-47bb-0310-9956-ffa450edef68

commit e0147ee0b09218670377a4f9ccfdcaaaccf12028
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 10 19:37:13 2010 +0000

    Javadoc police
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@908645 13f79535-47bb-0310-9956-ffa450edef68

commit 148b9c26b10c9a54b72eb2526862d4ba102bc147
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Feb 10 13:10:51 2010 +0000

    Improvements for building jasper-jdt.jar:
    - Rebuild jasper-jdt.jar if jdt.jar was updated or redownloaded, or the build file was updated
    - Purge target directory before unjarring, to avoid repacking stale files
    - Clean unjarred files after the build as they are not needed
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@908484 13f79535-47bb-0310-9956-ffa450edef68

commit 3b59b1ed1708f2b7a9e58d9f758c67a472088391
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Feb 10 00:50:40 2010 +0000

    - Update JDT compiler to version 3.5.1
    - Use JDT Core Batch Compiler download instead of JDT SDK download. It lessens the download size from 40 MB down to 1.6 MB.
    - Implement support for two alternative download locations of a file.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@908300 13f79535-47bb-0310-9956-ffa450edef68

commit 3e381accde6470961ab636b22633cb3673fe2d51
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 9 11:51:30 2010 +0000

    Update to latest version of JDT compiler
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@908009 13f79535-47bb-0310-9956-ffa450edef68

commit d4d718a72093c7e5f12ddff9f9f1c1a93ff685af
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 9 11:17:05 2010 +0000

    If the ThreadLocal is set to null, there won't be a memory leak but GC is required to clean up the keys. Continue to remove the keys if found to reduce the volume of data that has to be looked at when tracing memory leaks.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@908002 13f79535-47bb-0310-9956-ffa450edef68

commit d09efabc8146779d213f2d613ed8c430f05d8119
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 9 10:24:37 2010 +0000

    Split out the download target so only dependencies for the current target are downloaded rather than everything
    Move the bayeux download to the bayeux build file
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907991 13f79535-47bb-0310-9956-ffa450edef68

commit 283b085cde06d120f3fdf76eb5d10f4e98d0d8ce
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 9 09:25:35 2010 +0000

    Speed up a clean build slightly and provide Eclipse with a permanent location for the web services libraries
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907983 13f79535-47bb-0310-9956-ffa450edef68

commit d269a08a4a0eda3025298a8d9246858424f01c6e
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Feb 9 01:06:01 2010 +0000

    Fix parsing bug spotted when reviewing r907538
    Allowing #{} expressions to be parsed even when they are disabled breaks ${} expressions if they are intermixed with them. See the testcase added in r907860, r907862.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907864 13f79535-47bb-0310-9956-ffa450edef68

commit 805203316d3e11bc6e55036325472fdc99070003
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Feb 9 01:02:12 2010 +0000

    Additional test from review of r907538
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907862 13f79535-47bb-0310-9956-ffa450edef68

commit 10d1bcfd7af9e7b68355e67e44e17eb55cbc7711
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Feb 9 01:01:23 2010 +0000

    Additional test from review of r907538
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907860 13f79535-47bb-0310-9956-ffa450edef68

commit c09753bed456af1dbe03f37cdaac6e45796222ad
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 8 22:20:55 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48170
    Remove unnecessary syncs that cause issues under heavy load
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907825 13f79535-47bb-0310-9956-ffa450edef68

commit bab5504ccf223fb31ebf9f9392f4f735483bd45a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 8 22:15:36 2010 +0000

    Tab police and line length
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907824 13f79535-47bb-0310-9956-ffa450edef68

commit dda2cbc230877f5415a526f60c6606eb61537af3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 8 22:07:24 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48109
    Extent try catch block (diff is a lot simpler if you ignore whitespace) to ensure InputStream is closed.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907819 13f79535-47bb-0310-9956-ffa450edef68

commit af1f780313f975c13db6d2c5c084a72ffd44429a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 8 19:29:53 2010 +0000

    Log when a valid shutdown command is received. This may help in tracking down "Tomcat just stops" style reports.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907768 13f79535-47bb-0310-9956-ffa450edef68

commit e80004eaec84f9d7b23202df332bca23500890c1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 8 17:07:28 2010 +0000

    Allow the global naming context to be reset. Useful when running multiple embedded instances in series since it allows each instance to configure its own global naming context.
    Doesn't help with multiple instances in parallel - but that was broken anyway.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907727 13f79535-47bb-0310-9956-ffa450edef68

commit b638076fc7b9b33434a6d9223e847f410698838b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 8 16:47:47 2010 +0000

    Get logic right way around
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907721 13f79535-47bb-0310-9956-ffa450edef68

commit 34ffdd6f79a1c80a24ec2eb4d078ca992bb62a72
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 8 16:45:08 2010 +0000

    Avoid adding the package twice
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907720 13f79535-47bb-0310-9956-ffa450edef68

commit 2e1030535435976e2a9b2c17d659fa29b69add52
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 8 16:25:13 2010 +0000

    Ensure appBase is valid. Prevents spurious stacktraces in tests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907717 13f79535-47bb-0310-9956-ffa450edef68

commit 5a71ee667e325a3184ab9f56a949d643ce396424
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 8 16:13:21 2010 +0000

    Make the tesst easier to debug
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907713 13f79535-47bb-0310-9956-ffa450edef68

commit da621728fe2a9450826f6e6d07e141edb79cdbe0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 8 13:29:13 2010 +0000

    More memory leak protection on reload.
    Use of java.util.Timer
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907652 13f79535-47bb-0310-9956-ffa450edef68

commit 6afe00181775e027cedd87a9f0cf1b2e0a6e5d2c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 8 13:27:45 2010 +0000

    Protect against NPE whilst running the test
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907651 13f79535-47bb-0310-9956-ffa450edef68

commit 9252fc38e80b3def1b15df7f532c3956799551b2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 8 12:57:08 2010 +0000

    Add a test case for TimerThread thread/memory leaks on reload as I have some ideas on how to safely terminate those threads
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907646 13f79535-47bb-0310-9956-ffa450edef68

commit ce0670a0881654bae398670db3aa713132090b6b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 8 02:27:43 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48660
    Compression should add to Vary header rather than over-write it
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907544 13f79535-47bb-0310-9956-ffa450edef68

commit 99051555cdb0e91c2b1da79c6f18cd92d50657b8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 8 02:06:49 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48665
    Correct package in Javadoc
    Patch provided by Cyrille Le Clerc
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907541 13f79535-47bb-0310-9956-ffa450edef68

commit 9252d96ca703e7ccbe5ef3817b79c497e40ba0c7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 8 02:00:58 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48668
    Don't look for EL matches (which swallow the EL match string) if EL is not enabled
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907538 13f79535-47bb-0310-9956-ffa450edef68

commit d45ffab572f6d2c273e467bc742cd009eb921ffa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 8 01:59:35 2010 +0000

    Update with recently added tests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907537 13f79535-47bb-0310-9956-ffa450edef68

commit 6e2e25dddb24c27f2d3ba72e8d74becae58374a0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 8 01:58:06 2010 +0000

    Add test cases for bug 48668
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907534 13f79535-47bb-0310-9956-ffa450edef68

commit aee42ef1b0855c30868c4b4ed959c95e7c2e3029
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 7 23:30:45 2010 +0000

    As pointed out by bug https://issues.apache.org/bugzilla/show_bug.cgi?id=48672, the host-manager application docs do not exist. Make this clear.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907513 13f79535-47bb-0310-9956-ffa450edef68

commit 6f48cde046323392295d26a52b9b1d3702e26fdb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 7 22:16:40 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48643
    Clean up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907502 13f79535-47bb-0310-9956-ffa450edef68

commit bdd3f33b708c247b110cbb3d483659cfe7892570
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 7 21:26:28 2010 +0000

    Avoid NPEs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907497 13f79535-47bb-0310-9956-ffa450edef68

commit 8cf599cf1ffbf56756fdfa2e1beb52eeda6cbda7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 7 21:21:39 2010 +0000

    Get URI and location the right way around
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907496 13f79535-47bb-0310-9956-ffa450edef68

commit c076ed9338db37a9c138f63f246131516b4a4233
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 7 21:20:00 2010 +0000

    Actually used the new jspConfigDescriptor
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907495 13f79535-47bb-0310-9956-ffa450edef68

commit f19403bee2c717f277d1050139215a82c4ed7a61
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 7 21:17:02 2010 +0000

    Skip null publicIds
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907494 13f79535-47bb-0310-9956-ffa450edef68

commit 9bcdb582462798b76ec75d062485192ba8c5134d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 7 21:12:03 2010 +0000

    Get javax.servlet.http passing TCK API check
    Removing use of @Deprecated
    Use better comment for this in java.servlet
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907493 13f79535-47bb-0310-9956-ffa450edef68

commit 90bbd468bbcdf8af765e0a98b9c5b67194668d3a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 7 21:02:03 2010 +0000

    Get javax.servlet passing TCK API check
    Mainly removing generics and @Deprecated
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907490 13f79535-47bb-0310-9956-ffa450edef68

commit 13e704f4ae0fe4f6933f87f2fdd7e110b47224b9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 7 20:18:26 2010 +0000

    Restore the JSP mappings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907469 13f79535-47bb-0310-9956-ffa450edef68

commit 61fe9e33a72348442ae23161f4182594bfad6b66
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 7 20:08:54 2010 +0000

    Servlet 3.0
    Remainder of ServletContext plumbing
    Plenty of scope to clean this up
    Only lightly tested so far
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907468 13f79535-47bb-0310-9956-ffa450edef68

commit a24fcc5f84b5c36af710c2634ba66a5008ad480f
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Feb 7 02:17:43 2010 +0000

    Followup to r907355. Correct a misprint
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907367 13f79535-47bb-0310-9956-ffa450edef68

commit c35920409d78d37a46655fa1b349915d187ace63
Author: William Barker <billbarker@apache.org>
Date:   Sun Feb 7 00:56:56 2010 +0000

    Oops, changed the wrong one
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907355 13f79535-47bb-0310-9956-ffa450edef68

commit 07e88aa7094f80a9886a9cc0fb8aa82360d70802
Author: William Barker <billbarker@apache.org>
Date:   Sun Feb 7 00:10:25 2010 +0000

    Remove hard coded dll paths that Gump doesn't like
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907346 13f79535-47bb-0310-9956-ffa450edef68

commit 1cec7593533acfd56fa353fd4975b198b2a49d8c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Feb 6 21:56:30 2010 +0000

    Cosmetic changes
     - fix eclipse warnings
     - tabs to spaces
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907317 13f79535-47bb-0310-9956-ffa450edef68

commit 067e0bab7359e980b792575e66c719b58331233f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Feb 6 21:34:12 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48678
    StandardService already defines server. Having two in the type hierarchy just causes confusion
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907311 13f79535-47bb-0310-9956-ffa450edef68

commit 25df23554e67e7d2968b88a4a5dccb86489eff24
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Feb 6 20:19:27 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48658
    Save test output in files; allow single test to be run
    Patch provided by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907291 13f79535-47bb-0310-9956-ffa450edef68

commit 838d2b28a41db68e2c8b6296f31016c6a4a2403f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 5 17:53:29 2010 +0000

    Remainder of Pipeline clean up. The Pipeline interface is now used in place of StandardPipeline throughout the code base.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@907018 13f79535-47bb-0310-9956-ffa450edef68

commit 37767ed2f9c4dafdf3da1986d3d79c7838079144
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 4 23:22:24 2010 +0000

    Remove the Pipeline interface from ContainerBase
    Access valves via getPipeline() rather than directly on ContainerBase
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@906727 13f79535-47bb-0310-9956-ffa450edef68

commit 1a835803b43439a2f3c0eda138a8192c6a1d7982
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 4 23:19:41 2010 +0000

    Get global naming resources working if naming is enabled
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@906725 13f79535-47bb-0310-9956-ffa450edef68

commit 5e3baf210dcd7bb7016b904f5b2b9d50a4ceaa93
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 4 23:18:12 2010 +0000

    Add a test case for global naming resources with embedded
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@906723 13f79535-47bb-0310-9956-ffa450edef68

commit 6aea8fe4d53fa8e76571746576a5717877e3b41a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 4 22:09:18 2010 +0000

    Move firing the events to StandardPipeline. This way calls to container.addValve() and container.getPipeline().addValve() will both trigger the event.
    Custom pipelines (unlikely but possible) would not trigger the event. The javadocs for Pipeline will be updated to note that they should in a following commit.
    Part of removing the Pipeline interface from ContainerBase
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@906680 13f79535-47bb-0310-9956-ffa450edef68

commit ea102c782cd950635076ef28336470e5470cd975
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 4 21:53:06 2010 +0000

    Prep for removing Pipeline interface from ContainerBase
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@906675 13f79535-47bb-0310-9956-ffa450edef68

commit 80f305fc1a93075a2b7fb5fafc0a2321cbdf1627
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 4 21:26:41 2010 +0000

    Invert the logic for building dbcp/jdt
    a) makes more sense
    b) should keep gump happy
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@906654 13f79535-47bb-0310-9956-ffa450edef68

commit c628e5b7b42da753ba39a701063f7b84f74b2f93
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 4 18:34:47 2010 +0000

    Clarify that the exe is for 32 and 64 bit
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@906597 13f79535-47bb-0310-9956-ffa450edef68

commit 5b756277d3053d24d4b7586430160736bb729f2a
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Feb 4 17:02:15 2010 +0000

    remove a println call
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@906566 13f79535-47bb-0310-9956-ffa450edef68

commit a67e5cafbfdd125f2908aa1a8416e4e93677e2d2
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Feb 4 12:18:28 2010 +0000

    Fix for a bug with processing of double quotes in AttributeParser#parseEL()
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@906465 13f79535-47bb-0310-9956-ffa450edef68

commit 8480d7cf60d9c3449bbcd50a8d0472d040bfeb9f
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Feb 4 12:16:51 2010 +0000

    Test for a bug with processing of double quotes in AttributeParser#parseEL
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@906464 13f79535-47bb-0310-9956-ffa450edef68

commit 8f56688c1954ee2c79752b94e9be0b947952393e
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Feb 4 11:24:07 2010 +0000

    Be a bit more specific in our tests:
    check for <p></p> surrounding the printed text
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@906453 13f79535-47bb-0310-9956-ffa450edef68

commit 9bc5d77e40cd3a8af666369490371837bd61cc29
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 3 19:10:48 2010 +0000

    Servlet 3.0
    Effective major/minor version support
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@906183 13f79535-47bb-0310-9956-ffa450edef68

commit 853a6241656fed9731ca525c2ab73f333fb83312
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 3 17:55:20 2010 +0000

    Refactor
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@906153 13f79535-47bb-0310-9956-ffa450edef68

commit 36484c5209c6e6d390a5137770b24b0683ca3d93
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 3 06:31:38 2010 +0000

    Servlet 3.0 plumbing
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905911 13f79535-47bb-0310-9956-ffa450edef68

commit d694549a2313944fc38568a600c5d62cd9faafa8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 3 06:27:46 2010 +0000

    More servlet 3.0 plumbing
    Fix some Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905910 13f79535-47bb-0310-9956-ffa450edef68

commit 83bc47712cddaef6be184e673517154a6bba9060
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 2 21:01:45 2010 +0000

    Don't build dbcp or jdt unless we have to. This allows adding download as a dep to compile. You can now do:
    svn co...
    ant release
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905793 13f79535-47bb-0310-9956-ffa450edef68

commit 4409bcefcbb0ba5e2cd76e1ad1ffef8c8a509e4b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 2 20:52:15 2010 +0000

    Enable direct building of the javadoc
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905789 13f79535-47bb-0310-9956-ffa450edef68

commit d5971937d3edcc38093930e8456e8011f26c0558
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 2 20:18:16 2010 +0000

    Fix Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905775 13f79535-47bb-0310-9956-ffa450edef68

commit c8576055b7055f6ee446f5e7159a32288ef2ebe0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 2 18:01:56 2010 +0000

    Filter URL so it displays correctly.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905735 13f79535-47bb-0310-9956-ffa450edef68

commit 853fc2567c49093697018c422837bdde8520723b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 2 17:52:17 2010 +0000

    Fix Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905732 13f79535-47bb-0310-9956-ffa450edef68

commit 89b1581bbf87e43c6301b2920551c400bf86e3ee
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 2 17:45:18 2010 +0000

    Correct fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=48039
    Return immediately if already started
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905728 13f79535-47bb-0310-9956-ffa450edef68

commit 6f6891d88cd31e7e3a9647eb1e628218888b8efa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 2 17:44:18 2010 +0000

    Revert previous fix
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905727 13f79535-47bb-0310-9956-ffa450edef68

commit 66fa6d76647a64c9f32a4937b2ee8bfab15b37af
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 2 17:39:11 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48050
    createSubcontext method returns Context with wrong name
    Based on a suggestion by gingyang.xu
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905722 13f79535-47bb-0310-9956-ffa450edef68

commit 0cc94d6688603c8a508f11bebba6a948bf41dd5d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 2 17:27:00 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48039
    Return immediately if already started
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905717 13f79535-47bb-0310-9956-ffa450edef68

commit c85e791b181f30c8a400dfc6ed0de42caa2776bf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 2 17:21:23 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48551
    Use entrySet() rather than keySet() + get()
    Patch provided by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905714 13f79535-47bb-0310-9956-ffa450edef68

commit a9f59e718f444418ec80e0a8ad102168d27e23bf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 2 14:28:15 2010 +0000

    Typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905643 13f79535-47bb-0310-9956-ffa450edef68

commit fc5fb44d4e5c70faf808eba04fc0049511645f00
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 2 13:35:16 2010 +0000

    Update post merge
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905630 13f79535-47bb-0310-9956-ffa450edef68

commit 1789bd8c04d07d1ca4e44a3d11803824ff834222
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 2 13:28:55 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48653
    RemoteIpValve : request.secure and request.scheme are not forced to "false" and "http" if X-Forwarded-Proto=http
    Patch provided by Cyrille Le Clerc
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905627 13f79535-47bb-0310-9956-ffa450edef68

commit 7aa1206c1c591f44ce2dec8bc2716fd9aa947c14
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 2 13:25:42 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48647
    RemoteIpFilter : request.secure and request.scheme are not forced to "false" and "http" if X-Forwarded-Proto=http
    Patch provided by Cyrille Le Clerc
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905625 13f79535-47bb-0310-9956-ffa450edef68

commit c0e1038074250e9d8c3bc2407973813edf1e499c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 2 13:18:32 2010 +0000

    Merge dist.xml into main build script.
    Fix dependencies.
    You can now do:
      ant download
      ant installer
    or any other target
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905622 13f79535-47bb-0310-9956-ffa450edef68

commit 1126eae42f64451e124bb552a4f0208aee809308
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 2 12:45:01 2010 +0000

    Minor cleanup
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905611 13f79535-47bb-0310-9956-ffa450edef68

commit 6d6b3932b815d8c3a59a3cfe737fe10779f011b9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 2 12:43:24 2010 +0000

    More post merge clean-up, mainly using jarIt
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905610 13f79535-47bb-0310-9956-ffa450edef68

commit 71296c8b3b0ad53f13cceba7ef2e975cc76a771f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 2 12:19:58 2010 +0000

    Clean and create dirs in right order so we have temp dir else strange things start to go wrong
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905604 13f79535-47bb-0310-9956-ffa450edef68

commit 4a71141565e21cd0bbc30d965c30d5a55a087e14
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 2 11:02:01 2010 +0000

    Use jarIt macro to build dbcp and jdt jars
    Index JARs by default
    Better patterns for tomcat-api and tomcat-util
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905575 13f79535-47bb-0310-9956-ffa450edef68

commit a61f7e434023d91a87acd0522dee500ed14d80a8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 2 00:26:28 2010 +0000

    Remove separate extras build script
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905474 13f79535-47bb-0310-9956-ffa450edef68

commit 5a187cf2997d3aab7c235ac938c5a9301cd6ffae
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Feb 2 00:23:40 2010 +0000

    Merge in extras.xml
    Still need to look at making greater use of patternsets, jarIt etc for the extras
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905473 13f79535-47bb-0310-9956-ffa450edef68

commit 515c420709cfead10e2e2b3199feb15b4c141472
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 1 23:21:41 2010 +0000

    Clean up the main build file in preparation for merging with dist and extras
     - Add some headers
     - Remove stuff that isn't used
     - Get tests working
     - Fix dependencies
     - Group build targets together
     - rename tmp to manifests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905451 13f79535-47bb-0310-9956-ffa450edef68

commit 56b821b4c9a116de06bbcdc31fbc26d395cf2ca3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 1 23:17:16 2010 +0000

    Update cookie tests. Remove obsolete test
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905450 13f79535-47bb-0310-9956-ffa450edef68

commit 79ba95f3c57953be6fbe087e432021773a402d9d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 1 22:15:48 2010 +0000

    Fix test failure
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905430 13f79535-47bb-0310-9956-ffa450edef68

commit dca44695353d2cd50c05ce7eac439f74553999d0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 1 18:48:22 2010 +0000

    Make the default manifest more useful by adding the full version number
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905360 13f79535-47bb-0310-9956-ffa450edef68

commit f8ad6f3a8f2bdfdbbc44a6e7f8b583fa80e883f0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 1 18:44:43 2010 +0000

    Update JSP spec version
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905358 13f79535-47bb-0310-9956-ffa450edef68

commit ea87e307a861800b495c07386ed19194cde632c0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 1 18:00:44 2010 +0000

    Remove some unused stuff.
    Set eol at start of every target that produces a release artifact
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905348 13f79535-47bb-0310-9956-ffa450edef68

commit 13ba0ab8c6a17ca6957ad36f76c225bc85532102
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 1 17:55:12 2010 +0000

    Trim stuff that isn't used (prior to merging into a single build.xml file)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905347 13f79535-47bb-0310-9956-ffa450edef68

commit 8b213a4f20e3db763f05ba244a5b2df97d94aa68
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 1 17:29:42 2010 +0000

    Don't swallow the exception
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905343 13f79535-47bb-0310-9956-ffa450edef68

commit 095bfbae2ec8a9c1ec84d6d55cf2484eeaea426a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 1 15:23:30 2010 +0000

    Sync docs and APR/native connector config
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905305 13f79535-47bb-0310-9956-ffa450edef68

commit 611e74fc036c4ed4d10d1533fabdc2928c97d621
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 1 15:23:07 2010 +0000

    Tweaks
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905304 13f79535-47bb-0310-9956-ffa450edef68

commit ff363125aa75565a9f037cf63f9fe1e3cd9548b0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 1 15:00:31 2010 +0000

    Remove unused attribute
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905296 13f79535-47bb-0310-9956-ffa450edef68

commit 8e48048c3fe0f4b71c3c790ecb52eff0c5ede67f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 1 14:39:47 2010 +0000

    Align the HTTP and HTTPS documentation with the code. Move the APR/native configuration into the standard config directory.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905290 13f79535-47bb-0310-9956-ffa450edef68

commit 1a3d4f84ba0b8a7bd4c33c87698d7b4928ab0da9
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Feb 1 09:43:10 2010 +0000

    Minor correction to the JavaDoc for AttributeParser class
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905226 13f79535-47bb-0310-9956-ffa450edef68

commit e69952bc6f86cda6488ade47ae58700326362130
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 1 00:24:00 2010 +0000

    Typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905154 13f79535-47bb-0310-9956-ffa450edef68

commit bc97d5cd4ccdcd98bb1b224d119be6a0962f2705
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 1 00:17:55 2010 +0000

    Update info on zip distributions
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905151 13f79535-47bb-0310-9956-ffa450edef68

commit a4ce585224b4d1afbaa1fcf2ab1c9365da5ac7a6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 1 00:04:40 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48616, a regression caused by the fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=42390
    The requirement for variable declaration also depends on whether or not a fragment helper has been used for the parent tag (if any). Where such a helper has been used, the variables must be redefined.
    Test cases for both bugs and the JSP TCK pass with this patch applied.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905145 13f79535-47bb-0310-9956-ffa450edef68

commit 19c60356ecad9985fc97e092f245b191c21281f6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 1 00:01:45 2010 +0000

    Restore the current 6.0.x implementation so patch to fix 48616 will apply cleanly to 6.0.x
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905143 13f79535-47bb-0310-9956-ffa450edef68

commit 3e824ab1fc01dc50d9a82d77d3cec7cc19ad1d0e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 31 23:57:56 2010 +0000

    Add minimal version of test case provided by 'agharta' in for https://issues.apache.org/bugzilla/show_bug.cgi?id=48616
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905142 13f79535-47bb-0310-9956-ffa450edef68

commit b0d3fd2b343dd6a8697e8597886079e2a807963a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 31 22:49:34 2010 +0000

    Add test case for https://issues.apache.org/bugzilla/show_bug.cgi?id=42390
    JSP & tag file provided by MicroNova YUZU Team
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905133 13f79535-47bb-0310-9956-ffa450edef68

commit c0ec24d82248b01492d166632fe5a73c6f0c132e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 31 17:07:26 2010 +0000

    Align implementation with comments. Unit test now passes.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905073 13f79535-47bb-0310-9956-ffa450edef68

commit 4c869ec21bcc4051bd3d345fcd5d25ae5c15f00f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 31 13:42:09 2010 +0000

    Test case for RequestUtil.
    Current implementation does not agree with comment.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905039 13f79535-47bb-0310-9956-ffa450edef68

commit ba8f7ce4f142b5e7ba3eb01fcf09cb179f5d48d9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 31 13:30:30 2010 +0000

    Align url decoding for bytes with url decoding for Strings. No functional change (for Tomcat) since the methods that use bytes are not called directly
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905037 13f79535-47bb-0310-9956-ffa450edef68

commit 3433f486c41084f99cbb46a7ccbb995141377aa1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 31 13:22:04 2010 +0000

    Make it clearer how unsupported encodings are handled
    No functional change for supported encodings
    Log attempted use of unsupported encodings, removing some empty catch blocks in the process
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905035 13f79535-47bb-0310-9956-ffa450edef68

commit 8079b0f19941edf028d804c5dd8e8acb141c277c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 31 13:08:39 2010 +0000

    Be clear in Javadoc about how unsupported encodings are handled. Add a debug message for this case.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905030 13f79535-47bb-0310-9956-ffa450edef68

commit d0f9da297d84ce489f8f67c2efb5b2c43a158752
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 31 12:48:53 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48645
    Use specified encoding rather than null
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905020 13f79535-47bb-0310-9956-ffa450edef68

commit d9a4fb5e6329170c04e057c3e46cdfd38ccb12d0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 31 12:34:22 2010 +0000

    Revert r804734 (https://issues.apache.org/bugzilla/show_bug.cgi?id=42390) while I look for a better fix
    Tab police
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@905015 13f79535-47bb-0310-9956-ffa450edef68

commit 21cd6aa8ee8a4c640ed47841ea9569c13e765bb9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 31 01:40:39 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48627
    Don't convert literal attribute values to EL since attributes may not accept EL
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@904949 13f79535-47bb-0310-9956-ffa450edef68

commit 3725911ad6a30559095b5f794c5f100a40a22e12
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 31 00:56:47 2010 +0000

    Test mixing ${...} and #{...} in the same expression
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@904943 13f79535-47bb-0310-9956-ffa450edef68

commit a2e9e8d507571f71ec34450087cb7f9567efcb65
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 31 00:34:37 2010 +0000

    Add tests for AttributeParser and deferredSyntaxAllowedAsLiteral
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@904935 13f79535-47bb-0310-9956-ffa450edef68

commit bfea32aa241ea31766c69fad24114a02a3dcd15b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 30 23:08:46 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48629
    Get nested role search working when {1} is used in roleSearch
    Patch provided by Gabriel
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@904914 13f79535-47bb-0310-9956-ffa450edef68

commit 3fe262af502f6af4aee3fa6c581b36657c8133ad
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 30 21:43:41 2010 +0000

    Changing line endings isn't limited to source files.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@904898 13f79535-47bb-0310-9956-ffa450edef68

commit a34ae48504d5717faf6b52a88aef975f35e87a9f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 30 17:57:40 2010 +0000

    Add a couple of debug messages
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@904834 13f79535-47bb-0310-9956-ffa450edef68

commit 9145f864ec7c3f20f785385be13c06591d69fdd6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 29 14:50:45 2010 +0000

    Minor cleanup
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@904508 13f79535-47bb-0310-9956-ffa450edef68

commit 4d322e6c5ecd719dad39dc0f33d0b080b7930296
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Jan 29 02:53:55 2010 +0000

    svn:eol-style for a new file
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@904362 13f79535-47bb-0310-9956-ffa450edef68

commit 86ff4bb488cf5452f8c6299239232a1f4e120859
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 29 00:10:40 2010 +0000

    Fix comment typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@904315 13f79535-47bb-0310-9956-ffa450edef68

commit d8bc71275b42f883d64f8e8dfa5602cab2945a33
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 28 23:35:39 2010 +0000

    Add a test case for bug 48627
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@904305 13f79535-47bb-0310-9956-ffa450edef68

commit deb5c49161e096c97537bde585a4e3edfff77f54
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jan 28 19:30:06 2010 +0000

    Fix according to https://issues.apache.org/bugzilla/show_bug.cgi?id=48613
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@904224 13f79535-47bb-0310-9956-ffa450edef68

commit 5f0ed11e4eef8b41583ec6041dbde5b304c592c2
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Jan 28 03:29:16 2010 +0000

    Revert r903928, because it breaks Connector#setProtocol():
    Apr connector is not auto-selected when TC-Native library is available
    
    See https://issues.apache.org/bugzilla/show_bug.cgi?id=48613#c3
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@903948 13f79535-47bb-0310-9956-ffa450edef68

commit dd5ae2a47fb4c65d7d338dd84093c7db95f520db
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jan 28 01:29:51 2010 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=48613
    APR should not attempt to initialize if the listener has been removed from server.xml
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@903928 13f79535-47bb-0310-9956-ffa450edef68

commit 8bdf5ac2c1abaab13e3e8d87b80239c038e031c6
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jan 28 00:25:03 2010 +0000

    Change default to -1 since Sun packages for StreamEncoder do buffering
    Also, make sure the default is properly read
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@903916 13f79535-47bb-0310-9956-ffa450edef68

commit f6c59b55638b39929be96c044e1f776a6fd27521
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Jan 22 06:27:52 2010 +0000

    Set svn:mime-type property on the stylesheet.
    
    The goal is to make the changelog.xml file on svn.apache.org be displayed as formatted HTML page in supporting browsers
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@902008 13f79535-47bb-0310-9956-ffa450edef68

commit e605670e479f211677bafd7996e23407e4ee121f
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Jan 22 06:25:51 2010 +0000

    Add <?xml-stylesheet PI instruction,
    and set svn:mime-type property.
    
    The goal is to make the changelog.xml file on svn.apache.org be displayed as formatted HTML page in supporting browsers
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@902006 13f79535-47bb-0310-9956-ffa450edef68

commit cec2e295c741dcbafaeeb0a690237dc2fb8c049b
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Jan 21 03:15:28 2010 +0000

    Followup to r901507
    svn:eol-style and svn:keywords for the new files
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@901512 13f79535-47bb-0310-9956-ffa450edef68

commit 5af257dd4d7a55f07cc560d021b152a55eb35dd2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 21 02:57:10 2010 +0000

    Servlet 3.0 implementation
    Implement some more of the new ServletContext methods
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@901507 13f79535-47bb-0310-9956-ffa450edef68

commit 42bdf6b6e6c16115368933a706e8990a4303b6f7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 21 02:44:03 2010 +0000

    Sync with recent rename
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@901504 13f79535-47bb-0310-9956-ffa450edef68

commit 1e488f820ad6bd96e50e97d5f462273426869e48
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 21 02:38:20 2010 +0000

    Rename
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@901503 13f79535-47bb-0310-9956-ffa450edef68

commit c43bd38ebaf9d52d1dffb025c6c97fdbea142977
Author: Costin Manolache <costin@apache.org>
Date:   Wed Jan 20 00:23:10 2010 +0000

    Wrong method name for modeler.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@901014 13f79535-47bb-0310-9956-ffa450edef68

commit fe539792aa0b39713b4624c4b76f7d645e7b7a43
Author: Costin Manolache <costin@apache.org>
Date:   Tue Jan 19 22:18:56 2010 +0000

    Fix local source paths, accidental commit.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@900980 13f79535-47bb-0310-9956-ffa450edef68

commit 601b36fa2b0e508fd9274ea999e41e33f84142cf
Author: Costin Manolache <costin@apache.org>
Date:   Tue Jan 19 22:17:13 2010 +0000

    Few more fixes after running the load tests, more monitoring.
    The connection pool is now a top level class, a lot of fixes to handle spdy and http mixing.
    Added support for header compression in SPDY requests, reduced window size.
    Got it to compile again on android ( the UTF8 in getBytes - will add it back, but using the char-byte convertor )
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@900979 13f79535-47bb-0310-9956-ffa450edef68

commit be656cb2114252dd6d374b4625ab44f438d8786e
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Jan 19 11:27:33 2010 +0000

    Use CRLF line ends in conf/* files installed by the Windows exe installer
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@900729 13f79535-47bb-0310-9956-ffa450edef68

commit 3cb00fd71b1f48c62e49e270f21e119916e69956
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 17 11:58:00 2010 +0000

    Remove broken link
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@900113 13f79535-47bb-0310-9956-ffa450edef68

commit a532c7c4314785c2807b188fbbafffa80518a439
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 17 10:37:17 2010 +0000

    Servlet 3.0. Implement ServletContext.addFilter(String,String)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@900088 13f79535-47bb-0310-9956-ffa450edef68

commit 5158545de4c0db76b6a7c4b0f1b9245c8085b4cb
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Jan 16 20:10:58 2010 +0000

    Followup to r899796
    Removed TODO markers, copied JavaDoc from the parent class
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@900017 13f79535-47bb-0310-9956-ffa450edef68

commit 51a0fa4588c3ac8ee2391285699299b3f53f1102
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 16 13:54:04 2010 +0000

    TCK failure: Can't use the string representation to test for equality as whitespace must be ignored. Use the parsed nodes instead.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@899949 13f79535-47bb-0310-9956-ffa450edef68

commit aab12bb98b328e660f7ac570e49622a33f4fe476
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 16 12:57:55 2010 +0000

    TCK failure: Must check to see if property is resolved and throw exception if not.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@899935 13f79535-47bb-0310-9956-ffa450edef68

commit 3aed01f7edf09afd47e7a457e1c4f486c3e3fcf6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 16 10:50:12 2010 +0000

    Fix bug in Enum to Enum coercion spotted during code review
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@899919 13f79535-47bb-0310-9956-ffa450edef68

commit a512e72b9d68c512d93a32bf49d2428f7a26a39a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 16 10:49:25 2010 +0000

    Add some test cases for Enum to Enum coercion
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@899918 13f79535-47bb-0310-9956-ffa450edef68

commit c283622be8680dbf1b74100e260e6b2123b40ca1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 16 10:37:31 2010 +0000

    TCK failure. Wrong exception on failure.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@899916 13f79535-47bb-0310-9956-ffa450edef68

commit 29722d166a071bf351429a95c610271970fcf452
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jan 15 20:02:36 2010 +0000

    Make a distinction based on type=javax.sql.DataSource or type=javax.sql.XADataSource, some components, like JIRA actually do an instanceof on the object to determine what it is instead of relying on the configuration.
    Make static methods non static for easier extendability
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@899796 13f79535-47bb-0310-9956-ffa450edef68

commit f6a75202f621cbea7db5ad3cb5a1257408eaa6a8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 15 19:55:31 2010 +0000

    TCK failure. Make sure we throw an ELException, not an IAE.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@899792 13f79535-47bb-0310-9956-ffa450edef68

commit 9102b781014f5429e95945b8ac4f1ea3fcc32040
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 15 19:44:14 2010 +0000

    TCK failure. Invalid index should throw PNFE.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@899788 13f79535-47bb-0310-9956-ffa450edef68

commit 413710706f3ecd00d56f6d9856dc7db28eacdc83
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 15 19:37:46 2010 +0000

    TCK failure. Make sure an ELException is throw if the conversion fails.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@899783 13f79535-47bb-0310-9956-ffa450edef68

commit 9d673f10d4121e1a4a4d06ec7f843f6428f7569f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 15 19:22:42 2010 +0000

    Fix TCK failure. Trying to assign an object of the wrong type to an array should throw a ClassCaseException.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@899770 13f79535-47bb-0310-9956-ffa450edef68

commit 74a5c4295c91aa484d3071720b7db09784110822
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 15 19:22:12 2010 +0000

    Fix TCK failure. Trying to assign an object of the wrong type to an array should throw a ClassCaseException.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@899769 13f79535-47bb-0310-9956-ffa450edef68

commit 8df0da9aa027c099286df5bda50a18e9c751bcad
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 15 18:04:22 2010 +0000

    Re-factoring. WebXml is a better fit in o.a.c.deploy
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@899737 13f79535-47bb-0310-9956-ffa450edef68

commit 1f1d18ecf1bce69d27b7831fbbbfe4811a405040
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 15 15:40:35 2010 +0000

    revert r899395
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@899668 13f79535-47bb-0310-9956-ffa450edef68

commit 32ed97e3020f2840d4b0bad96773ea33bd5881d3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 15 15:00:50 2010 +0000

    Fix the remaining TCK signature test failures.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@899653 13f79535-47bb-0310-9956-ffa450edef68

commit f366ee302d2c56122b032cb4bc4ffd46029b63bb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 15 14:17:22 2010 +0000

    Fix signature test failures in javax.servlet.jsp package
    Move deprecation javadoc to end of block
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@899635 13f79535-47bb-0310-9956-ffa450edef68

commit 23b4755a67be47b55772338b49ccde83d73f7992
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 15 14:10:11 2010 +0000

    The spec has a spelling mistake. Align with the spec until it is fixed.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@899634 13f79535-47bb-0310-9956-ffa450edef68

commit 7e88f2b6ae42ee1a894f70196a889d1fc21a48ec
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 15 11:30:21 2010 +0000

    Add the bug url
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@899601 13f79535-47bb-0310-9956-ffa450edef68

commit e7fa8f918f010586e8b6d5f33cd307e101b64e02
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 15 00:38:04 2010 +0000

    API uses Set rather than EnumSet
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@899498 13f79535-47bb-0310-9956-ffa450edef68

commit bc458e09eb1d207c3ca914e419fe2655cb610651
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 15 00:28:43 2010 +0000

    Simplify
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@899497 13f79535-47bb-0310-9956-ffa450edef68

commit a77b5e9e59ea50fb022816c2e81acbfe416f6486
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 15 00:18:24 2010 +0000

    Simplify
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@899493 13f79535-47bb-0310-9956-ffa450edef68

commit 1fb705e0ed7ee17f98a2bfcb68fdfb76e403bb8d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 14 22:45:43 2010 +0000

    No need to supress these warnings. They cxan be fixed.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@899452 13f79535-47bb-0310-9956-ffa450edef68

commit f4aa451d6466e5cc760107c3ffc98c8d28164deb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 14 22:45:02 2010 +0000

    Updated the generated code after r899450
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@899451 13f79535-47bb-0310-9956-ffa450edef68

commit 44ef22afdb421d12d0e86c6281d5df2c948b7041
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 14 22:41:41 2010 +0000

    Remove the Suffix interface and get the Parser to create a MehtodParameters object which allows a cleaner implementation.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@899450 13f79535-47bb-0310-9956-ffa450edef68

commit 02087ef7a4b3f5ed703d4c8a41ea99173ece6f0b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 14 22:38:57 2010 +0000

    Add a test case for the final part of the EL 2.2 implementation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@899449 13f79535-47bb-0310-9956-ffa450edef68

commit 42c7b9b0ecfc6ba080ca4e058be27f3b62f24e06
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 14 22:38:23 2010 +0000

    Line length
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@899448 13f79535-47bb-0310-9956-ffa450edef68

commit cf05c25164b05b5735f26ce53fc5c9b93656335c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 14 21:33:58 2010 +0000

    Fix TCK failures with security manager due to fix for bug 47774
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@899420 13f79535-47bb-0310-9956-ffa450edef68

commit 9c753ff2df54bac46731fdc788904bc1ad5b45a9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 14 20:21:23 2010 +0000

    zip is for non-windows platforms
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@899395 13f79535-47bb-0310-9956-ffa450edef68

commit 91b68901661b13a839d05a23a4ea5e91e52a6e91
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 14 19:48:41 2010 +0000

    Skipping installer shouldn't break package-winzip target
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@899380 13f79535-47bb-0310-9956-ffa450edef68

commit b7aae10f7300edb6c35562cd9d2e7b9222cfe176
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 14 18:37:52 2010 +0000

    Need to fix line endings for zip distro if building on non-windows
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@899348 13f79535-47bb-0310-9956-ffa450edef68

commit 27947a7ff223e5060fe293d77ae62f971f7c63f7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 14 16:43:26 2010 +0000

    Add missing extension for line-ending conversion in src releases
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@899284 13f79535-47bb-0310-9956-ffa450edef68

commit 8c935852233bcd81a91af0f7ebd5434e6fb32d84
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Jan 14 08:59:19 2010 +0000

    Allow compliance with SRV.15.2.22.1 to be controlled separately from STRICT_SERVLET_COMPLIANCE,
    and turn it on by default.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@899124 13f79535-47bb-0310-9956-ffa450edef68

commit 269030e1dc263e884388ac0e94ec0e29789e0661
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Jan 14 08:26:37 2010 +0000

    Revert examples app patch of r893496
    Setting org.apache.catalina.STRICT_SERVLET_COMPLIANCE=true also provides this feature,
    and, I think, better than this patch does.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@899109 13f79535-47bb-0310-9956-ffa450edef68

commit e4258cba21ac23b57d43014f3f0ca01c6d65d61b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 13 22:10:49 2010 +0000

    Implement the new ValueExpression.getValueReference() method.
    Add some plumbing for MethodExpression.isParametersProvided()
    Add some more generics where we can without breaking the code generation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898969 13f79535-47bb-0310-9956-ffa450edef68

commit f3df6225a610ae85e06c6634bc92fff28efb0e42
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 13 22:08:54 2010 +0000

    Add a test case for the new ValueExpression.getValueReference() method.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898967 13f79535-47bb-0310-9956-ffa450edef68

commit 4e020e38209c1c9f31aaca0320e7ded85c150c9e
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Jan 13 19:34:31 2010 +0000

    Fix javadoc warnings
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898913 13f79535-47bb-0310-9956-ffa450edef68

commit fc31ee9e06030b710058250f6994874b10c3eb96
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Jan 13 19:32:51 2010 +0000

    Up the version num
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898912 13f79535-47bb-0310-9956-ffa450edef68

commit a807e425151e40285ddf8682af2d093705e7553d
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Jan 13 19:23:53 2010 +0000

    Force a unconditional disconnect when an error happens, like dropped connections to a firewall
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898906 13f79535-47bb-0310-9956-ffa450edef68

commit 21765e0c1c7ace2c42008b98f1d39d076bbe79ef
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 13 19:20:42 2010 +0000

    Implement remainder of EL 2.2. API changes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898902 13f79535-47bb-0310-9956-ffa450edef68

commit 5b0252b1e0fde76e81a15e386b0978000edae14d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 13 19:19:25 2010 +0000

    Jasper Parser change so methods with parameters aren't mistaken for functions
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898900 13f79535-47bb-0310-9956-ffa450edef68

commit 5ae1072eb2adb449f997a8e698058af65aeaece8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 13 19:18:08 2010 +0000

    Tab police, fix Eclipse warnings, add @since Javadoc
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898897 13f79535-47bb-0310-9956-ffa450edef68

commit b7c220fa3fe50573024abd8d90a5be60cc5f03da
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Jan 13 19:08:09 2010 +0000

    Remove a dependency on Java 6 that accidentally got introduced
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898889 13f79535-47bb-0310-9956-ffa450edef68

commit 747902801f11da33b0875458b6addc961b131830
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 13 18:05:59 2010 +0000

    Updated autogenerated code after r898864
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898865 13f79535-47bb-0310-9956-ffa450edef68

commit 0bce2c3ad520d68862fb40142bfccdaac1e34ac2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 13 18:02:36 2010 +0000

    Implement method invocation with parameters
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898864 13f79535-47bb-0310-9956-ffa450edef68

commit 0aa2b5f1e145dbd76b04b4f3e631024f93f76df0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 13 18:01:26 2010 +0000

    Add a test for method invocation with parameters
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898863 13f79535-47bb-0310-9956-ffa450edef68

commit 9d0ccfa59bca035a6d663274c80e8c6191ac71c3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 13 18:00:24 2010 +0000

    Up the timeout. 100s isn't always long enough when stepping through why a failing test.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898862 13f79535-47bb-0310-9956-ffa450edef68

commit ef87290140f9c18064e416634f064c2c1eeb53cd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 13 17:53:36 2010 +0000

    If the method is found, mark the property as resolved
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898860 13f79535-47bb-0310-9956-ffa450edef68

commit d0cfcb35ea4e8a8068cce7e091d870739d472b01
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Jan 13 17:00:26 2010 +0000

    Following changes
    1. Default bufferSize is 0 - rely on system behavior
    2. bufferSize of <0 will automatically flush the writer on each write
    3. autoFlush for printWriter is false, otherwise we are duplicating the effort
    4. date is a volatile variable so that a write to the variable gets propagated properly
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898836 13f79535-47bb-0310-9956-ffa450edef68

commit 5d7bc9cca4ee5d3668d16cbc5dc6372aece5472f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 13 11:18:10 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48532
    Better documentation of the SSL connector defaults
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898718 13f79535-47bb-0310-9956-ffa450edef68

commit fdb297ad4cf0bbbe3e05bf2231104e6fc57574e9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 13 10:26:58 2010 +0000

    Add TODO
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898703 13f79535-47bb-0310-9956-ffa450edef68

commit 77cd50489f851c91f1d1b17000ebf1e6ce643020
Author: Costin Manolache <costin@apache.org>
Date:   Wed Jan 13 02:07:25 2010 +0000

    Moved the connection pool to a top level class and started to add more code. Still missing is evicting kept-alive connections and
    queueing to limit the number of active requests per host ( and probably more ).
    Started to make spdy more like a part of a http request - i.e. upgrade if supported by both ends, etc.  Now load
    tests seem to work - no more OOM. Due to compression spdy it's using more memory per connection, current tests don't enable compression
    ( it's accepted for incoming connections ).
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898619 13f79535-47bb-0310-9956-ffa450edef68

commit 62d29b648534305956775a29dd6c3cdbc1e9f0ec
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 12 22:43:23 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48516
    Fix possible NPE when user does not exist in directory
    Patch provided by Kevin Conaway
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898558 13f79535-47bb-0310-9956-ffa450edef68

commit 413c5bc4abf5854ade42a518ea6e15db59bc34a5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 12 22:36:15 2010 +0000

    Improved fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=47774
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898555 13f79535-47bb-0310-9956-ffa450edef68

commit df43d20d83461d1cc78f283dcad1ea905dd150a4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 12 22:15:31 2010 +0000

    Revert fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=47774
    Better fix to follow
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898551 13f79535-47bb-0310-9956-ffa450edef68

commit 6cab25b0e8e3b224aa275abd2579eab821c9ed56
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 12 22:03:32 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48530
    Add info on the Server Status page to the Manager How-To
    Based on a patch by Arnaud Espy
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898543 13f79535-47bb-0310-9956-ffa450edef68

commit 13daf6954d0799e80c8222e301a92ea70a1c3799
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 12 21:36:49 2010 +0000

    Fix bug 48004. Allow applications to set the server header.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898527 13f79535-47bb-0310-9956-ffa450edef68

commit 7ebaf0cad841d8a6c5b13977e8e3ac08d50769b5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 12 19:25:40 2010 +0000

    JULI needs to be on class path
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898475 13f79535-47bb-0310-9956-ffa450edef68

commit eeb017aeefab653f78efdcb5b98718517dbd421d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 12 19:06:48 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48421
    Clean up a web application's logs and handlers when it stops. This involved modifying the fix that prevented log messages being lost in shutdown.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898468 13f79535-47bb-0310-9956-ffa450edef68

commit 21639c00911f85474464868ec8311caa297cdf39
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 12 18:27:33 2010 +0000

    Make logging consistent for HTML and text interfaces
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898457 13f79535-47bb-0310-9956-ffa450edef68

commit e1ccc6312250cad655e265be752abcc161e78ca8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 12 18:23:27 2010 +0000

    Use string manager for log messages
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898456 13f79535-47bb-0310-9956-ffa450edef68

commit d178a69f3b903f7038a5270b8528aeaf643791f6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 12 17:57:55 2010 +0000

    Fix the Eclipse warnings for the host-manager
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898443 13f79535-47bb-0310-9956-ffa450edef68

commit 80ee914cd7dbdc830a4d53e1abd6e3ebd965bb78
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 12 13:33:58 2010 +0000

    Update the comment. We don't want or need another full EL parser.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898318 13f79535-47bb-0310-9956-ffa450edef68

commit 329bdf6f96609e2e643b8ef0fc9159c14387232d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 12 12:03:07 2010 +0000

    Avoid NPE if bundle is missing
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898297 13f79535-47bb-0310-9956-ffa450edef68

commit dcf28d75bfa1da72fa90e8d2ba025419a9d6e28f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 12 11:42:46 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48524
    Remove unused keys. Fix case issue for jsp.error.usebean.noSession.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898289 13f79535-47bb-0310-9956-ffa450edef68

commit f2eea0c2ab3e622b51df6af19705fca66b7fbb0b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 12 11:09:18 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48523
    Resolve duplicate keys
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898279 13f79535-47bb-0310-9956-ffa450edef68

commit 4df1957a58207893494c101f82260648508b2bfa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 12 10:31:03 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48517
    Reduce scope of @SupressWarnings and document reasoning
    Based on a patch by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898275 13f79535-47bb-0310-9956-ffa450edef68

commit d3a1ddfaac5eaf429648781c7279632dcc5afcbd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 12 08:59:08 2010 +0000

    Make the check case insensitive. A strict reading of the specification requires case sensitivity but be pragmatic.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898256 13f79535-47bb-0310-9956-ffa450edef68

commit dd6321866d79db582fced7bfa4aab2b44f53371e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 12 00:10:46 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47977
    Using a body with tags specified to have empty body content should cause an error
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898126 13f79535-47bb-0310-9956-ffa450edef68

commit b09258b7bacdcdf4f9a96a471063157ded3c9583
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jan 11 23:42:20 2010 +0000

    Rename TCN_RECOMMENDED_MIN -> TCN_RECOMMENDED_MINOR
    to match the naming of TCN_REQUIRED_MINOR and to resolve ambiguity, because "min" usually means "minimum".
    This field does not exist in tc6.0.x code.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@898115 13f79535-47bb-0310-9956-ffa450edef68

commit 2cdd17f1da7d863d0b881cf2ec8a037ba0df834d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 11 14:59:35 2010 +0000

    Using localhost should allow this to work with IPv4 and/or IPv6
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@897888 13f79535-47bb-0310-9956-ffa450edef68

commit 7a96537904584933327a1362bdb646bc4d0ac1a3
Author: Mladen Turk <mturk@apache.org>
Date:   Mon Jan 11 07:14:16 2010 +0000

    By default use released 1.1.19
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@897776 13f79535-47bb-0310-9956-ffa450edef68

commit df8e1566d92a031b4bbd618398a6fcc92c0a0ad4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 10 23:04:41 2010 +0000

    Update generated code after r897728
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@897729 13f79535-47bb-0310-9956-ffa450edef68

commit fd8655cce024a60f95449aca1f77916d3aa88c8e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 10 23:03:13 2010 +0000

    Remove the BADLY_ESCAPED_STRING_LITERAL - it could cause mistakes to be silently swallowed
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@897728 13f79535-47bb-0310-9956-ffa450edef68

commit 0c902c100b7b0692764349ad3be45d86d7cc43f3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 10 13:11:52 2010 +0000

    Fix the remaining Eclipse warnings in the non-generated classes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@897635 13f79535-47bb-0310-9956-ffa450edef68

commit b650e6d50bdb3d532134dfa0c0bfd469b90c3f24
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 10 12:52:20 2010 +0000

    \$ and \# are not valid escapes. The Parser will throw an error before this code is ever called but remove them anyway for clarity.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@897632 13f79535-47bb-0310-9956-ffa450edef68

commit ca1a4e9f02be9ae44f6ed5342d7caf3447b460cb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 10 12:51:13 2010 +0000

    Update generated code after r897629
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@897631 13f79535-47bb-0310-9956-ffa450edef68

commit a87ecab225b8b9b877fab9a8d4cf857c9dcdd806
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 10 12:47:49 2010 +0000

    Fix a bug found during review.
    Whilst the old version is what is defined in the spec, the definition in the spec does not agree with the description and associatedcomments in the spec. I have raised this as https://uel.dev.java.net/issues/show_bug.cgi?id=10
    Modify the parser on the basis that the textual description and comments in the spec are correct and the production for StringLiteral is wrong
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@897629 13f79535-47bb-0310-9956-ffa450edef68

commit 4f9b09b5b749b186cf995a7caced713c9ac9edbb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 10 12:44:31 2010 +0000

    Add tests for a bug found whilst reviewing the ELParser
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@897627 13f79535-47bb-0310-9956-ffa450edef68

commit c2ef594e9c9956a67adb1c7387434f32f9c70e8f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 10 11:54:34 2010 +0000

    Rename
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@897621 13f79535-47bb-0310-9956-ffa450edef68

commit 5a3c23ce9e077f8573748bd68f6e61901e83ccc2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 10 11:47:48 2010 +0000

    Fix generics warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@897620 13f79535-47bb-0310-9956-ffa450edef68

commit a9ddeb23987d823b3a01cb04f1e864d929126702
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 10 11:37:16 2010 +0000

    Add a test case for bug36923
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@897619 13f79535-47bb-0310-9956-ffa450edef68

commit f1e301e5c8395ce9e4de39ca3ea6652778cfd476
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 10 11:13:10 2010 +0000

    Add mising tests.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@897616 13f79535-47bb-0310-9956-ffa450edef68

commit d9d6ca9e92b4d038ba607bd12b7be174434f302e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 10 11:12:42 2010 +0000

    Better coverage for JSP attribute parsing
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@897615 13f79535-47bb-0310-9956-ffa450edef68

commit 3eaeb577fe26c81fe44fa2556c5d44ed8ff71aab
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 10 11:10:36 2010 +0000

    Re-work EL attribute parsing. The underlying issue was complete independence of attribute and EL parsing. The attribute parser would generate the same result - ${1+1} - after parsing ${1+1} and \${+1} and the EL had no way to differentiate between the first (that should be treated as an expression) and the second (that should be treated as a literal). The attribute parser has been modified to output any literals that would be mi-interpreted by the EL parser as EL literals. ie \ is output as ${'\\'} or #{'\\'}, $ as ${'$'} or #{'$'} and # as ${'#'} or #{'#'}.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@897614 13f79535-47bb-0310-9956-ffa450edef68

commit b018b2b0f5b9f97728b86dafb0542c8af838251e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 9 13:14:58 2010 +0000

    Rename to fit expected naming convention
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@897442 13f79535-47bb-0310-9956-ffa450edef68

commit 121d8ded70eb9f5215c913a5e5d1ac5eafe5a67a
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Jan 9 04:30:14 2010 +0000

    Update documentation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@897381 13f79535-47bb-0310-9956-ffa450edef68

commit bfdd23eb1694d2b2ab6ae9c53067e8cef9d66438
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Jan 9 03:59:59 2010 +0000

    Followup for r816252/r891328
    Allow to disable buffering in JULI FileHandler
    The previous implementation did not work as expected because of buffering performed by OutputStreamWriter
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@897380 13f79535-47bb-0310-9956-ffa450edef68

commit ee22b3bf43cc845ecd26322f20e1194b13a8ffe7
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Jan 9 02:25:44 2010 +0000

    Trivial: move first line of the resource file to be below the license header
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@897370 13f79535-47bb-0310-9956-ffa450edef68

commit fdba204541f8b1b1c0b2e731fc5c8988bb5d7fa2
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Jan 9 02:13:19 2010 +0000

    Correction for the README pages:
    Tomcat 7 requires Java 6
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@897368 13f79535-47bb-0310-9956-ffa450edef68

commit 4f01f5520400a3d48d89e13fa6ac8d8473d9f7b1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 8 18:59:19 2010 +0000

    Now the EL parser doesn't unquote stuff it shouldn't (r896589), remove the attributeValueWithEL() method as it is causing more problems than it is solving. There are still a couple of test failures but the solution I have in mind for them won't require this method.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@897300 13f79535-47bb-0310-9956-ffa450edef68

commit 0b3c30011552703eb6bf08de1d59735705033c7c
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Jan 8 04:37:23 2010 +0000

    followup to r896892
    Additional message updates for JSP 2.2
    Commented-out the untranslated strings in the French file, so that the English ones could be used
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@897093 13f79535-47bb-0310-9956-ffa450edef68

commit 55f659938a2ad090bf593cfdcb23acf4ee8c5460
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 7 20:24:57 2010 +0000

    Add another edge case
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@897005 13f79535-47bb-0310-9956-ffa450edef68

commit 34566cfe22e2dbb60e2218d1f73faadc4967eef4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 7 18:23:14 2010 +0000

    Add another test case. This one passes at the moment but would fail with some of the ideas I have had to fix the tests that currently fail.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@896953 13f79535-47bb-0310-9956-ffa450edef68

commit ac656f66c6af23d7d99955b1cf6f192461c69e71
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 7 18:09:33 2010 +0000

    Correct tests. Remaining failures shoudl now be Jasper/EL bugs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@896949 13f79535-47bb-0310-9956-ffa450edef68

commit dd3ec46079709eb44f30432e5f13b0f0521aaf5c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 7 17:36:27 2010 +0000

    Add the tag library definition so the tests actually do what they are supposed to.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@896937 13f79535-47bb-0310-9956-ffa450edef68

commit 674972f576b08fb90eb5b1baab831fcb251d47a6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 7 16:35:49 2010 +0000

    Remove comments
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@896920 13f79535-47bb-0310-9956-ffa450edef68

commit 61beb5f29a53968a60f05450e9235da3a5a40142
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 7 16:22:24 2010 +0000

    Add missing license headers
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@896916 13f79535-47bb-0310-9956-ffa450edef68

commit 6d82b3c6af493a3f997a85bca8027e1d4355c526
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 7 16:06:45 2010 +0000

    Add various EL test cases, mostly extracted from local test JSPs I have used for individual issues.
    Thanks to kkolinko and the numerous bug reporters that provided the basis for many of these.
    At present, although this is Tomcat 7, the tests only cover JSP 2.1 functionality.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@896913 13f79535-47bb-0310-9956-ffa450edef68

commit 36b26fc933f4b40e85acc780bbbf26650f6f7b39
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 7 14:20:30 2010 +0000

    Update for JSP 2.2
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@896892 13f79535-47bb-0310-9956-ffa450edef68

commit 61cb11eb9bee77d563bd0980ea24b5afab8a5e75
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 6 19:04:32 2010 +0000

    Prevent NPE in emebedded case when no web.xml is provided at all
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@896622 13f79535-47bb-0310-9956-ffa450edef68

commit 11810fb96d0d6ab5c9538359777632b74f819e35
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 6 18:51:24 2010 +0000

    Add a test case for bug 48112 (note this passes - need to check when used in a JSP)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@896620 13f79535-47bb-0310-9956-ffa450edef68

commit e9ce223f1001d43e1b6265b989b08f9aa3bb2ac6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 6 18:28:02 2010 +0000

    Ignore the imtermediate file for the parser generation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@896602 13f79535-47bb-0310-9956-ffa450edef68

commit 0463bc516afd269f1df18e2a0598cf4f2902afee
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 6 18:18:09 2010 +0000

    Fix the remaining test failures
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@896594 13f79535-47bb-0310-9956-ffa450edef68

commit 6796b36cd6521a2ac05a3c5d6ca3cc527fc75b83
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 6 18:10:41 2010 +0000

    Fix some test failures. '\' should not be skipped in lierals. Align the definition of LiteralExpression with the EL 2.2 spec otherwise parsing errors result.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@896589 13f79535-47bb-0310-9956-ffa450edef68

commit 09ff50d875ea6e45f0166db1b138fcda0042d6ff
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 6 17:44:15 2010 +0000

    Don't edit the generated files at all - makes regeneration simpler
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@896574 13f79535-47bb-0310-9956-ffa450edef68

commit 065fb77885dca7ad4af6a209e491f7c57fbbe7c7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 6 17:41:11 2010 +0000

    Additional tests for the specific escaping (of "${" and "#{") for LiteralExpressions
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@896571 13f79535-47bb-0310-9956-ffa450edef68

commit bb5f2498de3242b300175f0776929c95550dbf6b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 6 17:39:58 2010 +0000

    Fix the test case failures. There is at least one bug still present - more test cases to follow.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@896570 13f79535-47bb-0310-9956-ffa450edef68

commit d95170659a3fd0d04d568b61c1007de2b712cf2c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 6 17:33:26 2010 +0000

    Start to expand the EL test cases
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@896557 13f79535-47bb-0310-9956-ffa450edef68

commit c8ec119513c7e8aaee04439a6a8fd5dd83391e7a
Author: Rainer Jung <rjung@apache.org>
Date:   Wed Jan 6 17:33:22 2010 +0000

    Fix indentation.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@896556 13f79535-47bb-0310-9956-ffa450edef68

commit 0deaac9519a89c02a6e86fa8e8391fcb1ed9bf48
Author: Rainer Jung <rjung@apache.org>
Date:   Wed Jan 6 17:07:14 2010 +0000

    Cleanup tabs and trailing whitespace.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@896544 13f79535-47bb-0310-9956-ffa450edef68

commit 2c1572276adec70ab964128610bd65d71f1d07d9
Author: Rainer Jung <rjung@apache.org>
Date:   Wed Jan 6 16:55:45 2010 +0000

    Tab police.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@896530 13f79535-47bb-0310-9956-ffa450edef68

commit 242a6072f0026d59e01855cca950d6fdd395534c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 6 10:56:48 2010 +0000

    Move declaration as per Knostantin's review comment
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@896384 13f79535-47bb-0310-9956-ffa450edef68

commit 89ae754c3a358d67d5e3609c749c3b9816477642
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 6 10:24:31 2010 +0000

    Fix typos / inconsistencies
    Rainer's review comments on r894580
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@896370 13f79535-47bb-0310-9956-ffa450edef68

commit 3b9dda1a7dd7aa3e0a5ded5ed42698827840ac8a
Author: Costin Manolache <costin@apache.org>
Date:   Wed Jan 6 00:08:33 2010 +0000

    More work on tomcat-lite connector: more experimenting with spdy, few more tests and fixes.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@896286 13f79535-47bb-0310-9956-ffa450edef68

commit 0860d1a88af6e420a7a24ed44a4b3fe28ccc877e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 5 22:34:17 2010 +0000

    Correct default
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@896252 13f79535-47bb-0310-9956-ffa450edef68

commit 1b87e8ce916b20e7ffd3e16a55166893b2fc39f4
Author: Costin Manolache <costin@apache.org>
Date:   Tue Jan 5 21:28:53 2010 +0000

    Not used any more ( were part of the mini-servlet on top of coyote )
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@896228 13f79535-47bb-0310-9956-ffa450edef68

commit a4571534698618f01e75236446c5a16fcabff5d8
Author: Costin Manolache <costin@apache.org>
Date:   Tue Jan 5 21:28:13 2010 +0000

    Remove the mini-servlet on top of coyote impl - can be reverted if anyone finds a use for it.
    
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@896227 13f79535-47bb-0310-9956-ffa450edef68

commit fe2f07b41d5de1a1a37bbddf7d519913552c7903
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 5 20:56:14 2010 +0000

    Improve JavaDoc generation
    Based on the proposed patch for https://issues.apache.org/bugzilla/show_bug.cgi?id=48299
    Also ensure the clean targets clean up fully
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@896214 13f79535-47bb-0310-9956-ffa450edef68

commit da5f2492dc9d96755dfea43859244df6797b0af5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 5 19:53:38 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48424
    Based on a patch by Ivan
    Ensure that the ObjectNames for the Connectors are always generated using the same method
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@896193 13f79535-47bb-0310-9956-ffa450edef68

commit dbbf3948b3b2c003d51fad0eb08ce7e82eb1e654
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 5 10:53:36 2010 +0000

    Remove empty dirs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@895981 13f79535-47bb-0310-9956-ffa450edef68

commit e06fea07cd52bb7747b10065e7d55a4f11f02d69
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 5 09:51:45 2010 +0000

    Fix schema location
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@895967 13f79535-47bb-0310-9956-ffa450edef68

commit 2f5ac7336c199d8d38a859bd9308665f933a83e4
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Jan 4 22:48:58 2010 +0000

    Update version of tomcat-native included in TC binary bundles and Windows installer to 1.1.18.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@895815 13f79535-47bb-0310-9956-ffa450edef68

commit cea2b6e4893f68fd38c0c5a392eaee0b2ad3c7c6
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jan 4 17:05:01 2010 +0000

    Guess that's safe.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@895703 13f79535-47bb-0310-9956-ffa450edef68

commit e2335d020f06449b294154ad80f65c3210d2ba8c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 4 11:29:45 2010 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48464
    Provide an option to specify the command window title
    Patch provided by LiuYan
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@895600 13f79535-47bb-0310-9956-ffa450edef68

commit 99abec29c84e9ed72b63935a51f065b4ef538c8f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 3 19:02:13 2010 +0000

    Fix odd whitespace - no functional change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@895465 13f79535-47bb-0310-9956-ffa450edef68

commit 846d04ddab8a409f7ff2c14fdb836b353f2bcd66
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 3 16:11:27 2010 +0000

    Suppress some invalid compiler warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@895436 13f79535-47bb-0310-9956-ffa450edef68

commit a102f43a209fe6c436f36e90450f50aa0a899c2c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 3 16:10:27 2010 +0000

    Remove some declared exceptions that are never thrown
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@895433 13f79535-47bb-0310-9956-ffa450edef68

commit 5954b3e5e0ab5c9578b0d7e19cd61283fd300e3b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 3 16:03:29 2010 +0000

    Remove some declared exceptions that are never thrown
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@895429 13f79535-47bb-0310-9956-ffa450edef68

commit eaf074c936271d96ffc416f52e91030387301b81
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 3 15:58:39 2010 +0000

    Remove unused methods
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@895428 13f79535-47bb-0310-9956-ffa450edef68

commit 9098a8f240f507170f4846229fc53964d8b02c04
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 3 15:43:37 2010 +0000

    Mark the implementations of deprecated methods as deprecated
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@895423 13f79535-47bb-0310-9956-ffa450edef68

commit 09ef948c40553a1c16a7451d534c5129adeac536
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 3 15:42:57 2010 +0000

    Don't use deprecated methods. Use recommended alternative.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@895422 13f79535-47bb-0310-9956-ffa450edef68

commit 726ee52d7448e671f161f75cabd9528e6e93d4cc
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Jan 3 14:02:31 2010 +0000

    Followup to r895191
    Fix calling Tomcat Windows scripts from a directory containing '&' character,
    and allow to use this character in the names of CATALINA_HOME/CATALINA_BASE directories.
    https://issues.apache.org/bugzilla/show_bug.cgi?id=48464#c4
    
    Note, that both 'set' and 'echo' commands have to use quotes.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@895392 13f79535-47bb-0310-9956-ffa450edef68

commit 4fb2f4d994e9229788dfa9343a43bd18d2383cdf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 3 11:32:32 2010 +0000

    Mark the implementations of deprecated methods as deprecated
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@895369 13f79535-47bb-0310-9956-ffa450edef68

commit 1b5a1e04d3c155ea1214a4e48c6e99285bc06aed
Author: Rainer Jung <rjung@apache.org>
Date:   Sat Jan 2 15:31:04 2010 +0000

    Replace copyright year in nsi and html file
    with the YEAR tag. It will be automatically
    updated via our ant version filter.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@895206 13f79535-47bb-0310-9956-ffa450edef68

commit 3d7ca6d9a2986a4039414abbd2a8eaab7b7c8086
Author: Rainer Jung <rjung@apache.org>
Date:   Sat Jan 2 15:22:41 2010 +0000

    Borrow a few things from the main Tomcat build.xml:
    - use general version filter
    - automatically set year to the current year
    - use patch version property without dot.
      The dot is added when combining it into a version number
    
    I don't know whether the double '@' are intended for the
    ant replacement markers in MANIFEST.MF (the outer ones remain
    after ant filtering), but that is unchanged from the previous
    behaviour.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@895204 13f79535-47bb-0310-9956-ffa450edef68

commit cecd6d326edb5bce3a2a1d6b547145c2573d387e
Author: Rainer Jung <rjung@apache.org>
Date:   Sat Jan 2 14:24:51 2010 +0000

    Allow to patch the current year via our
    ant version strings filter.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@895203 13f79535-47bb-0310-9956-ffa450edef68

commit 8f4ebe23a2fa948273f950930c9ea216ad46da3b
Author: Rainer Jung <rjung@apache.org>
Date:   Sat Jan 2 14:22:50 2010 +0000

    Update copyright year for TC trunk.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@895202 13f79535-47bb-0310-9956-ffa450edef68

commit c2af29f48c72a5e5e80fd3b5c54b040ab10faa24
Author: Rainer Jung <rjung@apache.org>
Date:   Sat Jan 2 14:08:45 2010 +0000

    Change license header in tomcat-lite java source files
    using the copy2license.pl script.
    
    Although the previous form is what the license file states how to
    correctly apply ASL 2.0, usually the ASF copyright notice is not
    applied to every source file. See
    
       http://www.apache.org/legal/src-headers.html#headers
    
    for details.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@895199 13f79535-47bb-0310-9956-ffa450edef68

commit 32dfe728bb2cb31a200b2faecd157a3d21260b15
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Jan 2 13:47:10 2010 +0000

    Fix calling Tomcat Windows scripts from a directory containg spaces,
    as noted in https://issues.apache.org/bugzilla/show_bug.cgi?id=48464#c4 by LiuYan
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@895191 13f79535-47bb-0310-9956-ffa450edef68

commit a104f3ae3f8ce948c816dacbcdc9d8f521ced9af
Author: Rainer Jung <rjung@apache.org>
Date:   Sat Jan 2 13:26:32 2010 +0000

    Change license header in two tomcat-lite java source files
    using the copy2license.pl script.
    
    Although the previous form is what the license file states how to
    correctly apply ASL 2.0, usually the ASF copyright notice is not
    applied to every source file. See
    
       http://www.apache.org/legal/src-headers.html#headers
    
    for details.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@895189 13f79535-47bb-0310-9956-ffa450edef68

commit d7f065818f4181ee5c481f09052fb12a5e697dcf
Author: Rainer Jung <rjung@apache.org>
Date:   Sat Jan 2 13:17:11 2010 +0000

    Change license header in bcel java source files using
    the copy2license.pl script.
    
    Although the previous form is what the license file states how to
    correctly apply ASL 2.0, usually the ASF copyright notice is not
    applied to every source file. See
    
       http://www.apache.org/legal/src-headers.html#headers
    
    for details.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@895187 13f79535-47bb-0310-9956-ffa450edef68

commit 6de0c15ec5fa7701ae0cf2b8d19d0a9a4c284f24
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Jan 1 19:24:48 2010 +0000

    Followup to r895045
    Per JavaDoc format, the tags (@deprected, @see etc.) should follow the main description, not precede it. Otherwise the description is swallowed by the tag.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@895057 13f79535-47bb-0310-9956-ffa450edef68

commit b2030ac35458f43d93f5f14ebe1b32c3a384c37f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 1 18:36:21 2010 +0000

    Remove unused imports
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@895050 13f79535-47bb-0310-9956-ffa450edef68

commit be055edbc9107528e63b34237bc084a73574c62d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 1 18:33:13 2010 +0000

    Mark the implementations of deprecated javax.servlet.jsp.el classes as deprecated
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@895049 13f79535-47bb-0310-9956-ffa450edef68

commit 1c45f1c54cbb1493aaf87fd953c82341bbf15733
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 1 18:31:17 2010 +0000

    Fix some trivial Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@895048 13f79535-47bb-0310-9956-ffa450edef68

commit 24c597e2b270b81679ba60331a10ed74d27df12e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 1 18:22:36 2010 +0000

    Add some missing deprecation markers
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@895045 13f79535-47bb-0310-9956-ffa450edef68

commit 4b0094fdf9a98a0e66a9aee76febea75f248247d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 1 15:00:52 2010 +0000

    Update javacc from 4.1 to 5.0. Update generated code.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@895020 13f79535-47bb-0310-9956-ffa450edef68

commit 538e43d5e28089c3c53f86ae3cdb4dcf760621a9
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Jan 1 14:10:25 2010 +0000

    Followup to r894586
    Correct some lines in the French translation, modified in r894586
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@895013 13f79535-47bb-0310-9956-ffa450edef68

commit 0a15b793fa54102f8f730bbe9780247d610e38b4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 31 16:01:04 2009 +0000

    A little more JSP 2.2 EL impl
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@894873 13f79535-47bb-0310-9956-ffa450edef68

commit 03c46069f06d4619e8361e05d019df0ed47d1722
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 31 15:13:31 2009 +0000

    Correct location.
    Spotted by Christoph Beck
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@894863 13f79535-47bb-0310-9956-ffa450edef68

commit 6d71463b476e940040b528798f6bfba5797d4868
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 31 13:51:33 2009 +0000

    A little more JSP 2.2 EL impl
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@894841 13f79535-47bb-0310-9956-ffa450edef68

commit 1836372c9c2cfed043a0dffbc33c572b3fb2e145
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 31 12:44:49 2009 +0000

    Fix src build.
    - When <include .../> is nested in a <patternset .../> each include can only specify a single pattern
    - Reference existing <patternset .../> in <fixcrlf .../> rather than defining a new one
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@894831 13f79535-47bb-0310-9956-ffa450edef68

commit c9ec6a6fb03e2e3bbc2343e814a4ad3f3363d9a0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 31 11:05:45 2009 +0000

    Add the Java EE 6 schemas to support validation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@894813 13f79535-47bb-0310-9956-ffa450edef68

commit e991a6ead1235f6fcd7bc31b95fbe052b9343a1c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 31 10:54:17 2009 +0000

    Re-order constants to match DigestFactory usage to make it easier to check for consistency
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@894811 13f79535-47bb-0310-9956-ffa450edef68

commit 3d309a530c57e8fb1cd68e418876b5bc28bdad51
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 31 10:46:24 2009 +0000

    Update X-Powered-By header for Servlet 3.0 / JSP 2.2 and add additional information as suggested by the Servlet Spec and https://issues.apache.org/bugzilla/show_bug.cgi?id=48006
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@894805 13f79535-47bb-0310-9956-ffa450edef68

commit 9a2ae02474ebdd29990f034e05f8ebcd1789552d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 30 22:20:30 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=43819
    Implement ExpressionFactory.newInstance() and ensure that Jasper does not refer to org.apache.el directly
    JSP 2.1 TCK passes with these changes applied
    Based on a patch by Christoph Beck
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@894720 13f79535-47bb-0310-9956-ffa450edef68

commit 244b4987834ff0175d345ae0f8fcc32503fa2ec1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 30 21:50:33 2009 +0000

    Fix an problem highlighted by the JSP 2.1 TCK. Only provide merged 3.0+ web.xml for 3.0+ apps.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@894718 13f79535-47bb-0310-9956-ffa450edef68

commit 7aee3a82b2df5f4692aece4c8fd53a882c09c2a5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 30 18:21:26 2009 +0000

    API changes for JSP/EL 2.2 changes. Dummy implementations where implmentation is required.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@894688 13f79535-47bb-0310-9956-ffa450edef68

commit bb15c1b4b73949345eefcc7e58a9b3b886b41d6f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 30 16:51:52 2009 +0000

    New helper class to provide web.xml to those Jasper classes that need to parse it. JspConfig was not consistent with TldLocationsCache. These are now consistent. JspConfig now has access to the merged web.xml generated by Catalina from web-fragment.xml files and/or annotations.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@894672 13f79535-47bb-0310-9956-ffa450edef68

commit c493cd44bd0be8d2089969da2fe9ca067bce2092
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 30 16:04:23 2009 +0000

    Get Jasper to use same web.xml (including merging if appropriate) as Catalina by default. If no merged web.xml is found, fall back to previous behaviour.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@894659 13f79535-47bb-0310-9956-ffa450edef68

commit 0f78910604f7795822631804c381d5906c0fd814
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 30 12:02:26 2009 +0000

    Prevent definition of duplicate URIs for tag libraries and improve error messages for all duplicates
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@894599 13f79535-47bb-0310-9956-ffa450edef68

commit 50e5ca0865417ef5317a6b3db55fcf88df6ecd08
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 30 11:30:33 2009 +0000

    Fix indent
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@894592 13f79535-47bb-0310-9956-ffa450edef68

commit d939925ae1cef6ac9f74f931ebfbd05f647d8ff8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 30 11:30:01 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48345
    Patch provided by Keiichi Fujino
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@894591 13f79535-47bb-0310-9956-ffa450edef68

commit 4cbdc0dee0048b9c231ea20dbe91d689d634db40
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 30 11:07:22 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48417
    Correct French trabslations
    Patches provided by André Warnier
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@894586 13f79535-47bb-0310-9956-ffa450edef68

commit ae6c3c4867626627d45d2547d7751b91efefbf09
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 30 10:45:34 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48454
    Give the stderr reader a chance to finish before terminating the CGI process. This avoids "Bad file descriptor" errors. The period to wait is configurable.
    Based on a patch by Markus Grieder
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@894580 13f79535-47bb-0310-9956-ffa450edef68

commit 0e634fed6c55840741838499d65f538ec5b26918
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 30 10:13:05 2009 +0000

    Update to 3.0 schema
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@894577 13f79535-47bb-0310-9956-ffa450edef68

commit 2abc6bb4fb24904a645a046248e3d48de4bd2e38
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 30 09:29:19 2009 +0000

    Fix some Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@894573 13f79535-47bb-0310-9956-ffa450edef68

commit ff22e4a611269c64768d1a9d8bc7cc09c7a34324
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 30 09:24:17 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48443
    Correct FileNotFoundException on ROOT context start when annotation scanning is enabled
    Patch provided by wujunchen
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@894572 13f79535-47bb-0310-9956-ffa450edef68

commit 0590d35584655181bcc55e7f883186b2fbbe8d72
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 29 21:21:59 2009 +0000

    Add support for http-method-omission
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@894483 13f79535-47bb-0310-9956-ffa450edef68

commit d886e04d7c1d61dc22d6440afa4caa3d98f47c1e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 29 20:19:44 2009 +0000

    Don't override method that has a more complete implementation (handles more edge cases) in RealmBase
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@894475 13f79535-47bb-0310-9956-ffa450edef68

commit 4c97c10e49e65c7abe5e8065438cf9df71441054
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 29 17:47:36 2009 +0000

    XML output tweaks
    Fix some NPEs in the merge of session-config elements
    Fix a copy and paste error in the merge of session-config elements
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@894457 13f79535-47bb-0310-9956-ffa450edef68

commit 5fe4b535da9b030328d98fe523d4a269cedfa4b9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 29 17:33:22 2009 +0000

    Add support for configuring session cookies and session tracking in web.xml
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@894450 13f79535-47bb-0310-9956-ffa450edef68

commit aa2c30b3f678622364f64124a365552488b80699
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 29 14:13:24 2009 +0000

    Add support for the enabled attribute for servlets in web.xml
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@894393 13f79535-47bb-0310-9956-ffa450edef68

commit f81dd8e39e5d989e447cf5d0b759efabe8d46794
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 29 13:04:33 2009 +0000

    Fix copy/paste error
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@894376 13f79535-47bb-0310-9956-ffa450edef68

commit bca3d8f90da96265086dd11266406022db88e536
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 29 13:03:46 2009 +0000

    Make handling of ServletDef.asyncSupport consistent
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@894375 13f79535-47bb-0310-9956-ffa450edef68

commit a32c05a977c0b0bbd38f5051adff0487aeade6c6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 29 12:50:54 2009 +0000

    Add configuration option that allows the effective web.xml to be logged on context start.
    Expose the effective web.xml through a context attribute so other components (eg Jasper) can use it.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@894372 13f79535-47bb-0310-9956-ffa450edef68

commit 5053df26a1f42ae68b672252066974cb4f794f46
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 29 12:23:07 2009 +0000

    Interface and type are separate
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@894366 13f79535-47bb-0310-9956-ffa450edef68

commit 6fd72f1c7ff84280888209733e7137fc432d5fe9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 29 12:21:42 2009 +0000

    Expose string array of dispatcher names
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@894365 13f79535-47bb-0310-9956-ffa450edef68

commit ba7f4a2dd494d1004d1f3fca042a91fb2fcc6dc0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 28 22:23:14 2009 +0000

    JSP 2.2 - Add support for the new jsp-property-group elements to the web.xml parsing
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@894260 13f79535-47bb-0310-9956-ffa450edef68

commit b866f65a44bd06839ed2981903d6a792a3ffc26c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 28 22:12:06 2009 +0000

    Revert r893208. Catalina does have a requirement to access the full  jsp-property-group info
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@894258 13f79535-47bb-0310-9956-ffa450edef68

commit 10260ba5559723d2542a02b888e70535b7c5cfd6
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Dec 24 17:28:20 2009 +0000

    Allow all kinds of data sources to be mapped to the connection pool
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@893788 13f79535-47bb-0310-9956-ffa450edef68

commit 9e8b335db63d7c421f0b85dc11b0dd7668e674e6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 24 14:37:57 2009 +0000

    Make naming consistent with elsewhere in Tomcat
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@893768 13f79535-47bb-0310-9956-ffa450edef68

commit c9ae24a0d488403b5977a9d383ce99e80a322de9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 24 12:49:46 2009 +0000

    Clean up i18n resources after JarScanner changes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@893744 13f79535-47bb-0310-9956-ffa450edef68

commit 4d4913110ee37dd1f584f429244582466278bac1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 24 12:43:22 2009 +0000

    Move StringManager to the tomcat-util jar
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@893742 13f79535-47bb-0310-9956-ffa450edef68

commit ff4320061e0e0ef23038b12f4d1575b5a57547bb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 24 12:35:27 2009 +0000

    Have one list of JARs to ignore when scanning for config and make it configurable
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@893741 13f79535-47bb-0310-9956-ffa450edef68

commit 0316d0ea40a4cfb08f1519756442126efc11ddef
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 24 11:14:46 2009 +0000

    Move JAR scanning into a new JAR used by both Catalina and Jasper
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@893731 13f79535-47bb-0310-9956-ffa450edef68

commit d489be93f385085001e5ec6c5998f2c6dcf4f1f1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 23 22:20:59 2009 +0000

    JSP 2.2 - Update to JSP.5.1 - Sync only required for session and application scope
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@893640 13f79535-47bb-0310-9956-ffa450edef68

commit 4c2378d727c4151f9a3d4faf772937434fc4cbaf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 23 20:05:25 2009 +0000

    JSP 2.2 - Add omit attribute to <jsp:attribute>
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@893617 13f79535-47bb-0310-9956-ffa450edef68

commit 196b854987e768383286e40fd9e8df527b53bd7f
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Dec 23 17:12:10 2009 +0000

    Allow null usernames and passwords to be passed in, so that one can call DataSource.getConnection()
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@893577 13f79535-47bb-0310-9956-ffa450edef68

commit c84dd88061a688fb942e0ff0612dc7bbd050c24e
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Dec 23 16:40:47 2009 +0000

    Fix how we detect what class is being invoked so we can multiplex the method invocation correctly
    
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@893570 13f79535-47bb-0310-9956-ffa450edef68

commit 738e69f4ecb71b6179d19cc4ba8e4203ff11f9b3
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Dec 23 12:40:59 2009 +0000

    Enforce presence of charset in content-type header of textual mime-types in the Examples webapp
    a) by using a filter, b) by adding mime-type mappings for htm/html files
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@893496 13f79535-47bb-0310-9956-ffa450edef68

commit a2f2a8c6911b00e8f0588713ac109966496c76b8
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Dec 23 12:36:57 2009 +0000

    Properly close <head> tags in tagplugin documentation pages.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@893493 13f79535-47bb-0310-9956-ffa450edef68

commit 3954586e0fdb5c85898dd685ac4593c7e3cd34c8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 23 08:40:00 2009 +0000

    Restore alphabetical order
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@893427 13f79535-47bb-0310-9956-ffa450edef68

commit 32d7af00e098ec41186d42410ad1be87187fb77d
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Dec 23 02:28:04 2009 +0000

    Apply r893375 to extras.xml as well.
    This changes format of md5 files generated for the extras from "checksum" only to "checksum *filename".
    So, those md5 files will be in the same format as the ones generated by dist.xml.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@893378 13f79535-47bb-0310-9956-ffa450edef68

commit 394846e6aa9c51dbe33e0134fb320b831b41e417
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Dec 23 01:53:00 2009 +0000

    Fix EOLN issues in md5 files generated for our releases.
    
    1. Do not add an EOLN after checksum value.
    This was caused by difference in behaviour between Ant 1.6 and 1.7. Ant 1.6 did not add the newline.
    We could use 'pattern' or 'format' attributes of the <checksum> task, but those are since Ant 1.7 only, not available in 1.6.5. This solution siplifies code and preserves compatibility with Ant 1.6.
    
    2. Do not add an EOLN after the file name.
    I removed ${line.separator} from the echoed text.
    If the build is generated on Windows and verified on *nix, extra CR in a file name will cause complaints. I won't object to using an explicit LF here, though.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@893375 13f79535-47bb-0310-9956-ffa450edef68

commit f3b9728acb5f76e1e4095cb2e27fc7f593d4fe00
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Dec 23 00:41:58 2009 +0000

    Slight correction to the list of file extensions used to enforce LF/CRLF conventions in source distros.
    1. Replace *.default with *.properties.default, to be explicit about file type.
    2. Add *.htm  We have such a file in TC7, though not in TC6.
    3. Add *.tagx.  Though we do not have examples of tag files in XML syntax yet, but I think we better have this pattern included.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@893362 13f79535-47bb-0310-9956-ffa450edef68

commit 04fbe97f5e21d3ca9cc0f07325b2823eb8717f7a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 22 21:17:41 2009 +0000

    Fix regression (JSP TCK failure) with fix for bug 47453
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@893321 13f79535-47bb-0310-9956-ffa450edef68

commit 4f0051188ef347d07bc382ced993065e3804efdd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 22 19:04:25 2009 +0000

    Fix MD5s for windows zips
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@893273 13f79535-47bb-0310-9956-ffa450edef68

commit f004b99ab4ef5c4038a992221315932950e238e0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 22 18:37:22 2009 +0000

    Review file extensions present in src distro and amend list of text file extensions accordingly
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@893263 13f79535-47bb-0310-9956-ffa450edef68

commit 7cb442a579d2eb5a1c1f159e02c3839090be1127
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 22 15:44:54 2009 +0000

    JSP 2.2 implementation (partial)
     - JSP 3.3.9  - Default content type
     - JSP 3.3.10 - Default buffer size
     - JSP 3.3.11 - Error on undeclared namespace
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@893209 13f79535-47bb-0310-9956-ffa450edef68

commit 65474cb27d7eb1b8433c524aedd0a785b01951f9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 22 15:43:31 2009 +0000

    Catalina only needs to know about JSP URL patterns. Jasper will take care of the rest.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@893208 13f79535-47bb-0310-9956-ffa450edef68

commit eb464dec7b6d7dac2ead0df02b5728e38567c6e4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 22 15:16:17 2009 +0000

    Confirm that this was a typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@893200 13f79535-47bb-0310-9956-ffa450edef68

commit 34850bed0c1796d2b0be6b189b54ea9b73ab8e13
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 22 15:15:26 2009 +0000

    Confirm that this was a typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@893198 13f79535-47bb-0310-9956-ffa450edef68

commit b8507e699eb656d32e0131e688f3a302d4106e98
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Dec 21 21:51:29 2009 +0000

    Fix second part of Comment 8 in https://issues.apache.org/bugzilla/show_bug.cgi?id=47413#c8
    Coerce result of composite EL expression (${a}${b}) from String to the expected type.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@893001 13f79535-47bb-0310-9956-ffa450edef68

commit add3ae5fc3b12a5bb9c317d354cf8d1f4d0742ef
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Dec 21 20:28:45 2009 +0000

    Add a page that illustrates EL Composite Expressions ("${a}${b}") to the Examples web application
    
    This was designed as a reproducer for http://issues.apache.org/bugzilla/show_bug.cgi?id=47413
    Currently Composite ELs are correctly evaluated to Strings, but their coercion to the resulting type is broken.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@892968 13f79535-47bb-0310-9956-ffa450edef68

commit 55be26195ba4ca98f39922a6b409e52c211501ae
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 21 17:15:41 2009 +0000

    Only unload JDBC drivers this web app loaded.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@892887 13f79535-47bb-0310-9956-ffa450edef68

commit 34e563f26fee941845ff70de382668aab97454fa
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Dec 21 15:02:07 2009 +0000

    Fix some comment typos.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@892843 13f79535-47bb-0310-9956-ffa450edef68

commit 4612673173e4ada233b9b12d61411b2da3e9fb13
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Dec 21 13:31:46 2009 +0000

    Second followup to r892341
    Small improvements, based on sebb's and my comments.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@892817 13f79535-47bb-0310-9956-ffa450edef68

commit d6670b1bf0c744a7aed6928209d6912cc8c5463e
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Dec 21 13:26:52 2009 +0000

    First followup to r892341
    Replace tabs with spaces in the lines changed in that revision.
    No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@892814 13f79535-47bb-0310-9956-ffa450edef68

commit 1b30f8b4ac14ef7fdefafb015dbd98d753ebec44
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Dec 21 13:20:01 2009 +0000

    Remove unneeded line from the method that normalizes decodedURI.
    
    The line "uriBC.setBytes(b, start, end);" is wrong, as it should have been "uriBC.setBytes(b, start, end - start);". I suppose that it worked because in the only place that calls this normalize() method the value of 'start' was always equal to zero.
    
    Instead of fixing, I am removing that line, because it actually is not needed there at all, thanks to the uriBC.setEnd() calls above it.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@892812 13f79535-47bb-0310-9956-ffa450edef68

commit 6feb6d785cc18708195404ca44f6963c4f509947
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 21 13:19:58 2009 +0000

    Fix comment typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@892811 13f79535-47bb-0310-9956-ffa450edef68

commit 3e1010b1a2f648581fac3d68afbf18f2979f6bf6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 21 12:25:14 2009 +0000

    Various related (un)deploy improvements including:
     - better handling of failed (un)deployment
     - adding checking for valid zip file entries that don't make sense in a WAR file
     - improved validation of WAR file names
     - make sure error messages match the action
     - the return from File.getCanonicalPath() may or may not return a final separator for directories
    
    This fixes CVE-2009-2693, CVE-2009-2901 & CVE-2009-2902
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@892795 13f79535-47bb-0310-9956-ffa450edef68

commit bb09002e33c817791185285d492a092a3c568117
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 21 10:38:16 2009 +0000

    Review comments and minor typos
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@892747 13f79535-47bb-0310-9956-ffa450edef68

commit 3b6b1a53f417d09896ca3b7da2e8686f22027505
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Dec 21 06:29:40 2009 +0000

    Followup for rev.892612
    Better fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=47963
    Tab character is also allowed in the reason-phrase
    Also, use more traditional method of iterating over a string.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@892707 13f79535-47bb-0310-9956-ffa450edef68

commit 69cd8242ab3bce21ba180a6dd7b279d25fa93689
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 20 17:38:28 2009 +0000

    Comment typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@892621 13f79535-47bb-0310-9956-ffa450edef68

commit 89a48514d19581b0c8ee41b8dba4ff64823ca450
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 20 17:21:06 2009 +0000

    Better fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=47963
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@892612 13f79535-47bb-0310-9956-ffa450edef68

commit 8a2cd5a3b127347c44f1e9aebaa2cfeac5c362bb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 20 16:41:22 2009 +0000

    Tab police. No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@892609 13f79535-47bb-0310-9956-ffa450edef68

commit a576c70f233e321260d52025ae3e86aae9ff0510
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 20 16:35:10 2009 +0000

    Revert fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=47963 pending a better solution
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@892607 13f79535-47bb-0310-9956-ffa450edef68

commit e1d1476827310fe7cd62953480a1e4ad3e4c2254
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 20 03:46:02 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48399
    Make locks final
    Patch by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@892558 13f79535-47bb-0310-9956-ffa450edef68

commit 2d5fc94ba5d5554207911e65a04d4f626bb3cd11
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 20 03:29:20 2009 +0000

    Fix javadoc
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@892557 13f79535-47bb-0310-9956-ffa450edef68

commit ac41425689efe0bb5d7cd5ac4a4dcafa7c0ee4bf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 20 02:47:37 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48413
    Correct translations
    Patch provided by André Warnier
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@892555 13f79535-47bb-0310-9956-ffa450edef68

commit ce21e4877245a7aca3ae9771e6e077b72ad609ab
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 19 23:05:36 2009 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@892523 13f79535-47bb-0310-9956-ffa450edef68

commit 51490889fd754029dad5bd256dfe5f580bf7f3c6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 19 11:34:16 2009 +0000

    start not -start, stop not -stop
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@892464 13f79535-47bb-0310-9956-ffa450edef68

commit bb482f4e6da53533784668b4f03cae541d8a4203
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Dec 19 01:43:29 2009 +0000

    Followup to rev.889716
    The new AuthenticatorBase property needs a setter.
    Also, corrected a javadoc misprint.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@892415 13f79535-47bb-0310-9956-ffa450edef68

commit d9f2c999408f7d61b489df270c1621872324c7a1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 18 18:42:09 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47930
    Make swapIn thread safe so parallel requests for the same session don't result in multiple session objects for one sesison.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@892341 13f79535-47bb-0310-9956-ffa450edef68

commit 2c4e07fa3d19786c4d2d009b0d4d2c4a00b8aedb
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Dec 18 18:12:50 2009 +0000

    Add in support to link up the connection pool to a DataSource or XADataSource through JNDI
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@892330 13f79535-47bb-0310-9956-ffa450edef68

commit c69f61491e62cbbeb36f400089d79b6d59478cf3
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Dec 18 18:11:37 2009 +0000

    Correct version is needed
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@892329 13f79535-47bb-0310-9956-ffa450edef68

commit 4cea591215337ca4ed56d7fd84eb193cdbd3cab7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 18 17:34:43 2009 +0000

    Fix some Eclipse warnings in the tests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@892321 13f79535-47bb-0310-9956-ffa450edef68

commit e06a416ec396c0baf3d09cf2fad581afa2ce1e56
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 18 17:23:00 2009 +0000

    Fix the redundant superinterface warnings. Just cleanup, No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@892320 13f79535-47bb-0310-9956-ffa450edef68

commit 87f7fafb0cc0f8ebaf8ac6e1eb4b7a244e8c3aa6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 18 16:13:28 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47963
    Anything that could end up in an HTTP header must meet the requirements of RFC2616.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@892293 13f79535-47bb-0310-9956-ffa450edef68

commit 0f93ba517043b0fe44c220cb522b92cf116a7dc4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 18 09:49:32 2009 +0000

    Clean up duplicates and unused strings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@892198 13f79535-47bb-0310-9956-ffa450edef68

commit f9b350ef0e8d210bf9018c638237f41902d98d4d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 18 09:28:01 2009 +0000

    Move test for null outside of classloader fun and games so we can exit earlier if there is no session
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@892193 13f79535-47bb-0310-9956-ffa450edef68

commit 5b511cdbd1e6c91b0b9a101f2be08b9cec000466
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Dec 17 08:43:25 2009 +0000

    Followup to rev.883362, fixing https://issues.apache.org/bugzilla/show_bug.cgi?id=48113
    Rename method argument.
    The method prints bytes as unsigned values, not as "int"s as the old name implied.
    Based on the patch by Quintin Beukes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@891583 13f79535-47bb-0310-9956-ffa450edef68

commit 00c6bc70f12d2966cb7acb9aa71f47480d997145
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Dec 17 04:38:25 2009 +0000

    Fix unclosed tag.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@891533 13f79535-47bb-0310-9956-ffa450edef68

commit 1030b2511d57f7cc26e2c963ac748cbe071758a9
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Dec 17 04:05:24 2009 +0000

    Followup to rev.883125
    Additional fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47609
    Add patterns for textual files without extension
    Remove an extra comma
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@891529 13f79535-47bb-0310-9956-ffa450edef68

commit 1d4044c24ee7153cabbf73bd9d19b54d78bf3066
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 16 11:17:30 2009 +0000

    Make SSL config JVM neutral. Based on a suggestion from Ivan.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@891190 13f79535-47bb-0310-9956-ffa450edef68

commit e15db628ba31492d0657a5d55d730f7f29fb83ef
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 16 11:05:09 2009 +0000

    Fix bug 47841: CombinedRealm fails to switch to other realm
    https://issues.apache.org/bugzilla/show_bug.cgi?id=47841
    Handle failure of sub-realm during combined realm start
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@891187 13f79535-47bb-0310-9956-ffa450edef68

commit d784d08d6e6ae9cf994b78e711f2b8941806cb52
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 16 11:04:24 2009 +0000

    Side issues from bug 47841
    Override getInfo() log messages that use it have useful info
    Add support for a connectionTimeout attribute
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@891186 13f79535-47bb-0310-9956-ffa450edef68

commit e89edd1c93fb3420b870dda4a8462faa91312d01
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 16 11:02:54 2009 +0000

    Side issue from bug 47841
    Overrides getInfo() in Realms so log messages that use it have useful info
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@891185 13f79535-47bb-0310-9956-ffa450edef68

commit 32c76ca92049ff2fb064e53dc4320385fe1fa8c3
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Dec 15 23:14:23 2009 +0000

    bad Fido, bad Fido
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@891065 13f79535-47bb-0310-9956-ffa450edef68

commit 06d22b9704a62223c63a485b0a603724c720488a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 14 22:54:20 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47774
    Ensure any session listeners are called with the Thread CCL set to the web application's class loader
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@890530 13f79535-47bb-0310-9956-ffa450edef68

commit 91b3fb25099be25e4b9864d245ce3f17f348d9c5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 14 22:31:30 2009 +0000

    Session timeout is now set via a String
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@890509 13f79535-47bb-0310-9956-ffa450edef68

commit 803d64d9adcf9698d2d3d5b60db7a5cbb5446bc6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 14 21:18:34 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48387
    Make configuration attributes consistent between Filter and Valves
    Patch provided by Cyrille Le Clerc
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@890483 13f79535-47bb-0310-9956-ffa450edef68

commit 9e97a76719384c4d77b149187f70d9990b7974d6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 14 21:12:35 2009 +0000

    Fix TLD scanning in JARs for JspC. This copies the DefaultJarScanner from Tomcat. Less invasive than the alternative refactoring that will have to wait for another day.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@890479 13f79535-47bb-0310-9956-ffa450edef68

commit 69b020ea40e14d222b766782d0e0f5850e1ce8c2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 14 21:06:02 2009 +0000

    Add extra jar required for JspC
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@890477 13f79535-47bb-0310-9956-ffa450edef68

commit 08bbafe7c167e3eafcd792307f200557050d0947
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 14 20:48:21 2009 +0000

    Correct TLD URIs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@890474 13f79535-47bb-0310-9956-ffa450edef68

commit 29562a42117ed2f1780d089e5a6de5dbab3805ce
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 14 19:21:06 2009 +0000

    Fix copy/paste error in log definition
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@890449 13f79535-47bb-0310-9956-ffa450edef68

commit 7a529c913955e02ae1f8f652226a1fe2f1441b41
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 14 18:04:54 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47769
    Reword JNDI docs in an attempt to make clear why resource-ref elements appear to be optional
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@890417 13f79535-47bb-0310-9956-ffa450edef68

commit 51d5511dd33f82075207de11515235825544add8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 14 14:53:00 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47744
    Prevent medium term memory leak when ussing SSL with a security manager
    Based on a patch by Greg Vanore
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@890350 13f79535-47bb-0310-9956-ffa450edef68

commit df6feed1d22f68c63fd81206441bd11b09ccc9cd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 14 14:51:12 2009 +0000

    Pre-load a class required for apps to obtain the SSL key size when running under a security manager
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@890349 13f79535-47bb-0310-9956-ffa450edef68

commit 064af24b1eef57fec66bc717c52a86e2af37361f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 14 10:37:01 2009 +0000

    Test for null rather than waiting for the NPE ot be thrown.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@890265 13f79535-47bb-0310-9956-ffa450edef68

commit 65eefd719501453fd1b6c8d27971eced2f938587
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 14 10:00:23 2009 +0000

    Only apply filtering to the files that need it else non-text files will get corrupted.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@890256 13f79535-47bb-0310-9956-ffa450edef68

commit 2b3968f58dfe862e21b134093eb6af02ab73d72a
Author: Costin Manolache <costin@apache.org>
Date:   Mon Dec 14 07:35:57 2009 +0000

    One more week of (almost 20%) hacking on tomcat-lite:
    - protocol handler is almost useable with both tomcat7 and 6.x. It's missing most options of the other
    connectors - will need to select what fits with 'lite', SSL is not hooked
    - run the old watchdog tests ( in junit form ) - they seem to catch few problems, improved a bit the
    runner to make eclipse happy.
    - few load tests - and associated fixes.
    
    If anyone tries it out with maven - one test will look for examples webapp, the one in tomcat7 has
    a RequestDumperFilter that needs to be commented out. Ant runs more tests - some are failing. For
    either - you need a build of the watchdog.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@890206 13f79535-47bb-0310-9956-ffa450edef68

commit e758ce29cbf3b10f94a9b43fb5e4c1d8d1d9136d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 13 23:03:32 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48381
    Add a note about case of host name
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@890141 13f79535-47bb-0310-9956-ffa450edef68

commit 64e2305fa27959d910caafd6f22daa272aa99168
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 13 22:48:20 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=43656
    Correctly coerce null to zero when Number is the required type.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@890139 13f79535-47bb-0310-9956-ffa450edef68

commit 3ff96b9d342ee485c14d87d1d2f3b0d1387eb9fe
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 13 19:41:38 2009 +0000

    Remove empty dir
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@890101 13f79535-47bb-0310-9956-ffa450edef68

commit 0f36919640b182a4e283eefcb12b350dad3e9e16
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 12 19:49:40 2009 +0000

    Make init param name consistent
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@889966 13f79535-47bb-0310-9956-ffa450edef68

commit c232d32ce61d0bc2528fbd94a2cd0043328500fb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 12 19:48:33 2009 +0000

    Ignores if building module in Eclipse
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@889965 13f79535-47bb-0310-9956-ffa450edef68

commit 0e857d269e5f0389922d6ad30b27601711cd1602
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 11 17:33:27 2009 +0000

    Cleanup of unused method and parameter
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@889719 13f79535-47bb-0310-9956-ffa450edef68

commit 205ac60a42fb50dbff7150957aba85199f132a60
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 11 17:30:59 2009 +0000

    Address session fixation by changing the session ID on authentication. This is enabled by default. This should be safe since this also happens when sessions migrate between nodes in a cluster. If an app can't handle a changing ID, then the feature can be disabled in the authenticator.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@889716 13f79535-47bb-0310-9956-ffa450edef68

commit 89498ca3b43f7b68088d3a61ae70fcf4e088a19c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 11 17:14:26 2009 +0000

    Remove docs for valve that was replaced with filter
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@889707 13f79535-47bb-0310-9956-ffa450edef68

commit 3656573f016e181b60ec2e5e5392e547bdfad0a5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 11 17:04:36 2009 +0000

    JARs without any web.xml fragments should not impact the status of distributable
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@889701 13f79535-47bb-0310-9956-ffa450edef68

commit da2ad8fa7a85da438cfba3fc9d9c51a6d412e8c3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 11 13:47:10 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47656
    Add information on system property replacement in config files.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@889615 13f79535-47bb-0310-9956-ffa450edef68

commit 88b5d4b4d621ecffe369fa7fd0b97c2312d74573
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 11 13:12:57 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47537
    Return an error page if a forward during form auth fails rather than a zero length 200 response.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@889606 13f79535-47bb-0310-9956-ffa450edef68

commit 1e309acfe6495b132c8ccd0eb0af678da4fd75d9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 11 12:47:13 2009 +0000

    Use the right class for the logger
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@889596 13f79535-47bb-0310-9956-ffa450edef68

commit b09d817eade28e1ea945ce02e31415cdc3d76539
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 11 12:17:27 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48373
    Patch suggested by wujunchen
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@889587 13f79535-47bb-0310-9956-ffa450edef68

commit 9be399ff4e609109a510a74dd678a73e0b93815b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 11 12:14:05 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48370
    Remove some unused imports
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@889585 13f79535-47bb-0310-9956-ffa450edef68

commit 43205692c855fcf8cdbb4a1c16a00c6bb59c927a
Author: Mladen Turk <mturk@apache.org>
Date:   Fri Dec 11 07:51:09 2009 +0000

    Update procrun to 2.0.6
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@889525 13f79535-47bb-0310-9956-ffa450edef68

commit 44255e99872e70cebb544d9e4153f02b14664082
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 10 18:46:39 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47507
    Document the UserDatabaseRealm, in particular the readonly attribute of UserDartabase resources.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@889363 13f79535-47bb-0310-9956-ffa450edef68

commit 549a5d5b5f0bc862469e761e9ebcefbba7aea71a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 10 16:59:29 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48324
    Correct JavaDoc. Patch by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@889336 13f79535-47bb-0310-9956-ffa450edef68

commit 587a95f9649d12fbe674b25a8c454e1b2f4d90c0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 10 10:53:13 2009 +0000

    Include the version on the homepage.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@889179 13f79535-47bb-0310-9956-ffa450edef68

commit 11b5e7a951e724c7c3c5e14797a52e3ba8900347
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 8 17:59:57 2009 +0000

    Correct TODO - thanks sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@888499 13f79535-47bb-0310-9956-ffa450edef68

commit fe22689c4232140e9b28692d4b65a3072283121f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 8 00:29:50 2009 +0000

    Fix a couple of potential NPEs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@888203 13f79535-47bb-0310-9956-ffa450edef68

commit 6a9d98ea5dc20dc04fc6bb8c607a95be21a1de14
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 7 19:26:03 2009 +0000

    More post-refactoring recurrsion protection
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@888097 13f79535-47bb-0310-9956-ffa450edef68

commit 7e35458fb97ab6ef7b9de633a607cadb5909a7b6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 7 19:12:18 2009 +0000

    Add missing part of recurrsion patch
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@888092 13f79535-47bb-0310-9956-ffa450edef68

commit d04878b25763097084c2ff429841f094449203e4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 7 18:48:27 2009 +0000

    Shutdown the handlers used by webapps otherwise log messages in the buffer just get lost.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@888072 13f79535-47bb-0310-9956-ffa450edef68

commit 7d6074ad16bc8050c4dbce69276cb0ec9e395c22
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 7 17:22:24 2009 +0000

    More clean up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@888027 13f79535-47bb-0310-9956-ffa450edef68

commit 204979d59776ed1389f36c6785c7c464558d26e3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 7 17:11:10 2009 +0000

    Remove remains of generic package
    More clean up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@888010 13f79535-47bb-0310-9956-ffa450edef68

commit a73cf7874d52f7bc312e5331605a4d556b0525fa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 7 16:56:00 2009 +0000

    More BCEL pruning
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@887998 13f79535-47bb-0310-9956-ffa450edef68

commit c4507ffb8a72219ba5d56df248ef29b13b7f4ef9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 7 16:43:25 2009 +0000

    Add support for WebFilter
    Remove wrappers to implement isAsyncSupported() having found the setAttribute() code
    It is individual filters rather than the whole filter chain that need to be considered for isAsyncSupported
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@887992 13f79535-47bb-0310-9956-ffa450edef68

commit ea6df061600cb60f61abda29b5306599cd4e1614
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 7 14:25:21 2009 +0000

    Add annotation support for WebListener
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@887931 13f79535-47bb-0310-9956-ffa450edef68

commit a6d2f645cc7e7cfc590bd64a666fbb72ac37e53e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 7 14:18:29 2009 +0000

    Add annotation support for WebServlet
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@887929 13f79535-47bb-0310-9956-ffa450edef68

commit d8d2b908959cd5da648125f15c9993a84e3ed572
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 7 14:17:14 2009 +0000

    Add async-supported impl for Servlets
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@887928 13f79535-47bb-0310-9956-ffa450edef68

commit 199ecdfd9b926ef36b057f15affcaba27c75fa87
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 7 14:14:49 2009 +0000

    A little more cleanup. UCDetector claims there is no more to clean. I'm not yet convinced.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@887927 13f79535-47bb-0310-9956-ffa450edef68

commit f3880cb8d53b40de2ca678d61b94ab3ac15f34c3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 7 12:49:56 2009 +0000

    Typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@887913 13f79535-47bb-0310-9956-ffa450edef68

commit a9662cf1899c4c550d31d1023e5bb1393c8d3e56
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 6 01:03:55 2009 +0000

    Last cleanup of unused code for today. Still more todo.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@887625 13f79535-47bb-0310-9956-ffa450edef68

commit 6abf44c22fedecff32b8b4873a769761107f2677
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 6 00:19:52 2009 +0000

    More unused code removal.
    Still not complete.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@887613 13f79535-47bb-0310-9956-ffa450edef68

commit 7d99e6509af0b200b5bac25e6051af29585dd6fb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 5 23:22:46 2009 +0000

    Remove unused code identified by Eclipse / UCDetector.
    Not complete - still more to remove.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@887610 13f79535-47bb-0310-9956-ffa450edef68

commit b76906230fbfe9c9a9ab08f4059f1e68f1635662
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 4 20:23:13 2009 +0000

    Remove some unused classes identified by the unused code detector
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@887344 13f79535-47bb-0310-9956-ffa450edef68

commit f484b4b7ca7acd8b0e1cce83c8085e5f6b765f67
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 4 18:56:38 2009 +0000

    Don't need the Vistor and associated support
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@887319 13f79535-47bb-0310-9956-ffa450edef68

commit 0b5d0e6f7a3c78dc5dbd0fdcae2401d65163a774
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 4 18:12:33 2009 +0000

    Remove the verifier
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@887307 13f79535-47bb-0310-9956-ffa450edef68

commit d20187ae9f0f3dcef61835f08533482d01a7311c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 4 17:59:52 2009 +0000

    Import a package renamed Jakarta BCEL trunk to do the annotation scanning.
    There is far more functionality here than is required. The excess will be removed as development progresses.
    The import has been done via svn copy so future updates should be easy via svn merge.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@887302 13f79535-47bb-0310-9956-ffa450edef68

commit d1b9f165f2ac3b843485f02c77aff909038a3def
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 4 17:49:49 2009 +0000

    Import a a package renamed Jakarta BCEL trunk to do the annotation scanning. There is a lot of fat still to be trimmed.
    This was done as an svn copy so future updates should be simple via svn merge.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@887296 13f79535-47bb-0310-9956-ffa450edef68

commit 35a750bc8b6a053b2608f7260851be0d60e8260d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 4 13:51:52 2009 +0000

    Fix the Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@887197 13f79535-47bb-0310-9956-ffa450edef68

commit eb162dab8311c7527654562a5739283c234b4a0b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 4 13:50:36 2009 +0000

    Need to strip /hostname/contextpath before trying to list resources
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@887195 13f79535-47bb-0310-9956-ffa450edef68

commit ea98d558928691b5ef22cd16ade45eb8f376eb6b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 4 10:17:06 2009 +0000

    New Jar in Java 7
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@887147 13f79535-47bb-0310-9956-ffa450edef68

commit f01f9da16cfce4c83e8a9f70f4a274f81e77988e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 4 10:16:27 2009 +0000

    Adding the plumbing to get inputstreams for class files. These will be passed BCEL for annotation scanning.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@887146 13f79535-47bb-0310-9956-ffa450edef68

commit cba80e8978aa7341a5582d6dbd6243ce08004dc0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 4 10:14:36 2009 +0000

    More accurate comment
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@887144 13f79535-47bb-0310-9956-ffa450edef68

commit 275404f53ca2ffd3ed04cd23dcb4812b01cb4f42
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 4 10:14:00 2009 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@887143 13f79535-47bb-0310-9956-ffa450edef68

commit 5579c65095e245ec4a3045a60b95a6397cd5558b
Author: Costin Manolache <costin@apache.org>
Date:   Fri Dec 4 08:03:16 2009 +0000

    Added the tests - but then tried few more changes and broke them again. Fix it back.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@887093 13f79535-47bb-0310-9956-ffa450edef68

commit e18151ecbd1bb3639558b44a8d8e9a1ff058c279
Author: Costin Manolache <costin@apache.org>
Date:   Fri Dec 4 07:16:59 2009 +0000

    One more iteration:
    - added few more tests
    - moved the http/1.x code to HttpConnection - easier to test, allows protocol upgrade
    - added an (experimental, hello-world-style) implementation of spdy ( a new binary protocol
    and possible replacement for jk ). Tested with chrome and the unit tests - the tricky part
    seems to work - detecting and 'upgrading' the wire transport.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@887087 13f79535-47bb-0310-9956-ffa450edef68

commit 137beb198fb8fc269e7a15283dbab98cdfc9c630
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 3 23:12:24 2009 +0000

    Update web.xml to servlet 3.0
    Mark as metadata-complete
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@886979 13f79535-47bb-0310-9956-ffa450edef68

commit 26138aa55803160a8dd64fdd9b003566d2bbed4e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 3 15:25:54 2009 +0000

    Add support for the MultipartConfig annotation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@886814 13f79535-47bb-0310-9956-ffa450edef68

commit 893adef514a548587611aff49c13a3303dc75d7c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 3 13:24:15 2009 +0000

    Only log missing class as an error on Sun JVMs. Likely to be an non-issue for other vendors.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@886774 13f79535-47bb-0310-9956-ffa450edef68

commit 12faf204b046c42c98acd64a1f5cfec60dbe9468
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 2 18:00:40 2009 +0000

    Remove use of deprecated code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@886227 13f79535-47bb-0310-9956-ffa450edef68

commit 806200c76d92422fc5c49f2234c0b861d7a2edf0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 2 00:31:33 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47502
    Don't try and replicate attributes we know to be non-serializable
    Patch by Tim Funk
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@886019 13f79535-47bb-0310-9956-ffa450edef68

commit 116c03dd300abb73b369d9d5ae296eddfe93752a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 1 23:28:49 2009 +0000

    Better descriptions
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@886005 13f79535-47bb-0310-9956-ffa450edef68

commit ed40c2cc83110a4e4b569e4df90565689f409cdb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 1 23:21:41 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48296
    Generics and JavaDoc fixes
    Patch provided by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@885999 13f79535-47bb-0310-9956-ffa450edef68

commit 881f7af5ae6fa67ab524b4f02eee4ddbf712f23d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 1 23:02:36 2009 +0000

    Remove deprecated commands
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@885996 13f79535-47bb-0310-9956-ffa450edef68

commit 7a14f93281ed296510ef3d870cf6b2ffa398a867
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 1 22:52:55 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47453
    Handle void return types.
    Patch by Tim Funk.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@885991 13f79535-47bb-0310-9956-ffa450edef68

commit b427166ad9454693659e4b51f3dc918140a10308
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 1 20:04:17 2009 +0000

    More memory leak protection. Adds support for:
     - optionally stopping threads started by a web app - this is dangerous last resort option for dev environments - not for production
     - clearing ThreadLocals created buy web apps
     - clearing unintentional references in sun.rmi.transport.Target
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@885901 13f79535-47bb-0310-9956-ffa450edef68

commit c44a0cab87564329e2241bfabac925abdea23ef0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 1 19:33:44 2009 +0000

    Move from a global system property to a per Context attribute for clearing static references.
    Change the default as this should no longer be an issue with modern JVMs and the other memory leak protection provided in Tomcat 7.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@885889 13f79535-47bb-0310-9956-ffa450edef68

commit 8c9cc73148b043b15b5622e07bc9ba03289e7fc1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 1 18:44:32 2009 +0000

    More memory leak protection - this time for the GC Daemon thread.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@885860 13f79535-47bb-0310-9956-ffa450edef68

commit 17a9847c5c1c078889dbb21412620948e53782fa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 1 14:34:55 2009 +0000

    Provide a simple way of enabling all cipher suites when testing.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@885770 13f79535-47bb-0310-9956-ffa450edef68

commit 6c75c36d27a1b7cd3297a7f0c0103927e55a2ab7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 29 19:27:38 2009 +0000

    Add code that logs threads started but not stopped by the webapp.
    I have some highly experimental code to shut those threads down but it a) needs more work and b) needs to be made configurable before I commit it.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@885260 13f79535-47bb-0310-9956-ffa450edef68

commit 271d83a3c4503223c4d06459f5231a776865b2ac
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 29 15:30:40 2009 +0000

    Refactor prior to adding some more clean-up methods.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@885241 13f79535-47bb-0310-9956-ffa450edef68

commit 6791dd2eaa72580a6a5ad580def8da26ca7e2d8a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 29 14:32:41 2009 +0000

    Better logging of what is going on on Context reload
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@885233 13f79535-47bb-0310-9956-ffa450edef68

commit 4864c31c8ee606683536a2f2fb7b16c25796c58d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 29 14:25:04 2009 +0000

    Add logging when a context fails to unregister a JDBC driver.
    Don't unregister the jdbc-obdc bridge driver that is loaded by the system classloader.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@885231 13f79535-47bb-0310-9956-ffa450edef68

commit 9afe6ce5c707135a1db9759fd5780455c84aa461
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 27 22:23:40 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47342
    Make sure replicated context is initialised before accessing fields
    Patch provided by Keiichi Fujino
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@885038 13f79535-47bb-0310-9956-ffa450edef68

commit b8599a346b68d1d5f835f83d30e698de665354ea
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 27 18:20:12 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48289
    Javadoc / generics fixes
    Patch procided by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@884938 13f79535-47bb-0310-9956-ffa450edef68

commit 2ac19000854cac91408eba94bf9326f99ad5ea9f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 27 18:14:19 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48288
    Supress some warnings
    Patch provided by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@884937 13f79535-47bb-0310-9956-ffa450edef68

commit ce8d1c55f298bf07179f109dfa2fba6f5805a651
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 27 18:11:34 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48287
    Eclipse warnings
    Patch provided by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@884935 13f79535-47bb-0310-9956-ffa450edef68

commit f0a0aec960536fc65e2e8bb4f87f01655b205463
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 27 18:01:12 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48285
    Add handling of Async dispatcher types
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@884926 13f79535-47bb-0310-9956-ffa450edef68

commit 0f5ee4017d0c1669e914ecfa201919c78210ff82
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 27 17:53:29 2009 +0000

    Further simplication - delete unused constants
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@884924 13f79535-47bb-0310-9956-ffa450edef68

commit 5dd9e0627f8c87697327d90eb011b8803e8802a2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 27 17:52:25 2009 +0000

    Take advantage of revised constants to simplify code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@884923 13f79535-47bb-0310-9956-ffa450edef68

commit 5880dc12d8b382acd2b1a480330431906342ef48
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 27 17:24:47 2009 +0000

    Re-order the numbering so each dispatcher type always refers to the same bit so we can use bitwise operations
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@884916 13f79535-47bb-0310-9956-ffa450edef68

commit 56897bec89c3dc62e2e27752c0c48fe075fd6a07
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 27 17:17:12 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48282
    Correct possible NPE
    Patch provided by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@884914 13f79535-47bb-0310-9956-ffa450edef68

commit 632e68c830312d12eb5292fe15599f4f21ac70b5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 27 17:14:16 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48267
    Generics
    Patch provided by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@884913 13f79535-47bb-0310-9956-ffa450edef68

commit bd8f52cfe6d454af39dfdd0346ad7ca9d4276c9e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 27 16:57:21 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48297
    Missing french translations and some weird sentences
    Patch provided by Marc Paquette
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@884907 13f79535-47bb-0310-9956-ffa450edef68

commit b04f7928200293613489ec4f92788ca2fda18164
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 27 16:53:37 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48295
    Correct French translations.
    Patch provided by Marc Paquette
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@884905 13f79535-47bb-0310-9956-ffa450edef68

commit 8c4d7d0c22622af1afbba9191a14d892f30df1aa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 27 14:55:26 2009 +0000

    Double-check getResource() works as intended after report of issue with Grails (http://jira.codehaus.org/browse/GRAILS-5038)
    All seems OK. Maybe a Grails issue?
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@884887 13f79535-47bb-0310-9956-ffa450edef68

commit 16178c4d5ba30e562d1c64abcfa1dbc068e8a587
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 26 19:38:46 2009 +0000

    Remove unused class
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@884676 13f79535-47bb-0310-9956-ffa450edef68

commit bb6717f665e6e58b8fb0a5d52989ac438cf7deff
Author: Costin Manolache <costin@apache.org>
Date:   Thu Nov 26 07:02:53 2009 +0000

    Shouldn't do last-minute changes before a large commit...
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@884424 13f79535-47bb-0310-9956-ffa450edef68

commit ee5ef4f6ebd9d2467f185a3145069fe178ca2fbb
Author: Costin Manolache <costin@apache.org>
Date:   Thu Nov 26 06:56:33 2009 +0000

    Added eclipse files, remove unused build helper file
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@884422 13f79535-47bb-0310-9956-ffa450edef68

commit a1744a00e28af3ad5e229a73ca5d6916618b1a7c
Author: Costin Manolache <costin@apache.org>
Date:   Thu Nov 26 06:55:49 2009 +0000

    Tests. Note that you need to have watchdog checked out and built (if it can still be built... - probably should checkin the binaries ).
    There are a bunch of useful tests in watchdog - I'm not running watchdog, but turned it into JUnit test cases, we just
    need the web apps and golden files from there.
    
    At the moment there are about 12 failures (out of ~1000 tests - there are several dups because same tests are run against
    different targets )
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@884421 13f79535-47bb-0310-9956-ffa450edef68

commit eea1a5302ad1fb097f51859cd34433c57ac6360b
Author: Costin Manolache <costin@apache.org>
Date:   Thu Nov 26 06:52:28 2009 +0000

    For downloading deps - used Ant Ivy. The actual deps are declared in a maven pom.xml ( Ivy is supporting it just fine ).
    
    The maven file can be used to compile and test tomcat-lite in servlet-2.5 mode - I wouldn't recomend to anyone to
    use it, but if you have to and can't use build.xml - it does the basic thing.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@884420 13f79535-47bb-0310-9956-ffa450edef68

commit 766a6eaa85004f4e9083757c2087a95d2bb8bda1
Author: Costin Manolache <costin@apache.org>
Date:   Thu Nov 26 06:50:10 2009 +0000

    Few change to the ObjectManager ( intended for integration with existing frameworks ).
    The 'sample/if no other framework around' SimpleObject manager no longer depends on IntrospectionUtils, refactored it ( and parts of modeler )
    to DynamicObject.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@884419 13f79535-47bb-0310-9956-ffa450edef68

commit decfe2abddbbf7cb30fb0432bbfacde45816aecc
Author: Costin Manolache <costin@apache.org>
Date:   Thu Nov 26 06:48:42 2009 +0000

    Moved the old coyote-specific servlet api impl to coyote/servlet
    Added (10% working) coyote connector that uses the new http impl
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@884418 13f79535-47bb-0310-9956-ffa450edef68

commit 7ac05a85af242c0dc2e4ece69e02e140a61d26fe
Author: Costin Manolache <costin@apache.org>
Date:   Thu Nov 26 06:47:03 2009 +0000

    Removed the 'addons' package, moved the interfaces close to the packages that define them, also
    some code move around.
    
    The web.xml parsing ( and some incipient 3.0 annotation processing ) is independent of tomcat, indended as
    a user-library.
    
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@884416 13f79535-47bb-0310-9956-ffa450edef68

commit 2296716f6d2e2628be77ac24a681c2be11bbfe9f
Author: Costin Manolache <costin@apache.org>
Date:   Thu Nov 26 06:45:13 2009 +0000

    Based on the code in tomcat.lite, but using the new http connector instead of coyote.
    Also the ObjectManager and properties are no longer used.
    
    This can be compiled against both 3.0 and 2.5 ( with proper exclude ), since one of the goals
    of tomcat-lite is to be useable against current servers.
    
    Note that this is mostly for testing and to allow existing servlets to be used _outside_ of a
    servlet engine - this is not a servlet engine.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@884415 13f79535-47bb-0310-9956-ffa450edef68

commit 3776393905ac388e684c9a0880905230a4d768a2
Author: Costin Manolache <costin@apache.org>
Date:   Thu Nov 26 06:42:49 2009 +0000

    Proxy service - CONNECT doesn't seem to work ( probably because it didn't have a test ), the rest works
    pretty well. Also includes a small socks server I used while testing. Almost all work is non-blocking and
    done in the selector thread.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@884413 13f79535-47bb-0310-9956-ffa450edef68

commit d6536ec50dc8e22b3297870afdc517c3ae16a069
Author: Costin Manolache <costin@apache.org>
Date:   Thu Nov 26 06:41:00 2009 +0000

    The http implementation - it may be hard to recognize the original connector code from tomcat after many iterations.
    Changes compared with coyote:
    - both server and client mode
    - HttpRequest/HttpResponse implement most of methods in the HttpServletRequest - with the addition of setters, for use
    in client mode. They don't implement the interfaces - or 'servlet framework' specific methods - but should look
    familiar to people using this as a library
    - mapping is moved in this package, also support running HttpServices in the selector thread (proxy will run this way)
    - MimeHeaders are gone, so are the parameters - replaced with the MultiMap, which is based on MimeHeaders but adds a HashMap
    instead of linear scanning
    See tests for examples.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@884412 13f79535-47bb-0310-9956-ffa450edef68

commit e2f543b5150f52dd8d213464a4ca5d9cd23b0bb5
Author: Costin Manolache <costin@apache.org>
Date:   Thu Nov 26 06:35:43 2009 +0000

    This is the first draft of the refactored coyote connector.
    Lots of big changes:
    - MessageBytes is gone - BBuffer, CBuffer are used as buffers, BBucket/CBucket are used for wrapping bytes
    - C2B/B2C are gone - replaced by nio charsets in IOReader/IOWriter. CBuffer is still needed (instead of a StringBuilder ) to have
    access to the raw chars and avoid copy
    - speaking of copy, IOChannel uses a list of buffers instead of growing a buffer. For proxy we should be able to move
    buffers from in to out.  This works a bit better with the char conversions, etc
    - Nio code heavily refactored - I didn't add APR but shouldn't be hard if anyonew wants.
    - Ssl is barely working - needs improvements
    
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@884410 13f79535-47bb-0310-9956-ffa450edef68

commit 97448be3b3cd22e842ade9d731b988bd542f8a2a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 26 01:02:19 2009 +0000

    Reduce visibility
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@884351 13f79535-47bb-0310-9956-ffa450edef68

commit 01f56846424106d776dfc90e7861d189d1ebde28
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 25 23:56:30 2009 +0000

    More memory leak protection. This one is particularly nasty as profilers don't appear to show the GC root associated with the leak.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@884341 13f79535-47bb-0310-9956-ffa450edef68

commit 21cd3083af2d45b2c0d91f57356116f80bdbbed5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 25 01:00:07 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48266
    Generics and unused imports.
    Patch by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@883943 13f79535-47bb-0310-9956-ffa450edef68

commit 92e53f3647fdb1aba445a905ef54cfd3b7c735ea
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 24 01:27:40 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47836
    Don't keep TLD/listener info between reloads
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@883565 13f79535-47bb-0310-9956-ffa450edef68

commit 93efe6a29d45814a03116e0c4d6d89a3299d344e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 24 01:15:19 2009 +0000

    Explicitly close the stream.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@883562 13f79535-47bb-0310-9956-ffa450edef68

commit e43b3851b599be2d76d3f1eeb9a4fc9025949caa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 23 15:10:20 2009 +0000

    Rest of fix required for https://issues.apache.org/bugzilla/show_bug.cgi?id=48113
    Based on a patch by Quintin Beukes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@883362 13f79535-47bb-0310-9956-ffa450edef68

commit a02d4b3e95aecfae1fa9ef1bdc75de331032b6ac
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 23 00:46:20 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48233
    Reduce visibility of loggers
    Patch provided by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@883204 13f79535-47bb-0310-9956-ffa450edef68

commit eca3a4a005811f2839535c6f01ce0e412c8aaa65
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 23 00:37:36 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=482
    Use volatile since field is accessed by multiple threads
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@883203 13f79535-47bb-0310-9956-ffa450edef68

commit 55e505243737e64784802982018ffb236936ce16
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 23 00:36:10 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48239
    HexUtils exposes public array
    Based on a patch provided by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@883201 13f79535-47bb-0310-9956-ffa450edef68

commit a524187fde28ce82790dfbed84f084f3850c426e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 23 00:31:43 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48248
    Use volatile since field is accessed by multiple threads
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@883200 13f79535-47bb-0310-9956-ffa450edef68

commit c7d7ba217d8b3aa910587d5d2b49a65b68051f6e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 23 00:28:03 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48249
    Use volatile since field is accessed by multiple threads
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@883199 13f79535-47bb-0310-9956-ffa450edef68

commit d8c1421516caf19b8eb01268ec986bef7f644126
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 23 00:23:41 2009 +0000

    Add missing property
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@883198 13f79535-47bb-0310-9956-ffa450edef68

commit 380c01129ecd4244d92782b179921172c6d8f6c9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 23 00:11:11 2009 +0000

    Fix failing SSL test
    Prevent NPE in NIO connector when using SSL and the default keystore password
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@883196 13f79535-47bb-0310-9956-ffa450edef68

commit 97aa81963840b7fd3afa0b29537b70069cd7e94a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 22 23:31:18 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48257
    Patch provided by Guillermo Gutiérrez
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@883186 13f79535-47bb-0310-9956-ffa450edef68

commit a25475b504f7548af1ecb7e678bb0526e5803984
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 22 23:29:05 2009 +0000

    Cleanup Javadoc as well as code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@883184 13f79535-47bb-0310-9956-ffa450edef68

commit af5c2d097816797269c2d40cc9c1e1e9e67bd655
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 22 23:25:35 2009 +0000

    Use correct attribute name now all the renaming code has been removed
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@883183 13f79535-47bb-0310-9956-ffa450edef68

commit af8a61248a4d212deb72de03a35bfe18ae0732be
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 22 22:56:53 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48049
    Correct copy and paste error and call correct function
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@883177 13f79535-47bb-0310-9956-ffa450edef68

commit d81c9284bbbb07f079e989ca7588e6285fe044e4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 22 22:41:21 2009 +0000

    Clean up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@883169 13f79535-47bb-0310-9956-ffa450edef68

commit 94c643bbb46607375d538697a6fedbfdb5532e12
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 22 22:37:43 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47799
    Unable to configure domain in Membership and DomainFilterInterceptor
    Patch provided by Keiichi Fujino
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@883165 13f79535-47bb-0310-9956-ffa450edef68

commit 04b0838caa1b521f25dbf98bdc9d23e9409845f3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 22 20:49:04 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47462
    Need to be able to override metadata complete if set in the global web.xml
    Patch provided by Keiichi Fujino
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@883146 13f79535-47bb-0310-9956-ffa450edef68

commit 963ffe6bfa3f5ba413f93bb0fbbfbaea15e3c345
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 22 20:44:09 2009 +0000

    Fix some Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@883145 13f79535-47bb-0310-9956-ffa450edef68

commit 58162ede5fcc25f6e56968e1730be708f0f46d9c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 22 19:59:51 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47997
    Process changes to the naming resources for all JNDI contexts, not just the global one.
    Patch by Michael Allman
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@883134 13f79535-47bb-0310-9956-ffa450edef68

commit ae5c6406670786bf205246f4e2c4d1449051c620
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 22 19:39:33 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47718
    Correct file descriptor leak on context reload/stop
    Patch provided by George Sexton
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@883130 13f79535-47bb-0310-9956-ffa450edef68

commit 2bc29d7f48ffdbeed7a4cb68f5321d4b0497e1c7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 22 19:18:19 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47609
    Implment fail-safe EOL conversion for source disributions
    Based on a patch provided by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@883125 13f79535-47bb-0310-9956-ffa450edef68

commit 86674d449c49d29d9ab940a6a9526ec95b4cc28a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 22 18:59:06 2009 +0000

    Remove old comment
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@883119 13f79535-47bb-0310-9956-ffa450edef68

commit ceb1c00b11ba082cf21e560956e9632215905600
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Nov 20 21:39:36 2009 +0000

    Add in DataSource supprot
    Add in XA support
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@882723 13f79535-47bb-0310-9956-ffa450edef68

commit 9c2040434831c8b056ec394e5a838e4c4fdc2fd9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 20 19:27:11 2009 +0000

    Complete the FileUpload implementation and use it for the html manager app.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@882690 13f79535-47bb-0310-9956-ffa450edef68

commit c0cb61b2d0357ba912c8c39326b08ce64743f1b1
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Nov 20 16:57:31 2009 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=48252
    Fix potential recursion
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@882640 13f79535-47bb-0310-9956-ffa450edef68

commit 0c702821a8137e9aa05eb35ed3bcd3eb504a2872
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 20 13:46:21 2009 +0000

    Start to hook-up the commons-file upload port to the Servlet3 file upload API
     - Make sure the upload config is available when required
     - Start to migrate the HTML manager to the upload API
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@882550 13f79535-47bb-0310-9956-ffa450edef68

commit 688437a73cf97c815667c96ef70114f95b49b929
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 20 13:42:34 2009 +0000

    Fix error in previous commit
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@882547 13f79535-47bb-0310-9956-ffa450edef68

commit 30af3f5630542a2340781f66553e734a6fd69701
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 19 22:06:43 2009 +0000

    Improve workaround for CVE-2009-3555
    On the plus side, it doesn't rely on an async event to close the connection
    On the down side, I haven't yet found a way to log client initiated handshakes before they get closed
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@882320 13f79535-47bb-0310-9956-ffa450edef68

commit 760f24921fe95d05586b43586ca19e4585d8b7f5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 19 18:00:09 2009 +0000

    Fix SSL for BIO post refactoring
    Make attribute names consistent
    Endpoints are now responsible for configuring the SSL "engine"
    Basics work but still needs more testing
    NIO & APR to follow
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@882231 13f79535-47bb-0310-9956-ffa450edef68

commit 926057819aef50cd50e8e3818165a4da54225da6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 19 16:05:48 2009 +0000

    Fix Eclipse warning
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@882186 13f79535-47bb-0310-9956-ffa450edef68

commit ce8efa882e5ce0efe723f17c973ec24f2130ebf9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 19 15:08:03 2009 +0000

    Fix SSL config error as a result of attribute refactoring.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@882169 13f79535-47bb-0310-9956-ffa450edef68

commit 2276b019da2909caef985b729179d3f9ad2cf3c2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 19 14:05:56 2009 +0000

    Fix the Eclipse warnings - no functional change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@882151 13f79535-47bb-0310-9956-ffa450edef68

commit aa2b8465fd8b1ad2be5601557997042409aa9496
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 19 14:01:27 2009 +0000

    Remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@882148 13f79535-47bb-0310-9956-ffa450edef68

commit c53173b859a94ffde59c303661681688cd384a9b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 19 02:01:57 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48234
    Align Javadoc with code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@882029 13f79535-47bb-0310-9956-ffa450edef68

commit c118aa8fa1f2f8762e1f97bc778fcfeaa9f504a5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 19 00:50:04 2009 +0000

    Static so sync on class object
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@882019 13f79535-47bb-0310-9956-ffa450edef68

commit 68ac96e0226338c69fa10f465442dea4759c33cb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 19 00:46:52 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48233
    More loggers to private static final
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@882017 13f79535-47bb-0310-9956-ffa450edef68

commit 6ebfe2dfa3ee5d5813e9f04214b18531673e407a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 19 00:20:35 2009 +0000

    Fix copy/paste error
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@882014 13f79535-47bb-0310-9956-ffa450edef68

commit d628e1e5bb335a12f65edc273fd9ed466cf7187d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 18 23:54:24 2009 +0000

    Fix theorectical sync issue and soem Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@882008 13f79535-47bb-0310-9956-ffa450edef68

commit 71776754130aab126f540c862face67a6afe6ac0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 18 23:47:29 2009 +0000

    Fix NPE
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@882004 13f79535-47bb-0310-9956-ffa450edef68

commit 242b6a3d6ee95370dd91a49fb81969ca6dfc7deb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 18 23:33:57 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48172
    Potential threading issues, make fields final where possible
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@882002 13f79535-47bb-0310-9956-ffa450edef68

commit a1cb0c3a43981931723596228981e738c482eead
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 18 23:22:13 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48197
    Reduce visibility where possible
    Fix javadoc
    Based on a patch by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881996 13f79535-47bb-0310-9956-ffa450edef68

commit 84d49a007556eec3ae96027de1f5fc7712583585
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 18 23:10:53 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48230
    Remove unused imports. Patch provided by sebb.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881990 13f79535-47bb-0310-9956-ffa450edef68

commit 8de2711dfddc13fdb59e01e7b2ad42c8337c4174
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 18 22:37:19 2009 +0000

    Fix copy and paste errors
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881972 13f79535-47bb-0310-9956-ffa450edef68

commit d2561f358dc1dd0c488fdd6e6bd4a1e76b700b76
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 18 21:23:25 2009 +0000

    Fix more typos
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881942 13f79535-47bb-0310-9956-ffa450edef68

commit 658bc9d42b31222885dec8a38cd2051d7f050385
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 18 13:39:45 2009 +0000

    Fix typos
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881776 13f79535-47bb-0310-9956-ffa450edef68

commit a59d31f5558bd82d45ebb3b8ac33b098111185aa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 18 13:23:51 2009 +0000

    Being *really* picky. It is a single web app.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881765 13f79535-47bb-0310-9956-ffa450edef68

commit 0d7263ad8b075d63853d1cecd17ab228fa493d56
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 18 12:10:12 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48217
    Make logs final and private; add missing @Override markers
    Patch provided by sebb.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881742 13f79535-47bb-0310-9956-ffa450edef68

commit f823904a20969c648615985e0d7e9930c17f9d55
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 18 11:53:46 2009 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881735 13f79535-47bb-0310-9956-ffa450edef68

commit 184087f2860563f1144e55a17ef0dde81fbea68d
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Nov 18 03:09:12 2009 +0000

    Updated to match the latest catalina.policy file
    Updated the section about implicit permissions
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881655 13f79535-47bb-0310-9956-ffa450edef68

commit 3cb92e016ed9eabbe5456ef8d78f2ba1d2c70fc2
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Nov 18 03:00:57 2009 +0000

    Wrapped long lines. As the text of this file is copy-pasted into security-manager-howto.html, it will make it more readable.
    
    Added a comment regarding tomcat-juli.jar
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881654 13f79535-47bb-0310-9956-ffa450edef68

commit 38f52b5aa3fb0df47c388a533fa2ac288af7d2a1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 17 23:03:43 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48196
    Reduce visibility. Patch by sebb.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881606 13f79535-47bb-0310-9956-ffa450edef68

commit 16c4534ec01d034511c2565e2279e8d0007fd08d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 17 23:00:31 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48176
    Make fields final. Patch by sebb.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881600 13f79535-47bb-0310-9956-ffa450edef68

commit 799b9346635b150d54ff333a915e84650edbc722
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 17 22:59:34 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48175
    Make loggers final. Patch by sebb with minor modification as original patch broke compilation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881599 13f79535-47bb-0310-9956-ffa450edef68

commit 4cadfe2704ad309a86137698c1842956d87afc7a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 17 22:55:12 2009 +0000

    Use standard modifier order
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881596 13f79535-47bb-0310-9956-ffa450edef68

commit 57571a75f3826fd88c3a971cb335d5a350463f50
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 17 22:47:39 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48174
    Use final
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881591 13f79535-47bb-0310-9956-ffa450edef68

commit e5ae1bceaf69869ff43b05735ded3ff90191b2d8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 17 22:46:41 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48173
    Use final
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881590 13f79535-47bb-0310-9956-ffa450edef68

commit 544762114ee997e371a003d632a3db8172b65d76
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 17 22:44:58 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48151
    Add missing AL2 headers
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881589 13f79535-47bb-0310-9956-ffa450edef68

commit 7849435b25c5b6c2e2afed8e0b35d50513de4401
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 17 22:35:41 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48150
    Correct JavaDoc typos. Patch provided by gingyang.xu
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881582 13f79535-47bb-0310-9956-ffa450edef68

commit 39a78f4da704ae3f2171f94f2e0fac707948a1d6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 17 22:33:58 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48149
    Correct JavaDoc typos. Patch provided by gingyang.xu
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881578 13f79535-47bb-0310-9956-ffa450edef68

commit 6ce70323d050df5d28661a7177709621076ac512
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 17 22:31:47 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48148
    Correct JavaDoc typos. Patch provided by gingyang.xu
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881577 13f79535-47bb-0310-9956-ffa450edef68

commit 21e86e65c939c0ecc6e710ac533a6678c44374ec
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 17 22:27:58 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48147
    Correct JavaDoc typos. Patch provided by gingyang.xu
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881575 13f79535-47bb-0310-9956-ffa450edef68

commit ed97da74407a98ea23aae618c685c170e1ea8652
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 17 22:24:42 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48146
    Correct JavaDoc typos. Patch provided by gingyang.xu
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881574 13f79535-47bb-0310-9956-ffa450edef68

commit c52b1bada15a9f28fccf74364c61e43bec3d1ae7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 17 22:13:30 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48143
    Javadoc updates. Patch provide by sebb.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881567 13f79535-47bb-0310-9956-ffa450edef68

commit b5c8c1ce5a3e1f000c400257a8de65d6d9f95bc5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 17 22:03:22 2009 +0000

    Generics
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881562 13f79535-47bb-0310-9956-ffa450edef68

commit 8b22089526cad157662152cd5a34eb3dfd0df860
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Nov 17 21:33:40 2009 +0000

    Consolidation of protocol attributes into a base class
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881541 13f79535-47bb-0310-9956-ffa450edef68

commit d750f01655152f35f1d738e6a5b7f52282ccde06
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 17 21:21:41 2009 +0000

    Add @Override annotations
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881533 13f79535-47bb-0310-9956-ffa450edef68

commit 16db530b7af9969670938b6ab6aba319b7ce6f88
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 17 21:19:44 2009 +0000

    Remove unused imports
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881532 13f79535-47bb-0310-9956-ffa450edef68

commit 30131cb0480d63e911c1f7912a4e45687d2636ab
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 17 21:17:32 2009 +0000

    Remove some more deprecated code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881530 13f79535-47bb-0310-9956-ffa450edef68

commit 576bf2bb753784985f100fb7a25f25f63c344ae8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 17 21:15:53 2009 +0000

    Remove deprecated code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881528 13f79535-47bb-0310-9956-ffa450edef68

commit 771ffdbe3de52db374ba63c04ebb2e7f19f102b0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 17 20:53:32 2009 +0000

    Add support for multipart config in web.xml (partially complete)
    Review and fix issues in WebXml merge code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881503 13f79535-47bb-0310-9956-ffa450edef68

commit 4ecee94347289d7feff25329a541f62dc82ff01b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 17 20:49:48 2009 +0000

    Fix an Eclipse warning
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881501 13f79535-47bb-0310-9956-ffa450edef68

commit 01d825bf74491435c1a55589bcd4d8bd3961af1c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 17 20:49:04 2009 +0000

    Better handle edge cases when allowing = in cookie value
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881500 13f79535-47bb-0310-9956-ffa450edef68

commit 5e7ae383f189e2409febfeb9c1f8196a47891956
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 17 20:48:15 2009 +0000

    Test some edge cases with = in cookie values (current code fails these tests - patch to follow shortly)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881499 13f79535-47bb-0310-9956-ffa450edef68

commit bcefe58374c421c9431c144938e2e91d22f5061b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 17 20:30:39 2009 +0000

    Update re-packaged commons-fileupload to 1.2.1
    Done using svn copy from tags in commons so merging future updates should be easier
    Changes made/required:
     - All classes in a single renamed package
     - Removed unused Util methods (so even more classes were not required)
     - Removed some deprecated classes
    There is almost certainly more to be done in terms of pruning to the minimum required. Will so that once Servlet 3 file upload has been implemented.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881493 13f79535-47bb-0310-9956-ffa450edef68

commit 9e058e7edfb7b0536155eb708ba582d8e1ac07bf
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Nov 17 18:28:52 2009 +0000

    Update comments and examples in catalina.policy file
    Especially replace ${catalina.home} with ${catalina.base}
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881432 13f79535-47bb-0310-9956-ffa450edef68

commit 43b8ca4d5e9f949f0647362a9cc430337e6e25f6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 17 17:50:21 2009 +0000

    Update to commons pool 1.5.4 (fix another regression)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881412 13f79535-47bb-0310-9956-ffa450edef68

commit 7d844f04b105714862c54654bbaa74daca3e88ff
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 17 17:39:51 2009 +0000

    Update Javadoc to reflect changed default for useEquals
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881402 13f79535-47bb-0310-9956-ffa450edef68

commit 08a525cea64be6034940b12f4f395a4a10d2a5e3
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Nov 17 17:35:57 2009 +0000

    Make the file handler thread safe
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881396 13f79535-47bb-0310-9956-ffa450edef68

commit 6034ec50fceb4924f435181cfa34ea7a2f3a0526
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 17 02:41:55 2009 +0000

    Update throws declaration for Servlet 3 file upload
    Do the easy part of the implementation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881109 13f79535-47bb-0310-9956-ffa450edef68

commit c4762411946378b1bdf758f16b15845f9646f9d5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 17 02:19:49 2009 +0000

    Implement request.authenticate()
    This required re-factoring the Authenticator interface to use HttpServletResponse. It would be nice to refactor to use HttpServletRequest as well but at the moment the authenticator requires too much access to the request internals.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@881100 13f79535-47bb-0310-9956-ffa450edef68

commit 92a4173a57487515bfd9ea12bf932d8b22d40a5f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 16 15:15:45 2009 +0000

    Remove code that doesn't do anything
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@880786 13f79535-47bb-0310-9956-ffa450edef68

commit a28ef3a8f1fcf7d5bfbc9c1cdefc507120fa76af
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Nov 15 20:24:48 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47495
    Exit immediately if Catalina.load() failed to create a server instance.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@836405 13f79535-47bb-0310-9956-ffa450edef68

commit bfb9430c83e2916e95100087cafd868b26753d5e
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Nov 15 15:17:08 2009 +0000

    correct a comment
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@836371 13f79535-47bb-0310-9956-ffa450edef68

commit b6276ce875560e3f6820038b9adde2915f45872f
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Nov 14 16:30:21 2009 +0000

    Clear the values in username and password fields when they are read-only
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@836209 13f79535-47bb-0310-9956-ffa450edef68

commit 55a99414199109f01cb4dab62492f55b278d0128
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 14 13:46:43 2009 +0000

    Reduce visibility (thanks Sebb)
    Remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@836177 13f79535-47bb-0310-9956-ffa450edef68

commit b1cb6df47df10d45961a5914c1c9dccefc2e60c4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 14 03:47:48 2009 +0000

    More cookie refactoring
     - new support class for common elements of parsing and writing
     - better consistency between parsing and writing
     - remove unused code
     - reduce visibility of methods where possible
     - auto-switch to v1 for any attribute that might require quoting
     - better names for constants
     - allow v0 cookies to break http spec (disabled by default)
     - update test cases and documentation
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@836113 13f79535-47bb-0310-9956-ffa450edef68

commit 6958e6e558b88abf26e72f41272242b46cafc579
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 14 02:48:51 2009 +0000

    Correct comment
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@836103 13f79535-47bb-0310-9956-ffa450edef68

commit 6243d09dc8f72e03981aed6890b657b33f4c1e51
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 14 02:48:19 2009 +0000

    Add TODOs as per discussion on dev list
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@836102 13f79535-47bb-0310-9956-ffa450edef68

commit 36da3d765ffa26451e94aec945a628149cae406d
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Nov 13 22:49:09 2009 +0000

    Do not offer default value for Tomcat administrator login
    Also change/indent some labels
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@836045 13f79535-47bb-0310-9956-ffa450edef68

commit 43135374da8c5af49139031b98f47e1bcda18cac
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Nov 13 22:35:49 2009 +0000

    1. Correct some computations in "configure" Function:
    a) Always set initial value for $R5
    b) $R4 and $R0 have to be consistent when Silent mode is used
    2. Correct some messages. Do not mention Windows NT etc., as Win98 is all history now.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@836036 13f79535-47bb-0310-9956-ffa450edef68

commit 00ef32f848d0ebd4bbd3df2ca2ccb400e681f865
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Nov 13 22:22:50 2009 +0000

    Add suspect test and also allow connections to be unwrapped
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@836028 13f79535-47bb-0310-9956-ffa450edef68

commit 8ac43989dbb4e2dabcc3fc6d9897454903b13519
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Nov 13 21:53:13 2009 +0000

    Implement suspectTimeout to allow JMX notifications and log events to take place if a connection is checked out for too long. But don't abandon/close the connection.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@836011 13f79535-47bb-0310-9956-ffa450edef68

commit d3059c7c984190db050884787387d7e55a6ebb42
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Nov 13 20:12:32 2009 +0000

    Use a safe default of the useEquals, works on any VM.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@835974 13f79535-47bb-0310-9956-ffa450edef68

commit f52c3ecd975c42fea6846a5c27760c146f3341b6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 13 15:48:41 2009 +0000

    Add Apple J2SE runtime jars to those we skip when scanning for TLDs and web fragments
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@835886 13f79535-47bb-0310-9956-ffa450edef68

commit 5407b46f5d47b8b4959a2129fd4e30252876c47e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 12 21:36:49 2009 +0000

    Fix NPEs on startup with relative ordering and provide somewhere to store results of annotation scanning when that is implemented
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@835567 13f79535-47bb-0310-9956-ffa450edef68

commit d4e7e0a832c3bbec975d8ac9288bfe93dc7bfe28
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 12 21:19:09 2009 +0000

    Make handling of / as a separator consistent with the rest of the cookie code.
    This actually relaxes treatment of / in cookie generation.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@835552 13f79535-47bb-0310-9956-ffa450edef68

commit 964588a61b974c6694f7c6b2225951f36bb2dc1e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 12 19:53:49 2009 +0000

    Make TODO comments consistent to make them easier to find
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@835516 13f79535-47bb-0310-9956-ffa450edef68

commit fb0f9071335245c811fdf88c484065ef867d3420
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 12 17:29:00 2009 +0000

    Servlet 3 implementation.
    - Add support for relative fragment ordering and some test cases
    - Re-order fragment and annotation processing to match spec
    - Implement login/logout
    - Provide a method to retrieve the Authenticator in use by a Context
    - Add methods to Authenticator interface to facilitate the new login/login methods
    - Enable Authenticator.register() to be used for logout as well as login
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@835460 13f79535-47bb-0310-9956-ffa450edef68

commit f6a42267875572314ec0d8ad78247231a842e8ab
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Nov 12 11:20:43 2009 +0000

    Followup to r.817822 and r.833545
    You have to specify explicit encoding in a fixcrlf task
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@835336 13f79535-47bb-0310-9956-ffa450edef68

commit 1305e7915a2093a621d5d64bea4bd48d69a7ace3
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Nov 11 19:51:50 2009 +0000

    Make the location of stdout and stderr output configurable. Leave the default as it always has been.
    Currently, one can reconfigure the location of all logfiles except this one.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@835036 13f79535-47bb-0310-9956-ffa450edef68

commit 5a6689dcd695d8e8ac8a5312e7a53cd78a2ffa65
Author: Costin Manolache <costin@apache.org>
Date:   Wed Nov 11 19:13:24 2009 +0000

    Add similar SSL tests for NIO connector.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@835017 13f79535-47bb-0310-9956-ffa450edef68

commit bf9619bb028d48d516ed96570294b276c45e435d
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Nov 11 07:56:01 2009 +0000

    code formatting
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834794 13f79535-47bb-0310-9956-ffa450edef68

commit 9a0cc3072d4ccc7f5b28968564155b2f3af4155d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 10 16:46:52 2009 +0000

    Use new attribute name
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834541 13f79535-47bb-0310-9956-ffa450edef68

commit 58b572423e45113cb811073a6e51efb0eb744c68
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 10 15:43:17 2009 +0000

    Document allowUnsafeLegacyRenegotiation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834510 13f79535-47bb-0310-9956-ffa450edef68

commit 63f7470e4f4ed437ed39f40d89c305eee0f756b2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 10 15:38:37 2009 +0000

    Rename attribute
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834506 13f79535-47bb-0310-9956-ffa450edef68

commit d33759c428a3533cf4caa0690701337be3f6828d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 10 15:33:50 2009 +0000

    Prevent stack traces when closing ssl sockets after unwanted renegotiation attempt.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834504 13f79535-47bb-0310-9956-ffa450edef68

commit cd265ca7cc3b67fb3865eb88f0982753fac5c35d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 10 14:26:01 2009 +0000

    Use a connector attribute rather than a system property to control renegotiation
    Fix some trivial Eclispe warnings in the test
    Don't try and invalidate the session in the client - an attacker probably won't do this
    Add a test that checks the connector attribute can be used to enable renegotiation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834477 13f79535-47bb-0310-9956-ffa450edef68

commit 86e83bb340399e0e0380a28e9d6cb8b622984bfe
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 10 13:40:08 2009 +0000

    Fix some minor Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834461 13f79535-47bb-0310-9956-ffa450edef68

commit cecb078040efb2ffa7076b6b6bffbded10bbeee2
Author: Costin Manolache <costin@apache.org>
Date:   Tue Nov 10 04:54:34 2009 +0000

    Invalidate the session - so it can't be resumed.
    Not sure what else we can do using this hook - we could switch to SSLEngine, but that's pretty large change.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834340 13f79535-47bb-0310-9956-ffa450edef68

commit bfeed64dde2babde0fbde75e6a4b8257ec035866
Author: Costin Manolache <costin@apache.org>
Date:   Tue Nov 10 01:04:13 2009 +0000

    Test case for the MITM/ssl re-negotiation, also a unit test for a simple ssl request
    ( to check the fix didn't broke anything and ssl still works )
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834290 13f79535-47bb-0310-9956-ffa450edef68

commit 1710243f26cea49e45ed292e063fe8884e98f338
Author: Costin Manolache <costin@apache.org>
Date:   Tue Nov 10 01:02:43 2009 +0000

    Fix for the SSL midm - disable client re-negotiation, connection will be closed.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834289 13f79535-47bb-0310-9956-ffa450edef68

commit 617c7ced7db40ca8b32ac0cade129ba617191079
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 10 00:31:25 2009 +0000

    Add merge code for the remaining elements in web.xml
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834286 13f79535-47bb-0310-9956-ffa450edef68

commit 5e3d27c658c789ab89b02fa50703c17ec35276a1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 9 21:18:01 2009 +0000

    Align all three StringManager implementations
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834238 13f79535-47bb-0310-9956-ffa450edef68

commit 961d10a893d92eaa099e699ec58f87e18b2df2fe
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 9 21:06:37 2009 +0000

    StringManagers should be static final
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834233 13f79535-47bb-0310-9956-ffa450edef68

commit 1edee12a63ac2484368f695924c77779efb1b45d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 9 21:00:22 2009 +0000

    StringManagers should be final
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834229 13f79535-47bb-0310-9956-ffa450edef68

commit 61925f18cebed0b3e695376a9eecde5e4d35a170
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 9 20:52:49 2009 +0000

    Unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834227 13f79535-47bb-0310-9956-ffa450edef68

commit fedbd46d6216701ca1465dcdf0dce974a34ec27e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 9 20:51:17 2009 +0000

    Loggers should be final
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834226 13f79535-47bb-0310-9956-ffa450edef68

commit b758c2003e51a1f12535a4a9bacc96836216bdbd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 9 20:43:47 2009 +0000

    The assumption that contexts will always be file system based or that resources will always be extracted to the work does not hold true, particularly for custom DirContext implementations. Don't make the assumption and clean-up up the redundant field that is no longer required.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834220 13f79535-47bb-0310-9956-ffa450edef68

commit 91074c104d220310c20ad530caad00fa4f76a27a
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Nov 9 15:08:50 2009 +0000

    Remove unused inner class
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834099 13f79535-47bb-0310-9956-ffa450edef68

commit 63507c6b7187682a09c321100438009f756dceda
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Nov 9 15:04:07 2009 +0000

    With rev.834080 WebappClassLoader#findResourceInternal(String,String) is always called with AccessController.doPrivileged(), thus there is no need to wrap #findResourceInternal(File,String) call that is inside it.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834096 13f79535-47bb-0310-9956-ffa450edef68

commit 8a5d0ed1c15d39a003e2430cac4b27cec40132c1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 9 14:33:03 2009 +0000

    Remove unnecessary code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834082 13f79535-47bb-0310-9956-ffa450edef68

commit 535b9a14314296ef787381f8834e5b4404b502cb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 9 14:31:40 2009 +0000

    Patch provided by Cyrille Le Clerc
    * fix NPE in log statement if protocolHeader has not been defined and the servlet container does not support request.getHeader(null)
    * fix mismatch between javadoc  and code for filter parameter name "allowedInternalProxies" -> "internalProxies"
    * finish javadoc refactoring "XForwardedFilter" -> "RemoteIpFilter"
    Also fix some Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834081 13f79535-47bb-0310-9956-ffa450edef68

commit b9bbc3f2f7ad9bd68e9ce720a506e31941b6aaaa
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Nov 9 14:29:55 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48097
    Patch by Mark Thomas.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834080 13f79535-47bb-0310-9956-ffa450edef68

commit 2109e33a854895663c9c5a47e7f9f3e7b687e94c
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Nov 9 14:26:00 2009 +0000

    Revert r.831830. A better patch for issue 48097 was proposed.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834078 13f79535-47bb-0310-9956-ffa450edef68

commit 7d27c17bdbd2495543451f12919536aeac43b84e
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Nov 9 13:30:40 2009 +0000

    svn:eol-style
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834056 13f79535-47bb-0310-9956-ffa450edef68

commit 7229a5d822143432e06ee1e603021ff54a6c6d6d
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Nov 9 13:19:42 2009 +0000

    svn:eol-style
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834052 13f79535-47bb-0310-9956-ffa450edef68

commit cb8855a65c580e332681f61a7d6edfa509588bf0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 9 13:04:52 2009 +0000

    Fix CVE-2009-3548.
    When installing using defaults, don't create an administrative user with a blank password
    Note: This is already public - it was discussed on the users list. The formal announcement will go out shortly.
    The patch also includes making the Manager and Host-Manager applications separately selectable with the addition of an administrative user only enabled if one of the manager apps is selected
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834047 13f79535-47bb-0310-9956-ffa450edef68

commit 6cb3f734402c570d670fd425e66d6b4ae15f7251
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 9 12:40:56 2009 +0000

    Add support for displayName
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834036 13f79535-47bb-0310-9956-ffa450edef68

commit 285ad5e7c70377f32e92a71207ce11d31c7018d0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 9 12:34:45 2009 +0000

    Cookie is now serializable in Servlet 3.0
    Fix some Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834034 13f79535-47bb-0310-9956-ffa450edef68

commit 027547329bab59a1c25f9d0d763f7aa61ec25216
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 9 11:37:53 2009 +0000

    Use correct default manifest
    Use specific notice and license file for jsp jar
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834024 13f79535-47bb-0310-9956-ffa450edef68

commit 6f50464ad99a89d83e813e9cb6e8c045a070c742
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 9 11:31:08 2009 +0000

    Add JSP 2.2 XSD
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834023 13f79535-47bb-0310-9956-ffa450edef68

commit c24adba776f6dfc05a50ff474b17c89827712ada
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 9 11:29:18 2009 +0000

    Add the JSP 2.2 schema. Note election to use CDDL.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834022 13f79535-47bb-0310-9956-ffa450edef68

commit 2c90d931a2a4384792e00e0e0808c6eb9adb8571
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 9 11:27:57 2009 +0000

    Update schemas to latest draft as of 2009-11-05
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@834021 13f79535-47bb-0310-9956-ffa450edef68

commit 72bd76662445e99e459004731d7a41e03932ed22
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 7 00:46:50 2009 +0000

    More web.xml / fragment merge code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@833619 13f79535-47bb-0310-9956-ffa450edef68

commit d28922ed103fc5158899dc08d0ccf0f2f924bc88
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 6 23:51:30 2009 +0000

    More inheritance
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@833608 13f79535-47bb-0310-9956-ffa450edef68

commit b7188bba8a0e74c07eaa6c38f46d67c6a0c64495
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 6 23:35:46 2009 +0000

    Use inheritance as it makes merging easier
    Fix a handful of Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@833602 13f79535-47bb-0310-9956-ffa450edef68

commit 8e130ec18064644a60249e7aa7189bdd190d0b4a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 6 22:34:38 2009 +0000

    Fix Eclipse warning
    Override equals (and therefore also hashcode) as it is required for fragment merging
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@833586 13f79535-47bb-0310-9956-ffa450edef68

commit f80f0c3b849d1029f6105882fe605bf467926e92
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 6 20:16:58 2009 +0000

    Restore original line ending after switching for windows installer
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@833545 13f79535-47bb-0310-9956-ffa450edef68

commit 7439b547566b76d6fb5dfb4c7ab0f8bf388e52aa
Author: Timothy A. Funk <funkman@apache.org>
Date:   Fri Nov 6 18:53:57 2009 +0000

    add stubs and remove / add some @overrides to allow compilation
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@833521 13f79535-47bb-0310-9956-ffa450edef68

commit dc4fd8f76b54e3e65c80e0ea11add4ea7d2f3527
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 6 18:48:20 2009 +0000

    fix typo - thanks Sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@833516 13f79535-47bb-0310-9956-ffa450edef68

commit f99ee02b332b7b0499ab79bc2acd2a434c325ceb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 6 18:26:39 2009 +0000

    Comet didn't work at all under a security manger. Need to allow web apps access to the comet interfaces so move those interfaces to a separate package so we can grant access.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@833510 13f79535-47bb-0310-9956-ffa450edef68

commit 6946e680c80b515368c02fcda694bbf12b373380
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 6 18:09:32 2009 +0000

    Additional permission required for JSPs to work
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@833505 13f79535-47bb-0310-9956-ffa450edef68

commit 7b975438b3d22bb7308dfd7c5323467c739b6391
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 6 18:07:41 2009 +0000

    Remove class that was remove in refactoring. Will probably need to add replacement.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@833503 13f79535-47bb-0310-9956-ffa450edef68

commit 7a689f53806612e8900b8e92d84f3ca0f6e1a448
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Nov 6 17:01:20 2009 +0000

    Make a differentiator which stock ticker is running
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@833472 13f79535-47bb-0310-9956-ffa450edef68

commit 794abe46e9ab610a71c936bdbf3d856700c53a7a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 6 16:27:45 2009 +0000

    Fix line endings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@833459 13f79535-47bb-0310-9956-ffa450edef68

commit 70a44bcfe0d25d863ef61a8a2be5b817eaaee76a
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Nov 6 05:12:50 2009 +0000

    svn:eol-style
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@833300 13f79535-47bb-0310-9956-ffa450edef68

commit 97d5a4882cd4037e90b3c2dc2a858edb80ebe3a7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 5 22:08:30 2009 +0000

    Apply Filip's suggestion to improve concurrency
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@833211 13f79535-47bb-0310-9956-ffa450edef68

commit a34b357ec855c269140ca2568c08d30308aecc43
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 5 20:35:09 2009 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=47330
    Add RemoteIpFilter
    Patch provided by Cyrille Le Clerc
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@833155 13f79535-47bb-0310-9956-ffa450edef68

commit ab3620ca26fff3333b703ee632bed3ffd8b6a3d3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 5 19:12:14 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48139
    Correct javadoc - patch provided by sebb
    Also fix remaining Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@833131 13f79535-47bb-0310-9956-ffa450edef68

commit 18c0edc3cceb36600f2e0543d954d5aeaf7e4793
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 5 19:08:42 2009 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=48137
    Fix javadoc typos
    Patch provided by qingyang.xu
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@833130 13f79535-47bb-0310-9956-ffa450edef68

commit b8f54514b037bb31aeb6773047e32956cee984e4
Author: Timothy A. Funk <funkman@apache.org>
Date:   Thu Nov 5 18:46:43 2009 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=47495
    
    If server.xml doesnt have read permission - let the user know
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@833121 13f79535-47bb-0310-9956-ffa450edef68

commit 97ccffd557024be99e95de7a799d6ebfae8e152b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 5 18:41:30 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48135
    Also add generics where possible and other Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@833120 13f79535-47bb-0310-9956-ffa450edef68

commit 9204e4d9ce5e50ff593168e9aa924de1c2c400a7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 5 18:18:53 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48133
    Spelling errors in javadoc
    Patch provided by qingyang.xu
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@833111 13f79535-47bb-0310-9956-ffa450edef68

commit fa803a6439833b207444d79ee376188093fe990a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 5 02:03:12 2009 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=47330
    Add RemoteIpValve
    Patch provided by Cyrille Le Clerc
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832974 13f79535-47bb-0310-9956-ffa450edef68

commit aa392d8b38dd13707eee14eab8bb97be8e318849
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 5 01:30:02 2009 +0000

    Use Eclipse quick fix to remove unused imports
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832963 13f79535-47bb-0310-9956-ffa450edef68

commit 2a034d912e653df0e88343f1e18d110a91d98af7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 5 01:28:51 2009 +0000

    Add other @Override annotations identified by Eclipse
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832961 13f79535-47bb-0310-9956-ffa450edef68

commit 77461dd02609d0ab6d707120af274c7b445f067d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 5 01:22:13 2009 +0000

    Partial fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=48132
    Patch provided by sebb
    This is the final patch for this bug fix.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832957 13f79535-47bb-0310-9956-ffa450edef68

commit 5072daba5e44787f29bdc4c47b411ba0ad24ae9b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 5 01:21:11 2009 +0000

    Partial fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=48132
    Patch provided by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832956 13f79535-47bb-0310-9956-ffa450edef68

commit efdd8e90f5ef4606ab550417c1d381cdb1979c54
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 5 01:19:20 2009 +0000

    Partial fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=48132
    Patch provided by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832955 13f79535-47bb-0310-9956-ffa450edef68

commit 65cd7316c57ca929bb140e924eefe676aaa9564f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 5 01:18:05 2009 +0000

    Partial fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=48132
    Patch provided by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832954 13f79535-47bb-0310-9956-ffa450edef68

commit 789895bd7669b61a38960839cbcf869ca032ce0b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 5 01:16:53 2009 +0000

    Partial fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=48132
    Patch provided by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832953 13f79535-47bb-0310-9956-ffa450edef68

commit 6508ee7aa0162ec6c248979f0a92de5835662b2d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 5 01:14:16 2009 +0000

    Partial fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=48132
    Patch provided by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832951 13f79535-47bb-0310-9956-ffa450edef68

commit 5a0c47ea1bc2a5c2c29d9f20809f7be59b1dab75
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 5 01:13:12 2009 +0000

    Partial fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=48132
    Patch provided by sebb with some additional issues reported by Eclispe
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832950 13f79535-47bb-0310-9956-ffa450edef68

commit 85e93429e14a72f310c925dd46f42ee455d39a61
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 5 01:09:39 2009 +0000

    Add a few annotations missed by recent patches
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832949 13f79535-47bb-0310-9956-ffa450edef68

commit 8f5970d8981e8ecf2c9af1aed1a232ac33378bbb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 5 00:58:58 2009 +0000

    Partial fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=48132
    Patch provided by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832945 13f79535-47bb-0310-9956-ffa450edef68

commit a3fa5d37923291209732776da648477c8fc56b9a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 5 00:46:07 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48131
    Patch provided by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832938 13f79535-47bb-0310-9956-ffa450edef68

commit 363b79a718db09ccb15ffcd1e47f2f3324b2c9b3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 5 00:34:33 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48123
    Spelling errors
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832931 13f79535-47bb-0310-9956-ffa450edef68

commit 5d9f68b1efd9978862a6ccc277c22c41c9f1fb0c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 5 00:30:25 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48121
    Spelling errors
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832928 13f79535-47bb-0310-9956-ffa450edef68

commit 75088472091a72bf2cd241900e93bfe287485a7f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 5 00:28:09 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48120
    Spelling errors
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832927 13f79535-47bb-0310-9956-ffa450edef68

commit b6df018952a96cd601db73692b70b0fd500fe9a0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 5 00:26:28 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48117
    Spelling errors
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832926 13f79535-47bb-0310-9956-ffa450edef68

commit 7f03558a9ea8cb04b0765eab9b24922f7201c3c3
Author: Timothy A. Funk <funkman@apache.org>
Date:   Wed Nov 4 16:40:16 2009 +0000

    revert based on https://issues.apache.org/bugzilla/show_bug.cgi?id=47512#c4
    
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832792 13f79535-47bb-0310-9956-ffa450edef68

commit 07e598232722c1a8562f25e4a4dd2132c360bca8
Author: Ian Darwin <idarwin@apache.org>
Date:   Wed Nov 4 13:26:33 2009 +0000

    Bugfix typos from 48119
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832734 13f79535-47bb-0310-9956-ffa450edef68

commit ae16eb25493f2aad6f9936a807411a97941a5b2f
Author: Ian Darwin <idarwin@apache.org>
Date:   Wed Nov 4 13:13:41 2009 +0000

    Bugfix typos from 48118
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832733 13f79535-47bb-0310-9956-ffa450edef68

commit 946fb2eaa1946ef67de9b202fabac1faf78f282d
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Nov 4 10:16:36 2009 +0000

    Add a comment
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832697 13f79535-47bb-0310-9956-ffa450edef68

commit fee6544747146506b23477de5521257f8ebdbf84
Author: Timothy A. Funk <funkman@apache.org>
Date:   Wed Nov 4 01:18:08 2009 +0000

    Binding java.lang.reflect.Proxy to JNDI directory raises java.lang.ClassCastException
    https://issues.apache.org/bugzilla/show_bug.cgi?id=47512
    
    Also acts as dead code removal
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832638 13f79535-47bb-0310-9956-ffa450edef68

commit 6908b18c91e58d3b004116465e77c150a698d77b
Author: Timothy A. Funk <funkman@apache.org>
Date:   Wed Nov 4 00:54:02 2009 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=46947
    
    Code cleanup patch that removes some obsolete null checks
    
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832636 13f79535-47bb-0310-9956-ffa450edef68

commit e156f85ae8d934b6569643806292795067543a58
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Nov 3 03:04:17 2009 +0000

    Remove unnecessary argument
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832284 13f79535-47bb-0310-9956-ffa450edef68

commit 860fb0ea382a4eec05974fd13c0b42760390fa4e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 3 00:25:54 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48066
    Be explicit about including Ant on the compilation classpath
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832221 13f79535-47bb-0310-9956-ffa450edef68

commit 8a7022a528bb4608ff589b537413e4d32c82864f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 3 00:20:18 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47918
    Fix copy and paste descriptions
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832218 13f79535-47bb-0310-9956-ffa450edef68

commit c060034cbd4f3856af13869850f25299962db6a9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 3 00:16:42 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48102 and https://issues.apache.org/bugzilla/show_bug.cgi?id=48103
    Typos in Javadoc
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832216 13f79535-47bb-0310-9956-ffa450edef68

commit 481cfe9bf8fe91eb11befbbec8210fff0175bcb1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 3 00:14:11 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48104
    Align Javadoc, usage message and code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832214 13f79535-47bb-0310-9956-ffa450edef68

commit d9247c83059c00950575874ab43826fc745955a8
Author: Rainer Jung <rjung@apache.org>
Date:   Tue Nov 3 00:00:18 2009 +0000

    Port r671153 and r671459 from tcnative branch 1.1.x
    to Tomcat trunk:
    
    Log the exception when the file we dlopen exists.
    Otherwise errors like:
    +++
    java.lang.UnsatisfiedLinkError: /home/jfclere/jbossweb_trunk/output/build/bin/META-INF/lib/linux2/x64/libaprutil-1.so.0.2.8: libpq.so.3: cannot open shared object file: No such file or directory
    +++
    Can't be traced.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832211 13f79535-47bb-0310-9956-ffa450edef68

commit 8777a49a122e7649b47f72d1d09d9dfcdbcb828a
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Nov 2 23:34:48 2009 +0000

    Trivial typo fix in comment.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832198 13f79535-47bb-0310-9956-ffa450edef68

commit 5791f5c2fd91efa1f477755654922092931c56d1
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Nov 2 22:34:45 2009 +0000

    Remove Thread class from jni.
    It does not exist in TC 6 and is neither used
    not especially functional..
    We keep it in TC 5.5 though.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832165 13f79535-47bb-0310-9956-ffa450edef68

commit 8113f70a11ead67f12f19cea4f7b155a9d857daf
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Nov 2 22:15:34 2009 +0000

    Remove Buffer class from jni.
    It does not exist in TC 6 and is not used.
    We keep it in TC 5.5 though.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832139 13f79535-47bb-0310-9956-ffa450edef68

commit 43e71306ed5a674f41c42552daaf8ff7a4ce358e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 2 18:56:52 2009 +0000

    StringBuffer -> StringBuilder for o.a.tomcat
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832050 13f79535-47bb-0310-9956-ffa450edef68

commit fc9b50bdc1f41c7f1cca429312a2a69521195611
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 2 18:52:31 2009 +0000

    StringBuffer -> StringBuilder for tomcat-lite module
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832046 13f79535-47bb-0310-9956-ffa450edef68

commit 2eae89eb0886eca2dbb7a42ce8c4c28ab22b9861
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 2 18:51:40 2009 +0000

    StringBuffer -> StringBuilder for jdbc-pool module
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832045 13f79535-47bb-0310-9956-ffa450edef68

commit c148a5fdc87796e1866af8039e86d3768c874fbe
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 2 18:51:17 2009 +0000

    StringBuffer -> StringBuilder for bayeux module
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832044 13f79535-47bb-0310-9956-ffa450edef68

commit e3023751bc0de7c75c251113dc6f65a005bfc233
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 2 18:48:19 2009 +0000

    StringBuffer -> StringBuilder for unit tests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832041 13f79535-47bb-0310-9956-ffa450edef68

commit da0af6432f0621a636c24f89e434c656f68ab15d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 2 18:47:14 2009 +0000

    StringBuffer -> StringBuilder for webapps
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832040 13f79535-47bb-0310-9956-ffa450edef68

commit 26fc1411c70cc9425d184464f2de63ffd0011b95
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 2 18:46:21 2009 +0000

    StringBuffer -> StringBuilder for o.a.naming
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832039 13f79535-47bb-0310-9956-ffa450edef68

commit ed5a7ebdf60237980ef8e0d1eb62d4a04075b7dc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 2 18:45:45 2009 +0000

    StringBuffer -> StringBuilder for o.a.juli
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832037 13f79535-47bb-0310-9956-ffa450edef68

commit ece6db03fe1d776019ba302b8723642be8330099
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 2 18:45:17 2009 +0000

    StringBuffer -> StringBuilder for o.a.jasper
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832036 13f79535-47bb-0310-9956-ffa450edef68

commit b01809e5da1fb7efd105c51fb5d02bf42fc87df3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 2 18:42:21 2009 +0000

    StringBuffer -> StringBuilder for o.a.el
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832031 13f79535-47bb-0310-9956-ffa450edef68

commit 91367f593ca8dfc81f320ef552a17314754e5a53
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 2 18:41:20 2009 +0000

    StringBuffer -> StringBuilder for o.a.coyote
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832028 13f79535-47bb-0310-9956-ffa450edef68

commit b465c02a5989ec3d2e84b636d52d11534c0e7ca4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 2 18:39:56 2009 +0000

    StringBuffer -> StringBuilder for o.a.c
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832026 13f79535-47bb-0310-9956-ffa450edef68

commit e1c0a2468413e48973215c018ee4244571895171
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 2 18:39:31 2009 +0000

    StringBuffer -> StringBuilder for o.a.c.valves
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832025 13f79535-47bb-0310-9956-ffa450edef68

commit 1a146a582867623a4cc7568508fb7d0485f03776
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 2 18:38:47 2009 +0000

    StringBuffer -> StringBuilder for o.a.c.util
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832023 13f79535-47bb-0310-9956-ffa450edef68

commit 4e37c55aa06313c73296400ee466f1bb054d9480
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 2 18:38:00 2009 +0000

    StringBuffer -> StringBuilder for o.a.c.users
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832022 13f79535-47bb-0310-9956-ffa450edef68

commit cdd16bc0ff6870145a50ab3b5ac4804d4a3540ec
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 2 18:37:26 2009 +0000

    StringBuffer -> StringBuilder for o.a.c.tribes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832021 13f79535-47bb-0310-9956-ffa450edef68

commit 95d3db75ff5881cefcfe4f8ac9b61b1a914bf59e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 2 18:36:23 2009 +0000

    StringBuffer -> StringBuilder for o.a.c.startup
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832020 13f79535-47bb-0310-9956-ffa450edef68

commit ffd976b5cceb4e60a94b62adc6b07ed0dfac8963
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 2 18:35:52 2009 +0000

    StringBuffer -> StringBuilder for o.a.c.ssi
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832019 13f79535-47bb-0310-9956-ffa450edef68

commit 61a81b94e7256b16aebe23e9c1bffe0239f8d947
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 2 18:34:13 2009 +0000

    StringBuffer -> StringBuilder for o.a.c.session
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832018 13f79535-47bb-0310-9956-ffa450edef68

commit 0fbe62b9f64469db89f9ca04837ed5832675c416
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 2 18:33:41 2009 +0000

    StringBuffer -> StringBuilder for o.a.c.servlets
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832017 13f79535-47bb-0310-9956-ffa450edef68

commit 3b40edf7edfb239f3e6c41cf5088c18951a5431e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 2 18:33:01 2009 +0000

    StringBuffer -> StringBuilder for o.a.c.realm
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832015 13f79535-47bb-0310-9956-ffa450edef68

commit c4982315e3d9b08dbcd58fbd723222eb2ec00cb8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 2 18:32:29 2009 +0000

    StringBuffer -> StringBuilder for o.a.c.mbeans
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832014 13f79535-47bb-0310-9956-ffa450edef68

commit 8d82cdf025e62962af93bf6d7a8fc470413341b7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 2 18:32:07 2009 +0000

    StringBuffer -> StringBuilder for o.a.c.manager
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832013 13f79535-47bb-0310-9956-ffa450edef68

commit 178c77e2a06df35032c368bf6b9678efa3029e56
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 2 18:31:26 2009 +0000

    StringBuffer -> StringBuilder for o.a.c.loader
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832011 13f79535-47bb-0310-9956-ffa450edef68

commit ca59409b7d9786c62dd4e39402326884537a1cbd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 2 18:30:21 2009 +0000

    StringBuffer -> StringBuilder for o.a.c.ha
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832007 13f79535-47bb-0310-9956-ffa450edef68

commit 29a30d78242cf6320d2f82deae060bdd950b6bca
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 2 18:29:13 2009 +0000

    StringBuffer -> StringBuilder for o.a.c.filters
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832005 13f79535-47bb-0310-9956-ffa450edef68

commit 9fe58f2ebe7fa6cbd9c76892abe3c57e8159d882
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 2 18:28:37 2009 +0000

    StringBuffer -> StringBuilder for o.a.c.deploy
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832004 13f79535-47bb-0310-9956-ffa450edef68

commit a9baf82e6224968df1653a534bd13e9c14fb6fe1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 2 18:27:32 2009 +0000

    StringBuffer -> StringBuilder for o.a.c.core
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832003 13f79535-47bb-0310-9956-ffa450edef68

commit bc6ab569054d37d9fe536e1066e3071b1ee6ab95
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 2 18:25:58 2009 +0000

    StringBuffer -> StringBuilder for o.a.c.connector
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832002 13f79535-47bb-0310-9956-ffa450edef68

commit 348ba19db44bdf309345d9a98a3b4a9462c65e41
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 2 18:25:32 2009 +0000

    StringBuffer -> StringBuilder for o.a.c.authenticator
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@832000 13f79535-47bb-0310-9956-ffa450edef68

commit f90403b9f8f74d1c48fd64667e0eab4b2be42725
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 2 18:24:49 2009 +0000

    StringBuffer -> StringBuilder for o.a.c.ant
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@831999 13f79535-47bb-0310-9956-ffa450edef68

commit 9512b9bf67b1b563f4347cd541be7d593c89513a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 2 18:16:36 2009 +0000

    StringBuffer -> StringBuilder for javax.servlet
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@831997 13f79535-47bb-0310-9956-ffa450edef68

commit 3ef0f2178a17c789b9c74a1eb87ea66511345341
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Nov 2 11:00:01 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47881
    Fix processing of "startd" and "stopd" arguments, when they are not alone.
    Patch by Qingyang Xu
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@831860 13f79535-47bb-0310-9956-ffa450edef68

commit 600443618ad003148e754035ae9bfa0d17220ba3
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Nov 2 10:30:49 2009 +0000

    Mark JspCompilationContext#removed as volatile,
    because JspCompilationContext#isRemoved() is called from JspServletWrapper#service,
    and that access is not synchronized.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@831850 13f79535-47bb-0310-9956-ffa450edef68

commit 66e503c01eda2559485cffa17bf41196504b7c09
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Nov 2 09:12:10 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48097
    Make SecurityClassLoad to preload o.a.c.loader.ResourceEntry class
    
    It is port of a patch from tc6.0.
    I have not really tested it in trunk, though, because running TC 7 with SecurityManager currently fails because of other issues.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@831830 13f79535-47bb-0310-9956-ffa450edef68

commit 4d3f83fc47568489037b7dae572af36b19bc2cf9
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Nov 2 09:03:13 2009 +0000

    Make WebappClassLoader to do not swallow AccessControlException
    See https://issues.apache.org/bugzilla/show_bug.cgi?id=48097
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@831828 13f79535-47bb-0310-9956-ffa450edef68

commit 790d9c1963a4b11cd23c160ce65af700a19a90c8
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Nov 2 08:55:33 2009 +0000

    Pack servlet 3.0 classes into servlet-api.jar
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@831822 13f79535-47bb-0310-9956-ffa450edef68

commit 24f053a430f36cc56685a527f02855fc99dc087b
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Mon Nov 2 08:37:41 2009 +0000

    Include root cause exception into the one produced by ApplicationContextFacade#doPrivileged()
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@831819 13f79535-47bb-0310-9956-ffa450edef68

commit f3b04b4529aa286dc9412e1aa43dcef87ada2cc5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 2 00:30:55 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47331
    Uninterpreted tags are essentially template text so apply the rules of JSp.2.2 there too.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@831785 13f79535-47bb-0310-9956-ffa450edef68

commit 6453fa99f82dc89e6303204e068f33b8f24c8df0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 1 23:22:18 2009 +0000

    As per Remy's feedback, auto-switching cookie version is OK and we should also do it if a comment is specified
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@831782 13f79535-47bb-0310-9956-ffa450edef68

commit 6ce04ad6462b8feae3f0010451538a51c5ea7ce6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 1 23:20:53 2009 +0000

    Opps. Missed this file in cookie name/null/length patch
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@831781 13f79535-47bb-0310-9956-ffa450edef68

commit 64ecfc833966994e62347eae5d01f02303a42291
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 1 23:05:26 2009 +0000

    Add unit tests for blank/null cookie names
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@831780 13f79535-47bb-0310-9956-ffa450edef68

commit 7263f9e915db5094d1ae5243f66bd14eb8923875
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 1 23:04:33 2009 +0000

    Don't allow null or zero length cookie names.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@831779 13f79535-47bb-0310-9956-ffa450edef68

commit 14084acbd85e6100df3ad108b92eaccb593eeb78
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 1 22:53:29 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47451
    Don't trigger an NPE if headers with null or zero length name or set or if a null value is specified. Silently ignore any such calls in the same way the calls are ignored if the response has already been committed.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@831774 13f79535-47bb-0310-9956-ffa450edef68

commit 69ef22bb8b2fde34b91063d2e36688139015ee5a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 1 21:46:09 2009 +0000

    Trying to merge filter maps is a bad idea.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@831764 13f79535-47bb-0310-9956-ffa450edef68

commit 566d64ff367cb05a1b6bf7b55cd3c5c3c131790a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 1 19:58:24 2009 +0000

    Fix bug in display name merge
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@831751 13f79535-47bb-0310-9956-ffa450edef68

commit 7fc56b47566f091f7233796bd3920922d32937eb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 1 18:35:02 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47364
    Document that HttpServletRequest.getAttributeNames() does not return the names of all attributes (internal Tomcat attributes are excluded)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@831722 13f79535-47bb-0310-9956-ffa450edef68

commit fef86ca4a873d2f16b879149fedc0593342818b8
Author: Peter Rossbach <pero@apache.org>
Date:   Sun Nov 1 18:29:14 2009 +0000

    Fix ReplicationValve crossContext support
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@831718 13f79535-47bb-0310-9956-ffa450edef68

commit fb96a8b4c489c231107a733dc4ca7abf896fa768
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 1 18:16:57 2009 +0000

    Add another feature to the Tomcat based unit tests.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@831716 13f79535-47bb-0310-9956-ffa450edef68

commit 409ca64389f7b1e746935395dbdaabcf312bcbca
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 31 14:09:02 2009 +0000

    Add a new new cookie option to allow the use of equals signs in cookies. Includes test cases and docs.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@831544 13f79535-47bb-0310-9956-ffa450edef68

commit 7952a13920a6d93a1a7d97a6d723914416c3feec
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 31 12:59:51 2009 +0000

    Add an explicit configuration option for cookie version switching and update test cases and docs to include it.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@831536 13f79535-47bb-0310-9956-ffa450edef68

commit d269203571d69ba247cde9e138828f8c43a25f0c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 31 11:46:50 2009 +0000

    New cookie unit tests and associated refactoring to get ant test target working.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@831533 13f79535-47bb-0310-9956-ffa450edef68

commit 1e4e8ba61c1dcab9face0f8775a39a4ef5f790a7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 31 11:01:48 2009 +0000

    Refactoring to allow easier re-use.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@831530 13f79535-47bb-0310-9956-ffa450edef68

commit 1dc897b4d9ecc83dcfd4a63c0da2a14b9d8fc8c9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 30 16:02:40 2009 +0000

    Re-add code that was incorrectly removed in recent changes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@831361 13f79535-47bb-0310-9956-ffa450edef68

commit ab0e40d7e4608195e6aa53b1a5b7aa169c4e998e
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Oct 30 06:37:47 2009 +0000

    Fix a documentation bug:
    To enable SSL in TC 6.0 and later you set SSLEnabled=true, not secure=true as it was in TC 5.5.
    
    Also added a phrase about secure and schema attributes. The text is nearly identical to the one in the SSLEnabled attribute description above on the same page. If anyone has a better phrase, you are welcome.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@831212 13f79535-47bb-0310-9956-ffa450edef68

commit 5497b2096ac72430b275f17ec9e7cec51365f6c6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 29 22:14:26 2009 +0000

    Apply Konstantin's review comments
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@831116 13f79535-47bb-0310-9956-ffa450edef68

commit ac0783eea0aa234015ba621f405013aab2ea06b1
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Oct 29 21:48:04 2009 +0000

    SSL should be based on SSLEnabled, not secure flag
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@831106 13f79535-47bb-0310-9956-ffa450edef68

commit 496dcc0b8693c985f3e5243d589be699ed62668f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 29 19:26:52 2009 +0000

    Add an option to strictly enforce cookie naming rules.
    I'm not wild about the implementation but since we can't change the API, this was the best I could come up with. Suggestions for improvements welcome.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@831069 13f79535-47bb-0310-9956-ffa450edef68

commit 1ca1696e39d36f8662d7bfdadc9559db4512f899
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 29 18:36:49 2009 +0000

    Add system property to control treatment of / as a separator when processing cookies
    Modify ALWAYS_ADD_EXPIRES so STRICT_SERVLET_COMPLIANCE changes the default to a strict interpretation of the specs
    
    Note: I'll refactor the common code into a Constants class once I am finished but I'm doing that last as the refactoring won't be proposed for back-port to 6.0.x/5.5.x
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@831059 13f79535-47bb-0310-9956-ffa450edef68

commit 77f9085e475ff15671384affeae9e8fdcf17eee3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 29 15:27:58 2009 +0000

    The single quote character ' is not a separator so it is allowed in unquoted values.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@830999 13f79535-47bb-0310-9956-ffa450edef68

commit 8e751e975dc7ab356b4231ac603272fdc42ae71d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 29 14:39:38 2009 +0000

    No longer required since all connectors now use acceptors
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@830965 13f79535-47bb-0310-9956-ffa450edef68

commit a4c49c415b2dba577bfdaec0fcb052877925f5d5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 29 12:03:48 2009 +0000

    Make leak prevention listener more configurable
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@830908 13f79535-47bb-0310-9956-ffa450edef68

commit bc672117649f2995b5c1e424c1a80894e5a6e128
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 29 10:58:49 2009 +0000

    Clean-up - no functional change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@830890 13f79535-47bb-0310-9956-ffa450edef68

commit 19e7b2d18fb7228668e37df6d1231d142d464d1d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 28 19:25:31 2009 +0000

    Add a workaround for a common cause of locked files.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@830736 13f79535-47bb-0310-9956-ffa450edef68

commit 6b9beca1496eaa360b1ad1f73544c4e92c5f5667
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 28 15:30:49 2009 +0000

    Ensure thread ratio calc is valid
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@830589 13f79535-47bb-0310-9956-ffa450edef68

commit 8a6435491d00b1bcd3d5c0a7a1df99c426472432
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 28 12:27:42 2009 +0000

    Add FilterMaps to the web.xml file merge process
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@830514 13f79535-47bb-0310-9956-ffa450edef68

commit 559058d9c5f5082b05bd45e6b124502d5e54d2a5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 28 11:49:48 2009 +0000

    Add some test cases for ordering.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@830508 13f79535-47bb-0310-9956-ffa450edef68

commit bde37a4b8e6c9eba3050d8c0cf101212096f9f6f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 28 11:48:50 2009 +0000

    Re-factoring to make testing easier
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@830506 13f79535-47bb-0310-9956-ffa450edef68

commit a4cbca44e16dc6cb437b1e2ec0267f8abb510b01
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 28 11:14:29 2009 +0000

    Remove empty test class to avoid no tests found errors when running all tests for a package in Eclipse
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@830503 13f79535-47bb-0310-9956-ffa450edef68

commit 9bec0481eae86dfef871ba9dad95f781561e68de
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 28 11:13:41 2009 +0000

    Make base class abstract to avoid no tests found errors when running all tests for a package in Eclipse
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@830502 13f79535-47bb-0310-9956-ffa450edef68

commit 751cc12485dd169505551bebc383f88287656313
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Oct 28 05:40:36 2009 +0000

    Corrected a misprint
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@830444 13f79535-47bb-0310-9956-ffa450edef68

commit 65de76a995ac800b9e83cc61fb659a6e078d7dcb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 27 22:35:05 2009 +0000

    Add leak prevention listener to windows installer
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@830379 13f79535-47bb-0310-9956-ffa450edef68

commit d7bd569a925b6bd517808c0f8c47aeb46cb3041e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 27 22:34:04 2009 +0000

    Document new listener
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@830378 13f79535-47bb-0310-9956-ffa450edef68

commit 41741c1192646621b51cba70f6d5b9e43e628506
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 27 22:16:54 2009 +0000

    Add back the setters for remote host and remote address and provide an implementation. They will be needed for the mod_remoteip port (bug 47330)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@830368 13f79535-47bb-0310-9956-ffa450edef68

commit 795932c8d9525183adcdf665bd8037493017060d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Oct 26 15:27:12 2009 +0000

    Update copyright year
    Clean up unused elements
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@829825 13f79535-47bb-0310-9956-ffa450edef68

commit 25968539464c99dafd9bc004d383083ef49b5a94
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 24 21:07:44 2009 +0000

    Remove unnecessary casts
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@829452 13f79535-47bb-0310-9956-ffa450edef68

commit d1764cc2708d2af73771f4ee1a89e2e241bada3e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 24 21:07:13 2009 +0000

    Remove unused field
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@829451 13f79535-47bb-0310-9956-ffa450edef68

commit a385cf25cddb2bab88de9e862290b0da4f64276e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 24 21:00:42 2009 +0000

    Remove unused imports and methods
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@829450 13f79535-47bb-0310-9956-ffa450edef68

commit 2cf74b7ed3c5ea1005b22e0fe075b5bc8eab9d5d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 24 20:54:19 2009 +0000

    Fix Eclipse niggles in the examples
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@829449 13f79535-47bb-0310-9956-ffa450edef68

commit 6645dc2ab93e928658235841c67b55988bcf357c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 24 20:52:46 2009 +0000

    Merge code for a few more elements
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@829448 13f79535-47bb-0310-9956-ffa450edef68

commit 90269faace96bbfc9571366fa1cce2777b51e401
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 24 20:07:42 2009 +0000

    Implement merge rules for a few more web.xml elements
    Required some refactoring as some of the rules depend on all fragments and the main web.xml
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@829440 13f79535-47bb-0310-9956-ffa450edef68

commit 513d08c9728e9d012a2043a5ef25759dfb5b852c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 23 16:39:32 2009 +0000

    Add support for absolute ordering of web fragments and the start of the fragment merge code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@829121 13f79535-47bb-0310-9956-ffa450edef68

commit cf92ba23ea986e59ca81b7f6ebcb00de23fc2047
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 23 14:00:36 2009 +0000

    Clear the remaining Eclipse warnings in the examples
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@829067 13f79535-47bb-0310-9956-ffa450edef68

commit e745efbab923e94147823d26bf044453c2eee28d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 22 15:44:06 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47987
    Limit size of not found resources cache
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@828759 13f79535-47bb-0310-9956-ffa450edef68

commit 659c63dbad2c38231296f69014e94af23adb5851
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 22 15:31:53 2009 +0000

    Revert r828212. The cache limit was applied to the wrong field. Thanks to Remy for the catch.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@828749 13f79535-47bb-0310-9956-ffa450edef68

commit c266228f9ec5f2a68ee8180230d765f3b03f1c02
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 21 21:40:21 2009 +0000

    Refix https://issues.apache.org/bugzilla/show_bug.cgi?id=37848
    Don't output info messages if there is no terminal
    Patch provided by Eric Herman
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@828225 13f79535-47bb-0310-9956-ffa450edef68

commit 65c7baeeeb97e9f96e7bb9e4318f272b8eaf73dc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 21 20:57:14 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47987
    Limit size of not found resources cache
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@828212 13f79535-47bb-0310-9956-ffa450edef68

commit d55f1d982c04171cd0e85b00a041350463f3aac1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 21 20:53:47 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48009
    Add a check in case the file is in the middle of being renamed. It isn't perfect (it can't be) but this should cover most cases
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@828210 13f79535-47bb-0310-9956-ffa450edef68

commit deac65799ef5ef48fb19b61dbcbdb8337c920c73
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 21 20:43:21 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=48019
    Be more careful to skip over all of nodes we aren't interested it
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@828201 13f79535-47bb-0310-9956-ffa450edef68

commit 87ec73a88ed47bd515106e3221a37cde8d2f0f91
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 21 20:36:23 2009 +0000

    Somewhat ironically, the call to java.beans.Introspector.flushCaches() that is meant to prevent memory leaks now causes a leak on reload due to a change in 1.6.0_15 onwards.
    Add a listener that prevents the leak.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@828196 13f79535-47bb-0310-9956-ffa450edef68

commit 6b0925328310345892e5c9519d03b947d73a2446
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 20 14:00:44 2009 +0000

    Update to the latest schemas.
    Note the stated election to use the CDDL
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@827460 13f79535-47bb-0310-9956-ffa450edef68

commit 2c08c9c5408273781c0388fa836b3376c25ba70b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 20 13:49:15 2009 +0000

    Update example for updated Servlet 3.0
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@827446 13f79535-47bb-0310-9956-ffa450edef68

commit 2f22987f6bdc8b505a151b72913d9d916018e15d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 20 13:41:59 2009 +0000

    Update spec classes for latest Servlet 3.0 API as of 2009-10-15.
    Update internals so Tomcat builds with the updated spec. Lots if stubbed impl marked with TODO.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@827435 13f79535-47bb-0310-9956-ffa450edef68

commit 0291c5bfd0462d646bbfb4403a0325a8ac19ab62
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 17 19:28:15 2009 +0000

    Fix Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@826296 13f79535-47bb-0310-9956-ffa450edef68

commit 97fea6ac1a522b8c40dbf2a2824146ef34784621
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 17 19:27:12 2009 +0000

    Part 2 of CSRF protection for the host manager. Use POST and require valid nonce.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@826295 13f79535-47bb-0310-9956-ffa450edef68

commit 17872183922b149f50512fb85792ad8031a37fb5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 17 19:25:11 2009 +0000

    Part 1 of CSRF protection for host manager. Move text interface from / to /text, add extra role for /text. Port 401.jsp and 404.jsp from manager.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@826294 13f79535-47bb-0310-9956-ffa450edef68

commit 636c4b41ee62ecef231e20d8867c95e70186639d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 17 19:22:16 2009 +0000

    Change of name for role
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@826293 13f79535-47bb-0310-9956-ffa450edef68

commit 207bcb9d78c843c87be81908349e9bf5cd6f771d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 17 19:21:50 2009 +0000

    Change name of role for scripts
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@826292 13f79535-47bb-0310-9956-ffa450edef68

commit b88897a8e39578ac09116bfa69437174aa9594e0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 17 19:21:01 2009 +0000

    Use string manager for i18n.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@826291 13f79535-47bb-0310-9956-ffa450edef68

commit ea701f8f0ae80c82440912d06a0be89d0d9594eb
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Oct 16 00:09:48 2009 +0000

    simplify example
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@825711 13f79535-47bb-0310-9956-ffa450edef68

commit f4a7ba8b4cecbf0483bf7d93f9af6eb942192af5
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Oct 16 00:06:14 2009 +0000

    Add some modifications to the state machine. Timeout and error are an async dispatch, and its unclear what the state should be. Since both those actions should stop the event, we set the state to COMPLETING
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@825708 13f79535-47bb-0310-9956-ffa450edef68

commit e302964be625f05d3536da01299c7f66b436beb9
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Oct 15 01:10:34 2009 +0000

    Add a simple asynchronous stock ticker.
    Some more refactoring around common code
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@825366 13f79535-47bb-0310-9956-ffa450edef68

commit 0ec59d54d9cc25ce32e3353fdc26a5a8caa36955
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 14 16:28:31 2009 +0000

    Typos
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@825180 13f79535-47bb-0310-9956-ffa450edef68

commit bbe6f525f21deaf5ccaef97c15f3bed8c11dc3ba
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 14 05:35:53 2009 +0000

    Update copyright
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@825011 13f79535-47bb-0310-9956-ffa450edef68

commit b1a30d6ed887a4a23427969cf493810d4821e44a
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Oct 13 07:05:53 2009 +0000

    Fix misprint in a comment
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@824615 13f79535-47bb-0310-9956-ffa450edef68

commit a9b6d8a4180c22cb23678894a49335e54677c7d3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Oct 12 17:28:49 2009 +0000

    Add an explicit test for JSPs. Grails - that is using a variant of this - seems to have issues with JSPs. Looks OK here.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@824432 13f79535-47bb-0310-9956-ffa450edef68

commit a6ed4a1669ac7360fbb16c6045af7867b70153a4
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Oct 11 06:55:27 2009 +0000

    Replace StringBuffer with StringBuilder
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@824032 13f79535-47bb-0310-9956-ffa450edef68

commit f4f102c2a4dfd7facb3bb685a93f6c3d66cec704
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Oct 11 06:27:32 2009 +0000

    Set svn:eol-style = native
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@824031 13f79535-47bb-0310-9956-ffa450edef68

commit 231d7b4cd3f8accc44147cd3ec67a9405b8c4847
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 10 23:15:44 2009 +0000

    No need for sync
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@823976 13f79535-47bb-0310-9956-ffa450edef68

commit 4cf35556f7254f6890a6f6a04fcacf3033334c9e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 10 23:11:30 2009 +0000

    Use a nonce to provide CSRF protection
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@823975 13f79535-47bb-0310-9956-ffa450edef68

commit 99f01fd6ddbf1945e2bc5531e055b7d993c4c634
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 10 21:54:54 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=40001
    Use POST rather than GET for all operations that are not idempotent
    Partly based on a patch suggested by Daniel Naber
    Remove the "Are you sure?", partly due to lack of i18n support and since as (based on my recollection) as many people disliked the feature as liked it.
    Provides a (very) small measure of CSRF protection but lays the foundation for using a nonce with POST.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@823962 13f79535-47bb-0310-9956-ffa450edef68

commit e59b0dcf03e2dfdb5fdd79c8c29e93d53becdfeb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 10 18:16:51 2009 +0000

    Refactor upload into its own method in preparation for moving some commands from GET to POST.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@823910 13f79535-47bb-0310-9956-ffa450edef68

commit 0681407981c65809956bf447b8822002b67381f0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 10 18:11:51 2009 +0000

    Fix the Eclipse warnings, add some additional comments.
    No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@823908 13f79535-47bb-0310-9956-ffa450edef68

commit 64b4be66bbe1b603e05e2568878b68ba3b49d5a9
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Oct 9 22:02:35 2009 +0000

    Explicitly mark all our valves so that we can track down which ones we need to fix and make async aware
    
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@823713 13f79535-47bb-0310-9956-ffa450edef68

commit e16523c2f5a201e70406d54f2d3dba77f6eedc53
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Oct 9 21:52:36 2009 +0000

    Just like filters, valves will have to be async aware in order for it to work properly.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@823710 13f79535-47bb-0310-9956-ffa450edef68

commit a95a94b62948647ca4bf1e958b8d633ab0844a6c
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Oct 9 20:54:01 2009 +0000

    Add license
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@823683 13f79535-47bb-0310-9956-ffa450edef68

commit 0da8b5ad9f74f18228d340db612b637509d1278f
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Oct 9 16:24:43 2009 +0000

    Abstract out code for output buffer, much easier to read
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@823608 13f79535-47bb-0310-9956-ffa450edef68

commit 6b01ad1a7a35a5d9eb244e7a4a4e19ea166f8fe7
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Fri Oct 9 16:00:20 2009 +0000

    Add a local bind otherwise for box with multi IP httpd may use the wrong port.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@823603 13f79535-47bb-0310-9956-ffa450edef68

commit bdf6a2971167741478e8c4574c6047a631eda5cd
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Oct 9 13:43:33 2009 +0000

    propset eol-style
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@823550 13f79535-47bb-0310-9956-ffa450edef68

commit 78b83844361c7113e81ddb0df7cf9c7abcbadc8d
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Oct 8 22:37:52 2009 +0000

    consolidate two input buffers into one, no functional change, just abstract out exact same code used in two connectors
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@823351 13f79535-47bb-0310-9956-ffa450edef68

commit 349e1bf892958d7807a8a2f6309bd45bdca67267
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Oct 8 17:08:20 2009 +0000

    Refactor the BIO connector to align it better for async support, this means a "poller" style for timeouts etc.
    First step is to allow the connector to do keep alive on more connections than we have threads.
    More changes to follow, good chance that NIO and BIO can share tons of code
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@823234 13f79535-47bb-0310-9956-ffa450edef68

commit 6be7f54d681f6136b8ed48ad8957050147309b52
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Oct 8 16:40:31 2009 +0000

    remove not needed entry
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@823225 13f79535-47bb-0310-9956-ffa450edef68

commit 21620cf8c3f53e65e3672237155e34c1d4afba83
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Oct 4 11:04:37 2009 +0000

    Remove Javadoc for method argument, that was
    erroneously added in r684270.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@821507 13f79535-47bb-0310-9956-ffa450edef68

commit b8a16ab9c8e103f6ad0f02881bc7c26a40bb1299
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 3 20:59:45 2009 +0000

    Upgrade to pool 1.5.3
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@821412 13f79535-47bb-0310-9956-ffa450edef68

commit 39dbcca2b722faa4c1cd82dd28866a5cf56eeaff
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 3 19:43:34 2009 +0000

    More docs tweaks based on Rainer's and Konstantin's feedback
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@821400 13f79535-47bb-0310-9956-ffa450edef68

commit 49673ad8a5092a3ed8e018c7f75b979b5f477d39
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 3 19:36:01 2009 +0000

    Ignore duplicate entries on the classpath.
    Patch could be smaller but change variable name to make new behaviour clear
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@821397 13f79535-47bb-0310-9956-ffa450edef68

commit bbf9abbb1c2f6824d076003d0f8720ce20db9f4b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 3 16:20:49 2009 +0000

    Fix BASE/HOME swap and add note re security manager.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@821353 13f79535-47bb-0310-9956-ffa450edef68

commit 4258e6556989b8ac26b48d4b1b186bd03b852af9
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Oct 3 02:08:13 2009 +0000

    Update tomcat-docs.xsl
    It is port of rev.821208 from tc6.0.x
    
    1. Properly publish author names in <meta> HTML tag (it has content attribute, not value),
    and do not publish e-mails.
    2. Added support for "rtext" attribute on <section> tag. I use it to include release dates in changelog.xml.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@821220 13f79535-47bb-0310-9956-ffa450edef68

commit d028f33f908f3600ccdd68da29db6cb4fc50b244
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Oct 2 10:39:21 2009 +0000

    Use proper method to construct an URL string.
    File.toURI() takes care of absolute paths, trailing slashes in the names of directories, encoding of special characters such as '%'.
    Based on a suggestion by Rainer Jung.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@820954 13f79535-47bb-0310-9956-ffa450edef68

commit 7ed5076283c66c5538e140e718bf3897eec1cc1b
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Oct 2 03:16:12 2009 +0000

    tomcat-coyote.jar (former tomcat-util.jar before rev.389946) is not needed by bootstrap classes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@820874 13f79535-47bb-0310-9956-ffa450edef68

commit c4ed6fd635d918dca65c0a7efc7906a340f79279
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Wed Sep 30 09:03:25 2009 +0000

    Add port in the message.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@820220 13f79535-47bb-0310-9956-ffa450edef68

commit 69e506bd51d54368b1e78d2ce86a0398fc640147
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Sep 30 00:01:17 2009 +0000

    Do not reuse sessionsList window to show sessionsDetail.
    It adds more sense to the "Close window" button on that page.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@820132 13f79535-47bb-0310-9956-ffa450edef68

commit 19174f70f77ee340e2b0bd46e4c67f9c9938dd72
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Sep 29 23:23:11 2009 +0000

    Do proper nesting of HTML tags and add DOCTYPE declaration.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@820123 13f79535-47bb-0310-9956-ffa450edef68

commit a1c62de7f4b11a7e8c30a53893fbf68d5eabfc8e
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Sep 29 22:54:17 2009 +0000

    Correct wording
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@820118 13f79535-47bb-0310-9956-ffa450edef68

commit 19e04169a8078ed9adb102e3ce8e17ed0d8b10f6
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Sep 29 22:48:09 2009 +0000

    Do not include ASF License comment into generated output
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@820117 13f79535-47bb-0310-9956-ffa450edef68

commit f9729cc3d98696357c55e46976b648b3faced064
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Sep 29 22:24:47 2009 +0000

    Fix display of sessionList and sessionDetail pages in IE 6 and IE 7:
    do not include ASF License comment into generated output.
    
    Because of that large comment that precedes other content those browsers try to display these pages as generic XML, and fail.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@820110 13f79535-47bb-0310-9956-ffa450edef68

commit 7631b2c1cb791c80a9cb2fab93741a482c544862
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Sep 29 21:18:09 2009 +0000

    Correct a pair of misprints
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@820092 13f79535-47bb-0310-9956-ffa450edef68

commit ec1d3e72cbc8cfb245065c7ef2888e05d0ac8781
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Tue Sep 29 12:20:57 2009 +0000

    timeout can't be negative...
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@819899 13f79535-47bb-0310-9956-ffa450edef68

commit 6bac05ddc69805ce96621c7fe64428b7902b0c6f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Sep 27 17:44:26 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47324
    Fix submit IRL when behind a reverse proxy
    Patch by Maik Jablonski
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@819361 13f79535-47bb-0310-9956-ffa450edef68

commit 0f9990432e81be6d9b3a1a76e493e16f4dd23811
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Sep 27 16:48:23 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47320
    Don't rely on the platform default encoding being suitable to parse the session ID
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@819339 13f79535-47bb-0310-9956-ffa450edef68

commit c45d3645a83f4f12239b15f0c112f7862bea136a
Author: Rainer Jung <rjung@apache.org>
Date:   Wed Sep 23 11:28:14 2009 +0000

    DeltaManager needs to replicate changed attributes even if session
    gets invalidated. Otherwise session listeners will not see the right
    data on the secondary nodes.
    
    Port of r818061 from TC 5.5.x.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@818062 13f79535-47bb-0310-9956-ffa450edef68

commit 73bb9e4ae4e81f1a6510f211bc6f43eceb408e88
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 22 21:16:54 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47499
    Don't swallow BindException
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@817843 13f79535-47bb-0310-9956-ffa450edef68

commit 751a475fb0a818539783c10034c5a8042e14bfeb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 22 20:26:23 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47267
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@817822 13f79535-47bb-0310-9956-ffa450edef68

commit 0614eaf549093bda20dd81293d12bf111a46b6e0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 22 18:35:50 2009 +0000

    Use the re-factored JAR scanning code to scan JAR for web-fragments and parse any that are found. Discovered fragments are not yet used to configure the web app.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@817754 13f79535-47bb-0310-9956-ffa450edef68

commit 77586670ccd6201e7e16bf7249216818cf6c18b6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 22 15:25:46 2009 +0000

    I refactored the location and missed this one in the previous commit.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@817699 13f79535-47bb-0310-9956-ffa450edef68

commit 0b24e4e84bfe42b8bb898e23d2ab3398cc3e05b3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 22 14:55:17 2009 +0000

    Remove the system properties the refactoring made unnecessary
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@817686 13f79535-47bb-0310-9956-ffa450edef68

commit fb33c436dac713cc8d4997900c3360dc1b4598c4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 22 14:54:28 2009 +0000

    Refactor the TLD JAR scanning. This a) reduces duplication between Catalina and Jasper b) allows the Jar scanning to be controlled by configuration rather than system properties and c) (hopefully) allows the scanning code to be re-used for web-fragment.xml scanning
    The JSP TCK passes with this patch applied
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@817685 13f79535-47bb-0310-9956-ffa450edef68

commit 902c4f825b0a90d069cb7759bcdda521a79efeda
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 21 22:32:21 2009 +0000

    Remove old Tomcat 6 file
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@817447 13f79535-47bb-0310-9956-ffa450edef68

commit d19f64e23ab64e3cb4cb5473a0feafeaf4c37e8b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 21 22:31:47 2009 +0000

    Separate out Manager app roles
    Move /manager to /manager/text to simplify permissions
    Allows the future addition of extra security measures to one interface that might not make sense for another (usually these will be added to the HTML interface but that might not always be the case).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@817446 13f79535-47bb-0310-9956-ffa450edef68

commit beae4cf252d5413b18a5644e32c46f987ee33e53
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 21 22:20:00 2009 +0000

    Fix copyright
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@817442 13f79535-47bb-0310-9956-ffa450edef68

commit cc2f544cf867a886790d8de22f7a9b3c1af5d5be
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 21 22:03:27 2009 +0000

    Don't mark every servlet as the JSP Servlet
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@817434 13f79535-47bb-0310-9956-ffa450edef68

commit f5ada203b63fb76dbc8f05779738052f6f6995aa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 21 11:06:52 2009 +0000

    Update test to use a resource that does exist.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@817207 13f79535-47bb-0310-9956-ffa450edef68

commit 4c0daf200f1f153d36586329f4e4ce5095020077
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 21 11:02:27 2009 +0000

    Fix possible NPE when embedded
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@817204 13f79535-47bb-0310-9956-ffa450edef68

commit 189181ab2ffedcc2048d58acb872e48096a1b2e7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 21 10:54:36 2009 +0000

    Add a test case for https://issues.apache.org/bugzilla/show_bug.cgi?id=47866
    Fix a couple of places where expected and actual were the wrong way around
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@817201 13f79535-47bb-0310-9956-ffa450edef68

commit 4b0129c7fd1b480f3db962a386415c8c74af6b1d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Sep 20 23:10:15 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47231
    Improve the SSL docs. Based on a patch by Sebb.
    Remove duplication of configuration parameters - it is better to reference the config docs to prevent the two lists of attributes getting out of sync.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@817120 13f79535-47bb-0310-9956-ffa450edef68

commit f2949a1c328de2c53785dd7d3a0e8c114d92fe5e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Sep 20 18:32:48 2009 +0000

    Eclipse 3.5 has a new dead code detector. Fix various debug related logging issues found.
    Update copy of IntrospectionUtils in test suite (it was quicker than porting the individual fixes)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@817075 13f79535-47bb-0310-9956-ffa450edef68

commit 68ca062c9dcd0f92a9a9eb2ae2db3c41b39c17cc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Sep 20 18:28:22 2009 +0000

    Tabs -> 8 spaces
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@817072 13f79535-47bb-0310-9956-ffa450edef68

commit a5b512b26cec25323c7639a7cc8990c790ea5c38
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 19 20:13:22 2009 +0000

    First part of the Servlet3 web-fragment support.
    This patch inserts a stage into the web.xml processing. web.xml files are now parsed and loaded into an instance of WebXml and then that WebXml instance is used to configure the context. This will allow the subsequent addition of parsing and merging web-fragment.xml files. The hooks are in place to add this functionality but it has not yet been written.
    With the patch applied, the Servlet 2.5 TCK and JSP 2.1 TCK pass with the exception of the Servlet version number checks.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@816951 13f79535-47bb-0310-9956-ffa450edef68

commit 88aa08565cb1b36fd646a807edd8d3f22d288159
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 19 00:32:38 2009 +0000

    Add my new key
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@816833 13f79535-47bb-0310-9956-ffa450edef68

commit cdfd8bc9b43cf6f732820e928ae4aca282c24549
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 17 16:10:05 2009 +0000

    Replace parseException instance field
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@816254 13f79535-47bb-0310-9956-ffa450edef68

commit a1a49baccae3690f890102cd5302dcd681e4ffe1
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Sep 17 16:07:13 2009 +0000

    Enable the ability to disable the buffered writer. This does bunch of copying when writing using an async thread there is no need for such a thing
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@816252 13f79535-47bb-0310-9956-ffa450edef68

commit a31d52f0a78f64b76e5eb174df982916c72e7757
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 16 21:17:11 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47225
    Buffer length is end-offset
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@815972 13f79535-47bb-0310-9956-ffa450edef68

commit 9517a50c78cf7b3b04739b9a288df7c884586323
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 16 20:23:44 2009 +0000

    Update to Maven deploy process. A SNAPHOT deployment of trunk should now work and include extras and embedded.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@815952 13f79535-47bb-0310-9956-ffa450edef68

commit fce78f240b82af952b22bd8545a094ebcb71e8bf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 16 16:02:39 2009 +0000

    Correct the SNAPSHOT version number
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@815855 13f79535-47bb-0310-9956-ffa450edef68

commit 5cd36b3ca1312e55a55aab72ade18ac25ee26a81
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 16 15:49:01 2009 +0000

    Add the extra JARs, update version numbers and add a note about some issues I saw on Windows.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@815849 13f79535-47bb-0310-9956-ffa450edef68

commit 2508073a53009cfd99bd09c040a664cefe178c09
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 16 15:46:06 2009 +0000

    Add a bunch of additional poms.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@815847 13f79535-47bb-0310-9956-ffa450edef68

commit c73ec7fe5f35f9581d426b798b233ed3b0bc96aa
Author: Rainer Jung <rjung@apache.org>
Date:   Wed Sep 16 14:54:07 2009 +0000

    BZ47852: Javadoc fixes.
    Patch by Sebb.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@815816 13f79535-47bb-0310-9956-ffa450edef68

commit 8920199f2417500933da59640404d0f7a10f97bd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 16 08:09:08 2009 +0000

    Use defaults where appropriate for jarIt macro
    A couple of minor packaging tweaks
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@815657 13f79535-47bb-0310-9956-ffa450edef68

commit 0fd86abfc48692e3fef021d3c9de17a889da2288
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 15 21:09:18 2009 +0000

    Remove all traces of maxSpareThreads
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@815490 13f79535-47bb-0310-9956-ffa450edef68

commit aaf7b5d3be4d7ff0355b1a176fcc7ab672e883b5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 15 21:06:14 2009 +0000

    Fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=47161
    Correctly report maxThreads
    Note 6.0.x will need a different fix as it still uses threadpools
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@815486 13f79535-47bb-0310-9956-ffa450edef68

commit e9248d7555dfc70ad3a2ad72e5a1644dbf71023c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 15 17:50:54 2009 +0000

    Fix Tomcat side of https://issues.apache.org/bugzilla/show_bug.cgi?id=46950
    - adds new setVerify() method
    - uses it before renegotiation to change the cert verification level for the connection
    - increments minimum tc native version to 1.1.17 as it requires the new setVerify() method
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@815418 13f79535-47bb-0310-9956-ffa450edef68

commit 7c21d1fd8909169effd019a0d00ce662b3e8454a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 15 12:27:40 2009 +0000

    Fix NPE if no filters are configured.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@815290 13f79535-47bb-0310-9956-ffa450edef68

commit f87896d499fc53706109ab346ddfbf28951f220e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 15 12:25:23 2009 +0000

    Make the setter do something.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@815289 13f79535-47bb-0310-9956-ffa450edef68

commit 462450577bb5947770ed5527a0f0b54d012fc22f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 15 11:50:43 2009 +0000

    Update the ignore list
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@815285 13f79535-47bb-0310-9956-ffa450edef68

commit e55a07f27e2b2251d031a83d2f9c01299e67f4db
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 15 11:49:51 2009 +0000

    Update version.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@815284 13f79535-47bb-0310-9956-ffa450edef68

commit 59e88f15a69f76bfaa42db82fac341608904bfed
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 15 10:38:23 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47828
    Change Tomcat.setSilent() to setSilent(boolean) so it can be turned on and off
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@815264 13f79535-47bb-0310-9956-ffa450edef68

commit d16b43dc26f62268972b2b2b0fb3240a555caef6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 15 10:35:03 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47827
    Be more specific about the exception that is thrown
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@815262 13f79535-47bb-0310-9956-ffa450edef68

commit 78357bd4f67a1546fca6798b6759657a8e84083b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 15 10:34:05 2009 +0000

    Side-effect of fixing https://issues.apache.org/bugzilla/show_bug.cgi?id=47827
    No need to declare throws Exception here
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@815261 13f79535-47bb-0310-9956-ffa450edef68

commit 6cce550cc4f6f1a1138ec4b6796eaf4f75e5602d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 15 10:26:32 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47820
    Add non-static versions of static methods
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@815254 13f79535-47bb-0310-9956-ffa450edef68

commit e856606cda2286977ee73c75b847417b7c7a0096
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 15 09:53:41 2009 +0000

    Fixed https://issues.apache.org/bugzilla/show_bug.cgi?id=47819
    Add source jar generation to embedded.
    Based on a patch by Dave Syer
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@815245 13f79535-47bb-0310-9956-ffa450edef68

commit c0ed0d8280b3d2e976647a233752e563da20adf1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 15 09:21:15 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47792
    Some parameters documented as longs, are actually ints
    Patch provided by Phil Steitz
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@815227 13f79535-47bb-0310-9956-ffa450edef68

commit 0fa4c83a4bf88683ced26a714172d92716687293
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 15 09:19:27 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47791
    Update h2 download location
    Patch provided by Phil Steitz
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@815226 13f79535-47bb-0310-9956-ffa450edef68

commit 60ec13fea79f124ec1e2ac09ace8f323715f1f63
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Sep 14 21:47:04 2009 +0000

    Don't flush each time if we use a buffered output stream. It flushes for you
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@814876 13f79535-47bb-0310-9956-ffa450edef68

commit d309e993151bd0ed97d6f59175b64c1b3bf63a6f
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Sep 14 20:48:12 2009 +0000

    check for return from the queue
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@814841 13f79535-47bb-0310-9956-ffa450edef68

commit f77e612c93bde34adac35650fc3efa3f2acaa18a
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Sep 14 20:06:03 2009 +0000

    Refactoring of async logging handler. Much cleaner code achieves the exact same functionality.
    The fact that the queue is bounded means that we never have to worry about the size
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@814823 13f79535-47bb-0310-9956-ffa450edef68

commit c83d61f658978bc33f38c5f580c26d76b1349ce4
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Sep 14 18:53:27 2009 +0000

    Add in behavior and properties around async logging.
    Thinking about it, I think the exact same functionality can be achieved in a much simpler manner by just using a blocking queue.
    Will attempt that refactor next
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@814775 13f79535-47bb-0310-9956-ffa450edef68

commit cc66241ad80b81b6b2a1b25fe0b6c6075e78af92
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Sep 14 15:43:41 2009 +0000

    Allow buffer size to be configurable instead of accepting the default
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@814708 13f79535-47bb-0310-9956-ffa450edef68

commit 910a29a92261163bd7165b1378487dced79065ba
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 14 12:39:45 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47834
    As well as the JAR as directory feature requested, this adds looking at all files to see if they are JARs rather than using the presence of a .jar extension. These features are optional for the Servlet spec but required for RFC66 in an OSGI environment.
    Both options are configurable with system properties and default to off.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@814617 13f79535-47bb-0310-9956-ffa450edef68

commit fd066b542a734ebe8e61344864c5df6e9809b072
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Sep 13 18:27:37 2009 +0000

    Unlikely, but handle it in case.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@814377 13f79535-47bb-0310-9956-ffa450edef68

commit cbaa9b969b11a953575b8fd508ab92ea255484eb
Author: Ian Darwin <idarwin@apache.org>
Date:   Sun Sep 13 00:41:02 2009 +0000

    Another typo, spotted by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@814257 13f79535-47bb-0310-9956-ffa450edef68

commit 735219cbef761e7c5bb745be85fc86b81d6c9674
Author: Ian Darwin <idarwin@apache.org>
Date:   Sat Sep 12 16:58:08 2009 +0000

    Trivial typo correction
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@814198 13f79535-47bb-0310-9956-ffa450edef68

commit d484bb40cf79d0226d0205f6f7bc6fa31e8316ad
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 12 16:43:45 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47425
    Document the crlFile attribute
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@814191 13f79535-47bb-0310-9956-ffa450edef68

commit 720de5e724f58fa66d553590cae05906f05ea130
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 12 16:13:14 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47826
    Broken debug message
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@814180 13f79535-47bb-0310-9956-ffa450edef68

commit cd2b18ac19c85e13e71cc4ee40bdeb224d56c030
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 12 16:10:43 2009 +0000

    Clean up unused imports and variables
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@814179 13f79535-47bb-0310-9956-ffa450edef68

commit 50912d32a04ede972e5d0401a2aebb16ecb4e5d9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 12 16:08:03 2009 +0000

    Trivial - fix an Eclipse warning
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@814178 13f79535-47bb-0310-9956-ffa450edef68

commit 909a40b63b13bf2fb0e626740428828ac9a01986
Author: Rainer Jung <rjung@apache.org>
Date:   Fri Sep 11 20:51:00 2009 +0000

    Switch to volatile for status flag used by multiple
    threads during cluster context startup.
    
    Without volatile problems have been observed, where the
    change by one thread was actually not seen by the other
    thread.
    
    Performance implications are neglectable, because the
    variable is only used during context startup.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@814024 13f79535-47bb-0310-9956-ffa450edef68

commit 3eb9e1d6c7ebaa0717b1fea566aedc25d80786ca
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 11 18:07:10 2009 +0000

    Put deps in right place - hopefully keep gump happy
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@813964 13f79535-47bb-0310-9956-ffa450edef68

commit 406213e6a3c90adc82f7d8c0236bdb6dd6c51764
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 11 17:49:48 2009 +0000

    Create a single embedded logging jar for log4j that just replaces the juli logging jar
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@813952 13f79535-47bb-0310-9956-ffa450edef68

commit a3892af7690562575571930aa5055ed47e94d126
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 11 17:36:35 2009 +0000

    Clearer naming for embedded jars
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@813942 13f79535-47bb-0310-9956-ffa450edef68

commit 59914ff958895e929cbde45fca054c6b6c9fd55f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 11 17:33:07 2009 +0000

    Since individual jars are made available for download, really should have LICENSE and NOTICE embedded in the JAR files.
    This patch enables per-jar NOTICE, LICENSE and manifest files with most using the defaults.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@813936 13f79535-47bb-0310-9956-ffa450edef68

commit 12ac5cd59ef629b8381cd855aa2e9e27d0c4df0e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 11 16:12:47 2009 +0000

    Add the Servlet 3.0 xsd's
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@813905 13f79535-47bb-0310-9956-ffa450edef68

commit e3408dd02f00b5888aa428bfd77c58b3036e1be9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 11 14:55:09 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47824
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@813866 13f79535-47bb-0310-9956-ffa450edef68

commit c1592f9be90527287b970e8f5faa280b92f3caf6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 11 13:25:12 2009 +0000

    Checked first 2 chapters
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@813823 13f79535-47bb-0310-9956-ffa450edef68

commit d66cee0dec938d92e434c23a2237406c09ff7d51
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 11 12:50:44 2009 +0000

    No functional change. Add new classes that will be used to store the results of parsing web.xml and web-fragment.xml files. The merging and ordering rules can't be handled in the digester so we now have to parse to a temporary store and then merge.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@813815 13f79535-47bb-0310-9956-ffa450edef68

commit 7706740e965642792818536294a9348bdce52ade
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 11 10:48:32 2009 +0000

    Remove TODO. Spec now includes ayncSupported in web.xml
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@813772 13f79535-47bb-0310-9956-ffa450edef68

commit e423fc3c773d4a4ffe100cfbea82d50c9dbca903
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 11 10:47:11 2009 +0000

    Fix some niggles with icons in web.xml processing. Nothing that will cause a problem, just errors spotted whilst preparing for Servlet 3.0 fragment proceessing
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@813771 13f79535-47bb-0310-9956-ffa450edef68

commit 6df58629bdb45a4112fe7f5c819cf6d6482e121e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 9 16:01:21 2009 +0000

    Fix additional issue related to https://issues.apache.org/bugzilla/show_bug.cgi?id=45785
    Exclude directories named *.jar for the extension validator
    Also simplify isDirectory() check as that includes exists()
    Based on a patch by Rolf Wojtech
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@813013 13f79535-47bb-0310-9956-ffa450edef68

commit 72e5f5cc403fe82576cdf86a4ef860f7fc19e468
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 9 15:39:31 2009 +0000

    Add additional permission required by JULI.
    Looks like the j.u.l.LogManager impl changed
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@813001 13f79535-47bb-0310-9956-ffa450edef68

commit 759a2b21cd19c0a9b153f96f80706413c5e43358
Author: Peter Rossbach <pero@apache.org>
Date:   Wed Sep 9 08:29:33 2009 +0000

    Fix getter access of boolean attributes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@812819 13f79535-47bb-0310-9956-ffa450edef68

commit bd083a2f668416c4c9f6ca9b4ea09a0f80530a3b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 9 08:12:13 2009 +0000

    Fix typo reported on users list
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@812812 13f79535-47bb-0310-9956-ffa450edef68

commit 6f71be5c4165d4c79ca8af5e531dc44d9689e95c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 8 10:24:29 2009 +0000

    Make the JDBC leak prevention play nicely with a security manager
    Don't use a fixed size buffer to load the class.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@812432 13f79535-47bb-0310-9956-ffa450edef68

commit 023d8fa32f321577febd3aebd1d6086a57d1296e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 7 22:16:16 2009 +0000

    Remove reference to deleted class
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@812295 13f79535-47bb-0310-9956-ffa450edef68

commit a46bacbb5bade7d372b79f1369779cbb5c1aa82b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 7 15:54:08 2009 +0000

    Add an method that enables JNDI and a test case to make sure it works
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@812210 13f79535-47bb-0310-9956-ffa450edef68

commit 697a6df7a3cd20b1fcaa27211b98647da2bf4425
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 7 13:50:12 2009 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@812137 13f79535-47bb-0310-9956-ffa450edef68

commit b2c80591453b813e28105230e6c23148118afa54
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 7 13:24:50 2009 +0000

    Fix spelling and other minor niggles
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@812125 13f79535-47bb-0310-9956-ffa450edef68

commit 1b46e37b92705159ddc22fd8a28ee1d2b7499072
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 7 13:01:59 2009 +0000

    Remove attribute duplication - pages were often out of sync
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@812119 13f79535-47bb-0310-9956-ffa450edef68

commit 081d5e1a080808efbc6a576dd668df0d1bc91f08
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 7 13:01:34 2009 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@812118 13f79535-47bb-0310-9956-ffa450edef68

commit e8039895bf7861ddcc210690ec18d68d30b74ced
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 7 12:39:42 2009 +0000

    Add a couple of TODOs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@812114 13f79535-47bb-0310-9956-ffa450edef68

commit 32f170f53416520340a59afe76da3fd93035dcb1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 7 12:26:19 2009 +0000

    Add a TODO
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@812107 13f79535-47bb-0310-9956-ffa450edef68

commit 8b19684dceee363d778c5bdb68a3c171b274eace
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 3 14:48:36 2009 +0000

    Add a note about the classpath changes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@810977 13f79535-47bb-0310-9956-ffa450edef68

commit a1792b080a7bff04858335cb45465b0ddb140f4b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 3 14:48:03 2009 +0000

    Allow per instance selection of log4j or JULI logging.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@810976 13f79535-47bb-0310-9956-ffa450edef68

commit 56546e70d41c00156cce57e5c2becd77547b1bb4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 3 14:14:32 2009 +0000

    Remove version number reference so I can just copy this to 6 as it is updated
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@810959 13f79535-47bb-0310-9956-ffa450edef68

commit e7f7f23e56038b6d33e0d60a1edea738008abf40
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 3 14:12:28 2009 +0000

    More logging docs improvements:
    - remove some whitespace
    - reduce width slightly
    - add note about preventing zero length j.u.l files when using log4j
    - logs dir is relative to catalina.base, not catalina.home
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@810958 13f79535-47bb-0310-9956-ffa450edef68

commit 40b48ab7fbe277d2617d6b4dc6df70e135cd962f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 3 13:20:49 2009 +0000

    An attempt to improve the logging doc:
    - discuss java.util.logging first as it is the default
    - remove duplicate output from log4j config
    - stick to 80 char width where possible
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@810930 13f79535-47bb-0310-9956-ffa450edef68

commit cd2d82b9d40d6641fd4ed19a0465ef66bb6484c3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 3 12:40:20 2009 +0000

    Allow per instance log4j.properties, jar files (eg JDBC drivers) etc
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@810916 13f79535-47bb-0310-9956-ffa450edef68

commit f562b22531cde0f818d146f3796f981071be9c38
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 2 17:00:39 2009 +0000

    Make the PID improvements Solaris friendly.
    Add some more error checking to the stop command
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@810611 13f79535-47bb-0310-9956-ffa450edef68

commit 6ab874a428a40aa5010c8243b0614fbd1e2da377
Author: Timothy A. Funk <funkman@apache.org>
Date:   Mon Aug 31 14:17:37 2009 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=47705
    
    ArithmeticException: / by zero when expiring sessions via manager
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@809603 13f79535-47bb-0310-9956-ffa450edef68

commit fe53ca9bdefcbe427710f7dc615ec82f4693fe9e
Author: Timothy A. Funk <funkman@apache.org>
Date:   Mon Aug 31 13:59:00 2009 +0000

    Allow welcome files without a physical backing.
    Inspired by this bug https://issues.apache.org/bugzilla/show_bug.cgi?id=47378
    
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@809596 13f79535-47bb-0310-9956-ffa450edef68

commit 5b3a3a6ab041c4268c902b5391aec09d103f1258
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Aug 29 13:24:18 2009 +0000

    Fix regression in previous fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=38797
    Update list of introduced variables before the tag body is processed in case they are used in the tag body.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@809131 13f79535-47bb-0310-9956-ffa450edef68

commit fc9ee78382b124540b7a607100ffa45b4839a87e
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Aug 24 19:58:23 2009 +0000

    Add in option to resize thread pool
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@807358 13f79535-47bb-0310-9956-ffa450edef68

commit a9ddfecf6b580242dd374ce521a9079f2bb88dbc
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Aug 24 18:06:06 2009 +0000

    Abstract out most commonly used properties
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@807324 13f79535-47bb-0310-9956-ffa450edef68

commit 61a2e35b83afbeb96c091728540b9ee06243171d
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Aug 24 15:33:48 2009 +0000

    First round of refactoring connectors.
    Remove the worker based thread pools
    Enable local or injected executors
    Add in a resizable executors interface to be used in future revisions
    start abstracting out and using a base class. There was one, deleted, since its not used anywhere
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@807284 13f79535-47bb-0310-9956-ffa450edef68

commit 5e72e59d413c650373e10020a1c4b038b8dfbabc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 24 08:22:21 2009 +0000

    Extract the SimpleHttpClient in to a separate class and move it to a more logical package since it will be reused.
    Don't override method unnecessarily.
    Add test case for bug 46243
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@807113 13f79535-47bb-0310-9956-ffa450edef68

commit aa98cc85a755859a697d6eb4d7ea8ef23227a5de
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 24 08:20:12 2009 +0000

    Add a simple Hello World Servlet that can be used for testing.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@807112 13f79535-47bb-0310-9956-ffa450edef68

commit 87cfe2481653bb24b906adc8dc3f01f8fe969620
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Aug 19 10:08:26 2009 +0000

    Add the Servlet 3.0 schemas
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@805724 13f79535-47bb-0310-9956-ffa450edef68

commit b600f6e3f1512565f5b6c82746ca037f26a4fbe1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Aug 19 10:07:56 2009 +0000

    Add CDDL election notice to imported Servlet 3.0 XSDs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@805722 13f79535-47bb-0310-9956-ffa450edef68

commit a08bf988fd720b0702c86c3826b1e30cf6b541ae
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Aug 19 10:05:02 2009 +0000

    Add another Servlet 3.0 XSD.
    This are the originals copied from the Glassfish repository. I'll add the election to use only the CDDL in the next commit.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@805721 13f79535-47bb-0310-9956-ffa450edef68

commit 8b071ff4db95b011c14383f2e80f96bb219d70bc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Aug 19 10:04:18 2009 +0000

    Add the Servlet 3.0 XSDs.
    This are the originals copied from the Glassfish repository. I'll add the election to use only the CDDL in the next commit.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@805720 13f79535-47bb-0310-9956-ffa450edef68

commit 51240972a575cf7f24bd7f476ee5c34e4c615ce8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 18 11:49:26 2009 +0000

    Replace the RequestDumperValve with a RequestDumperFilter. Merge the RequestDumperFilter from the examples with this new filter.
    Adds:
    - thread name to start of output line to make analysing output easier
    - request timings
    GSOC 2009
    Based on a patch by Xie Xiaodong
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@805375 13f79535-47bb-0310-9956-ffa450edef68

commit f95ba1cdffa53fcac66a55255bd53b8e9fc95fa2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 18 11:29:05 2009 +0000

    Add a new logging formatter that just echos out the log message. Useful for the request dumper, access logs etc.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@805368 13f79535-47bb-0310-9956-ffa450edef68

commit ff18a9faeac00e51bdd3a800d620daf3dcc44f7c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 18 08:33:47 2009 +0000

    List filters alphabetically
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@805322 13f79535-47bb-0310-9956-ffa450edef68

commit d8a8bc4264b1c301a453d838f5c693c41a661716
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 18 08:29:25 2009 +0000

    Clean-up / simplification.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@805321 13f79535-47bb-0310-9956-ffa450edef68

commit 6534cf381977be0a6c46f8aa0bc9d1d369587d43
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 17 22:20:29 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=44041
    Remove previous sync that didn't fix the issue
    Make loadClass synchronized like java.lang.ClassLoader
    I was concerned about possible performance implications but I saw no detectable change in start-up time with this change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@805182 13f79535-47bb-0310-9956-ffa450edef68

commit 3326be061383ab84ee89913b1eca132e128e642a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 17 21:40:41 2009 +0000

    Fix NPE if something tries to access resources accessed during a stop.
    This was seen when unpackWARs="false" and the JDBC clean up code tried to load the leak prevention class during a context stop.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@805153 13f79535-47bb-0310-9956-ffa450edef68

commit f1a62e32f65132c2656570d6542912fef2ff3f28
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 17 13:43:20 2009 +0000

    Don't sleep if there is nothing to sleep for. Update the usage text.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@804982 13f79535-47bb-0310-9956-ffa450edef68

commit 8f246ce253f5b96002b274bfa76c77e7ae12fe36
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 17 13:01:31 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47699
    Better handling of PID files
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@804963 13f79535-47bb-0310-9956-ffa450edef68

commit 45c64b6cfb1f4b3ef12d978dd5bfca90b23121f4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 16 18:05:41 2009 +0000

    Restore fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=42390
    I have done some more testing with tag files, simple tags and tags and can't find any regressions. The TCK also passes.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@804734 13f79535-47bb-0310-9956-ffa450edef68

commit 5f4074aca79ef0ef57df76aa6ddbabf82bd93cd2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 16 17:28:50 2009 +0000

    Fix some typos
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@804725 13f79535-47bb-0310-9956-ffa450edef68

commit a1838b56fc806b2f7d56d69f93e5e356397231e1
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Aug 16 02:17:52 2009 +0000

    The problem at sourceforge was solved.
    Revert to the original configuration, but leave a comment there.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@804549 13f79535-47bb-0310-9956-ffa450edef68

commit 6eaf2fe66375fe5466b40cd88a2a802eaa6e6f87
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Aug 16 01:55:25 2009 +0000

    Return 'false' if nested copyDir call failed.
    It is part of the patch for issue 45403 that was applied in rev.804462
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@804544 13f79535-47bb-0310-9956-ffa450edef68

commit 7b1f95fde171f24561b9f85966508ad33360ebdb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Aug 15 17:40:40 2009 +0000

    Replace syncs with threadlocals.
    Improve the logic that determines when to generate a new format string
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@804495 13f79535-47bb-0310-9956-ffa450edef68

commit a1711fa3f702d11dfc4d5dfed429c3a1c5007984
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Aug 15 12:07:42 2009 +0000

    Apply Konstantin's new patch for https://issues.apache.org/bugzilla/show_bug.cgi?id=45403
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@804462 13f79535-47bb-0310-9956-ffa450edef68

commit 5c512f9f9c1faf74fd48db3882a7bc08c8a56480
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Aug 15 12:06:24 2009 +0000

    Revert r701358 for https://issues.apache.org/bugzilla/show_bug.cgi?id=45403
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@804461 13f79535-47bb-0310-9956-ffa450edef68

commit 7b95f4abd6723c77dde6b6bf7eac1e6a6c891252
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Aug 13 23:10:40 2009 +0000

    Deserialize with the webapp classloader as the context classloader
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@804057 13f79535-47bb-0310-9956-ffa450edef68

commit 0196153952a89d586cc81e5b98641e58178b2592
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Aug 12 14:14:47 2009 +0000

    Removed unused method ID'd by the unused code detector
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@803527 13f79535-47bb-0310-9956-ffa450edef68

commit 59a683f6f3ef0d24f5ab844d3a538b7920c8bd5f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 10 22:01:57 2009 +0000

    Make error message more meaningful
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@802940 13f79535-47bb-0310-9956-ffa450edef68

commit e6c17c7b2df497a3ea3960642a562f0e095b2d91
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 10 18:23:17 2009 +0000

    Add filtering of Comet events to the request filters
    Based on a patch provided by Xie Xiaodong as part of GSOC2009.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@802882 13f79535-47bb-0310-9956-ffa450edef68

commit 115b751d37297c966a9c62bd7e2212039425c5fd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 10 12:57:09 2009 +0000

    Improve the JMX remote docs before proposing a backport
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@802774 13f79535-47bb-0310-9956-ffa450edef68

commit 6b6381366eabda14bc9507a200cbfdd2985807eb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 10 10:34:57 2009 +0000

    This todo was fixed
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@802729 13f79535-47bb-0310-9956-ffa450edef68

commit 584dfb2a40a6c25961d2b4070206ed9985197376
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 10 10:28:16 2009 +0000

    Expose filters via JMX. Filter config is now available via JMX in read-only form.
    Based on a patch provided by Xie Xiaodong as part of GSOC2009.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@802727 13f79535-47bb-0310-9956-ffa450edef68

commit fa9437fb7ccc3c4a3b9d2c65f81282b4fefaef3f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 10 10:14:46 2009 +0000

    Typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@802719 13f79535-47bb-0310-9956-ffa450edef68

commit 8f83391604bfd0c55d1515dd169f890ca0ff8933
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 7 22:29:43 2009 +0000

    Remove another broken external. Not required. native sources are downloaded as part of the build process.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@802260 13f79535-47bb-0310-9956-ffa450edef68

commit ebec026dcf6c3640dc493077e539c3485c4488c4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 7 19:35:32 2009 +0000

    keep track of which bits of the spec have been checked
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@802157 13f79535-47bb-0310-9956-ffa450edef68

commit 42d0eefbfca2637c3c9b5b59628612bf58b44862
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 7 19:19:46 2009 +0000

    Couple more unused imports
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@802151 13f79535-47bb-0310-9956-ffa450edef68

commit 6eaf981cee7d936f57d08d9632cd48d0d0ff63a4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 7 19:18:21 2009 +0000

    Remove catalina import from spec classes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@802150 13f79535-47bb-0310-9956-ffa450edef68

commit 62b753a6f9fe49fbca32007cfa55488f9287c1e4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 7 19:17:36 2009 +0000

    Fix some Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@802147 13f79535-47bb-0310-9956-ffa450edef68

commit 75360af2b8e7079d411594e48cd41e68f36d4798
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 7 19:15:54 2009 +0000

    Complete implementation of SessionCookieConfig
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@802146 13f79535-47bb-0310-9956-ffa450edef68

commit 8314a5cc24466d15a00770e785f1f75f4e29f23c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 7 18:54:18 2009 +0000

    Minor code clean-up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@802143 13f79535-47bb-0310-9956-ffa450edef68

commit 002b04c0e0aff193e38082a180e24c1aebca88e2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 7 16:10:27 2009 +0000

    Get SSL session tracking working again.
    If you use http you'll get new session ID on every request
    If you use https you get the SSL session ID
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@802064 13f79535-47bb-0310-9956-ffa450edef68

commit 199e3844df7d8efdc6c5e5f7f7b672851cdd0693
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Aug 7 14:58:41 2009 +0000

    minor refactoring, simplify initialization
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@802032 13f79535-47bb-0310-9956-ffa450edef68

commit f005cffc4e9558e5db7d520d093ebe82fc4c9208
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Aug 7 14:49:19 2009 +0000

    Refactor location of AsyncContextImpl to o.a.catalina.core
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@802026 13f79535-47bb-0310-9956-ffa450edef68

commit 49061c7bbb8464f3da5ed137fc9f88f01b521128
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 7 12:35:06 2009 +0000

    Remove unnecessary tests and casts
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@801971 13f79535-47bb-0310-9956-ffa450edef68

commit fe1317f96cba2a592ee0ff0fba516c4b305ffc89
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 7 12:30:49 2009 +0000

    Removed unused imports and an unused local variable reported by Eclipse
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@801969 13f79535-47bb-0310-9956-ffa450edef68

commit 714e77f58f7c6f21a85b8372425177d47bd757a2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 7 12:24:54 2009 +0000

    Fix some Eclipse warnings. Could remove the unused parameters but that would break the pattern of method signatures
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@801967 13f79535-47bb-0310-9956-ffa450edef68

commit d3e42dc489ebf8109d9084f3ceb03173cb5426d0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 7 10:49:54 2009 +0000

    Modify the embedded target so the extras package can be used if log4j logging is required.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@801944 13f79535-47bb-0310-9956-ffa450edef68

commit b91f0f7d0b0ab6f715aec139f75e2e353756cfcb
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Aug 6 22:59:25 2009 +0000

    Need to figure out how to set the context class loader here
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@801832 13f79535-47bb-0310-9956-ffa450edef68

commit f8d199415143ffd4c1c6f5dae1852d0737672d71
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Aug 6 22:44:35 2009 +0000

    clarify name
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@801827 13f79535-47bb-0310-9956-ffa450edef68

commit 47088f55790f8259fe429cdaa3ece271d0457940
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Aug 6 22:19:08 2009 +0000

    Add in handling of async supported for filters during regular invokation and a dispatch
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@801824 13f79535-47bb-0310-9956-ffa450edef68

commit 8008f3d25e02368349ab144f5425c7f9ac2fdfd6
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Aug 6 19:34:34 2009 +0000

    One more use case
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@801789 13f79535-47bb-0310-9956-ffa450edef68

commit b0e151abbe452e26c4e2b0c1fa3c6b7901f8c494
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Aug 6 16:25:04 2009 +0000

    If dispatch is called on a worker thread, simply execute it, instead of throwing exception. No need to hand off to container
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@801705 13f79535-47bb-0310-9956-ffa450edef68

commit 0114579f0e3afab36e37defcfd409ba272421f6a
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Aug 6 16:10:34 2009 +0000

    Another use case
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@801693 13f79535-47bb-0310-9956-ffa450edef68

commit 26fae1f5f32bf81470468c5a9ca17ad79df4c287
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Aug 6 13:08:31 2009 +0000

    TLD handling improvements
    - make non standard behaviour configurable
    - add a few more log messages
    - sync method names
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@801637 13f79535-47bb-0310-9956-ffa450edef68

commit 134a3c9fd3ef651a22da81907cb3fbbb7d844f33
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Aug 6 11:15:44 2009 +0000

    Minor tweaks that will make a later proposal (will follow when I have done some more testing) easier.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@801601 13f79535-47bb-0310-9956-ffa450edef68

commit c2c87465e2eab6305116f6cc9f81af0d3a4edb37
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Aug 6 02:55:17 2009 +0000

    remove non used import
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@801502 13f79535-47bb-0310-9956-ffa450edef68

commit ae70e992e206fcabb0f7cfb852834127f2a9f253
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Aug 6 00:16:18 2009 +0000

    Fix links
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@801476 13f79535-47bb-0310-9956-ffa450edef68

commit 12f76463de8037d810ec78690b8cc2e232aab978
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Aug 5 23:58:18 2009 +0000

    path adjustments
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@801472 13f79535-47bb-0310-9956-ffa450edef68

commit e09750b5404502e118c6f870843d5ff6ea00f749
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Aug 5 23:20:57 2009 +0000

    Start by working on use cases
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@801463 13f79535-47bb-0310-9956-ffa450edef68

commit cbb09bd4ce16bd9fbf29a6c580a6819d9d3a9cba
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Aug 5 21:16:47 2009 +0000

    more work on the complete
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@801414 13f79535-47bb-0310-9956-ffa450edef68

commit 3af851a3e2d88fc7e73e1f97de3d9945a5d0c535
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Aug 5 20:55:50 2009 +0000

    a little more on the timeout part
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@801409 13f79535-47bb-0310-9956-ffa450edef68

commit 4f5a5e453e0997419929a22efa32a6b5f078e302
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Aug 5 16:19:34 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47612
    patch provided by sebb
    Abstract classes, private-> protected for subclass access
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@801284 13f79535-47bb-0310-9956-ffa450edef68

commit f9caf3a40dd78b3026316a9f6c4a0a8d633499b8
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Aug 5 16:10:05 2009 +0000

    patch by sebb for
    https://issues.apache.org/bugzilla/show_bug.cgi?id=47577
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@801283 13f79535-47bb-0310-9956-ffa450edef68

commit 62ef2cf63f5e78f42e644069debee63178be9952
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Aug 5 16:05:39 2009 +0000

    apply patch from sebb for https://issues.apache.org/bugzilla/show_bug.cgi?id=47452
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@801281 13f79535-47bb-0310-9956-ffa450edef68

commit e30a5f037e85039c56f8cda1d692911d85bb343b
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Aug 5 15:42:55 2009 +0000

    Add in support for XA drivers and connections.
    Update version
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@801270 13f79535-47bb-0310-9956-ffa450edef68

commit f7580e9d6f869bec13cd39761b2fe2aaeafeb0a8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 4 22:54:25 2009 +0000

    Having fixed the typo, fix all the places it was referenced
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@801011 13f79535-47bb-0310-9956-ffa450edef68

commit 22584744647d16fb93dd9ba94c42f044e4639b3e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 4 22:49:46 2009 +0000

    Fix the typo Costin spotted
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@801009 13f79535-47bb-0310-9956-ffa450edef68

commit c0aac4bd29bb277c2cf256699f2bd152d33d2543
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 3 17:32:18 2009 +0000

    Correct JavaDocs.
    Patch by Xie Xiaodong (GSOC 2009)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@800471 13f79535-47bb-0310-9956-ffa450edef68

commit bb668aeeefd42de8b8ab1eb5884b9a77f6d98c8d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 3 12:30:25 2009 +0000

    Remove unused imports
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@800332 13f79535-47bb-0310-9956-ffa450edef68

commit 278dedcf9a5403895e80cd5572eb1c3508050cc7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 30 19:40:54 2009 +0000

    Fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=47583
    Fix timing related failures.
    Patch suggested by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@799427 13f79535-47bb-0310-9956-ffa450edef68

commit 5259331a1dac6d80143bb338642ce2b237147fb5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 30 19:21:04 2009 +0000

    Partial fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=47577
    A handful of generics fixes.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@799416 13f79535-47bb-0310-9956-ffa450edef68

commit 6ebdf182fb038ced84f387f665a97ac1663de2fe
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 30 19:10:02 2009 +0000

    Partial fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=47577
    Cosmetic fixes. Main benefit is noise reduction in Eclipse error list
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@799408 13f79535-47bb-0310-9956-ffa450edef68

commit 73caafb1773a6f4030ac1a060e518b0bddf726f6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 30 18:29:30 2009 +0000

    Partial fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=47577
    Imports / casts
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@799400 13f79535-47bb-0310-9956-ffa450edef68

commit 3dcc091b2a02591ad03e15b2bef30e13264531cd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 30 18:25:37 2009 +0000

    Partial fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=47577
    Remove unused imports.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@799399 13f79535-47bb-0310-9956-ffa450edef68

commit abbb9223bd2723d331fda3555f34cb94f55db4fd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 30 18:13:36 2009 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=47576
    Fix exception name in Javadoc
    Patch provided by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@799396 13f79535-47bb-0310-9956-ffa450edef68

commit a9e00d5e7dd309c0d5878d6d9e1cbc5ac0db222b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 30 18:10:35 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47569
    Use the new base class so tests clean up after themselves
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@799392 13f79535-47bb-0310-9956-ffa450edef68

commit 3b51fa9d207e43c91eb6c7973103a6be20b95030
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 30 18:09:12 2009 +0000

    Move the instance creation and clean-up to a base class so it can be re-used.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@799391 13f79535-47bb-0310-9956-ffa450edef68

commit 570805eb348e575f27d392708f09597a4feb63ab
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 30 17:54:20 2009 +0000

    Add missing test
    Re-arrange to try and make it easier to see what is what
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@799384 13f79535-47bb-0310-9956-ffa450edef68

commit f5ae65cf12617db7412de3ddddd1c642648719a1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 30 07:02:51 2009 +0000

    Fix warning
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@799189 13f79535-47bb-0310-9956-ffa450edef68

commit cfb18a0b375e2eeee1f1738bb26117e102064330
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 30 07:01:13 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47568
    Create the tmp dir where intended
    Remove it when we are done
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@799187 13f79535-47bb-0310-9956-ffa450edef68

commit 97c969be129d9729d1934971ae1af83e18dfbe2b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 30 06:35:54 2009 +0000

    Follow up to https://issues.apache.org/bugzilla/show_bug.cgi?id=47567
    Add descriptions to the extras build script
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@799182 13f79535-47bb-0310-9956-ffa450edef68

commit 2a483df89e7a149cb32c5e80356cbf6478cdefd7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 30 06:29:50 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47567
    Add some descriptions to the build file.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@799180 13f79535-47bb-0310-9956-ffa450edef68

commit fb0f0a2cc6e3e15db960ed1937ed171bd6f95713
Author: Rainer Jung <rjung@apache.org>
Date:   Sat Jul 25 18:34:46 2009 +0000

    Add thumbnail databases to svn ignore for
    all trunk (and related) folders containing images.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@797818 13f79535-47bb-0310-9956-ffa450edef68

commit 00511f1d89e9cea23b7939057f47e9976012ed86
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 24 23:08:32 2009 +0000

    Add missing files to distribution
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@797686 13f79535-47bb-0310-9956-ffa450edef68

commit 7910e29a7c383c207fc7ac3bf18161745077c7fb
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 24 19:15:31 2009 +0000

    up the version
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@797616 13f79535-47bb-0310-9956-ffa450edef68

commit 8542f7748a141b1106f1f7414dd4e0973a09ee2e
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 24 19:13:44 2009 +0000

    Remove a non occuring condition
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@797615 13f79535-47bb-0310-9956-ffa450edef68

commit 768af9fde4ad225395210c256e7fb9219d28a403
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 24 19:06:54 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=41824
    Need to use canonical rather than binary form when writing code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@797607 13f79535-47bb-0310-9956-ffa450edef68

commit fd288d91ef7a96d18c2147ad04ac927b95694a9f
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Jul 24 18:40:55 2009 +0000

    Temporarily use a mirror, while there is a problem with downloads.sourceforge.net
    https://sourceforge.net/apps/trac/sourceforge/ticket/2628
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@797600 13f79535-47bb-0310-9956-ffa450edef68

commit e10475287cd61c73c2d260be77d43a27047e4e71
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Jul 24 18:31:58 2009 +0000

    Update to NSIS 2.45
    https://issues.apache.org/bugzilla/show_bug.cgi?id=47566
    
    This version adds support for the upcoming release of Microsoft Windows 7
    Release notes: http://sourceforge.net/project/shownotes.php?release_id=688043
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@797596 13f79535-47bb-0310-9956-ffa450edef68

commit 44e390528e9a02fe94e8a771e05a21ff313fa677
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 24 15:25:17 2009 +0000

    update test cases
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@797529 13f79535-47bb-0310-9956-ffa450edef68

commit ad0e7f8c6aa8319d9fca76fe52b96d5c5e2c5977
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 24 15:24:52 2009 +0000

    Add in Linux special case for performance optimization around locking.
    Set default queue to be the fair one
    Remove unused code
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@797528 13f79535-47bb-0310-9956-ffa450edef68

commit 017fcc526f4c778a97a570b407a58279e66ada8c
Author: Rainer Jung <rjung@apache.org>
Date:   Fri Jul 24 12:14:05 2009 +0000

    Correct build.properties.default file name in
    more build files and explain more explicit how
    the customization files work.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@797425 13f79535-47bb-0310-9956-ffa450edef68

commit 50d0e6e67244b348cb280594e6428df3a32620cd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 23 17:48:56 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46907
    Debug logging should not cause the input stream to be swallowed
    There are better, less intrusive ways to read request bodies
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@797168 13f79535-47bb-0310-9956-ffa450edef68

commit f3d3920e8e82fc8a4a35ecf1dcd643292ac8f2eb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 23 17:39:51 2009 +0000

    Preparatory work for https://issues.apache.org/bugzilla/show_bug.cgi?id=40881
    As proposed on the dev list, remove the Realm from GenericPrincipal
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@797162 13f79535-47bb-0310-9956-ffa450edef68

commit f62c22f6d181ede712a9858f93068f07f7487717
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 23 17:17:11 2009 +0000

    Fix unused import
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@797152 13f79535-47bb-0310-9956-ffa450edef68

commit ee7e86e4b1e9c7a533ec91f17cdbb40c4b5718aa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 23 17:15:55 2009 +0000

    Correct the file name
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@797151 13f79535-47bb-0310-9956-ffa450edef68

commit 2ca7bbffdf271554ac8a92f96fff4a8872d60fa3
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Jul 23 13:15:41 2009 +0000

    Moved and renamed TestELParser class.
    Some more EL tests to be added later.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@797058 13f79535-47bb-0310-9956-ffa450edef68

commit 31cf3766e705f8337b963e3ed3e8805db344ecbd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 23 09:43:52 2009 +0000

    Add proxy caching configuration information to valves docs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@796987 13f79535-47bb-0310-9956-ffa450edef68

commit 38594cf62a4ed1fa417e4922b581fd83cfdfa236
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Jul 22 19:48:56 2009 +0000

    fix recursive loops
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@796858 13f79535-47bb-0310-9956-ffa450edef68

commit c657ff66151d43aca5c16cdb6e864080269e5fb1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 22 14:29:09 2009 +0000

    Restore the @Overrides. Eclipse on my Mac wasn't configured right. Sorry for the noise.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@796739 13f79535-47bb-0310-9956-ffa450edef68

commit e5840b57d18ed2320a76197ad253003fe7d4f6d6
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jul 21 23:05:47 2009 +0000

    Reorder the start sequence
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@796575 13f79535-47bb-0310-9956-ffa450edef68

commit bf1f85955ec02c2138c3531ac4b0e92b056f99fb
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jul 21 16:20:11 2009 +0000

    Document Linux performance/overhead of using multi lock mechanism
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@796362 13f79535-47bb-0310-9956-ffa450edef68

commit f2cb47f768e9fd2da23dd6f25135474a74f72239
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jul 21 16:19:34 2009 +0000

    Allow to run perf test as a one off
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@796361 13f79535-47bb-0310-9956-ffa450edef68

commit 79d04b5e4eddb558a44c000cf97aaa9e210fc798
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jul 21 13:13:10 2009 +0000

    remove not used classpath entries in the default setting
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@796285 13f79535-47bb-0310-9956-ffa450edef68

commit 7fb0e184ff6772bff6ba04819eb8362def32075f
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jul 21 13:11:04 2009 +0000

    We can call dispatch after we dispatched.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@796284 13f79535-47bb-0310-9956-ffa450edef68

commit cfd047362b6faa23ca3a882859fd90e938cde36b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 21 06:48:03 2009 +0000

    More @Override complaints on Mac
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@796164 13f79535-47bb-0310-9956-ffa450edef68

commit 9919625e3a45bc4fdf4a9b2fc476077cea5e2751
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 21 06:45:24 2009 +0000

    Mac compiler doesn't like @Override on methods implementing an interface.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@796162 13f79535-47bb-0310-9956-ffa450edef68

commit 9dc93f5801a9bb73c527306fe109f568f6c0a9e8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 21 06:24:58 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47518
    Fix reference to old method in Valve Javadoc
    Patch by Christopher Schultz
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@796155 13f79535-47bb-0310-9956-ffa450edef68

commit 17a9c3c08cbe895147d19a956e9073d7bc788f3f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 20 21:37:30 2009 +0000

    Sync up the Catalina and Jasper TLD scanning code prior to adding some optional extensions for the embedded use case.
    A couple of options from the Jasper side have been removed as they were only ever used with one value.
    The JSP 2.1 TCK passes with these changes.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@796030 13f79535-47bb-0310-9956-ffa450edef68

commit 77ce90370b62e0974dd1d4435a20e32cc5642ad8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 20 21:24:45 2009 +0000

    Why do I always spot comment typos 2s after I commit a change?
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@796017 13f79535-47bb-0310-9956-ffa450edef68

commit f6ff9263da4f70b8fdd3c97280f306514c381b18
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 20 21:22:33 2009 +0000

    Make sure the duplicateUri flag is reset each time a TLD file is parsed. This was causing seemly random TCK failures depending on the order the tests were run in.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@796016 13f79535-47bb-0310-9956-ffa450edef68

commit dc0f153ab615cc5845b3ad4df79701b39c747ba9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 20 16:28:27 2009 +0000

    Revert the TldConfig part of r795860. It appears to have introduced intermittent TCK failures.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@795902 13f79535-47bb-0310-9956-ffa450edef68

commit 4ff41c7ab221174bd58c8af3d71d0d0a473b5dd7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 20 14:39:17 2009 +0000

    Sync the TLD file scanning code for WEB-INF between Catalina and Jasper
    - Based on the Jasper algorithm
    - Uses additional checks from Catalina (Jasper now ignores TLD files in WEB-INF/lib and WEB-INF classes)
    - Adds comments noting the need to keep the two implementations in sync
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@795860 13f79535-47bb-0310-9956-ffa450edef68

commit 760d53864b1fa76d9095e8006b24ba9539cfe536
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 20 13:43:45 2009 +0000

    resourcePath doesn't end in / so need to use exact match to ensure on WEB-INF/lib gets excluded and not WEB-INF/libxtz
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@795838 13f79535-47bb-0310-9956-ffa450edef68

commit a3a44be2b6f8c45f79f6b18067a56239721e337d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 20 13:20:07 2009 +0000

    Add a note about keeping processing order in sync.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@795824 13f79535-47bb-0310-9956-ffa450edef68

commit 3f272a4ee3853733cead11bfb030ce47c9843c19
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 20 13:17:37 2009 +0000

    Align the processing order. Need to scan WEB-INF before we scan all the JARs in the class loader hierarchy
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@795822 13f79535-47bb-0310-9956-ffa450edef68

commit c7b316b2b75edff8b7698fcf524e8bb4ce9a3d56
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 20 13:15:51 2009 +0000

    Better method name
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@795819 13f79535-47bb-0310-9956-ffa450edef68

commit 7711ba912d2c329a5488e16afb5e760bcfc85473
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 20 11:08:24 2009 +0000

    If TLDs are defined in web.xml, duplicates are expected so only log at debug
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@795767 13f79535-47bb-0310-9956-ffa450edef68

commit 3bfd333bfc75c302964388219ab83cdbe766c134
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 20 11:00:50 2009 +0000

    Align tag library URIs in web.xml, TLDs and JSPs.
    Note that the inconsistencies didn't break anything as the TLD scanning found all the various URIs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@795764 13f79535-47bb-0310-9956-ffa450edef68

commit 48e0f35474f295de755a6abe53cc58bcca42a91b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 20 10:56:09 2009 +0000

    Tab police
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@795760 13f79535-47bb-0310-9956-ffa450edef68

commit baec8ef6b1886875e04e10e195327620bd72ade1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 20 10:15:34 2009 +0000

    Use an import
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@795739 13f79535-47bb-0310-9956-ffa450edef68

commit 1e7d9845b50318b53db4df1a9f1ef3260bbb189f
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jul 20 01:45:18 2009 +0000

    During a release, arguments are null
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@795678 13f79535-47bb-0310-9956-ffa450edef68

commit cc718c2033e1149c5a698d6972e4012e01955798
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jul 20 01:41:25 2009 +0000

    Add missing interface. Invalidates the 1.0.6 tag
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@795676 13f79535-47bb-0310-9956-ffa450edef68

commit ef98989ebef78ac5a5de3988dd97464a80ac4ad9
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jul 20 01:20:02 2009 +0000

    start implementing concurrency around the state machine
    startAsync and complete() are to be thread safe operations
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@795669 13f79535-47bb-0310-9956-ffa450edef68

commit b7853dfc6d97ea23dec1ba0ec60cdf2cbdcd68b3
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Jul 19 02:52:32 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47413
    First part of a composite expression "${a}${b}" was not coerced to String
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@795466 13f79535-47bb-0310-9956-ffa450edef68

commit 9c764b8a2b9806e102cc9059e95a767ec9ccd5f5
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Jul 19 01:12:50 2009 +0000

    Rewrote (reworded) the Javadoc comment for JvmRouteBinderValve class.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@795457 13f79535-47bb-0310-9956-ffa450edef68

commit f92252e52eb947ef671628da50aea07f048fc9d1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 18 11:53:41 2009 +0000

    Fixed https://issues.apache.org/bugzilla/show_bug.cgi?id=41564
    Updated Tomcat6 to Tomcat 7
    I couldn't see anything obviously obsolete so I removed the warning.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@795348 13f79535-47bb-0310-9956-ffa450edef68

commit f636192a706df459094826e9054dba0ac0ecc850
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 17 22:47:13 2009 +0000

    implement AsyncContext.dispatch and AsyncContext.start methods
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@795261 13f79535-47bb-0310-9956-ffa450edef68

commit 27e9802b664669c7a0f37b6d075e1c8a3e12453f
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 17 22:37:54 2009 +0000

    the dispatcher type should be ASYNC when we are doing a dispatch
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@795256 13f79535-47bb-0310-9956-ffa450edef68

commit d94be0ddf0f4d826a11827ef5f5181f645f973fb
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 17 21:54:34 2009 +0000

    Add notes
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@795241 13f79535-47bb-0310-9956-ffa450edef68

commit 133fd16ac360cf5b8bb1ae710e69c8b514c8b87f
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 17 21:32:00 2009 +0000

    Async patches phase 1 - Async means the container thread can back out. This means that valves need to be async aware. For example, access log valve, can no longer log upon exit of the method since the thread can back out based on async behavior.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@795231 13f79535-47bb-0310-9956-ffa450edef68

commit 9366a76f0a706a226abaca8ad15f889099416671
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 17 21:14:13 2009 +0000

    very simple async example
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@795229 13f79535-47bb-0310-9956-ffa450edef68

commit 4425c6234327d6642e6291853bc11398b3c9b7e7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 17 20:12:49 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=41661
    Thread safety issue with JspConfig.init(). There is one JspConfig object per context and as per 41661, issues have been seen with this on real systems.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@795210 13f79535-47bb-0310-9956-ffa450edef68

commit a9f02395cb1b863d647c068fd2ba640e023abec7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 17 17:19:59 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=41059
    Reduce one possible source of errors if using ENABLE_CLEAR_REFERENCES=true
    Patch by Curt Arnold
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@795152 13f79535-47bb-0310-9956-ffa450edef68

commit 372e7c83deb32a4a9f1419172fd9b2183291df17
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 17 16:57:30 2009 +0000

    Part 1 of a series of commits to align the Catalina and Jasper TLD scanning code and to provide additional features when embedding. This first commit modifies the Catalina code to:
    - better match the spec
    - improve logging
    The JSP TCK passes with this patch applied
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@795143 13f79535-47bb-0310-9956-ffa450edef68

commit 1d1c8f91170bb0165847444a9d853d4b97743996
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 17 11:21:32 2009 +0000

    Make info message less harsh
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@795043 13f79535-47bb-0310-9956-ffa450edef68

commit f0d447dc7e3b2ea27ddd777ca8c3467c75f0b102
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 16 20:07:19 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=40551
    Enable the JvmRouteBinderValve to work with PersistentManagers as well as clusters
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@794822 13f79535-47bb-0310-9956-ffa450edef68

commit d1c96e223d5b328cdbdc25a085a8c1b08a6cb6b6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 16 19:36:03 2009 +0000

    Add the docs I forgot in the previous GSOC commit
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@794800 13f79535-47bb-0310-9956-ffa450edef68

commit bc5dda7a5adc1f8800d619e5134bb30b0ce40bc6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 16 19:34:49 2009 +0000

    More GSOC work from Xie Xiadong
    Initial implementation of RemoteHost and RemoteAddr filters.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@794798 13f79535-47bb-0310-9956-ffa450edef68

commit cc3afb2c7db1d18c0328dcb4b12cdc6127397ee5
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jul 16 17:44:46 2009 +0000

    Refactor the dispatcher types from int and Integer to the one supplied by the Servlet specification.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@794766 13f79535-47bb-0310-9956-ffa450edef68

commit dacb4a1fc57d2d895e6404bc96103227b85a0b48
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 16 16:16:40 2009 +0000

    Make clear this isn't the complete list if tag libraries for the app.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@794732 13f79535-47bb-0310-9956-ffa450edef68

commit 83e98da0d945228d0164fd4aa69f37bfd6cd7afd
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jul 16 14:12:16 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47515
    Patch submitted by Ryuichi Yoshihara
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@794684 13f79535-47bb-0310-9956-ffa450edef68

commit 2ef87bc411ac1cfd4334c63153448c0e6f1c5c45
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 16 13:52:24 2009 +0000

    Constants should be just that.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@794673 13f79535-47bb-0310-9956-ffa450edef68

commit 50618a633a910cecac9f5c4b51c7091ca72cce3f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 16 13:06:38 2009 +0000

    Remove commons logging reference - this copy of the digester doesn't use it.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@794663 13f79535-47bb-0310-9956-ffa450edef68

commit 59bb134eb697044976e8585f1aa1d2f76ff8739d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 15 07:15:10 2009 +0000

    Remainder of fix in trunk for 47444
    Update references to Jakarta in Javadoc and JspC
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@794161 13f79535-47bb-0310-9956-ffa450edef68

commit 4f7fb205fc89c2537c35103115e083f4be8b5227
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 15 07:03:17 2009 +0000

    Remove Jakarta references from the docs.
    Update those sections of the docs as necessary.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@794160 13f79535-47bb-0310-9956-ffa450edef68

commit 05e5403562596e52c18132fba5c710810eb1eecb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 15 07:02:37 2009 +0000

    Tab police
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@794159 13f79535-47bb-0310-9956-ffa450edef68

commit 268f59331e6c4947c86ca52681ac40d649057bf8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 15 06:55:25 2009 +0000

    Remove commented out reference to the balancer web-app. This is not included in trunk.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@794157 13f79535-47bb-0310-9956-ffa450edef68

commit 0cc8b34686d70ffeb066fc61a9e2476a4c1be67a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 15 06:53:20 2009 +0000

    Partial fix for bug 47444.
    Update taglib URIs in examples, removing Jakarta references
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@794156 13f79535-47bb-0310-9956-ffa450edef68

commit 0c4a61eadb2c372ceb9efa3ccdcb4b127976f9eb
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Jul 15 00:33:14 2009 +0000

    Start working on async, fairly similar to comet but much more convulated.
    I'm gonna do checkins in fairly small chunks so folks can tag along and help out. Instead of doing one giant checkin
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@794122 13f79535-47bb-0310-9956-ffa450edef68

commit d0b65b2c3845587d5f36ef1bcbb36555ae108e98
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 14 21:52:14 2009 +0000

    JNDI lookup errors often only include part of the name being looked up.
    Provide debug logging that includes the complete name and how it was requested.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@794082 13f79535-47bb-0310-9956-ffa450edef68

commit 5dcee964f5b83e7b27fde3a7b064d32144192cca
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jul 14 17:49:03 2009 +0000

    Add experimental new queue, runs faster but is not yet complete and needs some work around concurrency, iterators and remove operations
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793991 13f79535-47bb-0310-9956-ffa450edef68

commit 6f3e56e04fa8ed62750ed4dc361460c3d6b04675
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 14 17:22:47 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=40380
    Correct synchronisation of expire()
    Should now only run one per session
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793981 13f79535-47bb-0310-9956-ffa450edef68

commit 17a352b572f21ae08e44df32a497fea3ad16b8b2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 14 17:18:21 2009 +0000

    Implements, doesn't override
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793979 13f79535-47bb-0310-9956-ffa450edef68

commit 309e9b4d77d4fc39269f11cc17b594fc60a25e46
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 14 15:38:07 2009 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793945 13f79535-47bb-0310-9956-ffa450edef68

commit 4b5cd50b88eb9f2848894464632ca850bbb002b5
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jul 14 15:22:05 2009 +0000

    More doco
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793937 13f79535-47bb-0310-9956-ffa450edef68

commit 5df75af6c87afb240ba3c20ea3a60cfc8c196276
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jul 14 14:53:20 2009 +0000

    more javadoc
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793919 13f79535-47bb-0310-9956-ffa450edef68

commit aa8a2d33e80ddb47e663a4fc56499a20dbe27164
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jul 14 14:46:34 2009 +0000

    Patch by arielandres@hotmail.com
    Fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=47524
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793913 13f79535-47bb-0310-9956-ffa450edef68

commit 6f57010c6ce5434701f6721832b21ee3fc7a65f5
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Jul 14 12:23:43 2009 +0000

    Allow encoding to be specified for JULI FileHandler, and its subclasses (AsyncFileHandler).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793882 13f79535-47bb-0310-9956-ffa450edef68

commit bdc95ab8e0e7d5b7fd39dc3b7725513347f6a8ae
Author: Costin Manolache <costin@apache.org>
Date:   Tue Jul 14 05:38:02 2009 +0000

    Some initial implementations for the 3.0 dynamic registration methods. Moving back web.xml config to separate package - with annotations requiring scanning of all files it needs to be done at deploy time - so it'll be better to just load a .ser file at startup.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793797 13f79535-47bb-0310-9956-ffa450edef68

commit dab7ec03ea5e7cd49962d956f86c9c1395f72653
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jul 14 01:15:29 2009 +0000

    Fix
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793773 13f79535-47bb-0310-9956-ffa450edef68

commit 5cea42c84650f51bd8704d5ae2d657f8adef8943
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jul 14 00:21:17 2009 +0000

    Fix test case
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793766 13f79535-47bb-0310-9956-ffa450edef68

commit 8fb3b563447878c5b7f2967e35870d73819a3864
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jul 14 00:08:01 2009 +0000

    more javadoc and corrections
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793761 13f79535-47bb-0310-9956-ffa450edef68

commit c2d35bc3c03bd1f369bda448db3fd8f2f2f46635
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Jul 14 00:01:01 2009 +0000

    1. Ensure that any user defined CLASSPATH variables are not used on startup
    (as is already implemented since rev.303663),
    but now allow them to be specified in setenv.sh, in rare case when it is needed.
    
    2. When preparing the CLASSPATH, do not treat the "debug" command specially,
    because jdb does not need the tools.jar file.
    
    3. Remove some wrong quotes in tool-wrapper.bat.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793757 13f79535-47bb-0310-9956-ffa450edef68

commit 43efff26ef339a3b07d2c1feb43c7449ff10149a
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jul 13 22:29:16 2009 +0000

    remove not used methods
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793733 13f79535-47bb-0310-9956-ffa450edef68

commit 3711b610386b6de2210fcad4eee07e6a799fb05f
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jul 13 22:18:17 2009 +0000

    Add tons of javadoc
    Remove the finalizers, they behave way differently in the new JDK, so let the programmer be responsible for closures
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793732 13f79535-47bb-0310-9956-ffa450edef68

commit b080a899b091be9b35b64681ed50e1ee4ca8f71c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 13 22:03:12 2009 +0000

    Replace o.a.catalina.util.StringManager with o.a.tomcat.util.res.StringManager
    Catalina depends on o.a.tomcat.util already
    Reduces duplicate code (which was also out of sync with latest updates)
    The svn log for o.a.catalina.util.StringManager suggests this was the plan
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793728 13f79535-47bb-0310-9956-ffa450edef68

commit b279bdc5151f1805585dbecc331ed0f2ae703d00
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 13 21:49:14 2009 +0000

    Prep required for the o.a.tomcat.util.res.StringManager to replace the o.a.c.util.StringManager
    Adds handling for when classloaders common != server != shared
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793722 13f79535-47bb-0310-9956-ffa450edef68

commit f23aaa7e77c3ce23c4297820a2bea3849fa8af92
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 13 20:20:59 2009 +0000

    Remove unused classes identified by the UCDetector plug-in
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793694 13f79535-47bb-0310-9956-ffa450edef68

commit 980699b78bf2014440bbc3122090cc0a484a6cc0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 13 19:45:32 2009 +0000

    Update to commons pool 1.5.2 to get latest fixes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793682 13f79535-47bb-0310-9956-ffa450edef68

commit 9a871abdeb85466914db3a7b6e8389269bd9be2d
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jul 13 19:16:49 2009 +0000

    Explicitely return value 0 if we return without error
    from setclasspath.bat. Otherwise errorlevel in catalina.bat
    is not reset.
    
    catalina.bat checks for non-zero errorlevel after
    the call to setclasspath.bat and then fails silently,
    because it assumes setclasspath.bat to log any error.
    
    If there is an error above the call to setclasspath.bat,
    catalina.bat fails without any message.
    
    Since there is only very basic logic above the call
    to setclasspath.bat, let us reset errorlevel to ignore errors.
    
    Example: any "set myvar=" for an undefined variable myvar
    sets errorlevel to 1, although it is a correct statement,
    setting the variable to an empty value.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793669 13f79535-47bb-0310-9956-ffa450edef68

commit c28b33c648f77586266ef00b4f11de0daa73fa26
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 13 16:43:26 2009 +0000

    Track the TLD URIs processed for each webapp and don't process duplicates.
    Because this tracks duplicate status in the RuleSet, each digester needs its own RuleSet rather than sharing the static one.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793621 13f79535-47bb-0310-9956-ffa450edef68

commit e5145d33c30800b422a308a8e7c8b24fc05305ef
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 13 14:55:27 2009 +0000

    Clear props - stops weird TortoiseSvn behaviour
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793600 13f79535-47bb-0310-9956-ffa450edef68

commit 3cbfdc379e71e1c4a796852379f0e35ec08d8442
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 13 14:53:32 2009 +0000

    Add some ignores
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793598 13f79535-47bb-0310-9956-ffa450edef68

commit d8f32989b12fe13aeb0444aa4457645c19b92c53
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jul 13 14:50:49 2009 +0000

    Create a package file for the JavaDoc main package
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793597 13f79535-47bb-0310-9956-ffa450edef68

commit 8784b6a820896e56183f7cd6655f8009195710d1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 12 16:28:21 2009 +0000

    Alternative fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=39194
    Only add tools.jar to classpath when using debug option
    Remove references to undocumented, half-implemented javac option
    Remove unused environment variables
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793372 13f79535-47bb-0310-9956-ffa450edef68

commit e00e395c6e564cf4cd8f082501a73270f544ffbc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 12 16:07:58 2009 +0000

    Revert r791331 that fixed https://issues.apache.org/bugzilla/show_bug.cgi?id=39194
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793369 13f79535-47bb-0310-9956-ffa450edef68

commit 6b495c82a109d8fafe6e19d5e63e933c8fc4950c
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 10 21:40:26 2009 +0000

    fix assertion
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793117 13f79535-47bb-0310-9956-ffa450edef68

commit ab81a017d7b8be31310b53dc8448799223375565
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 10 21:38:16 2009 +0000

    Some more concurrency testing
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793116 13f79535-47bb-0310-9956-ffa450edef68

commit ac9d5ddafc8b7e56358fd5bfef0654166a78b89e
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 10 21:02:43 2009 +0000

    Fix a concurrency issue with connections being released and then trying to be reconnected
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793108 13f79535-47bb-0310-9956-ffa450edef68

commit 63c467000d1bda1175d600668e08c65953c5b3f0
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 10 19:48:26 2009 +0000

    javadoc
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793093 13f79535-47bb-0310-9956-ffa450edef68

commit 2de65dd638275cb7030926c8d533109491a70e57
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 10 18:17:37 2009 +0000

    correct dependency
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793062 13f79535-47bb-0310-9956-ffa450edef68

commit 61b6d43f6bd1d6cd712b78c0a65c7d08cbc61ced
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 10 18:10:30 2009 +0000

    javadoc corrections
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793060 13f79535-47bb-0310-9956-ffa450edef68

commit 7b72dd463e1f7b10801d54029abfc31fc7d2c34a
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 10 17:16:25 2009 +0000

    remove dbcp
    add classpath to javadoc
    start documenting DataSource
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793042 13f79535-47bb-0310-9956-ffa450edef68

commit 59906bb18ac153af31a0419949cd599944a21e98
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 10 17:08:35 2009 +0000

    were not using DBCP anywhere
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793040 13f79535-47bb-0310-9956-ffa450edef68

commit 54f442b0d780299e4775249b3ca0f8cffe2833bc
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 10 16:42:00 2009 +0000

    correct counter behavior.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793029 13f79535-47bb-0310-9956-ffa450edef68

commit f2b895e23ac0af52594f2be9581e6b8ce8a3cf9f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 10 16:28:41 2009 +0000

    Better notes for future reference
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793021 13f79535-47bb-0310-9956-ffa450edef68

commit 9578863178231178a9d3c6240717cf2de639a88c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 10 16:26:56 2009 +0000

    Revert r792945 - JSP.7.3.6.1 explicitly states locations without a leading '/' are to be treated as relative to web.xml
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793019 13f79535-47bb-0310-9956-ffa450edef68

commit ea3cb5bff5fcf23dab4e6f5329d1d2670a6585e6
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 10 16:25:14 2009 +0000

    Added some comments and more thread safety around the size of the pool
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793017 13f79535-47bb-0310-9956-ffa450edef68

commit 5cc03063d54289a49df8f79ee8735168ca823f8a
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 10 16:02:57 2009 +0000

    Add documentation and clarification around JMX
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@793002 13f79535-47bb-0310-9956-ffa450edef68

commit 686cd70ece282cc9b46b96db2db462f55c489ecc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 10 15:53:59 2009 +0000

    Correct location of taglib element varies with spec version. WebRuleSet was using 2.3 and earlier location. Update it to a) support 2.4 and later as well as 2.3 and earlier b) complain if taglib definition location is not consistent with declared spec version.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@792996 13f79535-47bb-0310-9956-ffa450edef68

commit fa6b031e4dbcb6c9cf2a2a04670e91b196ccf9f8
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 10 15:03:43 2009 +0000

    Add manifest to binary JAR
    Fix XML error in doc
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@792969 13f79535-47bb-0310-9956-ffa450edef68

commit 569320d6249d89eb4fe8cf43e2d03012ad454ee4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 10 13:52:14 2009 +0000

    Add new jar to TLD exclusion list
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@792954 13f79535-47bb-0310-9956-ffa450edef68

commit 50431fc26ce938f2d8fdbdb995f2283a210b43cb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 10 13:27:01 2009 +0000

    Servlet DTD and JSP spec are both quite clear that a <taglib-location> is <quote>a resource
    relative to the root of the web application</quote>
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@792945 13f79535-47bb-0310-9956-ffa450edef68

commit 69de3751c86d7d8aaa5315de407172294603f790
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 10 10:13:11 2009 +0000

    Fix infinite loop. Spotted by GSOC student Xie Xiaodong.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@792863 13f79535-47bb-0310-9956-ffa450edef68

commit acb7df1b815bd3e6b115acbbe545e4a9549375c1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 10 10:10:18 2009 +0000

    Needs to be volatile as it is used in double checked locking
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@792862 13f79535-47bb-0310-9956-ffa450edef68

commit c2c26a4ea69f31c47fa2beaf4759cc6bd40991b4
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Jul 9 23:15:09 2009 +0000

    Remove unused properties:
    build.xml uses them, but dist.xml and extras.xml do not
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@792745 13f79535-47bb-0310-9956-ffa450edef68

commit 261c7eb8d759a36c44dd29e2d4a7d875c163051d
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Jul 9 22:58:13 2009 +0000

    Remove build-webapps-precompile target from dist.xml
    Discussion: http://markmail.org/thread/ymgbgqm3lav6rnjh
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@792740 13f79535-47bb-0310-9956-ffa450edef68

commit 6f7f90f184618ce832e52fc07782545cd10c0715
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Jul 9 22:53:56 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47149
    Explicitly specify encoding for the source files
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@792739 13f79535-47bb-0310-9956-ffa450edef68

commit 72e5e8978c610de7b703c826940dacaa7e75c8ff
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 9 08:35:39 2009 +0000

    Reduce coupling between StandardSession and JAAS as per Filip's suggestion
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@792446 13f79535-47bb-0310-9956-ffa450edef68

commit cfac2c9893c4c07e15eb30770d0412cb1e19de13
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Jul 8 22:34:40 2009 +0000

    remove dependency on the modeler so that the pool can run outside of tomcat and still have jmx query notifications.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@792340 13f79535-47bb-0310-9956-ffa450edef68

commit 37eced7eb75929cb42dbfce9290581e8234499d6
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Jul 8 16:31:20 2009 +0000

    Add a manifest template for an osgi bundle
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@792216 13f79535-47bb-0310-9956-ffa450edef68

commit 56d160ab3f29b4453ef7871f36a148ba415c16c4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 8 12:49:12 2009 +0000

    Document a missing option
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@792120 13f79535-47bb-0310-9956-ffa450edef68

commit c580002ec97120552995501eb6b0392e545c4636
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jul 7 17:21:15 2009 +0000

    Improve shutdown time for NIO connectors, to block in a minimal fashion, yet leave the pollers time to close out their connections
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@791914 13f79535-47bb-0310-9956-ffa450edef68

commit 0099a8535c7f443cc9ea8768eb6b0394d395114a
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jul 7 17:08:31 2009 +0000

    When shutting down, to so immediately
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@791912 13f79535-47bb-0310-9956-ffa450edef68

commit 87948db47a4181136e9769ad835a900e9fc428d6
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jul 7 17:08:05 2009 +0000

    Add milliseconds, seconds is not granular enough for log entries
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@791911 13f79535-47bb-0310-9956-ffa450edef68

commit 80f8ec6f2a28c826d50e197709cfca189ebe166b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 7 16:33:02 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=39231
    The JAAS contract for LoginModule says we have to call logout(). This won't always work (eg if there is no session) but is a reasonable effort.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@791900 13f79535-47bb-0310-9956-ffa450edef68

commit 5957378518f7a3139888ae61a2dda55f4d7775a3
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Jul 7 10:50:40 2009 +0000

    Remove standardSession strings not used by DeltaSession
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@791789 13f79535-47bb-0310-9956-ffa450edef68

commit 7cf5ef872e9c30e52befdc8be0d973c9b5f8385c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 6 22:52:31 2009 +0000

    Upper case was a red herring.
    Thanks to http://greenbytes.de/tech/webdav/webdav-redirector-list.html
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@791643 13f79535-47bb-0310-9956-ffa450edef68

commit 834770bfac4d2375417884de0ad18952fc84756f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 6 22:42:10 2009 +0000

    Typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@791641 13f79535-47bb-0310-9956-ffa450edef68

commit 898451ca7cfe3ee63a2b6f932c20d134ab4807bc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 6 22:41:38 2009 +0000

    XP 32-bit SP3 works with the re-direct
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@791640 13f79535-47bb-0310-9956-ffa450edef68

commit 276360b46e71aa107b525ee1a06e6044ebe20b4e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 6 22:20:11 2009 +0000

    Make webDAV fix filter more sophisticated. Eventual aim is to provide fixes tailored to whichever broken client is trying to connect. Once I figure out how the client is broken of course. In the meantime, log when we know things go wrong. First up XP x64 SP2.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@791634 13f79535-47bb-0310-9956-ffa450edef68

commit a363d879884baacb16c96db317c63578bd070e68
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 6 21:19:39 2009 +0000

    Fix copy and paste error
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@791619 13f79535-47bb-0310-9956-ffa450edef68

commit 6288093e3ded0255a8a09bf9dc553759fd5d6b6b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 6 21:06:13 2009 +0000

    Convert the WebDAV fix valve to a filter.
    Based on a patch provided by Xie Xiaodong as part of GSOC 2009
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@791616 13f79535-47bb-0310-9956-ffa450edef68

commit c1099f78b71dc70f764dd73847e3beb77cccbe84
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jul 6 15:45:32 2009 +0000

    Fix
    https://issues.apache.org/bugzilla/show_bug.cgi?id=47478
    Patch provided by Keiichi Fujino
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@791524 13f79535-47bb-0310-9956-ffa450edef68

commit 2e75c6347a813cb037a9e8ada4994984e6304f43
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 5 22:46:51 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=39194
    Align classpath for all platforms:
     - only add tools.jar to the classpath when required
     - document optional javac argument for catalina.sh|bat
     - make sure javac without generating warnings on start
    Include a patch for setclasspath.sh by Jason Brittain
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@791331 13f79535-47bb-0310-9956-ffa450edef68

commit 9a53fdc2941f97d96db9fa3e2a19a7d062461021
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 5 21:48:51 2009 +0000

    Add the CLAASSPATH to the output (will be useful while working on 39194 as well as generally useful to see if it has been modified from the default)
    Fix a minor alignment niggle with JRE_HOME in cataina.sh
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@791328 13f79535-47bb-0310-9956-ffa450edef68

commit e6aad82569d6b492d42bb50251b806356e8a1877
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 5 21:45:32 2009 +0000

    As of JDK 1.4, JSSE was no longer a separate download
    No need to include it in the startup scripts
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@791326 13f79535-47bb-0310-9956-ffa450edef68

commit c1b796ae3eccfee5b06750358142f52bde6864c5
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Jul 5 20:26:13 2009 +0000

    missprint
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@791310 13f79535-47bb-0310-9956-ffa450edef68

commit a4d7af3e13ff97ade435b4dcb719138df0082f6b
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Jul 5 20:23:57 2009 +0000

    add indent
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@791308 13f79535-47bb-0310-9956-ffa450edef68

commit 56954e2d1589fa1cf401e93e712f6d132afb1937
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 5 14:24:43 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=39089
    Add a know issues section to the Jasper docs detailing the error described in 39089 and providing some possible workarounds
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@791254 13f79535-47bb-0310-9956-ffa450edef68

commit 9fde1167f52b690a9b824eadadc357b08d56c363
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 5 13:25:21 2009 +0000

    Improve error message to include TDL uri when there is a problem with a tld so user knows which TLD to look at
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@791243 13f79535-47bb-0310-9956-ffa450edef68

commit 9877ef90217ea1a98c7704949d1c98033b850075
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 5 12:38:17 2009 +0000

    Remove deprecated methods that are no longer used
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@791235 13f79535-47bb-0310-9956-ffa450edef68

commit 202a33e4a70cebe63d9ebf76d0d40555c3829cf7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 5 11:30:22 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=38797
    Revert previous fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=37933 and implement an alternative that doesn't have the side effects described in 38797
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@791224 13f79535-47bb-0310-9956-ffa450edef68

commit 03dc52f28ec8b52f65db864f3f8eb21236e23a1f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 5 11:11:57 2009 +0000

    Revert generics changes that require changes in spec classes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@791219 13f79535-47bb-0310-9956-ffa450edef68

commit e84d02097edc9b0732109ff44532d629e353deb5
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Jul 5 00:17:22 2009 +0000

    Specify explicit encoding when performing replace task.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@791194 13f79535-47bb-0310-9956-ffa450edef68

commit 65124934cec221eba84b1f84a936159dc6a826ea
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Jul 4 23:10:05 2009 +0000

    Fix generics warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@791186 13f79535-47bb-0310-9956-ffa450edef68

commit 5600765326be7bf8775d30daa10dc710a9d5605d
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Jul 4 22:58:08 2009 +0000

    Added **/*.rtf to the list of exclusions and sorted it alphabetically.
    (We have a License.rtf file)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@791184 13f79535-47bb-0310-9956-ffa450edef68

commit 00628fc8ebe98cf787120eb9bae4a37f60775559
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 4 15:59:05 2009 +0000

    Deprecation fixes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@791144 13f79535-47bb-0310-9956-ffa450edef68

commit 15e7b662a90559cdae85e50ac1213ffe8eb17ffc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 4 15:55:48 2009 +0000

    Remove some unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@791142 13f79535-47bb-0310-9956-ffa450edef68

commit fcc6ef760e12aa8fff20f101fd6c75e2467fb977
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 4 15:46:47 2009 +0000

    Fix generics warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@791139 13f79535-47bb-0310-9956-ffa450edef68

commit 3a5e373a39e25e0324194e13c9743ac6f2903962
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sat Jul 4 00:06:05 2009 +0000

    Explicitly specify encoding for the source files
    Fixes https://issues.apache.org/bugzilla/show_bug.cgi?id=47149
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@791041 13f79535-47bb-0310-9956-ffa450edef68

commit ad0be978b1882c387b99d03ecf9e687e08495663
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 3 06:55:26 2009 +0000

    Move everyone MarkMail says hasn't committed to trunk to retired. Crude, but results match what I expected.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@790809 13f79535-47bb-0310-9956-ffa450edef68

commit a12ff6315d372ec7962b336fd04edbaf60117101
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 3 06:44:52 2009 +0000

    Add me. Needs more cleanup for TC7
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@790806 13f79535-47bb-0310-9956-ffa450edef68

commit 896243ebf6fa97b8ff03498d4f2164724379edb6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 3 06:41:40 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47443
    Point to wiki for support rather than non-existent Jakarta page
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@790805 13f79535-47bb-0310-9956-ffa450edef68

commit a6ff5e029db09321322a7fa07cdf3071463529ca
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jul 2 17:35:26 2009 +0000

    break out javadoc into its own target
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@790693 13f79535-47bb-0310-9956-ffa450edef68

commit 5c3b5fe04b9e8964b9ee170816a33159d61d4873
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jul 2 17:08:50 2009 +0000

    Add some doco, make shared variables volatile
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@790684 13f79535-47bb-0310-9956-ffa450edef68

commit aa56f856ce96944675386ae1e9ff88f32f73dda5
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jul 2 15:02:19 2009 +0000

    Since testing is an optional feature, as Sebb said, we don't need the licenses defined
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@790612 13f79535-47bb-0310-9956-ffa450edef68

commit 45fc775a0110ec4ee0dcbd74a626b0a4521c49a1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 2 08:15:15 2009 +0000

    Be consistent - use singular rather than plural
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@790491 13f79535-47bb-0310-9956-ffa450edef68

commit c6818a0677ed79e04557aa82f0f97b41e6317f89
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 1 22:13:33 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=37984
    Strip {MD5} as well as {SHA} from digested passwords
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@790405 13f79535-47bb-0310-9956-ffa450edef68

commit b1b8943854468f6c3935cf7f843b82c0d155fe41
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 1 22:08:43 2009 +0000

    Remove unused import
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@790401 13f79535-47bb-0310-9956-ffa450edef68

commit a7dc8392d8b85a1a85875d435018362d5665687d
Author: Rainer Jung <rjung@apache.org>
Date:   Tue Jun 30 20:48:05 2009 +0000

    Remove some obsolete (and partially broken)
    message strings.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@789944 13f79535-47bb-0310-9956-ffa450edef68

commit 667ccf010ba9b0175a5d43b82c778f2707446359
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jun 30 20:42:17 2009 +0000

    Correct url
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@789941 13f79535-47bb-0310-9956-ffa450edef68

commit e5306a10554d4aaa8bcebb62eae2d490f23f9e7f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 30 20:16:32 2009 +0000

    Revert r784853 - it broke most of the links in the left hand navigation menu for the docs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@789923 13f79535-47bb-0310-9956-ffa450edef68

commit 8999533df9f2fdf5e45b3096fa9851ec9ad8aa70
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jun 30 19:15:28 2009 +0000

    Apply patch by sebb from
    https://issues.apache.org/bugzilla/show_bug.cgi?id=47458
    Store db properties in build.properties using a prefix of testdb
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@789883 13f79535-47bb-0310-9956-ffa450edef68

commit 81d422e01b9d2ba6ae17896195181888528d1c74
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 30 18:30:45 2009 +0000

    Use statics to reduce number of instances to one per thread rather than one per thread per access log.
    Also make thread local final as per discussion on dev list.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@789865 13f79535-47bb-0310-9956-ffa450edef68

commit a8be9972ae4b9314da91c01ac08762b30835fb42
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jun 29 17:38:21 2009 +0000

    Remove all usage of GPL or LGPL downloads.
    Use H2 for test database (EPL1.0) as it can be downloaded and easily embedded.
    Derby didn't work, too slow to populate test data with.
    Add Javadoc per Sebb's suggestion.
    Add EPL and CPL to LICENSE since we use it in the unit test cases.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@789392 13f79535-47bb-0310-9956-ffa450edef68

commit e4faf1daa7149e8fa11da7c34e743e1763791eb3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 29 17:27:35 2009 +0000

    Add props changes missed in r789389
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@789390 13f79535-47bb-0310-9956-ffa450edef68

commit 22ba14e9a269389431db64dfe805af5759619b4d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 29 17:20:24 2009 +0000

    Fix the JDBC driver clean-up. This was broken with the latest 1.4.x, 1.5.x and 1.6.x JVMs as they checked if the classloader of the caller, which for the WebappClassLoader was the common loader.
    It's not pretty, so there are plenty of comments explaining what is going on.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@789389 13f79535-47bb-0310-9956-ffa450edef68

commit 6e045a5c8a572824773610d780613ae5eacb2fd6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 29 16:06:11 2009 +0000

    Make alphabetical
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@789372 13f79535-47bb-0310-9956-ffa450edef68

commit d92da6ee196e88e1be91e13114c8ee69a226f22d
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jun 29 14:36:57 2009 +0000

    Make properties configurable and resolve https://issues.apache.org/bugzilla/show_bug.cgi?id=47440
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@789345 13f79535-47bb-0310-9956-ffa450edef68

commit ef96fa2ec283d55b8d1fcac164a64a8c318c0820
Author: Filip Hanik <fhanik@apache.org>
Date:   Sun Jun 28 15:58:13 2009 +0000

    Better error message according to
    https://issues.apache.org/bugzilla/show_bug.cgi?id=47439
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@789116 13f79535-47bb-0310-9956-ffa450edef68

commit 1c805f4c550decd908c857320e164d6762e19f59
Author: Costin Manolache <costin@apache.org>
Date:   Thu Jun 25 15:22:55 2009 +0000

    Adjust Main
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@788390 13f79535-47bb-0310-9956-ffa450edef68

commit d8bbf9b80be3d9bfda816aa2a8ca91e4cd48a18a
Author: Costin Manolache <costin@apache.org>
Date:   Thu Jun 25 15:16:44 2009 +0000

    Adjusting the tests
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@788385 13f79535-47bb-0310-9956-ffa450edef68

commit a760ba117fb8cbac504b5a95a6beccb628aa6088
Author: Costin Manolache <costin@apache.org>
Date:   Thu Jun 25 15:00:52 2009 +0000

    - added new methods stups from servlet, so it compiles
    - removed all deps on coyote, it can now run with the new async connector from sandbox ( still need to update ). Coyote is still the default
    - various cleanups in the simple/example integration support
    - still passes all watchdog servlet and all but 7 jsp tests
    - more separation between the servlets/filters and the engine - and few tweaks to allow file servlet to be used in other containers.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@788376 13f79535-47bb-0310-9956-ffa450edef68

commit 5fe1fbd1a4ea8072afba4af7099712b3a135fadf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 24 20:56:19 2009 +0000

    Very minor niggle
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@788180 13f79535-47bb-0310-9956-ffa450edef68

commit e0777cbf8f73efbc6709ebe20e495354684cbedd
Author: Mladen Turk <mturk@apache.org>
Date:   Wed Jun 24 14:53:06 2009 +0000

    Ant doesn't merge two zipfilesets
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@788043 13f79535-47bb-0310-9956-ffa450edef68

commit 976be9b7e25c8d18465e142b9dd5a67a421ec2fd
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Jun 24 11:44:45 2009 +0000

    Do not evaluate the same string twice.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787985 13f79535-47bb-0310-9956-ffa450edef68

commit 4cdbe5e89442d0e3b202b5ec5033ae5c30ab67d3
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Jun 24 11:28:14 2009 +0000

    Updated the changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787981 13f79535-47bb-0310-9956-ffa450edef68

commit 2e2e367b794d4cacba62125c97ff1cf6f8b47552
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Jun 24 11:17:24 2009 +0000

    Updated Jasper runtime and JspC to use "1.6" as the values for compilerSourceVM, compilerTargetVM options by default,
    as Tomcat 7 runs on JRE 1.6+
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787978 13f79535-47bb-0310-9956-ffa450edef68

commit 8ecc444737d18d87d293964e0e66442ec75f8943
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 23 19:31:39 2009 +0000

    Revert r787678. Needs a rethink as Catalina TLD scanning did not require a URLClassLoader whereas the Jasper code does.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787798 13f79535-47bb-0310-9956-ffa450edef68

commit ce2597b43a9045ffd668ee5b46a1b6dc61dd3c02
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 23 18:04:43 2009 +0000

    Use correct encoding for error/debug messages include parameter bytes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787770 13f79535-47bb-0310-9956-ffa450edef68

commit cc259131a502a9d79a6bf61e23531956c5b6f140
Author: Mladen Turk <mturk@apache.org>
Date:   Tue Jun 23 16:58:48 2009 +0000

    Fix the if/else. Thanks Konstanting for spotting that
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787751 13f79535-47bb-0310-9956-ffa450edef68

commit d8ef8d527d6c2df1fba32b50ef030b2f98cf847c
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jun 23 15:37:24 2009 +0000

    fix typos
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787718 13f79535-47bb-0310-9956-ffa450edef68

commit 09bb01b1defb28508149c7e9dac1e29bb3f1f6f9
Author: Mladen Turk <mturk@apache.org>
Date:   Tue Jun 23 15:34:22 2009 +0000

    Use correct return values from FindCpuType function
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787713 13f79535-47bb-0310-9956-ffa450edef68

commit 1487fcad3676acee239b7a4b129408b629651778
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jun 23 14:48:06 2009 +0000

    shorten timeout
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787695 13f79535-47bb-0310-9956-ffa450edef68

commit 07cae09267e600c847cc98ef5e3b9833ff490be9
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jun 23 14:47:28 2009 +0000

    Only test timeout
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787694 13f79535-47bb-0310-9956-ffa450edef68

commit 0cef0a8122c72511e6a5bb549c18006f3c0199da
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jun 23 14:44:24 2009 +0000

    Fix slow query report to keep stats if we set the count to larger than 0
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787693 13f79535-47bb-0310-9956-ffa450edef68

commit da2246b76b46d38356cd2c08b1ac2aaa2cb945fc
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Tue Jun 23 14:37:27 2009 +0000

    Wrapped and shortened lines, to lessen horizontal scrolling.
    Replaced tabs with spaces in one of <source/> fragments, because tabs result in misalignment of box border in Firefox 3.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787692 13f79535-47bb-0310-9956-ffa450edef68

commit fbe33013b39f207ceac754cebe446269d97d11d2
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jun 23 14:29:00 2009 +0000

    Dont try to run the base test
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787689 13f79535-47bb-0310-9956-ffa450edef68

commit 6722f501bfbdde56e89349c16f846ff6cb97d7bb
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jun 23 14:14:01 2009 +0000

    Fix halfway test
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787684 13f79535-47bb-0310-9956-ffa450edef68

commit 49e983a1d0b9c849de651f3bccc01f097cf1c1d0
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jun 23 14:02:58 2009 +0000

    Fix message
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787679 13f79535-47bb-0310-9956-ffa450edef68

commit d14348025f94341c5a61f9f1e961c60321fd87c5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 23 14:02:48 2009 +0000

    Align TLD scanning code between Jasper & Catalina (make Catalina like Jasper)
    - Still two copies (no easy way to avoid that) but at least only a single algorithm
    - Adds support for JAR URLs (useful when embedding) to TldConfig
    - Add comments to remind people to keep code in sync
    - JSP TCK passes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787678 13f79535-47bb-0310-9956-ffa450edef68

commit ac6776b5541298fc063d3899a0a582750846f0dd
Author: Mladen Turk <mturk@apache.org>
Date:   Tue Jun 23 13:56:50 2009 +0000

    Exclipse download location changed. The previous now returns 404
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787675 13f79535-47bb-0310-9956-ffa450edef68

commit b6e14c7f0a521467582c40677d0e2b14249e41c7
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jun 23 13:54:38 2009 +0000

    Make a default build target that builds automatically without need to know what.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787674 13f79535-47bb-0310-9956-ffa450edef68

commit 5bd927fa9995a5d9743fd912bbb481e20dced74a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 23 13:54:13 2009 +0000

    Remove call that doesn't do anything.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787673 13f79535-47bb-0310-9956-ffa450edef68

commit 92186d9342c1ccc9b416c0ac1a8abe848666569e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 23 11:57:53 2009 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787646 13f79535-47bb-0310-9956-ffa450edef68

commit c48094b7f6071f1f86140271c653128ee8f749d3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 23 11:44:26 2009 +0000

    Remove a couple of unused classes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787642 13f79535-47bb-0310-9956-ffa450edef68

commit 1a1101e5fc201f97694a3214d8915d8736be5054
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 23 11:38:05 2009 +0000

    Clean up the debug logging impl
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787641 13f79535-47bb-0310-9956-ffa450edef68

commit 5eb7531ac63f9335f19ab684887af17ab15d2bdf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 23 11:34:43 2009 +0000

    Remove some unused code, some of which appears to date from Tomcat 3.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787638 13f79535-47bb-0310-9956-ffa450edef68

commit a6233f05f5e89c8fa6d97db7e836cfc06e7c182e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 23 10:48:53 2009 +0000

    Only copy the original parameters is debug is enabled. Otherwise, live with the corruption but tell user how to get non-corrupted data
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787627 13f79535-47bb-0310-9956-ffa450edef68

commit 444727073008a3017611fbe45f3c7eec3fe3a3c2
Author: Mladen Turk <mturk@apache.org>
Date:   Tue Jun 23 09:47:13 2009 +0000

    Use correct CPU names
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787608 13f79535-47bb-0310-9956-ffa450edef68

commit 1ddfbaa4db30f9d240150837152ebe242229f7a4
Author: Mladen Turk <mturk@apache.org>
Date:   Tue Jun 23 07:43:17 2009 +0000

    Use correct directoy names for exclusion
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787575 13f79535-47bb-0310-9956-ffa450edef68

commit 9e46d0e335103bb9740bb5ec9c651b2b92f38ecd
Author: Mladen Turk <mturk@apache.org>
Date:   Tue Jun 23 07:41:28 2009 +0000

    Implement new windows-[cpu].zip ditribution packages
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787574 13f79535-47bb-0310-9956-ffa450edef68

commit 08c4d5fbf7cea47369abcbfe5d3f0493405e1eea
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jun 22 20:51:57 2009 +0000

    Don't create the test table during the run
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787394 13f79535-47bb-0310-9956-ffa450edef68

commit f857e60c9a4a8e944e664faa22899c976531c67c
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jun 22 20:46:32 2009 +0000

    Add in test runner
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787390 13f79535-47bb-0310-9956-ffa450edef68

commit 45b550a428b2df8e1e721807fe97485a01a51d0c
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jun 22 20:29:20 2009 +0000

    Refactor to be more independent, so that one can build from source archive without too many hooplas as suggested by sebb
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787385 13f79535-47bb-0310-9956-ffa450edef68

commit 7e45073f012162d3b8030f345672af4a6bfb2191
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jun 22 16:19:10 2009 +0000

    A more sensible default to avoid too many  character array allocations
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787304 13f79535-47bb-0310-9956-ffa450edef68

commit 887cc2e26118c981e563dac65321be883ae596a5
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jun 22 15:36:35 2009 +0000

    Minimize thread local access when possible, since thread local does a map lookup.
    Idea by kkolinko
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787274 13f79535-47bb-0310-9956-ffa450edef68

commit a21300267d0227b6e6d48e0cc8e8388233fca40c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 22 11:58:07 2009 +0000

    Fix a couple of Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787211 13f79535-47bb-0310-9956-ffa450edef68

commit 449a2e9f48651e5eb98efd7be88631755544fdb0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 22 11:19:18 2009 +0000

    Don't call silent by default. Add the life-cycle listener to the silenced loggers.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787202 13f79535-47bb-0310-9956-ffa450edef68

commit 7baea97031f41aa3add8bb4092066607f4708678
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 22 11:03:37 2009 +0000

    Remove unnecessary code that just leads to a warning in the logs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@787197 13f79535-47bb-0310-9956-ffa450edef68

commit e9344e72604c151978a8027814bf72723c92b414
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jun 20 17:04:49 2009 +0000

    Simplify, simplify. Thanks to sebb.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@786862 13f79535-47bb-0310-9956-ffa450edef68

commit 7f3da14b4444b386821797a627993d29f7cd9fbb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 19 21:14:32 2009 +0000

    Can't use queryMB as that isn't the only source.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@786667 13f79535-47bb-0310-9956-ffa450edef68

commit 9af8cf3edd2bca81ff4063369689f4720782a7db
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 19 20:25:01 2009 +0000

    As per http://www.apache.org/dev/crypto.html#inform add a crypto notice to each of the releases
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@786654 13f79535-47bb-0310-9956-ffa450edef68

commit 9bf067c0ffb4144f77d5d2b8e635268a922d7c4d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 19 20:21:53 2009 +0000

    Switch to ThreadLocal where possible. This removes all the syncs apart from those related to accessing the log file.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@786653 13f79535-47bb-0310-9956-ffa450edef68

commit c66a735d4708ffbef236b72aa3854f068a15ea99
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Jun 19 18:57:59 2009 +0000

    Add two more implementations for the second test.
    a) using a single ThreadLocal instead of multiple ones
    b) also using StringBuilder instead of StringBuffer
    Also, replaced class.getName() with class.getSimpleName() in the status message.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@786631 13f79535-47bb-0310-9956-ffa450edef68

commit a78518a160bb39a6fda57bd60673f79a5fab79a3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 19 17:13:00 2009 +0000

    As per Filip's suggestions:
    - reduce object creation
    - better use of ThreadLocals
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@786585 13f79535-47bb-0310-9956-ffa450edef68

commit be1bc2cb5a3ef80d09d852a41fbfea5d5ff5d054
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jun 19 17:07:36 2009 +0000

    shortened
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@786584 13f79535-47bb-0310-9956-ffa450edef68

commit b0874de0a37a72d8ff8db7d73af597f6a739aea1
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jun 19 16:16:16 2009 +0000

    correction
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@786569 13f79535-47bb-0310-9956-ffa450edef68

commit ba132a6376b2b33cd5b00b8746c2464494c5cda9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 19 15:12:02 2009 +0000

    Remove duplicate code - my bad from r781779. Thanks to sebb for spotting it.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@786540 13f79535-47bb-0310-9956-ffa450edef68

commit 2a385175cdc0cf6fdf27439a6eebe930bd252693
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jun 19 15:05:04 2009 +0000

    Correct per sebb/markt
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@786532 13f79535-47bb-0310-9956-ffa450edef68

commit 41ae5b3fb2f840c1698b74634ef1e5577ff99a47
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 19 13:11:00 2009 +0000

    Update to pool 1.5.1 - fixes regression in 1.5
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@786496 13f79535-47bb-0310-9956-ffa450edef68

commit 76a4eb3958e053bf2f08c62dd230ed62f688de30
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 19 13:03:42 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=38352
    The JSPLoader needs to have read/write permission to the context's temp directory, as per the spec.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@786490 13f79535-47bb-0310-9956-ffa450edef68

commit 6661402194eea1a6b3f56a716b68180c0db7cd9a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 19 12:56:40 2009 +0000

    Headers should be compared ignoring case. Reported by Tim F.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@786487 13f79535-47bb-0310-9956-ffa450edef68

commit 1dd88f75b28c8e54cd31d5fe7f6b19a06727e4aa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 19 12:55:56 2009 +0000

    Add a header case-sensitivity test for 37794 test case (as reported by Tim)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@786486 13f79535-47bb-0310-9956-ffa450edef68

commit 78dbe6a527105ac0e557cc199a4bc1d9779bd6c6
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Jun 19 12:51:11 2009 +0000

    Added toString() call to the StringBuffer. The tests will run a bit slower because of that.
    Added two other implementation variants for the first test.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@786484 13f79535-47bb-0310-9956-ffa450edef68

commit a182fc16b1816b7cb0ea9a2061814eafd92b612a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 19 12:40:56 2009 +0000

    Add an additional volatile from a review of the associated benchmark tests.
    Add a sync to deal with the issue filip reported in the 5.5.x status file
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@786483 13f79535-47bb-0310-9956-ffa450edef68

commit e0b965709f6f61d5661b179f038c7e302eef701f
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Fri Jun 19 12:27:08 2009 +0000

    Rewrote the benchmarks, to allow more than 2 different implementations to be compared.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@786477 13f79535-47bb-0310-9956-ffa450edef68

commit a8fe5aa21cb5a3b10f6d733192dc15d7c7bd4ac8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 19 12:16:25 2009 +0000

    Undo accidental commit of files that should not have been included in r786471. These will follow separately with the correct comments. Sorry for the noise.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@786473 13f79535-47bb-0310-9956-ffa450edef68

commit 87bc1e5ed9f0c6945c2da931a51b0f7d94dba341
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 19 12:10:05 2009 +0000

    The servletapi gives us a perfectly good constant for 'javax.servlet.context.tempdir'. Use it.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@786471 13f79535-47bb-0310-9956-ffa450edef68

commit 8fa6d11b83c90a832ad83935852eb1a510787536
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 19 12:04:52 2009 +0000

    As per review comments:
    - use StringBuilder
    - add comment to explain one possible cause
    - better logging using original data
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@786468 13f79535-47bb-0310-9956-ffa450edef68

commit 8550181163927fe9f6487fe07df0f8251dfd8872
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 19 11:11:06 2009 +0000

    Minor improvements
    - as per Sebb's comment on the dev list - need to add a volatile
    - correct the log message
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@786455 13f79535-47bb-0310-9956-ffa450edef68

commit 51fd68bfabff2fc931a42d6dca212d77747c3155
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jun 18 17:08:38 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47308
    Patch provided by Keiichi Fujino with one change, default is false
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@786165 13f79535-47bb-0310-9956-ffa450edef68

commit 413605ff2df56c143ce05f918eadc70e558ad442
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jun 18 16:57:17 2009 +0000

    Fix demo
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@786159 13f79535-47bb-0310-9956-ffa450edef68

commit c7680903848ae94c7b5a6a9dc0e3161b705165f4
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jun 18 15:27:55 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47389
    patch provided by  Keiichi Fujino
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@786124 13f79535-47bb-0310-9956-ffa450edef68

commit 03be104efa16a702da33fe3b7a10a6e8ad1d5594
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 18 12:58:07 2009 +0000

    Add volatiles as suggested by Tim to align code with AccessLogValve.
    No significant change to results (on my machine at least ;)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@786045 13f79535-47bb-0310-9956-ffa450edef68

commit 2521b8e06c08c6405eb15e054754de609588de11
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 18 09:25:00 2009 +0000

    Expand sync within rotatable block to fix a couple of issues:
     - fileDateFormatter is a SimpleDateFormat which is not thread safe
     - the rotationLastChecked needs to be volatile to ensure we don't execute the sync'd block multiple times
    Although this is a sync on 'this' in log which gets called for every request:
     - a similar sync occurs in getDate() for every request with minimal performance impact
     - microbenchmarks suggest that a sync on 'this' has similar performance to using ThreadLocals
    
     Based on kkolinko's patch for Tomcat 5.5.x
    
     Note there remains an issue with writing to the log if the log files happens to be in the process of rotating
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@785983 13f79535-47bb-0310-9956-ffa450edef68

commit 842c1aac8229083d5c05a5fee1e5d449ace4656f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 18 08:32:29 2009 +0000

    Add some micro-benchmarks that enable the differences between the Sync and ThreadLocal approach to be compared
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@785952 13f79535-47bb-0310-9956-ffa450edef68

commit 06c5cc7d7efdcc239a180de9c15030481d4915a8
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Jun 17 23:52:11 2009 +0000

    It is followup to rev.785768.
    Updating the comment in the web.xml to align with the docs.
    We know that this version of Tomcat cannot run on JDK 1.4.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@785859 13f79535-47bb-0310-9956-ffa450edef68

commit a6c37868bc2d034786a069318085af8747ed56a7
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Jun 17 19:58:30 2009 +0000

    Disable the code that detects the value for compilerSourceVM, compilerTargetVM options,
    because we know that this version of Tomcat cannot run on JDK 1.4.
    Update the doc.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@785768 13f79535-47bb-0310-9956-ffa450edef68

commit ad669250e170dea910dac973d026bdf0a07021c3
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Wed Jun 17 15:51:55 2009 +0000

    trivial: corrected spelling errors in docs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@785688 13f79535-47bb-0310-9956-ffa450edef68

commit c495ecf5e0899f494016eea99c40ecb55390066f
Author: Mladen Turk <mturk@apache.org>
Date:   Wed Jun 17 05:33:52 2009 +0000

    Add common FindCpuType function.
    The problem is that environment variable doesn't always set AMD64. This is true only for amd processors.
    If present and not IA64 the %PROCESSOR_ARCHITEW6432% must be x86_64
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@785477 13f79535-47bb-0310-9956-ffa450edef68

commit 19aada70628d49cf8ff1b0230cd87ec289d5c592
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 16 20:30:43 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=37794
    Handle chunked POSTs. If maxPostSize is exceeded, a 500 results.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@785381 13f79535-47bb-0310-9956-ffa450edef68

commit 2a6c0060697f2d5c81f36f00d784e9ffc48e9c93
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 16 20:28:08 2009 +0000

    Better comment
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@785379 13f79535-47bb-0310-9956-ffa450edef68

commit f540cc8541e47eee685eae593ce3115d1179fddf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 16 20:18:14 2009 +0000

    Test case for bug 37794.
    The generic code will move out of this class if it turns out to be useful for other test cases
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@785369 13f79535-47bb-0310-9956-ffa450edef68

commit 0cba42790122bd3ca32bfb8513a50d10d8b0d132
Author: Mladen Turk <mturk@apache.org>
Date:   Tue Jun 16 15:09:50 2009 +0000

    Exclude windows binaries from the .zip and .tar.gz packages
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@785249 13f79535-47bb-0310-9956-ffa450edef68

commit 662943ca1a7f7c6d5f2f2840ab632a2a5243f46c
Author: Mladen Turk <mturk@apache.org>
Date:   Tue Jun 16 14:51:50 2009 +0000

    Fix tomcat installer script by using the correct files and new locations.
    Also decide which version of tcnative-1.dll to install according to the CPU architecture
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@785239 13f79535-47bb-0310-9956-ffa450edef68

commit 6bc1aae1a2a5bfd9d7673cff9f5fd3ff39691094
Author: Mladen Turk <mturk@apache.org>
Date:   Tue Jun 16 14:18:26 2009 +0000

    Exclude service.bat from package-zip and package-tgz.
    It is now part of package-native, since it is only usable together with service wrapper
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@785223 13f79535-47bb-0310-9956-ffa450edef68

commit 8706275e7c27e31c02acbbac80f7259eee92fb54
Author: Mladen Turk <mturk@apache.org>
Date:   Tue Jun 16 10:37:05 2009 +0000

    Add package-natives target
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@785150 13f79535-47bb-0310-9956-ffa450edef68

commit e5029c4e5e8f3b5126e7d59c3fda4b85f253070d
Author: Mladen Turk <mturk@apache.org>
Date:   Tue Jun 16 10:09:41 2009 +0000

    Fix nested tasks for download
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@785141 13f79535-47bb-0310-9956-ffa450edef68

commit 21648c79d1d451398c345217ad0dda77d74badc8
Author: Mladen Turk <mturk@apache.org>
Date:   Tue Jun 16 07:06:11 2009 +0000

    Download IA64 tcnative-1.dll as well
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@785092 13f79535-47bb-0310-9956-ffa450edef68

commit 9daf9eca7541733d10aad92f3001a075e6f7a9ea
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 15 18:58:55 2009 +0000

    Merge tests into main build.xml as an optional target.
    Hopefully start to use Tomcat class as basis for test cases for bugs.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@784919 13f79535-47bb-0310-9956-ffa450edef68

commit 9f30f0a328a00e2f5eda71d698107bb8edee9ac1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 15 18:55:48 2009 +0000

    Default appBase change was causing errors. Use the old value for this test case.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@784918 13f79535-47bb-0310-9956-ffa450edef68

commit e63c2169bfeddee5156d3f76bb0df94c5bc1d341
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 15 18:55:00 2009 +0000

    Fix comments
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@784917 13f79535-47bb-0310-9956-ffa450edef68

commit 58437631851167b3180ba7aff85a1b374eb329ae
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jun 15 18:31:08 2009 +0000

    Add missing pom
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@784900 13f79535-47bb-0310-9956-ffa450edef68

commit b3e2be415c999b6a81b9070750046c64d02a16fb
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jun 15 17:35:07 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47369
    Patch provided by Keiichi Fujino
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@784879 13f79535-47bb-0310-9956-ffa450edef68

commit 2c73d15729136dd20a6d9ab63eee441c1412cbe6
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jun 15 17:25:29 2009 +0000

    checked in the raw license
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@784871 13f79535-47bb-0310-9956-ffa450edef68

commit 38957ed91345e5c8532e4b6208e7b437420fc464
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jun 15 17:22:55 2009 +0000

    Fix documentation
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@784869 13f79535-47bb-0310-9956-ffa450edef68

commit 148926dab628e4fdc67efec8468973c4531f8a31
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jun 15 17:00:57 2009 +0000

    Fix copyright year
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@784863 13f79535-47bb-0310-9956-ffa450edef68

commit 0236fd190759b91ab6c24ecd7e405d003de1bd01
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jun 15 16:49:24 2009 +0000

    Correct name
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@784857 13f79535-47bb-0310-9956-ffa450edef68

commit 5621fb3cc3a5a18bd7f897d41fb8c54f6db0dc4d
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jun 15 16:46:37 2009 +0000

    Add in NOTICE and LICENSE file. Fix the links in the documentation.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@784856 13f79535-47bb-0310-9956-ffa450edef68

commit d043f63f2b6e760ebcc3eb507ccef35e567b21af
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jun 15 16:43:27 2009 +0000

    Add in relative path to the left side menu. It's . by default so no changes. But this lets one generate docs and point to a location.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@784853 13f79535-47bb-0310-9956-ffa450edef68

commit f8eb35fada8697fc0571625a4161804ced6be272
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 15 16:32:28 2009 +0000

    Sorry for the noise - finger trouble
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@784851 13f79535-47bb-0310-9956-ffa450edef68

commit d6b689422448de5583144b4f166aed4fe6ac0d81
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 15 16:30:40 2009 +0000

    Opps. Shouldn't have renamed this.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@784850 13f79535-47bb-0310-9956-ffa450edef68

commit 2458024ea640599f655eb303315668a13af1ffa5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 15 16:23:19 2009 +0000

    Opps. Shouldn't have renamed this.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@784845 13f79535-47bb-0310-9956-ffa450edef68

commit 2cc9958107dd1652c1985633bbf585219b7dd4f5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 15 16:21:22 2009 +0000

    Partly address bug 47124: Name unit tests consistently.
    All JUnit test cases are named Test*. There was at least one class named Test* that was not a JUnit test case. These were renamed *Test.
    Helper / stub implementations are named Tester*
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@784843 13f79535-47bb-0310-9956-ffa450edef68

commit 3796445b539b551a5ef7151435908d6d45ea1197
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 15 16:07:20 2009 +0000

    Remove some unused Jasper code.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@784835 13f79535-47bb-0310-9956-ffa450edef68

commit 8f6a9e7f4dfb7432bdd2aa8691f596d9ff533853
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 15 15:13:22 2009 +0000

    Align programmatic web.xml defaults with conf/web.xml
    Don't set anything that is already set by default
    Switch to a context listener for the defaults so they get applied on re-load
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@784804 13f79535-47bb-0310-9956-ffa450edef68

commit e4f1b7cf37882ca06c027b3ca75c9e4cfaf2e295
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 15 13:05:38 2009 +0000

    Remove more unused, deprecated code in Jasper
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@784765 13f79535-47bb-0310-9956-ffa450edef68

commit 294b468b219d056c84e97b2710ffdce2dad63d93
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 15 13:04:18 2009 +0000

    Remove unused, deprecated code in Jasper
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@784764 13f79535-47bb-0310-9956-ffa450edef68

commit 4447dc84ffe80776dd0e635eaf405bece581a177
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 15 12:31:54 2009 +0000

    Remove deprecated Ant tasks
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@784755 13f79535-47bb-0310-9956-ffa450edef68

commit 448702dff64dcdfde1ae83303e8696af11bc5b0d
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Jun 14 20:26:27 2009 +0000

    fix misprints in comments and javadoc
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@784614 13f79535-47bb-0310-9956-ffa450edef68

commit 4716757f5b23802d646bbca1c4514977e63a5a30
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Sun Jun 14 18:50:59 2009 +0000

    Do not increment access counter.
    The valve updates access time, but it should not increment access counter without decrementing it.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@784602 13f79535-47bb-0310-9956-ffa450edef68

commit 79f6ed4b410807d57531ee170c37c0fe8914357c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jun 13 19:19:18 2009 +0000

    Remove case insensitivity option. It was a workaround for a change in Tomcat 3 and has security implications if used on case insensitive file systems.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@784455 13f79535-47bb-0310-9956-ffa450edef68

commit 1ef689a5f2fe80a9f2f57f6a6b4797a849ada815
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jun 13 19:05:56 2009 +0000

    Enhancements to fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=43343 based on kkolinko's review
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@784453 13f79535-47bb-0310-9956-ffa450edef68

commit 0ec64a6f2090ba5e9691b6f8adb2e74e53d152ce
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 12 16:45:34 2009 +0000

    More error checking
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@784188 13f79535-47bb-0310-9956-ffa450edef68

commit 87374b64bc9769e92f1ad9340420b535b6a3bb08
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 12 16:45:10 2009 +0000

    Fix typo. Add aliases to changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@784187 13f79535-47bb-0310-9956-ffa450edef68

commit 1d6dfd7e45779842e118e49ac41a2e99e6fbe742
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 12 11:38:29 2009 +0000

    Implement alias resources. Key features:
    - configured at the context level in the same way as the other resource related attributes
    - maps paths to directories or WAR files (single files not supported)
    
    Implementation notes:
    - Correct results for getRealPath() required this to be pushed down to the BaseDirContext as the short-cuts previously used needed to take account of any aliases. This in turn meant an addition to the Context interface
    - Thanks to Tim F. The configuration format is all his idea
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@784083 13f79535-47bb-0310-9956-ffa450edef68

commit 5b89bd301e47e393fea789c115d5ce6f18527e48
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 12 11:13:36 2009 +0000

    Code clean-up.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@784073 13f79535-47bb-0310-9956-ffa450edef68

commit 8002851134e9749a4e397884074f514dbbbba81d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 12 11:11:57 2009 +0000

    Code clean-up.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@784070 13f79535-47bb-0310-9956-ffa450edef68

commit 028c2d7095742fdb793e1159af318b7e182bd813
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 12 11:10:02 2009 +0000

    Code clean-up. Fix a few warnings.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@784068 13f79535-47bb-0310-9956-ffa450edef68

commit 68b2246fa5b5b4fe15a46ed1fc2d4785aa99eed9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 12 10:58:15 2009 +0000

    Remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@784065 13f79535-47bb-0310-9956-ffa450edef68

commit aae59aef7554b3b1ba0a8538222feea1d6891a20
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 11 22:41:53 2009 +0000

    Fix typo in the docs.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@783949 13f79535-47bb-0310-9956-ffa450edef68

commit 267337f1fa375ef6aacf1b142fc94410488e9cd2
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Jun 11 21:53:34 2009 +0000

    There are no 64-bit GUI binaries. (see rev.779927,-28,-30)
    The 32-bit version can manage both 32 and 64 bit tomcat(X).exe
    Updating the build scripts accordingly.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@783934 13f79535-47bb-0310-9956-ffa450edef68

commit 16627285191a8516fc0e650ae090f706b4df9b79
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 11 20:23:37 2009 +0000

    Remove some experimental code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@783894 13f79535-47bb-0310-9956-ffa450edef68

commit 1a78eec647c287fd6e124b3c4ec06226d87634b4
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Jun 11 17:51:08 2009 +0000

    Provide documentation for deployer.
    
    We do not have "printer" versions of our documentation pages anymore,
    so I am using the common version.
    Also, I removed "failonerror=false" flag, and removed renaming of the document. I see no point in renaming it. It was moved to the root folder, to remain relative to the images.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@783863 13f79535-47bb-0310-9956-ffa450edef68

commit 1ef9de76499ed167c752b38f60a713e50b6a0af5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 11 16:43:37 2009 +0000

    This was moved to the context
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@783840 13f79535-47bb-0310-9956-ffa450edef68

commit 2507ecce61b87c8b803c33805fa669f0ce7c4269
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jun 11 16:37:20 2009 +0000

    Document emptySessionPath behavior
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@783837 13f79535-47bb-0310-9956-ffa450edef68

commit c72bb350bacc4ff2a403dccc88661103f4635730
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 11 14:16:49 2009 +0000

    Experiment with the UCDetector (Unused Code Detector) plug-in for Eclipse.
    Remove all the code from the class that isn't used anywhere in Tomcat.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@783779 13f79535-47bb-0310-9956-ffa450edef68

commit cc1f0dd54fdebb264eb340d75e36f171840b7a63
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 11 13:48:42 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47343
    Regression in https://issues.apache.org/bugzilla/show_bug.cgi?id=42747
    context.xml can now be edited without resources being deleted
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@783766 13f79535-47bb-0310-9956-ffa450edef68

commit 93f888dfd909d0905308e0ac3cfe1edf07dc3ad3
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu Jun 11 13:35:20 2009 +0000

    Fix download task dependency for commons-pool and commons-dbcp.
    
    Without this patch the 'ant download' call does not download
    the updated commons-pool or commons-dbcp version,
    like the recent update of commons-pool 1.4 -> 1.5,
    unless you delete existing ${tomcat-dbcp.jar} file before that.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@783762 13f79535-47bb-0310-9956-ffa450edef68

commit 7fdfc130a76be46c5d143c779a37292e14769c18
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 11 13:13:09 2009 +0000

    Log context deployment consistently at info level, regardless of war/dir/xml
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@783756 13f79535-47bb-0310-9956-ffa450edef68

commit 1a69c846a48df335adcbb327ba2d3f2967703f0f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 11 11:37:17 2009 +0000

    Provide a little more information in the logs when parameters are invalid. Speeds up the process of tracking down the broken request in the access log. Don't show the stack trace unless debug is enabled.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@783724 13f79535-47bb-0310-9956-ffa450edef68

commit 533bc3e6d76b891cf143e33e0ba79f3b13cef21d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 11 08:50:00 2009 +0000

    Update commons pool to 1.5. Pool 1.5 fixes a number of concurrency bugs and introduces fair allocation so the first thread to ask for an object from the pool is the first thread to get it.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@783697 13f79535-47bb-0310-9956-ffa450edef68

commit ddef88816d9ad1de4dd4308878514354ca032377
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 11 08:48:17 2009 +0000

    DBCP no longer requires commons-collections. Removed used lib from build.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@783696 13f79535-47bb-0310-9956-ffa450edef68

commit 81b6c055d17b76ba8338963a1cabb9cbc2bde7ab
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Jun 10 19:56:29 2009 +0000

    Add the executor to be part of the JMX output
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@783474 13f79535-47bb-0310-9956-ffa450edef68

commit 15da1ad737401e1110354eefeced0fe627a5258d
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Jun 10 19:40:31 2009 +0000

    Revert my previously not so clever implementation.
    If there is an executor being used, then one shall expect that the executor is reporting the numbers of threads itself, and it should no longer be the responsibility of the connector
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@783468 13f79535-47bb-0310-9956-ffa450edef68

commit 064494e9617eb79f3ea3fa4931c990e298312cea
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 10 12:31:29 2009 +0000

    Better fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47318
    Process include preludes and codas for top level JSP pages only
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@783316 13f79535-47bb-0310-9956-ffa450edef68

commit 8b909e0e126a5b06db879044c07518e5e1386cc3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 10 12:15:42 2009 +0000

    Revert r782166 as it introduced a regression of its own.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@783313 13f79535-47bb-0310-9956-ffa450edef68

commit f5ea8490f6602f96842db12413e79cc492b6b502
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 10 11:53:14 2009 +0000

    As per kkolinko's comment - remove old comment
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@783306 13f79535-47bb-0310-9956-ffa450edef68

commit 4d87fbe44baaba5010dd5a99f192fa45486c0894
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 10 11:33:55 2009 +0000

    Restore correct mime-type for MS Word
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@783299 13f79535-47bb-0310-9956-ffa450edef68

commit c8fa5491c5370bf064b9642c63b289d3df92fbe2
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jun 9 22:28:00 2009 +0000

    Put a short timeout on the unlock accept
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@783160 13f79535-47bb-0310-9956-ffa450edef68

commit 074d9b41633265fdacd7e2a14545f9ace38fa4fe
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jun 9 22:14:55 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47237
    There is no need to associate the Http11NioProcessor with a socket in between requests unless there is a comet.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@783155 13f79535-47bb-0310-9956-ffa450edef68

commit 274045ff1ceca9b76198bf6249070c42a0dc2f7c
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jun 9 18:58:25 2009 +0000

    Take into account that executors can be provided, standard and non standard thread pool executors through config or programmatically.
    Hence we want to expose the correct values for curThread and curThreadBusy
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@783095 13f79535-47bb-0310-9956-ffa450edef68

commit 22aa7e10b49e53e826ee6edd25b60a2b98d2d7b3
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jun 9 18:51:07 2009 +0000

    Revert http://svn.apache.org/viewvc?view=rev&revision=763566
    The code is not the same as it was before. The patch applied, while it looks the same will grow the pool the max threads even though it doesn't need to
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@783094 13f79535-47bb-0310-9956-ffa450edef68

commit 4afb57e065bbd013e32d9e144680a1efdf28d185
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 8 21:29:27 2009 +0000

    Use a more sensible default.
    Patch suggested by Ian Darwin.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@782791 13f79535-47bb-0310-9956-ffa450edef68

commit 68211bdf12206d9e9a8df801bf28102bf0ed3c9a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 8 20:25:34 2009 +0000

    Remove a deprecated method
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@782770 13f79535-47bb-0310-9956-ffa450edef68

commit 68a59641eeb15483597f83ec8c2a37b6fa409125
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jun 8 19:53:39 2009 +0000

    Create for bash
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@782751 13f79535-47bb-0310-9956-ffa450edef68

commit 0f168a2af281bdecccdfbeaf474b064743f5d947
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jun 6 12:54:28 2009 +0000

    login -> authenticate
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@782249 13f79535-47bb-0310-9956-ffa450edef68

commit 070c9509dda5f77bde2a4aa8a5c858468c87b6cc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jun 6 12:50:53 2009 +0000

    Add default
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@782248 13f79535-47bb-0310-9956-ffa450edef68

commit be0d5fe81b6e516d8c9f37c933305381bbf89f4f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jun 6 12:50:28 2009 +0000

    Update types
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@782247 13f79535-47bb-0310-9956-ffa450edef68

commit a41793d0525737960279f0d0917ab07e950f4c43
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jun 6 12:49:52 2009 +0000

    Fix copy and paste error
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@782245 13f79535-47bb-0310-9956-ffa450edef68

commit 817792d70113cefd5a585bd6d12181619454137d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jun 6 12:49:12 2009 +0000

    Cosmetic changes
     - make since tags consistent
     - Add TODOs were required
     - Fix copy and paste errors in javadoc
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@782244 13f79535-47bb-0310-9956-ffa450edef68

commit 0dec8e1486f450aaf71b0b153108e875e28a5221
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 5 23:35:14 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47318
    Process include preludes and codas when processing directives and whole pages.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@782166 13f79535-47bb-0310-9956-ffa450edef68

commit 468f37061bf26e1fd5d30a39c0d62724a46a1ce2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 5 21:38:44 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47299
    Simplify fireContainerEvent method and enable it to work with implementations that extend StandardContext.
    See http://svn.apache.org/viewvc?view=rev&revision=287710 for why it was written this way originally.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@782145 13f79535-47bb-0310-9956-ffa450edef68

commit 95d4e42b45981b5b5d7120b58da9e9de8ba1bb87
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 5 14:42:43 2009 +0000

    Differentiate between APR having been initialised and being available. Changes the meaning of aprInitialized so will not propose for back port.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@782032 13f79535-47bb-0310-9956-ffa450edef68

commit 5cdc72486182412aee2ff8a51445a2d777f84516
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 5 13:47:50 2009 +0000

    Fix the logic for the min version tests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@782013 13f79535-47bb-0310-9956-ffa450edef68

commit 882eaa93f6aa7c3afef8b0824c13de24c9d89f9f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 5 13:17:28 2009 +0000

    Allow trunk to work with native trunk (1.2.x) and the 1.1.x branch.
    Update recommended version to latest.
    Note minor version number changes are meant to be binary compatible with previous versions.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@782010 13f79535-47bb-0310-9956-ffa450edef68

commit 2fbb520b81eb879eebf0fa8e71c377360de3ed95
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 5 13:11:42 2009 +0000

    Fix wording on version warning message
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@782007 13f79535-47bb-0310-9956-ffa450edef68

commit 7ec9576928274090c8be01d01160271dfd66d2a6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 5 13:04:27 2009 +0000

    Simplify logging.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@782005 13f79535-47bb-0310-9956-ffa450edef68

commit ffeb832f2b1e653f325e0e2c60853cfea35d5524
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 5 12:45:13 2009 +0000

    Don't try an init APR in the connector. Let the listener do it. Prevents unexpected enabling of APR just because the DLL is present.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@782000 13f79535-47bb-0310-9956-ffa450edef68

commit f00029ef3c4f04e8045f94207155f985f027a926
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 4 15:36:07 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47158
    Thread safety issues
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@781779 13f79535-47bb-0310-9956-ffa450edef68

commit ca56089abd14ddc046d7608c9fc15ee55f47227c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 3 20:09:42 2009 +0000

    Order mime-mappings alphabetically. Makes finding dups a lot easier.
    Remove older of ms dups were present.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@781528 13f79535-47bb-0310-9956-ffa450edef68

commit bde9f1dcbd1ad1b104d8e91f0ee04da60f45696f
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jun 2 14:04:42 2009 +0000

    Consolidate directory creation from doing it in multiple places with no indication of failure and only for xmlBase to create directories during the startup phase for both appBase and xmlBase
    
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@781036 13f79535-47bb-0310-9956-ffa450edef68

commit 1cff8938f341d5232e30bfefc872f8630ea7d795
Author: Mladen Turk <mturk@apache.org>
Date:   Fri May 29 11:04:52 2009 +0000

    Update to 2.0.5 tag and remove 64-bit GUI binaries
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@779928 13f79535-47bb-0310-9956-ffa450edef68

commit cab7c49a8e06defd61a0248602374c6ac90ba58a
Author: Mladen Turk <mturk@apache.org>
Date:   Wed May 27 08:19:13 2009 +0000

    Fix bz41564 by adding /user option to service.bat which respawns the service.bat
    using runas command. This pops-up a new window with elevated security on Vista+
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@779047 13f79535-47bb-0310-9956-ffa450edef68

commit 4da1e380d6955af28d4f46121dea1e620ae70c1f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 26 16:08:26 2009 +0000

    Remove a few lines of redundant code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@778784 13f79535-47bb-0310-9956-ffa450edef68

commit de1bd1108f2a4f97517b66e7aa293abce5a42a41
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 25 22:32:57 2009 +0000

    Fix case B in bug 43343. Don't try to swap out a session that is being accessed.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@778524 13f79535-47bb-0310-9956-ffa450edef68

commit dd95184dd67f017d915c92662ae61d34245f4d57
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 25 22:26:34 2009 +0000

    Stop access count going negative when session is swapped in. This fix is required for the fix for bug 43343.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@778523 13f79535-47bb-0310-9956-ffa450edef68

commit 36feee06235fb44d980b25e0090d0a33923e1691
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 25 11:00:23 2009 +0000

    Reduce visibility of parseHost as discussed as a side issue to bug 47216.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@778383 13f79535-47bb-0310-9956-ffa450edef68

commit 5b9f39e9cbae0dc6b8a8c0cb18ab3e53fe15514a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 25 10:26:22 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47228
    Correct French spellings.
    Patch provided by Sebb. (Trusting that his French is a lot better than mine)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@778379 13f79535-47bb-0310-9956-ffa450edef68

commit 6862872283e4802aa0037a83c945c0073971fc01
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 25 10:18:13 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47235
    Remove use of auto-reconnect flag from MySQL examples
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@778375 13f79535-47bb-0310-9956-ffa450edef68

commit 43a56fe87d24f25a1d3ebbcc1e8ef933a032b2c8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 24 18:49:19 2009 +0000

    Remove ServerFactory class
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@778214 13f79535-47bb-0310-9956-ffa450edef68

commit 265f9415cffe700974bdda72d1271572d71140d0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 24 18:48:52 2009 +0000

    Remove unused import
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@778213 13f79535-47bb-0310-9956-ffa450edef68

commit 8f639029bcc590f2fbf5458cf36671b09d934a5f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 24 18:47:55 2009 +0000

    Remove last reference to ServerFactory
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@778212 13f79535-47bb-0310-9956-ffa450edef68

commit d93bbc0011b414c743946d4c14205f68d63da8bd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 24 18:46:02 2009 +0000

    Clean up imports
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@778211 13f79535-47bb-0310-9956-ffa450edef68

commit 3689ff022c13abd2e89d72de23df779343642f37
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 24 18:45:24 2009 +0000

    Doh. Commit complete patch to remove ServerFactory rather than previous half-finished version.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@778210 13f79535-47bb-0310-9956-ffa450edef68

commit aa67c1e90fa61514f0cfc00067f8d3a9323ffe03
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 24 18:39:52 2009 +0000

    Some more ServerFactory removal.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@778207 13f79535-47bb-0310-9956-ffa450edef68

commit 93381ce282d2f39307a95d5177df3df9686860bf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 24 17:54:19 2009 +0000

    Remove unused methods, and with them a few more references to ServerFactory
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@778200 13f79535-47bb-0310-9956-ffa450edef68

commit 4cd97d49523b7ef98bf93e0a6d08fcd6ba4bd01b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 24 17:48:27 2009 +0000

    Yet more ServerFactory removal. Make exception handling consistent.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@778198 13f79535-47bb-0310-9956-ffa450edef68

commit e8f5368906694f48dfffe61c7fe65d2e4f4cfe43
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 24 17:35:07 2009 +0000

    More ServerFactory removal
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@778196 13f79535-47bb-0310-9956-ffa450edef68

commit 3f965c9ccdbc0cb5d7b161e298213ce1bdcb9791
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 24 17:32:49 2009 +0000

    Remove another ServerFactory reference
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@778195 13f79535-47bb-0310-9956-ffa450edef68

commit a3b13bc00ba3845c3064192793410e9d3b9c2059
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 24 17:11:25 2009 +0000

    Remove another reference to the ServerFactory singleton.
    Remove unused engine attribute.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@778194 13f79535-47bb-0310-9956-ffa450edef68

commit 3c611ca3bce5e14981b52e4ed918122afdd6b736
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 23 19:05:31 2009 +0000

    Remove some unused code. Tested the basics and all seems OK.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@777990 13f79535-47bb-0310-9956-ffa450edef68

commit dbfd562ad2aebc3437b7974f61b004d4f5f0b141
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri May 22 17:27:37 2009 +0000

    Fix copyright. Patch by kkolinko.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@777625 13f79535-47bb-0310-9956-ffa450edef68

commit 9e59edaf816d13bda92ad30da55d893f7032a6a6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri May 22 15:46:17 2009 +0000

    Revert patch for 42390. More tetsing required.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@777586 13f79535-47bb-0310-9956-ffa450edef68

commit 45c1453ed9a5a467b00e62b7fca86288ee06a3e0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri May 22 15:30:30 2009 +0000

    Fix JavaDoc aspects of bug 46985. Based on kkolinko's proposed patch.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@777576 13f79535-47bb-0310-9956-ffa450edef68

commit f07e8cc3d3b3c18246164cf1bd6e24785ad7b041
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri May 22 11:15:43 2009 +0000

    Removed some casts. Patch suggested by kkolinko
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@777470 13f79535-47bb-0310-9956-ffa450edef68

commit 8ac618c7973b4f9a057723b9316eac200e9aa5fd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri May 22 10:50:56 2009 +0000

    Stop build process adding extra blank line to end of files in .tar.gz src distro - missed a few in previous commit
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@777466 13f79535-47bb-0310-9956-ffa450edef68

commit 621585969c2aea4583b98bebec6ca0f031465cca
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri May 22 10:47:36 2009 +0000

    Stop build process adding extra blank line to end of files in .tar.gz src distro
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@777464 13f79535-47bb-0310-9956-ffa450edef68

commit 015072c59121c166874d983d06f583b74c181339
Author: Rainer Jung <rjung@apache.org>
Date:   Thu May 21 23:29:02 2009 +0000

    More missing svn properties.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@777319 13f79535-47bb-0310-9956-ffa450edef68

commit 8a30360258635580ff7c1c0588eceb0702f071f6
Author: Rainer Jung <rjung@apache.org>
Date:   Thu May 21 22:37:54 2009 +0000

    Subversion property cleanup.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@777300 13f79535-47bb-0310-9956-ffa450edef68

commit 2ba5910acfe03815b1eeaa7e162ff88735e0b0f1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 21 21:30:23 2009 +0000

    Make a few methods static so they can easily be used from other classes (like LifecycleListeners)
    Add a note about manual context configuration and reload.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@777268 13f79535-47bb-0310-9956-ffa450edef68

commit 1b81b03dc9e475fc9770f87656a5268f80010358
Author: Rainer Jung <rjung@apache.org>
Date:   Thu May 21 20:38:53 2009 +0000

    Add missing keywords svn property.
    Already applied to tc6.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@777251 13f79535-47bb-0310-9956-ffa450edef68

commit 9fa7640cf364ed2297a6e966c5adda2ad2c84eba
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu May 21 18:35:40 2009 +0000

    Consolidate the use of service start time into one local variable
    https://issues.apache.org/bugzilla/show_bug.cgi?id=47234
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@777210 13f79535-47bb-0310-9956-ffa450edef68

commit fd5da5bd3c9c218692427a43a04ffb6c1d0d9660
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu May 21 04:03:05 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=44943
    Reduce copy/paste issues caused by different engine names.
    Applying the same fix to exe installations of Tomcat.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@776945 13f79535-47bb-0310-9956-ffa450edef68

commit 15b0a736f318096e6972e9f61283b6d676cf1036
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu May 21 02:56:06 2009 +0000

    Build files: Calculate current year automatically by using <tstamp>.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@776935 13f79535-47bb-0310-9956-ffa450edef68

commit 594c994fec6e144eab05d541d9b8740eefb479c3
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu May 21 02:26:21 2009 +0000

    Update to NSIS 2.44
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@776924 13f79535-47bb-0310-9956-ffa450edef68

commit 93540ec20af1471877d48368cae13bc344f6b674
Author: Konstantin Kolinko <kkolinko@apache.org>
Date:   Thu May 21 02:07:25 2009 +0000

    Build files: Apply explicit encoding to all operations that perform filtering.
    Those are: 1) <copy>, when filtering is used (has filtering="true" or has a nested <filterset>), 2) <fixcrlf>
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@776921 13f79535-47bb-0310-9956-ffa450edef68

commit 6a9b0b95f7019fa7ca679e8fe962c5d613223ba0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 17 12:26:21 2009 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@775633 13f79535-47bb-0310-9956-ffa450edef68

commit a3b6e68110c4681741137caa089e27bc56e895a0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 12 13:28:29 2009 +0000

    Fix the other getServer() - sorry for the noise
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@773886 13f79535-47bb-0310-9956-ffa450edef68

commit ab9ba73121a686ac67bd01fb2ab3b2afd36686ea
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 12 13:25:55 2009 +0000

    Slightly better approch
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@773883 13f79535-47bb-0310-9956-ffa450edef68

commit 5e173187cced48dcc1fbaa6e52997230de96e58a
Author: Peter Rossbach <pero@apache.org>
Date:   Fri May 8 07:40:59 2009 +0000

    close stream after error
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@772872 13f79535-47bb-0310-9956-ffa450edef68

commit 1cb44533049ae001f87059a2aaae9910a8f31e54
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 6 10:49:03 2009 +0000

    More ServerFactory surgery
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@772142 13f79535-47bb-0310-9956-ffa450edef68

commit 9974b674acb69326d1bf5354886092eaa7fd0011
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 6 10:26:44 2009 +0000

    Remove some unnecessary code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@772133 13f79535-47bb-0310-9956-ffa450edef68

commit 7de4ca5648f3dea6da0d844ce4d2c5b02807484b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 6 10:22:02 2009 +0000

    Start process of removing o.a.c.ServerFactory. Need to do this so:
    a) The current o.a.c.startup.Tomcat tests pass
    b) We can start to use o.a.c.startup.Tomcat for some new unit tests
    This removes ServerFactory from the Realms
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@772132 13f79535-47bb-0310-9956-ffa450edef68

commit b3d852a8f3d4f677e4b7e767cd8300445fe32b4b
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed May 6 01:49:43 2009 +0000

    Update test cases with a dummy driver
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@772025 13f79535-47bb-0310-9956-ffa450edef68

commit 67824f5851903249a12400f17c25517c4b4b90ef
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon May 4 01:46:41 2009 +0000

    Added in blank dummies for tests
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@771156 13f79535-47bb-0310-9956-ffa450edef68

commit 58aa9f862e837d3435abf7d00d1c782146aaf41d
Author: Filip Hanik <fhanik@apache.org>
Date:   Sun May 3 00:18:33 2009 +0000

    Make connection objects non reusable. Once release has been called, it can't be reused.
    This makes the sizing algorithm easier
    C3P0 leaks connections during the fairness test, reaches 20 connections even max is set to 10
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@771006 13f79535-47bb-0310-9956-ffa450edef68

commit 5882a2ebbb520c9db9a7b1bdcd693c10bbb01dfe
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 2 23:41:12 2009 +0000

    Put tests in right package
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@771003 13f79535-47bb-0310-9956-ffa450edef68

commit 96167ed968f35bd06638233042f91d361785e778
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 2 23:36:24 2009 +0000

    Clean up inspired by https://issues.apache.org/bugzilla/show_bug.cgi?id=47111
    Remove unused code.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@771002 13f79535-47bb-0310-9956-ffa450edef68

commit 42125fdb5d76df12e7085c68dc0b03b5168141b1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 2 23:20:33 2009 +0000

    Tab police and other whitespace issues
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@771001 13f79535-47bb-0310-9956-ffa450edef68

commit f1b34e0bfe509a57469b06d8518d1d7b6ff44625
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 2 23:17:55 2009 +0000

    Move file for consistency. May ultimately move test.xml inside build.xml
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@771000 13f79535-47bb-0310-9956-ffa450edef68

commit 05499f2c54247142d4dfc9aaffbb8d7b7956ea5a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 2 23:12:17 2009 +0000

    Changes as a result of https://issues.apache.org/bugzilla/show_bug.cgi?id=47124
    Add JUnit to build
    Provide TestSuite to run all tests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@770999 13f79535-47bb-0310-9956-ffa450edef68

commit 16e55d8d60b7ea1e9565debf6abf3b90edcd5783
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 2 22:12:28 2009 +0000

    Add all of the Tribes tests to the test suite. Some of these fail.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@770985 13f79535-47bb-0310-9956-ffa450edef68

commit 78a1b578e14799f5b73270240dafb6a500dabb72
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat May 2 04:57:47 2009 +0000

    Implement a hard limit, the 'optimistic' sizing limit is way to optimistic, and can let the pool grow a bit too fast.
    A hard limit stays hard.
    Clean up pooled connection a bit
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@770890 13f79535-47bb-0310-9956-ffa450edef68

commit 8a4df0ceb965232a0f203626d699d9870c3e975f
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat May 2 04:35:22 2009 +0000

    Fix logger level to not show up by default
    Add fairness tests to all
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@770889 13f79535-47bb-0310-9956-ffa450edef68

commit 6ca4ed162e2a1b837fe036404e82dee5ec1a43e8
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat May 2 04:24:59 2009 +0000

    Fix closure of connections in test cases
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@770888 13f79535-47bb-0310-9956-ffa450edef68

commit 8d0b34a1cd542bc77a27de0d19ee4185a1a9e0d3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 2 00:46:56 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47086
    Include the 64-bit windows binaries in the distribution
    Update the Windows installer to:
     - auto detect the platform and install the correct binary for x86/amd64/ia64
     - look for a 64-bit JVM on 64-bit platforms
     - write the service registry information to the 64 bit section of the registry (rather than Wow6432Node) on 64-bit machines
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@770876 13f79535-47bb-0310-9956-ffa450edef68

commit dd97f75214d38c5e8d362615e55ab626d7cc75b8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri May 1 21:51:32 2009 +0000

    Update file names for TC7
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@770834 13f79535-47bb-0310-9956-ffa450edef68

commit f34455d975e8d7b78a36c15c07bcf4019a211793
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri May 1 20:12:09 2009 +0000

    Fix 47080: NPE in RealmBase.findSecurityConstraints when uri is null
    https://issues.apache.org/bugzilla/show_bug.cgi?id=47080
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@770809 13f79535-47bb-0310-9956-ffa450edef68

commit e1d738d18890e2ec35c1c1c05d0b043010712a6f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri May 1 18:51:22 2009 +0000

    Add generics, remove unused field
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@770787 13f79535-47bb-0310-9956-ffa450edef68

commit 893aeb3a9301e41657fa4f677572c8e81116a780
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri May 1 16:21:58 2009 +0000

    Tab police
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@770739 13f79535-47bb-0310-9956-ffa450edef68

commit 1ad05014b573861b4af501cfe13cb7ef00bc98dc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri May 1 15:34:43 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47050
    Remove unnecessary filtering
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@770716 13f79535-47bb-0310-9956-ffa450edef68

commit 83c32802fd789d8fc0b3fca315d058a5dd5d765a
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri May 1 03:40:28 2009 +0000

    Prepare for next build
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@770525 13f79535-47bb-0310-9956-ffa450edef68

commit 0992ea9bf6961c54d846c2a09b015d1ebc09f98d
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri May 1 02:02:04 2009 +0000

    doco
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@770514 13f79535-47bb-0310-9956-ffa450edef68

commit cc32cda17385377c76e193dadca686a65e4f4f6a
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Apr 30 19:41:07 2009 +0000

    Add the following features
    - max age for a connection kept alive
    - an ability to reset the abandon timer when queries are executed
    - an abandoned test, abandon when a percentage of the pool has been utilized
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@770411 13f79535-47bb-0310-9956-ffa450edef68

commit 4465bfcc1631117175cc525408e342e05eb09780
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 30 11:38:25 2009 +0000

    Add an experimental embedded build target to use with o.a.c.startup.Tomcat
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@770171 13f79535-47bb-0310-9956-ffa450edef68

commit 4569abc5f33f1f0e5b8171dbfac9486613d5b74a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 30 11:29:03 2009 +0000

    JMX expects service name and engine name to be the same.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@770169 13f79535-47bb-0310-9956-ffa450edef68

commit 54b9da9b4eb29f08d239a6bb664c5792ce684e1b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 29 22:47:53 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=47046
    Unregister all MBeans, including when non-default engine names are used (which changes the domain of some of the MBeans)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@769979 13f79535-47bb-0310-9956-ffa450edef68

commit 491faf7aec08c70a7c4c0026f56463dedbda918e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 29 11:51:16 2009 +0000

    warp is long gone
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@769760 13f79535-47bb-0310-9956-ffa450edef68

commit 2712bd7103b82ff2b90e7559d1e8c33967444e3c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 29 10:24:57 2009 +0000

    Remove Reloader interface that is never used.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@769735 13f79535-47bb-0310-9956-ffa450edef68

commit abadf910f23e432e3142e83fd75b58436d34ae00
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 29 10:22:00 2009 +0000

    Reduce scope - partial application of patch by Jens Kapitza from bug 46999
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@769734 13f79535-47bb-0310-9956-ffa450edef68

commit 1b4b260b504949dc857dfb00c442b05cd2bfb7c6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Apr 28 11:51:47 2009 +0000

    Delete deprecated class.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@769347 13f79535-47bb-0310-9956-ffa450edef68

commit d04dd88d6f6816da0b0985ba9c4256713404d0bf
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Apr 27 18:54:55 2009 +0000

    BZ 46925: Improve search for nested roles in
    JNDIRealm by replacing recursive search with
    iterative search. Patch provided by Stefan Zoerner.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@769102 13f79535-47bb-0310-9956-ffa450edef68

commit f42751e6be458650d257b4638dafb2c0116a741a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Apr 25 23:25:36 2009 +0000

    Reduce dependency on URLClassloader. Allow custom Loader elements to use ClassLoader rather than URLClassLoader.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@768624 13f79535-47bb-0310-9956-ffa450edef68

commit 629263c7b3e8ec6a0c2f00540dfa7212ddb91bde
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 24 15:44:42 2009 +0000

    WebappLoader expects loaderClass to be an instance of o.a.c.loader.WebappClassloader so add that to the docs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@768335 13f79535-47bb-0310-9956-ffa450edef68

commit 87a48832976b77b82b0e5ed2eb554148c06b249c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 23 17:02:02 2009 +0000

    Another unused method
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@767978 13f79535-47bb-0310-9956-ffa450edef68

commit d2add3cec605f8e0d4305c96b7ccb6f84f01c552
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 23 16:59:25 2009 +0000

    Remove unused / deprecated code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@767976 13f79535-47bb-0310-9956-ffa450edef68

commit b6953170939117b1443e44e04097614063462f25
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Apr 23 16:40:28 2009 +0000

    Add c3p0 as a comparison in the fairness test
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@767969 13f79535-47bb-0310-9956-ffa450edef68

commit a8f3c0fa57517616c3749ca25ea7346890cc1715
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Apr 23 16:33:16 2009 +0000

    Dequeu is a Java 6 API
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@767965 13f79535-47bb-0310-9956-ffa450edef68

commit 50a1d0b550e318572636b409e55a4e1329029932
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 23 16:14:59 2009 +0000

    Update for April draft of servlet spec. Some 3.0 stuff that was complete will need to be re-done
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@767956 13f79535-47bb-0310-9956-ffa450edef68

commit 61fbf6fa92e4cc09312571e08efca7671a9da972
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Apr 23 16:02:32 2009 +0000

    Added in c3p0 to the performance tests, it doesn't even perform as well as DBCP, which is contradictory to what the internet is claiming
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@767949 13f79535-47bb-0310-9956-ffa450edef68

commit 3ba7b0244be1a8aebdb5a238c81ddf791839f6ef
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Apr 23 14:40:16 2009 +0000

    Configure fair queue by default, its faster.
    Implement logic around when/how connections are treated as abandoned.
    First one is by pool utilization, abandonWhenPercentageFull, the second one is to add a ResetAbandonTimer interceptor, so when successful invokations take place on the connection, it resets the time
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@767934 13f79535-47bb-0310-9956-ffa450edef68

commit 41c9a74c64c8c7043a81f2cb13bf717e9846bd76
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Apr 21 17:03:12 2009 +0000

    Allow the factory attribute on the ResourceLink element.
    Make sure that ResourceBase properties are transferred to the ResourceLinkRef
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@767223 13f79535-47bb-0310-9956-ffa450edef68

commit 959dc1bb1697737f6e4e88f145ec2a4cbe1d88c4
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Apr 21 01:15:15 2009 +0000

    Add dependency to tomcat 7 now
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@766937 13f79535-47bb-0310-9956-ffa450edef68

commit ba68a7b8de48f2528c4d7a39ec86f1b2c4e079c1
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Apr 21 01:14:36 2009 +0000

    not sure what went wrong, my SVN is going ape #!$
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@766936 13f79535-47bb-0310-9956-ffa450edef68

commit 9f18bb2908963e0bcc7afbca395d4c0510bb0e91
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Apr 21 00:25:11 2009 +0000

    The fair queue outperforms the j.u.c blocking queue implementation. lets use our impl as default
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@766928 13f79535-47bb-0310-9956-ffa450edef68

commit 06249cfad04471c7da6619e319c9e777ed17b7d9
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Apr 20 23:25:51 2009 +0000

    narrow down the interface for extension purposes
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@766912 13f79535-47bb-0310-9956-ffa450edef68

commit a62fa8e8411d5da20386cea7387954b3be2777b4
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Apr 20 22:59:55 2009 +0000

    Add source to the path of dbcp, and remove the module paths from the main project
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@766906 13f79535-47bb-0310-9956-ffa450edef68

commit 27a3ed97f2c77dd99d3ff2a9d7406840429be15a
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Apr 20 22:57:44 2009 +0000

    fix typo
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@766905 13f79535-47bb-0310-9956-ffa450edef68

commit c81c0f833ae0588d461ec6df249c938f2bedb44e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Apr 20 11:39:22 2009 +0000

    Ran Native2ascii over i18n files
    Fixes to French files - Spot checks only
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@766662 13f79535-47bb-0310-9956-ffa450edef68

commit 61e97845b5fb3cfb7900954aa83486dffe66b0c9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Apr 20 11:33:41 2009 +0000

    Ran Native2ascii over i18n files
    Fixes to German files
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@766660 13f79535-47bb-0310-9956-ffa450edef68

commit 09218da48fa246ff121efe46b104290f80855366
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Apr 20 11:31:51 2009 +0000

    Ran Native2ascii over i18n files
    Fixes to Spanish files - checked by hand in full
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@766659 13f79535-47bb-0310-9956-ffa450edef68

commit 04ac51a5321012178164aafb3d23f0eefb25ca0b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Apr 20 11:27:11 2009 +0000

    Ran Native2ascii over i18n files
    It makes sure files end with new line
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@766657 13f79535-47bb-0310-9956-ffa450edef68

commit c8c773b0024aaa2a2e699fa2d41fba99431d69e1
Author: Filip Hanik <fhanik@apache.org>
Date:   Sun Apr 19 22:00:51 2009 +0000

    Allow pluggable property replacement object
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@766526 13f79535-47bb-0310-9956-ffa450edef68

commit 93dc4a710cc7da1731da45ded503e90c82c84c7e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 17 16:30:56 2009 +0000

    Update Servlet 3.0 classes to spec snapshot as of early March 2009. Still not final.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@766075 13f79535-47bb-0310-9956-ffa450edef68

commit 382780388028fb4c1fb02b396904d2cc599953a1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 17 08:50:50 2009 +0000

    Remove code that was  marked for removal in r300602
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@765909 13f79535-47bb-0310-9956-ffa450edef68

commit 80e0d52b7693650141e9b629812d88c75c799568
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 17 08:43:34 2009 +0000

    Revert r765727 (fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=46538) - it fixes the reported issue but introduces other issues.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@765902 13f79535-47bb-0310-9956-ffa450edef68

commit 8d76d21d3dbbbf70a7b2940cd15bc1b68ffe9892
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 16 19:31:57 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46538
    ETag must vary between compressed and uncompressed versions.
    Based on a patch by Oliver Schoett
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@765727 13f79535-47bb-0310-9956-ffa450edef68

commit ff0129fcd36f391f019ab7e3c3f1233564110138
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 16 17:28:48 2009 +0000

    Drop unused fields
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@765695 13f79535-47bb-0310-9956-ffa450edef68

commit 04cacaff7ec019aa8623e6684d0b08b76a30ee7c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 16 15:16:43 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=37929 by restoring r357410 that was lost in r379417
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@765662 13f79535-47bb-0310-9956-ffa450edef68

commit 57f3cb03a3dc800008077b11bacd4b60a2e0376a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 16 14:57:40 2009 +0000

    Clean up some deprecated code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@765658 13f79535-47bb-0310-9956-ffa450edef68

commit e6d036e66983761e3d344331387d456cbebe0573
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 16 14:52:07 2009 +0000

    Fix formatting before I make some other changes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@765655 13f79535-47bb-0310-9956-ffa450edef68

commit 4f72f9bfc893f5c3505cbce373b77376a46e771c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 16 10:08:39 2009 +0000

    Remove unnecessary tests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@765558 13f79535-47bb-0310-9956-ffa450edef68

commit 4e72f8ee62137f0bd5d0aaf1b9f8690699393d9a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 16 10:07:07 2009 +0000

    Remove unused method that introduced an additional parameter that was then ignored.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@765555 13f79535-47bb-0310-9956-ffa450edef68

commit 8f090a4f6ee03ea19f877e569ac7f47d81419e7c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 15 22:45:40 2009 +0000

    Typo. Why do I always spot them just after committing a change?
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@765407 13f79535-47bb-0310-9956-ffa450edef68

commit 9b0804eb0b8c4e4ecc562134257befa0a9107c9c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 15 22:44:49 2009 +0000

    As a result of https://issues.apache.org/bugzilla/show_bug.cgi?id=46924 make the documentation clearer about what Tomcat will do if a WAR/DIR/context file is deleted or updated and auto-deploy is enabled.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@765406 13f79535-47bb-0310-9956-ffa450edef68

commit 588d9f81c4152075cccc713f69ba193531072849
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 15 12:26:25 2009 +0000

    Remove unnecessary code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@765153 13f79535-47bb-0310-9956-ffa450edef68

commit 4eb13707282b00d64766bb7da0c1ddf3e92fee41
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Apr 15 05:44:43 2009 +0000

    When using the fair queue, use a much more efficient idle connection handling by using a FILO queue
    so that connections are reused properly
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@765054 13f79535-47bb-0310-9956-ffa450edef68

commit 5c87bbbe4c74ef484fcb911524c4a3ff7669aa06
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Apr 15 04:58:06 2009 +0000

    JMX needs to be handled a bit differently. Random object names are not all that great.
    In this way, one can control the JMX registration completely from the outside.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@765051 13f79535-47bb-0310-9956-ffa450edef68

commit fbdde4e1e1625c72b0338f8cac072de68f0a2e69
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Apr 14 23:19:06 2009 +0000

    Fix stupid error
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@764997 13f79535-47bb-0310-9956-ffa450edef68

commit c8cbc28ce67eaee52220acfb83da169e38d106bc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Apr 14 22:16:53 2009 +0000

    Fix secondary issue reported as part of bug47013
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@764985 13f79535-47bb-0310-9956-ffa450edef68

commit 2732fb76bebdc4bc6cfe59e5a3e9dbad8cdea5da
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Apr 14 17:46:23 2009 +0000

    Code clean up prompted by Eclipse:
     - mark unused parameters as unused
     - remove code that doesn't do anything
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@764898 13f79535-47bb-0310-9956-ffa450edef68

commit 7189484d82af16768071859ca70d3fe675d3a5fa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Apr 14 17:13:16 2009 +0000

    Add a TODO to review the synchronisation around background processing
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@764884 13f79535-47bb-0310-9956-ffa450edef68

commit 818ce28403509c3ca06ce2e7135332d7a99047a4
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Tue Apr 14 11:18:54 2009 +0000

    Oops it will loop without that...
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@764741 13f79535-47bb-0310-9956-ffa450edef68

commit 4bbbedbe45b5f8cfce478f4209c75f92a0693868
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Apr 14 02:28:50 2009 +0000

    Add default tomcat pool JMX descriptions
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@764662 13f79535-47bb-0310-9956-ffa450edef68

commit 51747b8f44029af64dc591a7a6a21e355a0cb606
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Thu Apr 9 16:32:04 2009 +0000

    Add the Tcp code... Still need the code in httpd-trunk to test it.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@763726 13f79535-47bb-0310-9956-ffa450edef68

commit aacd527bea6812f458cf6fcba3b442389db98286
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 9 16:20:23 2009 +0000

    Drop some unused methods
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@763723 13f79535-47bb-0310-9956-ffa450edef68

commit a9fcfd5fec397dd818f896dd3c0f48d44ff2c78d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 9 16:13:00 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=42390
    Correct JSP compilation error with nested tagfile tags with variables with "AT_BEGIN" scope
    Patch provided by Konstantin Kolinko
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@763717 13f79535-47bb-0310-9956-ffa450edef68

commit 90e8d0dfca7f17a8fb4286919feb3b38c00d0374
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 9 15:45:30 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=42579
    Handle both relative and absolute search results
    Patch provided by Brandon DuRette
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@763706 13f79535-47bb-0310-9956-ffa450edef68

commit 78a994abeacd24a9493ecace438f47355acd78ae
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 9 15:11:46 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46354
    ArrayIndexOutOfBoundsException when using org.apache.jasper.runtime.BodyContentImpl.LIMIT_BUFFER=true
    Pathc provided by Konstantin Kolinko
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@763681 13f79535-47bb-0310-9956-ffa450edef68

commit 42a093b73f21ededb212064a99fbbc3ea1d75360
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 9 13:54:05 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46984
    CR & LF in middle of method name should cause a 400
    So client sees 400, stop processing the request once we know it is bad
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@763654 13f79535-47bb-0310-9956-ffa450edef68

commit f9941f44d8e69dfdafedb7bc557da47cf16c5507
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Thu Apr 9 13:00:21 2009 +0000

    Move the multi logic to MultiCastSender with
    the idea to TCP sockets and a list of proxy too.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@763635 13f79535-47bb-0310-9956-ffa450edef68

commit a788d2c513e9b90f10c8997863ab4bf46c6f9c4e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 9 12:55:49 2009 +0000

    Remove accidental whitespace
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@763632 13f79535-47bb-0310-9956-ffa450edef68

commit f109fb9fda82ff69b1feeb05d1e4a2e03c3c3ef1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 9 12:54:09 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46961
    Avoid tripping over http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6434149
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@763630 13f79535-47bb-0310-9956-ffa450edef68

commit 80b90ee1e2b32f99c715c6defe52ee5e1a00885f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 9 11:46:13 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46909
    The ';' should really only be used if there is a following parameter
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@763611 13f79535-47bb-0310-9956-ffa450edef68

commit 6ecc35df5c41019cbff8bc1556e43e114cb85873
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 9 11:06:34 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46562
    Close the reader when we are done
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@763599 13f79535-47bb-0310-9956-ffa450edef68

commit c9d1bf5922dcc97504a04cd952699985514b4d50
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 9 10:37:36 2009 +0000

    Remove old thread pool code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@763590 13f79535-47bb-0310-9956-ffa450edef68

commit 5ba5f96b9adab6290eda67c122cc11c2421602d0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 9 10:27:01 2009 +0000

    Remove the org.apache.jk package as per discussion on dev list. Do this early in Tomcat 7 development to increase chances of identifying any issues with org.apache.coyoye.ajp package
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@763588 13f79535-47bb-0310-9956-ffa450edef68

commit 2a4a1a8ecf271791064ad0196ec6d96339c4ff88
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 9 10:20:36 2009 +0000

    Java uses 0 rather than -1 for infinite socket timeout
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@763585 13f79535-47bb-0310-9956-ffa450edef68

commit 1cc1aa644ff5d5c95ab91be38e62aba063f3b94b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 9 09:53:34 2009 +0000

    Update the docs for the protocol attribute
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@763581 13f79535-47bb-0310-9956-ffa450edef68

commit eb9a409476c5dcc724ef78cbe262db3dd3628e5e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 9 09:49:34 2009 +0000

    Switch to org.apache.coyote.ajp.AjpProtocol rather than org.apache.jk.server.JkCoyoteHandler
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@763580 13f79535-47bb-0310-9956-ffa450edef68

commit 0c48c98f78fc11924be11c8a28bd31878368c53d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 9 09:14:40 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46998
    Reduce scope
    Patch provided by Jens Kapitza
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@763567 13f79535-47bb-0310-9956-ffa450edef68

commit 4e1c4b28e067476d06e0f45c576ac41de6c0e366
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 9 09:13:28 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46997
    Code clean up
    Patch provided by Jens Kapitza
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@763566 13f79535-47bb-0310-9956-ffa450edef68

commit f8c95415396c3078a8c6ecaf50e1e887826ff099
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Thu Apr 9 06:54:21 2009 +0000

    Move the class from cluster to ha.backend
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@763533 13f79535-47bb-0310-9956-ffa450edef68

commit 008407e60426ce9935596caed54fb221f1dc1a79
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 8 17:15:16 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46509
    Use correct link on error page in JSP security example
    Patch provided by Michael Moody
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@763325 13f79535-47bb-0310-9956-ffa450edef68

commit 92b18d2150a71e3ea01795604f273afb5986ab7f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 8 17:12:18 2009 +0000

    Fix NPE when not using cookies for session IDs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@763322 13f79535-47bb-0310-9956-ffa450edef68

commit a228c06d32ebb0a11f45f11f3b743cdb4a4aa9d5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 8 16:13:23 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46991
    Update the counters before we recycle the request
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@763302 13f79535-47bb-0310-9956-ffa450edef68

commit f1fd99996e9d57f399866073e4af60417e1dab61
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 8 16:08:42 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46990
    Various sync issues.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@763298 13f79535-47bb-0310-9956-ffa450edef68

commit 81ebe8f86d9bebf19d8f349a8273f8a215b5ee14
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 8 15:28:08 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46988
    Make constants final
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@763282 13f79535-47bb-0310-9956-ffa450edef68

commit f497f1248a13c52aa60a4a97630fb71bff4994a2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 8 15:25:05 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46986
    Find bugs was complaining although these have not been reported as causing issues for any users.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@763281 13f79535-47bb-0310-9956-ffa450edef68

commit 6bfbbcb6ceb955c2ee8008d9c35ade5ab3c89418
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 8 14:58:20 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46985
    There is still some optimisation possible but I think this is a good balance between clarity and oprimisation.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@763262 13f79535-47bb-0310-9956-ffa450edef68

commit 243aa86a06ea538f2988f8cc15f861593474b37b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 8 12:59:21 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46967 and make behaviour consistent when running under a security manager.
    Based on a patch provided by Kirk Wolf
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@763228 13f79535-47bb-0310-9956-ffa450edef68

commit ded12f2d2c942ccc7b63c857f0afcaa10c18e0a4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 8 12:33:17 2009 +0000

    Remove class that was deleted some months ago.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@763216 13f79535-47bb-0310-9956-ffa450edef68

commit a9a58fb8beab4b98183cc38f7318dd4dd8ebed21
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 8 11:40:08 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46958
    Allow XML status to work irrespective of context path
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@763193 13f79535-47bb-0310-9956-ffa450edef68

commit 11547825ae4ba5318bef8494ffe2e31286df5cdb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 8 11:36:40 2009 +0000

    Remove unused constants
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@763191 13f79535-47bb-0310-9956-ffa450edef68

commit 62482a9ca5b419b08709fcf8a82753f6f8ed522c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 8 11:25:45 2009 +0000

    Fix unlikely NPE
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@763190 13f79535-47bb-0310-9956-ffa450edef68

commit 23c47da32762578e916511aa78660d0c063622aa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 8 11:08:17 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46933
    Simplify StringManager using Java 5 features.
    Based on a patch by Jens Kapitza.
    Include a test case to ensure simplification is OK for null input
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@763183 13f79535-47bb-0310-9956-ffa450edef68

commit 360f8eb59493bd9259b68fe8272ca2442c23c4d4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 8 10:17:59 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46982
    Use DST offset not current offset (which will be 0 when DST is not being used)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@763166 13f79535-47bb-0310-9956-ffa450edef68

commit b90f6185eace8c45cae606b2f503756f86b1119a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Apr 7 20:20:32 2009 +0000

    Add missing dir that stops me running Tomcat directly from the build dir
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@762937 13f79535-47bb-0310-9956-ffa450edef68

commit bf283ad789711efc24efcf21b76cbac1eb1dfe5f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Apr 7 20:19:18 2009 +0000

    Fix typo that meant .exe and .pdf files were corrupted in .tar.gz source bundle
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@762936 13f79535-47bb-0310-9956-ffa450edef68

commit da34a1813a0d098fdf97b52c69ad6b519f72a08d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Apr 7 20:04:31 2009 +0000

    Fix annoying loss of executable bit when building on Mac
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@762929 13f79535-47bb-0310-9956-ffa450edef68

commit d51d7f5c14d40219ee99ae156f73a150296312cd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Apr 7 19:36:18 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46599
    Document known DAEMON issue
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@762921 13f79535-47bb-0310-9956-ffa450edef68

commit 22580e76a3e5b07b3a7f458eb829001a0fbd0b13
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Apr 7 17:44:04 2009 +0000

    Update native
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@762868 13f79535-47bb-0310-9956-ffa450edef68

commit 2182742dc4a51c892cef4ea1a388f64317e5c35c
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Apr 6 20:49:05 2009 +0000

    Remove changlog entry backported from trunk to TC 6
    in revision r762499.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@762500 13f79535-47bb-0310-9956-ffa450edef68

commit 9152e523edfbd2a12607c1c4c328ce01abc8e031
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Mon Apr 6 16:40:12 2009 +0000

    Arrange the code according to Rainer's comments.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@762411 13f79535-47bb-0310-9956-ffa450edef68

commit 4c72927ba8600bae443cbb5987c2c5f6f9b8f7af
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Mon Apr 6 15:09:19 2009 +0000

    First support for httpd-trunk heartbeat logic.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@762374 13f79535-47bb-0310-9956-ffa450edef68

commit eee5b5959dc0e5fd004f4774ff29b987e1b9af61
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 5 18:52:31 2009 +0000

    Update package name
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@762133 13f79535-47bb-0310-9956-ffa450edef68

commit 582298f1aa16efffd93fd04386f120e4f683de8c
Author: Costin Manolache <costin@apache.org>
Date:   Sun Apr 5 15:29:53 2009 +0000

    Added a getter and the css mapping.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@762106 13f79535-47bb-0310-9956-ffa450edef68

commit 60aac8dbe184b1594eee49778bcbf3e713472e8a
Author: Costin Manolache <costin@apache.org>
Date:   Sun Apr 5 15:28:07 2009 +0000

    Files changed/added in tomcat
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@762105 13f79535-47bb-0310-9956-ffa450edef68

commit 9f1184aeb66f23f84bd7ac83b1e2dae76bb4a3d5
Author: Costin Manolache <costin@apache.org>
Date:   Sun Apr 5 14:24:42 2009 +0000

    Build and one example of embedding tomcat-lite ( I'll add more when I get time, I only picked
    spring for its limitations - it's easier to use tomcat-lite in a framework that supports
    existing-object injection ).
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@762090 13f79535-47bb-0310-9956-ffa450edef68

commit 13a847b1a30f67e98aa087849bbc406b2317ba00
Author: Costin Manolache <costin@apache.org>
Date:   Sun Apr 5 01:36:27 2009 +0000

    Unit tests, including the Watchdog converted to Junit.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@762039 13f79535-47bb-0310-9956-ffa450edef68

commit 09b640ee06ce6e9fd93b493f5faf2ef99543c64b
Author: Costin Manolache <costin@apache.org>
Date:   Sat Apr 4 16:24:34 2009 +0000

    First batch, based on sandbox. The main change is adding the ObjectManager to abstract configuration/JMX/integration,
    and replace some filters with explicit interfaces, as was suggested. This has dependencies on coyote and
    tomcat-util, and some optional servlets/filters/plugins to provide various features from the spec.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@761964 13f79535-47bb-0310-9956-ffa450edef68

commit 3f5f61a541ff9c212505c1f08050a2d9ddba6e6c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 3 10:28:40 2009 +0000

    Fix a handful of failures when using the litmus WebDAV testsuite.
    Still other failures but these appear to relate to the lack of PROPPATCH support.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@761601 13f79535-47bb-0310-9956-ffa450edef68

commit 58d518f302262f21e66d3095d5f556e503dc9b5c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 2 16:22:13 2009 +0000

    Fix litmus test failure:
    MKCOL with weird body must fail with 415 (RFC2518:8.3.1)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@761338 13f79535-47bb-0310-9956-ffa450edef68

commit f82b2b8bbf996cef37044b2ab168b5d341c4408c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 2 16:21:00 2009 +0000

    Misc code clean-up. Remove unused parameters / exceptions etc.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@761336 13f79535-47bb-0310-9956-ffa450edef68

commit bd1d1e81af0bab50c90341ff1dbc87e7940c3cef
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 2 11:58:51 2009 +0000

    Tabs -> 8 spaces
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@761257 13f79535-47bb-0310-9956-ffa450edef68

commit 1a97c9207a76a2d6d642a421c9bbcd1dfccbc0e8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 1 21:53:38 2009 +0000

    Align build script with recent re-packaging
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@761079 13f79535-47bb-0310-9956-ffa450edef68

commit 8dbb87e600bc17f270715925bdee26364e912d07
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Mar 29 16:39:48 2009 +0000

    Add filter encoding suggested by Remy to ant's
    copy task attributes for the properties files.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@759720 13f79535-47bb-0310-9956-ffa450edef68

commit 1cb78c391f3a299bde5f684d73acd28804095fad
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 28 18:25:29 2009 +0000

    Removed commented out code / unused classes.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@759544 13f79535-47bb-0310-9956-ffa450edef68

commit aa1ed0c6237fb44620911d4ff7ff7f7f60ec9de9
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat Mar 28 02:46:29 2009 +0000

    quote the name
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@759422 13f79535-47bb-0310-9956-ffa450edef68

commit 9903b385e1fa5d1a7cc5f0d022b79bdcde5d0802
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 27 12:56:40 2009 +0000

    Move classes from org.apache to org.apache.tomcat
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@759123 13f79535-47bb-0310-9956-ffa450edef68

commit 4788dc93e0f8f0d348beae5bf77b211e473019e5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 27 12:25:56 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46923
    Fully document protocol options for AJP.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@759114 13f79535-47bb-0310-9956-ffa450edef68

commit f36a2c4707ee0aab8dae28706986d729ae4bb352
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 27 09:42:47 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=41606
    Prevent double init() of JSP
    Patch provided by Chris Halstead
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@759074 13f79535-47bb-0310-9956-ffa450edef68

commit 84e630b9bb28a30dc5f26cca32655887f406743f
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Mar 26 17:17:22 2009 +0000

    Some things you don't want to expose
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@758751 13f79535-47bb-0310-9956-ffa450edef68

commit 2dd319ea72f033cb15d78706f47f8afe3a85c1b2
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Mar 26 16:38:05 2009 +0000

    Allow a user to configure a pool name through config
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@758728 13f79535-47bb-0310-9956-ffa450edef68

commit 3cfc9d3e81f34c477e160acb5c46850314d17ca0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 26 14:28:11 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46915
    When resolving ResourceBundle properties, don't claim to have resolved the property unless we really have resolved it.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@758664 13f79535-47bb-0310-9956-ffa450edef68

commit b10d9da55e5e74ea76ff52a9fe5eb8a8f0059288
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 26 12:58:40 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46822
    Avoid redundant object creation
    Patch provided by Anthony Whitford
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@758616 13f79535-47bb-0310-9956-ffa450edef68

commit fae26ce495a116cb8ad7184b792971e8a268676c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 26 11:06:06 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46866
    Better init of Random
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@758596 13f79535-47bb-0310-9956-ffa450edef68

commit 08f7a5f269b1c4420a79bb052c67285630c2bf15
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 25 18:57:43 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46875
    Add try/catch to session access in case session has been invalidated
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@758407 13f79535-47bb-0310-9956-ffa450edef68

commit 65358abc34b3c0dea13c01ae89e31c6c5772eedb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 25 18:01:43 2009 +0000

    Stop Eclipse complaining
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@758374 13f79535-47bb-0310-9956-ffa450edef68

commit 0b8d349cf2b6ad71a8c3c8df355a33d166ca26c6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 25 17:49:14 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45332
    When reading tomcat-users.xml try to ensure the digester supports the java encoding names. The windows installer will often use these names. The JVM does this by default. If the endorsed mechanism is used, an alternative parser may not support the Java encodings. This fix will only work for xerces.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@758365 13f79535-47bb-0310-9956-ffa450edef68

commit 0c2e364201d3906b16f78d032a2f634c25c8e297
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Mar 25 17:46:13 2009 +0000

    Allow the type to be the exact name of the data source
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@758363 13f79535-47bb-0310-9956-ffa450edef68

commit aed958156e9ab6129a6f78064802cda281ecbf06
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Mar 25 14:38:33 2009 +0000

    Fix bug when initSQL is used, then we should always execute it upon connection creation.
    Bug report attributed to Torin McCabe
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@758272 13f79535-47bb-0310-9956-ffa450edef68

commit dbdfd285622991a45073e94c7c93eccc0a13e4ad
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Mar 25 13:33:13 2009 +0000

    some basic skeleton addition, more to follow
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@758250 13f79535-47bb-0310-9956-ffa450edef68

commit b74f77ad6d0d662ecf3131fc5f2785a38d246753
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Mar 25 13:32:17 2009 +0000

    Display IP address in range 0-255 and not -127-127
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@758249 13f79535-47bb-0310-9956-ffa450edef68

commit 2fd49196a28456b3ebdaae267de3380c0ac19679
Author: Mladen Turk <mturk@apache.org>
Date:   Wed Mar 25 07:18:17 2009 +0000

    Small cosmetic fix
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@758164 13f79535-47bb-0310-9956-ffa450edef68

commit ddf477b85134f71ab87f86f103b2fc2aa7ed1e01
Author: Rainer Jung <rjung@apache.org>
Date:   Tue Mar 24 13:56:26 2009 +0000

    Fix dependencies path in .classpath file.
    Thanks to Gregor Schneider.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@757805 13f79535-47bb-0310-9956-ffa450edef68

commit 9a45ea57d5cf39992ac87087e53a5f0c00bf284c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 24 13:29:21 2009 +0000

    Delete unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@757792 13f79535-47bb-0310-9956-ffa450edef68

commit c1df803fb3e469a401db1f201d152d3e1b029141
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 24 13:10:35 2009 +0000

    Fix some Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@757778 13f79535-47bb-0310-9956-ffa450edef68

commit d1d35882ef6db23f5cdcff0b0652bdd002f75e21
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 24 13:06:49 2009 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@757774 13f79535-47bb-0310-9956-ffa450edef68

commit c6bf84cbaef81018fcf9ba542c58e4c8e4e8e655
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Mar 24 11:20:26 2009 +0000

    force 1.5 at this time, don't inherit parent value of 1.6
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@757733 13f79535-47bb-0310-9956-ffa450edef68

commit 5a9650a0b005135f64b1b3717176827fae2e2d0f
Author: Rainer Jung <rjung@apache.org>
Date:   Tue Mar 24 10:57:38 2009 +0000

    BZ45026: Never return an empty HTTP status response phrase.
    mod_jk and httpd 2.x do not like that.
    
    Addition to r697183.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@757721 13f79535-47bb-0310-9956-ffa450edef68

commit e3e16cabbe199ac8686e2bc352d1d49ba00f66a1
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Mar 24 10:55:21 2009 +0000

    Implement delegate methods that will let us expose all this under Tomcat JMX since Tomcat uses dynamic reflection to figure out what to expose
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@757718 13f79535-47bb-0310-9956-ffa450edef68

commit 1f7148867111811672a88c1617d6da10c8b16f72
Author: Rainer Jung <rjung@apache.org>
Date:   Tue Mar 24 10:43:45 2009 +0000

    Document r757708.
    Remove when backported.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@757710 13f79535-47bb-0310-9956-ffa450edef68

commit 0472286759cf4c7a45ac9f009cead2fc0cfb37ec
Author: Rainer Jung <rjung@apache.org>
Date:   Tue Mar 24 10:41:06 2009 +0000

    Allow bigger AJP packets for request bodies and
    responses (by setting packetSize on the connector).
    
    Addition to r697192 for the other AJP connectors.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@757708 13f79535-47bb-0310-9956-ffa450edef68

commit 9621e6d46ae3de3f80d599d5fc70871b5ab208ad
Author: Rainer Jung <rjung@apache.org>
Date:   Tue Mar 24 10:35:53 2009 +0000

    Use some existing constants instead of inline numbers
    in AJP connectors.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@757706 13f79535-47bb-0310-9956-ffa450edef68

commit a310995d2f411e35e293153f5c89da0bc035edd2
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Mar 24 10:35:04 2009 +0000

    Setup datasource so that one can extend it more easily
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@757705 13f79535-47bb-0310-9956-ffa450edef68

commit 0658248868f50c5eb0dde9a8fc64784c2c77853b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 23 21:39:48 2009 +0000

    Use a filter rather than a valve to add a default character set.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@757557 13f79535-47bb-0310-9956-ffa450edef68

commit f9f811b446e36a2ada108f26f67316cedbb3872e
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Mar 23 12:07:36 2009 +0000

    expose the poolname through a public method, this will allow one to retrieve the actual connection pool through JMX as well
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@757381 13f79535-47bb-0310-9956-ffa450edef68

commit 3c0a44fbd5b9c7e421e0bd1118f88017d6014590
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 23 07:36:38 2009 +0000

    Remove the Catalina dependency from Jasper.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@757335 13f79535-47bb-0310-9956-ffa450edef68

commit 023bd52733296f30b351c48b571b44bd635ed34e
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Mar 22 17:55:35 2009 +0000

    Followup to r756926 (forward remote port via AJP13).
    - Use a more private attribute name and
      define it in the Constants class.
    - Do not set the attribute on the request,
      only use it for the remote port.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@757223 13f79535-47bb-0310-9956-ffa450edef68

commit b9a1d325fa3611801c6208d5eae704b5e331d69a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 21 18:51:43 2009 +0000

    Add missing attributes tags
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@756988 13f79535-47bb-0310-9956-ffa450edef68

commit f1e0ddc39585d9872d91fab7636135f02ecfa870
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 21 15:07:42 2009 +0000

    Fix a handful of Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@756954 13f79535-47bb-0310-9956-ffa450edef68

commit f25e2ca2ff84dafe433fba576b825413a9114998
Author: Rainer Jung <rjung@apache.org>
Date:   Sat Mar 21 12:51:39 2009 +0000

    AJP13 misses to forward the remotePort.
    
    Apache automatically sets the env variable
    REMOTE_PORT to the remote port.
    
    Allow the user to set "JkEnvVar REMOTE_PORT" and
    let us accept the port in the forwarded attribute
    as the remote port.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@756926 13f79535-47bb-0310-9956-ffa450edef68

commit 6bee173c40d4437c6be8230073aad1dcc61bcf56
Author: Rainer Jung <rjung@apache.org>
Date:   Tue Mar 17 16:21:07 2009 +0000

    MulticastSocket.setLoopbackmode() works reversed.
    The argument is named "disabled", so true is for disable.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@755302 13f79535-47bb-0310-9956-ffa450edef68

commit ae440bd87bd40cf11478f66076b0f056161f72de
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 12 22:21:54 2009 +0000

    Don't try and save a read-only database
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@753039 13f79535-47bb-0310-9956-ffa450edef68

commit ba387905291b00a605c414d7162e8d55aa5ba390
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 12 22:11:17 2009 +0000

    Remove two validation related fields no longer used in the digester
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@753036 13f79535-47bb-0310-9956-ffa450edef68

commit 017f13ab668d22e7071e0b1ef49016c885a648db
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 12 22:09:44 2009 +0000

    Get validation working properly. This will still throw two errors on start-up due to errors in two of the tld's included in standard.jar in the examples app.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@753035 13f79535-47bb-0310-9956-ffa450edef68

commit 7d6caaed1392354c5ad6ee02139cfc7e38dfaaae
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 12 17:02:27 2009 +0000

    Change default xmlBase to prevent exceptions on start up and errors every time the background thread checks for descriptors.
    Remove unused code block.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@752936 13f79535-47bb-0310-9956-ffa450edef68

commit 1df5dc84af40b61ada1225a9e67430a6728bf7b7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 12 12:29:40 2009 +0000

    Fix line endings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@752847 13f79535-47bb-0310-9956-ffa450edef68

commit 14a0f16a6580be48293b6cb04dd8dd7fe2763f23
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Mar 11 22:05:12 2009 +0000

    Allow xmlBase to be configurable, just like appBase.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@752651 13f79535-47bb-0310-9956-ffa450edef68

commit ba80a95dd47a316088d0ec9e4c930ffbff880ae5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 11 19:28:18 2009 +0000

    Add missing and new schemas to resolver used by digester.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@752589 13f79535-47bb-0310-9956-ffa450edef68

commit 29c6f86fa69d58bce80c5e168b46256ed9b4f800
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Mar 11 19:12:03 2009 +0000

    Add missing XML Schemas for Java EE Deployment Descriptors
    Unlike the existing schemas, these files are CDDL licensed.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@752584 13f79535-47bb-0310-9956-ffa450edef68

commit a6107cd258258478c4a99e096c4f22902a462161
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Mar 11 00:46:54 2009 +0000

    Add a system property that lets the startup phase exit if the server encounters an exception during the initialization phase.
    The default is false, which means the behavior from today remains unchanged.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@752323 13f79535-47bb-0310-9956-ffa450edef68

commit abec739cb8ef9bc3e798e9b12836fe4412bdfbe3
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Mar 10 18:53:27 2009 +0000

    When adding a logger, its better to always add the parent loggers, all the way up the chain.
    The cost of this is relatively small, since the number of packages compared to classes is relatively small.
    This feature allows extensions of the JULI framework to change log categories during run time, as opposed to changing them for every single logger in a category
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@752215 13f79535-47bb-0310-9956-ffa450edef68

commit 4cf9e33eb1db9b5505eda92a8e85d7fec6e89245
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Mar 10 12:10:20 2009 +0000

    - Add xiph mime types, after reading a blog.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@752078 13f79535-47bb-0310-9956-ffa450edef68

commit a5c39b226776902e80512bf1a008ccbda43f2ce6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 10 11:41:58 2009 +0000

    Fix infinite loop.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@752072 13f79535-47bb-0310-9956-ffa450edef68

commit 86d4a7c15843eddb401751bd6450d2d9327bb337
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Mar 9 20:10:10 2009 +0000

    Make a distinction between AM/PM by using the 24 hour format
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@751822 13f79535-47bb-0310-9956-ffa450edef68

commit 9e3482534fe3183f32f88c8f36fb5c37e4946f6b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 8 19:14:45 2009 +0000

    Experiment with enabling per context configuration of xml valiadation for web.xml and tld files.
    Should make fixing tld validation (which I can't get to work right now) easier.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@751502 13f79535-47bb-0310-9956-ffa450edef68

commit 9cf72a8311dcb01428589382077cfb38d9b9069c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 8 18:46:51 2009 +0000

    Tomcat uses Platform MBean server. Adjust listener accordingly.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@751496 13f79535-47bb-0310-9956-ffa450edef68

commit 04d0aa5f14e4423e1d720b2b7cec00253b667476
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 8 09:40:22 2009 +0000

    Revert previous commit. Plan to rework valve so this hack isn't required
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@751392 13f79535-47bb-0310-9956-ffa450edef68

commit 6a02f96d237d401fda3f23e42758972dd2d95983
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 7 20:39:58 2009 +0000

    Fix Eclipse warnings in this package
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@751326 13f79535-47bb-0310-9956-ffa450edef68

commit 9338cec16aa7662c197d8b3729f619bc56cb1d36
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 7 19:55:10 2009 +0000

    Clear a bunch of generics warnings in Eclipse
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@751317 13f79535-47bb-0310-9956-ffa450edef68

commit 807f4069da829ebe09bf7c979cec219be8c7805e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 7 19:50:34 2009 +0000

    Some generics fixes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@751315 13f79535-47bb-0310-9956-ffa450edef68

commit 3c0e1eda32a1e0d8295dc373c71e6830837f2f28
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 7 19:42:09 2009 +0000

    Allow the AddDefaultCharsetValve to be effective when a writer is used
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@751313 13f79535-47bb-0310-9956-ffa450edef68

commit f4cc618d1d8fc1804eca6de8aec365a1a6d7b717
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 7 18:45:53 2009 +0000

    Add AddDefaultCharSetValve
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@751304 13f79535-47bb-0310-9956-ffa450edef68

commit a304c32e4950e3bec0adadd0ef355334faffeb48
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 7 18:32:40 2009 +0000

    Remove jk jni code from Tomcat 7. It is deprecated in mod_jk and will almost certainly have been rmeoved by the time 7.0.x has a stable release.
    Shout if I deleted something I shouldn't have.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@751303 13f79535-47bb-0310-9956-ffa450edef68

commit d45a69f18a986f594700f83cc844c74f256e23f9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 7 16:54:46 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46816
    Align mbean descriptor attributes with implementations
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@751295 13f79535-47bb-0310-9956-ffa450edef68

commit a907b6e02352fa04b230456f627b9f5ab9faebc1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 7 16:28:46 2009 +0000

    Make UserDatabase read only by default and log an error if someone tries to save changes.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@751289 13f79535-47bb-0310-9956-ffa450edef68

commit 9effe17e980858d23bd4d506688e1b493637484c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 7 16:08:41 2009 +0000

    Fix remainder of https://issues.apache.org/bugzilla/show_bug.cgi?id=46807
    Make it clear that enablePooling is a compilation, not a runtime option.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@751287 13f79535-47bb-0310-9956-ffa450edef68

commit c51536eb1eb1356d257c35165d67a88f84c86af6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 7 16:00:22 2009 +0000

    Partial fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=46807
    Correctly document org.apache.japser.runtime.JspFactoryImpl.USE_POOL
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@751286 13f79535-47bb-0310-9956-ffa450edef68

commit 929fd38c21485bdbf4b60c1517a24cd7ee305a39
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 6 17:28:47 2009 +0000

    Fix svn keywords
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@750992 13f79535-47bb-0310-9956-ffa450edef68

commit 7c50fe16ea70ccf6691fc4d2909efe007fce198d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 6 14:46:47 2009 +0000

    Fix XSS in examples web application.
    This is CVE-2009-0781.
    Security page updates and formal announcement to follow.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@750921 13f79535-47bb-0310-9956-ffa450edef68

commit 091054a997beb56de4545bc532eb843826477bbc
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Mar 5 02:13:46 2009 +0000

    Split LOGGING_CONFIG into two options, LOGGING_CONFIG which points to the file, LOGGING_MANAGER which sets the log manager
    This makes it much easier to handle directories with spaces
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@750291 13f79535-47bb-0310-9956-ffa450edef68

commit 5b5d73f2164c100f43e62b863d3680e949ae65a2
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Mar 5 00:35:23 2009 +0000

    Make LOGGING_CONFIG a variable that you can set, just like all the other script variables
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@750258 13f79535-47bb-0310-9956-ffa450edef68

commit a5cd7b64aa039e092143269ea39d079745bec87c
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Mar 5 00:34:29 2009 +0000

    Make the useHttpOnly a Context attribute
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@750257 13f79535-47bb-0310-9956-ffa450edef68

commit 19834ca4bd43cce6f5ffa6ea23e9570168e8f0e7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 3 22:20:16 2009 +0000

    Update docs to reflect changes for bug 44988
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@749800 13f79535-47bb-0310-9956-ffa450edef68

commit 2e89df4bcee8d8688637bb4368d7a063642f185f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 26 23:06:24 2009 +0000

    Document undocumented valve
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@748344 13f79535-47bb-0310-9956-ffa450edef68

commit 59784ce4dffe129ef19d63fc2862b5c4f68ecc41
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 25 17:11:24 2009 +0000

    Fix broken metadata-complete element
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@747863 13f79535-47bb-0310-9956-ffa450edef68

commit c2d9e7a99b26b0873cce9ab78c68e074403ed3b0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 25 15:46:46 2009 +0000

    Fix possible NPE
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@747834 13f79535-47bb-0310-9956-ffa450edef68

commit a6ed74abcc8dfe1759a27bfda8b9cee6b99ee649
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 23 14:56:19 2009 +0000

    Fix various Eclipse warnings.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@747040 13f79535-47bb-0310-9956-ffa450edef68

commit 43387bbfaf89afc375207e24ea6f949e8be6cad9
Author: Costin Manolache <costin@apache.org>
Date:   Sun Feb 22 18:36:33 2009 +0000

    Add directory for tomcat-lite.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@746795 13f79535-47bb-0310-9956-ffa450edef68

commit fc8042e05800aaa1d52b9cf14863a59cd94310cb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Feb 21 12:00:00 2009 +0000

    Remove unused code.
    Deprecate NOOP method
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@746487 13f79535-47bb-0310-9956-ffa450edef68

commit 5249eaef2929f4805c1db0543f4ab431bfeffa42
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Feb 21 00:44:33 2009 +0000

    Address Bill's security concerns in previous patch to get TCK to pass under a security manager.
    TCK passes after this patch with and without security manager.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@746425 13f79535-47bb-0310-9956-ffa450edef68

commit 99cf02a8ecc15db9119a15b85b0064fe7be4013d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Feb 21 00:41:05 2009 +0000

    Engage brain rather than mindless copying.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@746423 13f79535-47bb-0310-9956-ffa450edef68

commit 00ad8ef249e974fe0edcf068b97209ea0ef48f60
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 20 23:15:52 2009 +0000

    Doc updated - ported form tc6.0.x
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@746413 13f79535-47bb-0310-9956-ffa450edef68

commit 8910601b0136ba01a3fef326871e980d09d20dc1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 20 22:52:15 2009 +0000

    Update Eclipse files.
    Stop trying to keep license info. Eclipse keeps re-writing the files without.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@746405 13f79535-47bb-0310-9956-ffa450edef68

commit bcf6cd944dc1b8ab3fc657d4edf12565e9b9c363
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 20 22:10:41 2009 +0000

    More typos
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@746384 13f79535-47bb-0310-9956-ffa450edef68

commit a0ed89e46e2c86b7ce6dff49c2fca497e3aa8faa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 20 18:17:29 2009 +0000

    Fix spelling
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@746321 13f79535-47bb-0310-9956-ffa450edef68

commit ad4e47c1969e9699745f7357765cedc7db0fade3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 13 20:46:22 2009 +0000

    Change to ThreadLocal to prevent potential sync bottleneck on cookie creation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@744238 13f79535-47bb-0310-9956-ffa450edef68

commit 5a073bcf96f302266c0fd172665f81a21469d46c
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Feb 13 16:44:35 2009 +0000

    Documentation
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@744171 13f79535-47bb-0310-9956-ffa450edef68

commit ac6369abadfa0101e6285da36c44fbc6061c75bf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 13 16:17:54 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46666
    keepAliveTimeout should always be used regardless of setting of disableUploadTimeout
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@744160 13f79535-47bb-0310-9956-ffa450edef68

commit 3b1b7b3471ad463bc5002580fb41ff078cbdad12
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 12 14:34:26 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46696
    Add missing license headers
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@743764 13f79535-47bb-0310-9956-ffa450edef68

commit 131e884f0bc6f7c137a3a849ff526ff740a86a4c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 12 11:44:37 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46695
    Patch provided by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@743695 13f79535-47bb-0310-9956-ffa450edef68

commit b6138bb90a975dcf2be1c0c810f4c85433c1afbb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 12 11:35:11 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46683
    Correct typo in filename
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@743690 13f79535-47bb-0310-9956-ffa450edef68

commit c55d354dfd954f1df6d0848148dffd079c16a57e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 11 20:42:27 2009 +0000

    Port r742915 to trunk.
    Make sure the 400 is returned to the browser. (like other connectors).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@743497 13f79535-47bb-0310-9956-ffa450edef68

commit 8a25c170980e7a15a2d65fc0c1b4a2e86283d1cc
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Feb 10 13:33:58 2009 +0000

    - Fix apparent bad cut & paste from the HTTP connector for parseHost, and use the code from the org.apache.jk connector instead.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@742962 13f79535-47bb-0310-9956-ffa450edef68

commit 9752018afafb7ae64f4c7f5c2b347718a7a38588
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 9 20:13:14 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=39396
    Exclude TRACE in OPTIONS response by default. Include it where we know it is enabled.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@742714 13f79535-47bb-0310-9956-ffa450edef68

commit deb472e6c015e94bf41e12bb04b9432c73c37972
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 9 20:06:07 2009 +0000

    Revert previous patch. It won't work.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@742713 13f79535-47bb-0310-9956-ffa450edef68

commit d39500dd856aff48213f0d65bf533b308d50c9c4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 9 20:00:01 2009 +0000

    Only perform validation test when allowLinking is enabled
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@742711 13f79535-47bb-0310-9956-ffa450edef68

commit dbe2b35b98961c87c769fdf188ba4b79e64ddb4b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 9 19:56:44 2009 +0000

    Correct typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@742710 13f79535-47bb-0310-9956-ffa450edef68

commit 8381bd588032ada56b0f6f047e00915c0a6f5c22
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 9 19:55:29 2009 +0000

    Fix various Eclipse warnings.
    Convert tabs to spaces.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@742709 13f79535-47bb-0310-9956-ffa450edef68

commit f3aed8a38e0bed7f07f3f4de38b4410d0eefd056
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 9 19:53:28 2009 +0000

    Fix various Eclipse warnings.
    Convert tabs to spaces.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@742708 13f79535-47bb-0310-9956-ffa450edef68

commit 68b2099f9c5a77a6bca52edf536759e20fe53ee3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 9 19:51:30 2009 +0000

    Fix various Eclipse warnings.
    Convert tabs to spaces.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@742707 13f79535-47bb-0310-9956-ffa450edef68

commit bee23965f8123a1f35a0557ce570b8505e7fea37
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 9 19:39:40 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=39013
    When testing for invalid docBase, test for an exact match with the appBase dir
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@742697 13f79535-47bb-0310-9956-ffa450edef68

commit 8d2b8ff6a7d9bd7f30b6e73c5c7860af79a98cd2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 9 19:05:44 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=38570
    When checking docBase against appBase, make sure we check for an exact match against the appBase
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@742677 13f79535-47bb-0310-9956-ffa450edef68

commit ae92db8116d241904bcf75f2593ec41b02ef9fd0
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Feb 6 21:49:36 2009 +0000

    Make sure thread starvation doesn't exist during reclamation of connections
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@741747 13f79535-47bb-0310-9956-ffa450edef68

commit 5b0b353d8c683c23bd46ccd08f5aba683a3bfb22
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 4 11:44:00 2009 +0000

    Remove serialization from Container. Old experiment that didn't work.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@740701 13f79535-47bb-0310-9956-ffa450edef68

commit 156f1ca223978c0b60312e7bcd5ec8d763de50a6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 4 10:43:10 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=38553
    A lack of certs is normal if the user doesn't have a trusted cert. Return 401, not 400 in this case.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@740684 13f79535-47bb-0310-9956-ffa450edef68

commit 2824a703df9e29f2529cfff563cdb508892cab9a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 4 10:26:28 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=38197
    Take account of jsp:attribute elements when naming tag pools
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@740675 13f79535-47bb-0310-9956-ffa450edef68

commit f0bd7327f9645bddf9a318947e585607615f3005
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 4 07:00:03 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46606
    Max max depth limit configurable
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@740635 13f79535-47bb-0310-9956-ffa450edef68

commit 0c8634ea3e91b8856040e2019941c38be985ff33
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 4 06:53:13 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46600
    Correctly document maxKeepAliveRequests
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@740632 13f79535-47bb-0310-9956-ffa450edef68

commit 0426fa1d6ffd1ed2f2291693ec7bf6a62984b895
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat Jan 31 00:18:24 2009 +0000

    adjust for first tag
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@739458 13f79535-47bb-0310-9956-ffa450edef68

commit 525865ef0d1304e3d2473eb9a299d9926552ff71
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jan 30 23:32:38 2009 +0000

    fix sizing issue when db is restarted
    fix JMX domain name
    fix exception handling
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@739449 13f79535-47bb-0310-9956-ffa450edef68

commit 0774d3df13347334710b22be6a0b9240c51fcbd4
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jan 30 22:09:15 2009 +0000

    even not used anywhere in our code, make it thread safe
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@739427 13f79535-47bb-0310-9956-ffa450edef68

commit 43b59a7333cfe484c5e62b60a7167655b12a29c9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 30 05:35:25 2009 +0000

    Minor clarification as a result of bug 46498
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@739181 13f79535-47bb-0310-9956-ffa450edef68

commit 7d7f75734b3d2bce3eed0c4d7bfd8c811fea009a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 30 05:30:23 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46564
    Encoding test should be case insensitive
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@739176 13f79535-47bb-0310-9956-ffa450edef68

commit c0dc47f9ebf10ce22e1f1acad4bbde5c529d4912
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 30 05:05:25 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46563
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@739171 13f79535-47bb-0310-9956-ffa450edef68

commit 5fe94e748789ec025d4d9c78f42ac4aae61916b2
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jan 27 23:05:10 2009 +0000

    Initialize connection pool upon data source creation instead of request for first connection
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@738293 13f79535-47bb-0310-9956-ffa450edef68

commit ddc8cf212012ee4d44ec8ffb0ff0027c60985bbf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 15 22:40:34 2009 +0000

    Remove duplicate check
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@734843 13f79535-47bb-0310-9956-ffa450edef68

commit c14dca9b383a0171e855484f2c89878b077ae87f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 15 22:08:17 2009 +0000

    Fix all the static Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@734838 13f79535-47bb-0310-9956-ffa450edef68

commit 35aec71eb0db527cece923ecbfb9d5b2d0f05798
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 15 21:47:53 2009 +0000

    Removed unused code from o.a.t.util.buf
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@734832 13f79535-47bb-0310-9956-ffa450edef68

commit 0883824f9b1da92bd99d4a6c691ef7ab3de926eb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 15 21:36:57 2009 +0000

    Add some changes from December 08
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@734831 13f79535-47bb-0310-9956-ffa450edef68

commit 62e53770616168f70d98bf1dc126ada43948f8a1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 15 16:26:51 2009 +0000

    Align the installer license files with the main one.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@734743 13f79535-47bb-0310-9956-ffa450edef68

commit 6b61911f94d6d8d49ee933c5f1882a7e7c336d2c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 15 15:34:52 2009 +0000

    Remove 3 of the essentially 4 duplicate normalise implementations.
    Minor tweaks where required to use the new single implementation.
    Remove unnecessary normalisation calls.
    This includes the fix for CVE-2008-5515.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@734734 13f79535-47bb-0310-9956-ffa450edef68

commit e3c54fb114a502bb794dd800dc7154987c8b022d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 15 14:55:46 2009 +0000

    Remove unused variables identified by Eclipse
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@734728 13f79535-47bb-0310-9956-ffa450edef68

commit 18a9f4f7c4ed986755f8edaab70fef765738f2f2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 15 14:09:37 2009 +0000

    Remove some unused methods and related code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@734715 13f79535-47bb-0310-9956-ffa450edef68

commit 51844327d8613448bb0bf9667e1a61e462e2043c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 15 14:07:38 2009 +0000

    More unused imports spotted by Eclipse
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@734713 13f79535-47bb-0310-9956-ffa450edef68

commit a3baa479f6169ad0bc82d1fb0f1f806ecc8f81e8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 15 13:49:53 2009 +0000

    Remove unused imports idnetified by Eclipse
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@734706 13f79535-47bb-0310-9956-ffa450edef68

commit 508a4b1e93c4077bb833ea03579288c92fccfd82
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 15 13:38:58 2009 +0000

    Remove unnecessary casts reported by Eclipse
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@734702 13f79535-47bb-0310-9956-ffa450edef68

commit aae9968f3df852ebed16c4022399c2748619fbb0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 15 13:31:45 2009 +0000

    Fix generics warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@734701 13f79535-47bb-0310-9956-ffa450edef68

commit 4f8d444f024752ff73a1b428d7a801a807e262e6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 15 13:31:05 2009 +0000

    Code clean-up. Remove unnecessary ;'s id'd by Eclipse
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@734700 13f79535-47bb-0310-9956-ffa450edef68

commit 9c2e041a6b46c5d7b065fbfccd4f1163d84c1d16
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 15 13:24:26 2009 +0000

    Clear TODO markers
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@734696 13f79535-47bb-0310-9956-ffa450edef68

commit f6be17f364a204f69a522b3cba0e95a591a877a9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 14 21:55:59 2009 +0000

    Implement dynamically adding servlets and filters. This compiles but is untested.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@734527 13f79535-47bb-0310-9956-ffa450edef68

commit 3cdee7f86505eacfe59ba5a22c3642e00b4d4c6f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 14 21:54:39 2009 +0000

    Implement the simple stuff
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@734526 13f79535-47bb-0310-9956-ffa450edef68

commit 8bafc98014b3cadffb05922bd90876a236e5baff
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 14 21:52:12 2009 +0000

    AFAICT only, dummy implementations are required here.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@734523 13f79535-47bb-0310-9956-ffa450edef68

commit 42a2a4ec272634041f5227c08792bffa4c8c2992
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 14 20:52:26 2009 +0000

    Fix Eclipse warning
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@734508 13f79535-47bb-0310-9956-ffa450edef68

commit 435b912b35f8a6fd02594beaa97246adf259ab46
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 14 20:46:02 2009 +0000

    Fix possible NPE reported by Eclipse
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@734507 13f79535-47bb-0310-9956-ffa450edef68

commit ec6b852b2a7c4411a7ea00bdb069f5dbd9724560
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 14 20:45:28 2009 +0000

    Remove 1.4 impl since we must be using a 1.6 JVM.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@734506 13f79535-47bb-0310-9956-ffa450edef68

commit 5562136b94e1e93066be5719f1ed7340d8191794
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 14 20:02:35 2009 +0000

    Version updates for the docs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@734501 13f79535-47bb-0310-9956-ffa450edef68

commit cc5e0fb426521a880a37fcbf80c606908e5bfcd0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 14 19:46:32 2009 +0000

    Use a snapshot of DBCP source that includes the JDK 1.6 fixes.
    Remove the DBCP 1.5 hack
    Update Tomcat and Servlet version numbers
    Update year to 2009
    Force 1.6 compile since Servlet 3.0 requires it
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@734491 13f79535-47bb-0310-9956-ffa450edef68

commit f2e3170304491467148ad6efe1329eb4a3b2ae5a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 14 19:30:19 2009 +0000

    Version updates
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@734489 13f79535-47bb-0310-9956-ffa450edef68

commit 5e4063cb4db1bf72d2fb054acc4f093c10d4feec
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 12 21:29:40 2009 +0000

    Revert r733072 after feedback from EG that original INVALID for https://issues.apache.org/bugzilla/show_bug.cgi?id=46339 was correct.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@733905 13f79535-47bb-0310-9956-ffa450edef68

commit 973553d37012ef441741724341349b27db7dd08b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 12 21:18:54 2009 +0000

    Update SSL Session handling based on Filip's comments. HTTP session invalidation is now separate from SSLSession validation. The hooks remain to invalidate the SSL session if required.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@733899 13f79535-47bb-0310-9956-ffa450edef68

commit 29d11dea2b9c898f1e7ed9e051187c521a36a97f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 12 20:34:41 2009 +0000

    Servlet 3 requires a 1.6 JDK. *Really* need to fix DBCP...
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@733892 13f79535-47bb-0310-9956-ffa450edef68

commit 59124c992d44cb0d094c9d79a5ef12d0315e270f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 12 15:17:00 2009 +0000

    Misc code clean up to keepo the Eclipse error count trending downwards.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@733779 13f79535-47bb-0310-9956-ffa450edef68

commit f46787bebc4c92e01f6977dffb6ccddf38375f5a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 12 15:02:23 2009 +0000

    Generics changes after updating the spec api and also those enabled by the min 1.6 JDK requirement.
    Add deprecation to the internal Tomcta methods that implement deprecated methods.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@733775 13f79535-47bb-0310-9956-ffa450edef68

commit 79c29cd4d3a4261d11b6a260de06d92ccac9373e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 12 14:20:54 2009 +0000

    Deprecate wrapper methods that wrap deprecated methods.
    The assumption is that the EG will accept the patch to do this too. If not, it should be reverted.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@733771 13f79535-47bb-0310-9956-ffa450edef68

commit 91bac228ddcca1213d02c07b1e04e44a59cd6987
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 12 14:16:39 2009 +0000

    Correct error in generics
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@733769 13f79535-47bb-0310-9956-ffa450edef68

commit 1dbb58d93fc8fad235f37d0cd35965fabde7c38e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 12 14:16:19 2009 +0000

    Apply generics to javax.servlet.* on the basis that the EG is in the process of accepting a patch to do this.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@733768 13f79535-47bb-0310-9956-ffa450edef68

commit 0a62c6916b44254005096f974f785c2c171bb0c8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 12 13:39:35 2009 +0000

    Support for setting SessionTrackingMode
    Most of this commit is to support invalidating the SSL session by the session manager.
    I'm not sure yet that support for SSL session tracking is a good idea. There are quite a few limitations (see the ssl howto doc) and the changes to do it are fairly invasive. The option remains to remove this at a later date and not support SSL session tracking in Tomcat 7.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@733748 13f79535-47bb-0310-9956-ffa450edef68

commit 63e49d59ef2783501b299e071ee45b7e3d68b651
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jan 12 00:41:14 2009 +0000

    throw exception if we know we exceed max packet size
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@733554 13f79535-47bb-0310-9956-ffa450edef68

commit 55813d250b8c3f82bfd6401dc698ab669e42fd2d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 10 13:43:09 2009 +0000

    Already support httpOnly - update comments
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@733272 13f79535-47bb-0310-9956-ffa450edef68

commit 8e379fda7995b10aca4219555d88d69196e793e4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 10 13:37:33 2009 +0000

    Implement SessionCookieConfig
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@733271 13f79535-47bb-0310-9956-ffa450edef68

commit cde98ff3b55939a8ce84ccf8b51a1b5f0b56adff
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 10 13:25:30 2009 +0000

    Code clean up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@733270 13f79535-47bb-0310-9956-ffa450edef68

commit d416225402d326e93922bf18cbc130bf3ef770a2
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jan 9 23:21:08 2009 +0000

    defer the deserialization of the message to an async thread to be able to handle more incoming, still I can send more than I can receive
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@733187 13f79535-47bb-0310-9956-ffa450edef68

commit 79514526610c922e98af9ba12cdb8eb4389ddf89
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jan 9 22:38:52 2009 +0000

    Implement the ability to broadcast a message using multicast and bypass all TCP, simple fire-and-forget behavior, yet no change in how messages are sent and received for the consumer
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@733180 13f79535-47bb-0310-9956-ffa450edef68

commit 3d6627f677f62732d68be82498b61f79dea8931f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 9 18:28:00 2009 +0000

    Correct field names
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@733107 13f79535-47bb-0310-9956-ffa450edef68

commit 795de57c869d8895a8c332af91d7c49099e7c250
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 9 18:18:29 2009 +0000

    Some minor clean up
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@733103 13f79535-47bb-0310-9956-ffa450edef68

commit abff9cabd0e6452245b2312f0afe4189e78494a5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 9 15:53:50 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46339
    Before the invocation of a fragment, AT_BEGIN and NESTED variables should be copied from the current JspContext to the JspContext of the fragment (*instead* of the JspContext of the calling page or tag file).
    Patch provided by kinman@a.o
    TCK passes with this patch applied.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@733072 13f79535-47bb-0310-9956-ffa450edef68

commit 84e0c81d56fb3c1aa049bd326078275aefbe1415
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 9 11:17:13 2009 +0000

    Fix various Eclipse warnings in o.a.jasper.compiler. Remove unused and unnecessary code, correct use of deprecated methods.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@733008 13f79535-47bb-0310-9956-ffa450edef68

commit db6931f0ccb231790f1b66aaa98e09a2a5a5a0eb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 8 23:35:16 2009 +0000

    Remove unused code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@732871 13f79535-47bb-0310-9956-ffa450edef68

commit d2fc65f1b06352b6dbd268042a4f123e8416cced
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 8 22:57:41 2009 +0000

    Remove e.printStackTrace()
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@732863 13f79535-47bb-0310-9956-ffa450edef68

commit 8afcb995120cea73c445faf0a9457f38d0abb4dd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 8 22:41:18 2009 +0000

    Add download information for the extras components
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@732859 13f79535-47bb-0310-9956-ffa450edef68

commit a1cc42e21904b0cfeb83916ccda7a50f79f53397
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 6 15:15:32 2009 +0000

    First attempt at updating the javax.servlet package for the 3.0 spec
    It compiles and runs but 99.9% of the implementation is stubbed out and marked with TODO SERVLET3
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@731967 13f79535-47bb-0310-9956-ffa450edef68

commit 0cde120d3ff2d45e4bb328f031127a4cd66325b7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 5 23:50:55 2009 +0000

    Reported as part of https://issues.apache.org/bugzilla/show_bug.cgi?id=37515
    Add options for Java 1.6 and 1.7
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@731773 13f79535-47bb-0310-9956-ffa450edef68

commit 3aaac853cd69b3d0555b553dca1f170e9850f29e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 5 19:20:11 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46471
    Use the URL of the JAR as well as the path within the JAR to identify a tag file to keep tag file definitions unique.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@731651 13f79535-47bb-0310-9956-ffa450edef68

commit 391c0b1cc28688f21f03582956187ce47161939a
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jan 5 18:34:25 2009 +0000

    When deployment succeeds but the context still fails to start, provide instant feedback
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@731644 13f79535-47bb-0310-9956-ffa450edef68

commit 9083a858081881dc2c0b535bad0e6c8a7c28a5b0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 4 00:21:37 2009 +0000

    Add comment as a result of bug 37515
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@731137 13f79535-47bb-0310-9956-ffa450edef68

commit 51a4c9384442765bd5f800636818806f5f3116bb
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat Jan 3 03:14:50 2009 +0000

    brain farts
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@730900 13f79535-47bb-0310-9956-ffa450edef68

commit d5855e82e994714b798fa861aba6b75226c9991b
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat Jan 3 02:55:04 2009 +0000

    update version
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@730896 13f79535-47bb-0310-9956-ffa450edef68

commit b2766ec8bbaf897bff00ae2bd1f24532825831fb
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat Jan 3 02:34:10 2009 +0000

    correct array math
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@730893 13f79535-47bb-0310-9956-ffa450edef68

commit 114d0f60b3feb0f4dd5b5ee50e2ae9e67bd6f907
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat Jan 3 01:30:23 2009 +0000

    Make system compile with JDK1.5
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@730885 13f79535-47bb-0310-9956-ffa450edef68

commit a34a409dc0fc8603946b9bd03353cb7b7c4edb65
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat Jan 3 01:25:56 2009 +0000

    Handle invocation target exceptions and throw the original exception when it happens
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@730884 13f79535-47bb-0310-9956-ffa450edef68

commit e93168d6e1791b533f89701574972713147fe283
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 2 14:24:35 2009 +0000

    Fix https://issues.apache.org/bugzilla/attachment.cgi?id=23066
    Sync issue leads to NPE in rare circumstances
    Patch provided by Konstantin Kolinko
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@730735 13f79535-47bb-0310-9956-ffa450edef68

commit 1ca03ff93b98553ea1bdcbea2e452f0a69ac186f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 2 11:05:45 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46462
    Limit the package test to org.apache.jsp.* rather than org.apache.jsp* to allow use of packages like org.apache.jspwiki
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@730694 13f79535-47bb-0310-9956-ffa450edef68

commit 98f38ee0f087526c2b5b325bfacc5ad9945d21c7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 1 19:02:21 2009 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=36923
    If EL is disabled, treat it as template text.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@730590 13f79535-47bb-0310-9956-ffa450edef68

commit 88a94844cd7207bcdbe0e3962e8d9ee5d408937b
Author: Rainer Jung <rjung@apache.org>
Date:   Thu Jan 1 14:16:14 2009 +0000

    Every fault needs to be done at least twice.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@730550 13f79535-47bb-0310-9956-ffa450edef68

commit ba2fb232a7220be86bdeaf513bd8ac95a407716b
Author: Rainer Jung <rjung@apache.org>
Date:   Thu Jan 1 13:37:39 2009 +0000

    Port r730523 from tcnative trunk to tc trunk.
    Add Thread.java and Buffer.java.
    Change SSL.randSet() javadoc to the tcnative one.
    Add Socket.sendib() and Socket.sendibb from tcnative.
    
    All renames methods and method signature changes
    are compatible, because those methods are not used
    by Tomcat.
    
    Changes of return types are compatible, because
    the return values have not been used.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@730544 13f79535-47bb-0310-9956-ffa450edef68

commit 3ecad54ed831fe855ca390904257444d31fdd201
Author: Rainer Jung <rjung@apache.org>
Date:   Thu Jan 1 13:11:25 2009 +0000

    Port r706574 from tcnative trunk to tc trunk.
    "Fix API function name recvFrom -> recvfrom."
    Function is actually not used in TC trunk.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@730542 13f79535-47bb-0310-9956-ffa450edef68

commit 981e67c6564dadb4426bda3497616f6ab9894253
Author: Rainer Jung <rjung@apache.org>
Date:   Thu Jan 1 12:57:36 2009 +0000

    Port r708867 from tcnative trunk to tc trunk.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@730538 13f79535-47bb-0310-9956-ffa450edef68

commit 8249b5fff6cb2ae68329fdaeaba5f13be823facf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 31 12:48:07 2008 +0000

    Add missing AL2 headers.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@730383 13f79535-47bb-0310-9956-ffa450edef68

commit 9f506d3bb141401011815d49c02cbf97b84f9a27
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 31 12:36:44 2008 +0000

    Fix svn properties. Patch by sebb
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@730382 13f79535-47bb-0310-9956-ffa450edef68

commit d5eff923ea31b8ad80f7a5e4e7b3be2c97b44846
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 30 21:47:58 2008 +0000

    Fix porting error
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@730250 13f79535-47bb-0310-9956-ffa450edef68

commit 98db361a7e20e95b05953c86d1260fb854247d98
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Dec 30 18:37:07 2008 +0000

    Make sure that the packaged up binaries have a MD5 sum as well, to verify download size
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@730212 13f79535-47bb-0310-9956-ffa450edef68

commit 89e2fcd17b66957f11d2ba1d9fb33c0ecebbeacb
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Dec 30 16:51:35 2008 +0000

    Don't attempt to shutdown when port=-1 in server.xml, instead print error message
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@730178 13f79535-47bb-0310-9956-ffa450edef68

commit 68a0eee77cf741f1a5dcfe094ee54ff08d39b3c2
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Dec 30 16:40:54 2008 +0000

    Cleanup name
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@730173 13f79535-47bb-0310-9956-ffa450edef68

commit c790a8ffe9f8678cf4b0c275734f6f06f87f31d5
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Dec 29 16:37:02 2008 +0000

    Adjust to Java 1.5 level
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729934 13f79535-47bb-0310-9956-ffa450edef68

commit d1fb7bf23660eddaa642dcaea17edb626de3322e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 29 00:30:00 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46223
    Add a simple co-ordinator provided by Robert Newson
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729815 13f79535-47bb-0310-9956-ffa450edef68

commit 9ac8046415b6b239ab375f628d4ce35ed9819555
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 29 00:11:28 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46223
    Throw NoSuchElementException if next() is called on the Iterator when hasNext()==false
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729813 13f79535-47bb-0310-9956-ffa450edef68

commit e31998ab9b4c4ff7c0ecde44484d2b1d3038845c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 28 23:46:49 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46298
    Throw an exception if the driver doesn't support the supplied URL
    Based on a patch by Owen Jacobson
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729809 13f79535-47bb-0310-9956-ffa450edef68

commit 116e0e9703af0a24375eab42c2ece9856ab41024
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 27 22:17:49 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46344
    Put the org.apache classes in a separate jar
    Maven changes need validating.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729688 13f79535-47bb-0310-9956-ffa450edef68

commit 4ecd0d04e89c6a0e51c125b9321b0d7724ae7c37
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 27 21:48:28 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46351
    Simplify build scripts.
    Patch provided by Marc Guillemot
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729681 13f79535-47bb-0310-9956-ffa450edef68

commit c054ac5a9bf8010d493cc65d6dfd1bfc8cfebcd0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 27 19:04:59 2008 +0000

    Add a draft release plan for Tomcat 7
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729657 13f79535-47bb-0310-9956-ffa450edef68

commit d1eb032f2c51f62fa36c4e7860faba149dab33f1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 27 18:47:38 2008 +0000

    Generics changes for o.a.c.ant
    Fix various Eclipse warnings (use of deprecated code etc)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729655 13f79535-47bb-0310-9956-ffa450edef68

commit 737b1d497b4125d66ca382aca505241cf0b81705
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 27 18:40:24 2008 +0000

    Generics changes for o.a.c.authenticator
    Remove unnecessary casts identified by Eclipse
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729652 13f79535-47bb-0310-9956-ffa450edef68

commit 2deab50279fd68d20099401d783febc1b7815d60
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 27 18:30:47 2008 +0000

    Generics changes for o.a.c.connector
    Fix various Eclipse warnings (unused code, casts, etc)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729651 13f79535-47bb-0310-9956-ffa450edef68

commit 5d381b3df0c2d443ca5de814dbfc65c5700e76e9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 27 17:48:13 2008 +0000

    Generics changes for o.a.c.core
    Fix various Eclipse warnings (unused code, unnecessary casts, etc)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729650 13f79535-47bb-0310-9956-ffa450edef68

commit 762f206100c16bcee8295d09469c76cbddc185bf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 27 15:17:52 2008 +0000

    Generics changes for o.a.c.ha
    Fix various Eclipse warnings (static methods, unused code, etc)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729637 13f79535-47bb-0310-9956-ffa450edef68

commit 4456b6ccf9a86a8e7bf3a41558e7cf3e8e86b365
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 27 14:05:50 2008 +0000

    Generics for o.a.c.loader
    Fix various eclipse warnings (remove unused code, fix possible NPE)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729634 13f79535-47bb-0310-9956-ffa450edef68

commit 2b6b1a887c0137eb52a5a2fed127112fb238885f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 27 13:39:41 2008 +0000

    Generics for o.a.c.manager
    Fix various Eclipse warnings (unused code, etc)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729633 13f79535-47bb-0310-9956-ffa450edef68

commit 9f7d764de9519e4ee401922b5d3cd2bf85eefd16
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat Dec 27 01:22:39 2008 +0000

    Only report query executions
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729575 13f79535-47bb-0310-9956-ffa450edef68

commit 85fc30c1bfa5869971ca7513248c4bc67e1f33e4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 26 23:50:26 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46261
    %2F in context paths should be treated literally, not as / - that is what '#' is for.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729571 13f79535-47bb-0310-9956-ffa450edef68

commit 24bcb4789ebb4c440110bbbae2d1f11eb3a9650f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 26 23:43:09 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46381
    Needs testign with the TCK before proposing for 6.0.x
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729569 13f79535-47bb-0310-9956-ffa450edef68

commit 7e6a2eca23229c3896bb07ee458b1dc3edb66eac
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 26 23:37:33 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46357
    Correct test for host's parent must be an engine
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729567 13f79535-47bb-0310-9956-ffa450edef68

commit b03314b97eaccc8faeec1f03c34bb87d1694f120
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Dec 26 23:17:47 2008 +0000

    organize imports
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729557 13f79535-47bb-0310-9956-ffa450edef68

commit fc87a0885db27bf1e4171ce23b752aeccdd2077d
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Dec 26 23:14:13 2008 +0000

    Refactor the query report for multi purpose
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729554 13f79535-47bb-0310-9956-ffa450edef68

commit 99ed90e67eed53f7fef522da70e98fcd38d0b2f9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 26 22:09:53 2008 +0000

    Revert part of previous commit that caused errors on startup
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729544 13f79535-47bb-0310-9956-ffa450edef68

commit d85dce83a875e8aff588c88ef25c25b52b1fa793
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 26 21:06:23 2008 +0000

    Revert what looks like an accidental commit so extras will build
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729535 13f79535-47bb-0310-9956-ffa450edef68

commit bfae8ecafbd25d31a43aa1dd93ae2381ace386ee
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 26 20:20:38 2008 +0000

    Generics changes for o.a.c.mbeans
    Remove some unused code identified by Eclipse
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729531 13f79535-47bb-0310-9956-ffa450edef68

commit 30261543ba90dc395b66ea99d0be2d214294b322
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 26 19:55:01 2008 +0000

    o.a.c.realm generics changes
    Also fix some eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729529 13f79535-47bb-0310-9956-ffa450edef68

commit 6ca674eb841973bc46d682ed480643c08650b622
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 26 19:47:08 2008 +0000

    o.a.c generics changes
    Also fix some Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729528 13f79535-47bb-0310-9956-ffa450edef68

commit 61cc509f2bd3d968c894826393656d830bcdc48c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 26 19:25:01 2008 +0000

    o.a.c.security generics changes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729527 13f79535-47bb-0310-9956-ffa450edef68

commit f0b3c3e16bdd0f8adfd8a33630ea2d85f808a9a8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 26 19:18:42 2008 +0000

    Fix various Eclipse warnings in o.a.c.servlets, mainly unnecessary casts.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729526 13f79535-47bb-0310-9956-ffa450edef68

commit 83b275aff953124e848859972add32814882f769
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 26 19:00:35 2008 +0000

    o.a.c.session generics changes
    Deprecate methods that implement deprecated methods
    Fix assorted Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729523 13f79535-47bb-0310-9956-ffa450edef68

commit b2025af1a6dae1c37456eac0c38a3de2cb4458ad
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 26 18:15:29 2008 +0000

    o.a.c.ssi generics changes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729520 13f79535-47bb-0310-9956-ffa450edef68

commit fec4abb9f822223d5fe6843cca32e5a961b86d85
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 26 18:13:57 2008 +0000

    o.a.c.startup generics changes
    Various other fixes (casts, unused code, comment typos etc)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729519 13f79535-47bb-0310-9956-ffa450edef68

commit 0602b6cb0357f9f44185e05f2c831915580cc15b
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Dec 24 19:41:22 2008 +0000

    IF the application is shutting down, we don't need to print the WARN message
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729364 13f79535-47bb-0310-9956-ffa450edef68

commit 83e193dc20bcd0b7ab03494ae28988544f827c42
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 24 18:22:36 2008 +0000

    Remaining generics for o.a.c.tribes
      Change the Comparator in Membership to align with AbsoluteOrder
    Fix various Eclipse warnings (unused code etc)
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729351 13f79535-47bb-0310-9956-ffa450edef68

commit 114d1c6ff1b3524952c01556f56cc2ae8f51cdeb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 24 17:49:57 2008 +0000

    Generics for o.a.c.tribes.io
    Fix various Eclipse warnings (unused code etc)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729341 13f79535-47bb-0310-9956-ffa450edef68

commit f17991ae955d576b0882d9d10048223125993735
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 24 17:42:58 2008 +0000

    Generics for o.a.c.tribes.membership
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729340 13f79535-47bb-0310-9956-ffa450edef68

commit c1c690d6488fa53f9648f14d7b4567386c1f1fbd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 24 16:35:46 2008 +0000

    Some more simple generics and other Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729332 13f79535-47bb-0310-9956-ffa450edef68

commit 33dcf4b07edabf5db5cff42f0dc79a11f00987ec
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 24 16:18:09 2008 +0000

    Generics for o.a.c.tribes.tipis
     - Note that there may be more to come but AbstractReplicatedMap is a tricky beast for generics so these are just the 'easy' ones
    Fix various Eclipse warnings (unused code etc)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729330 13f79535-47bb-0310-9956-ffa450edef68

commit 9fbdbf6a6eb1e5572e2f8c51ede386d16b9fdd58
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 24 16:03:53 2008 +0000

    Generics for o.a.c.tribes.transport
    Fix various Eclipse warnings (unused code etc)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729325 13f79535-47bb-0310-9956-ffa450edef68

commit 80ad6963fbac0d8015ff8101e17505e904139f70
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 24 15:59:03 2008 +0000

    Generics for o.a.c.tribes.transport.bio
    Fix various Eclipse warnings (unused code etc)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729323 13f79535-47bb-0310-9956-ffa450edef68

commit bdbc5dd1e2b39fa46ced95bc800b2ef1805a0054
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 24 15:37:17 2008 +0000

    Generics for o.a.c.tribes.transport.nio
    Fix some other Eclispe warnings (unused code etc)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729322 13f79535-47bb-0310-9956-ffa450edef68

commit 6877e1fc34dd09e4d6cae4c098c9b5bc56b69747
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 24 15:24:08 2008 +0000

    Generics for o.a.c.tribes.util
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729321 13f79535-47bb-0310-9956-ffa450edef68

commit 58d4c0c6b8f73382aff1c6ebc24d144016ab6503
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 24 15:15:10 2008 +0000

    Fix a couple of Eclipse warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729320 13f79535-47bb-0310-9956-ffa450edef68

commit 24ac78591f8f4dec6a1c272c117d2fbe944d177a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 24 15:11:07 2008 +0000

    Add some unit tests for the EL parser based on some recent bugs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729318 13f79535-47bb-0310-9956-ffa450edef68

commit bdea192f5ca98b7ffa6c369815f983171b345ebb
Author: William Barker <billbarker@apache.org>
Date:   Wed Dec 24 03:30:40 2008 +0000

    insure that classes are loaded by trusted code in a sandbox
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729206 13f79535-47bb-0310-9956-ffa450edef68

commit bda3c2ffd04d0e52845eb0f81c8390138b970baf
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Dec 24 01:57:36 2008 +0000

    Fix file descriptor leak
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729191 13f79535-47bb-0310-9956-ffa450edef68

commit 5277185dcee586a5bd0a219d3cf70f8c584345eb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 23 18:31:04 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46397
    Don't pool tag instances that implement JspIdConsumer
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@729057 13f79535-47bb-0310-9956-ffa450edef68

commit 99c5ca692a5c605ea286d3207274de2419d1308e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 23 13:14:42 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46403
    By default, always send the expires parameter with cookies to fix know IE6 and IE 7 issue.
    I don't like doing this but I can't see a better way.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@728947 13f79535-47bb-0310-9956-ffa450edef68

commit 409927028eae2f361d41f278642ab8ba285cbbb9
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Dec 23 02:16:28 2008 +0000

    update version
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@728848 13f79535-47bb-0310-9956-ffa450edef68

commit 00d3bc67755b015ae659279ec80055dbd1146498
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Dec 22 22:11:41 2008 +0000

    Implemented a way to get a delegate using standard APIs rather than custom handling
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@728806 13f79535-47bb-0310-9956-ffa450edef68

commit 6d76eea662e6e2698aff904c183316ee7a5ca307
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 22 21:12:27 2008 +0000

    Fix performance aspects of 46304.
    Note it is possible (depending on connector config) to have a servlet/filter responding to comet and non-comet events - hence why the array used in the methods cache has been extended.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@728776 13f79535-47bb-0310-9956-ffa450edef68

commit e658558ab8d088a12c69ec12a394e8d37ed69640
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 22 20:45:07 2008 +0000

    Fix non-performance aspects of https://issues.apache.org/bugzilla/show_bug.cgi?id=46304
    Should use Principal when calling doFilterEvent
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@728768 13f79535-47bb-0310-9956-ffa450edef68

commit 2efe2c5bc02dd7d70402dbc693d3443a00d60132
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat Dec 20 00:45:46 2008 +0000

    Removed calling to a JDK 1.6 method if its run under 1.5 and still take advantage of the JMX features
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@728197 13f79535-47bb-0310-9956-ffa450edef68

commit 8832565f9e3ef50520bc643eed6eee5fee4ae8c7
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Dec 19 21:46:25 2008 +0000

    inc version number
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@728161 13f79535-47bb-0310-9956-ffa450edef68

commit 92d390c5630b80825084310d42b57af15d1e2cdd
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Dec 19 21:45:04 2008 +0000

    Fix property parsing
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@728158 13f79535-47bb-0310-9956-ffa450edef68

commit cb22d8adeee4681075f44bba88ba735a45508342
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Dec 19 17:55:46 2008 +0000

    Documented interceptors a bit better, implemented setters for interceptor properties
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@728081 13f79535-47bb-0310-9956-ffa450edef68

commit a1e4c86aacbd416224022dcbb359c7a292245b55
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 19 14:28:06 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46408
    Don't make assumptions about exception type
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@728032 13f79535-47bb-0310-9956-ffa450edef68

commit 5419cb8d7792a2fd8657c88d3480262b65bbed8b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 18 16:01:55 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46366
    Need to use environment variables to set catalina home/base
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@727756 13f79535-47bb-0310-9956-ffa450edef68

commit a2e7487fdca8025dd76161f7e5e1cf6536f6b603
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 17 07:27:19 2008 +0000

    Stop command -z not found complaint
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@727303 13f79535-47bb-0310-9956-ffa450edef68

commit 62b4847d5bf3da7f9a27c995c867abcabfe687d0
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Dec 17 04:13:45 2008 +0000

    Catch any exceptions since we don't handle them later in the chain
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@727272 13f79535-47bb-0310-9956-ffa450edef68

commit dd256d5dab5f89a2248fd8ab392a656567999d69
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Dec 17 04:00:46 2008 +0000

    Refactor JMX name into a constant, add a notification during init
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@727266 13f79535-47bb-0310-9956-ffa450edef68

commit 9994931492f4ebfdd860e4d94e54cfbccaa9dcbd
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Dec 16 21:00:36 2008 +0000

    Implemented JMX notifications when connections fail
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@727148 13f79535-47bb-0310-9956-ffa450edef68

commit 74976b4b7d15f4edc3942fa786397826a38129e7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 12 15:41:13 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46125 for NIO and APR connectors
    Change the exception if the headers are too big to force a 400 status code rather than the current 200
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@726052 13f79535-47bb-0310-9956-ffa450edef68

commit 3e11e06a24b24443b4a9fd5b8a9410d3cf3f9ea4
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Dec 12 01:26:39 2008 +0000

    Implement JMX notification of query times and query failures
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@725879 13f79535-47bb-0310-9956-ffa450edef68

commit ef25b7978ddd2cc13e114f0af1e39ae3b88052e2
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Dec 11 22:32:18 2008 +0000

    Fix last bug, time for JMX integration
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@725847 13f79535-47bb-0310-9956-ffa450edef68

commit f965bf2fea8f52621ad8d1826e7bbe32dd417e3e
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Dec 11 22:19:54 2008 +0000

    move initialization to poolStarted
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@725843 13f79535-47bb-0310-9956-ffa450edef68

commit 46852f8b7b02ab7f5b68eaa5a5fa482e305a158a
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Dec 11 22:17:02 2008 +0000

    Implement startPool method to inform interceptors that pool is started
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@725838 13f79535-47bb-0310-9956-ffa450edef68

commit 9ffdc5abe170dbdd363acad3cb08aba1aa241454
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Dec 11 22:07:43 2008 +0000

    Refactor slow query report so that it is extensible and one can override the methods
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@725836 13f79535-47bb-0310-9956-ffa450edef68

commit 4db6694a04c3da31ed33a146603f94b46665197b
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Dec 11 17:24:21 2008 +0000

    implement a toString for the CometEventImpl
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@725747 13f79535-47bb-0310-9956-ffa450edef68

commit 4a683eca1fcbd759258176ae8df805d12d7bcddd
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Dec 11 17:23:47 2008 +0000

    clean up JMX reg
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@725746 13f79535-47bb-0310-9956-ffa450edef68

commit 18fe6a641b437aa1dd4c5435f11e4d11edfc9f3d
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Dec 11 13:50:00 2008 +0000

    house keeping
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@725685 13f79535-47bb-0310-9956-ffa450edef68

commit 5cbdae9bfde7f6d410c649c75b1481a480d5e852
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Dec 11 06:04:31 2008 +0000

    minor cleanup
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@725592 13f79535-47bb-0310-9956-ffa450edef68

commit 85e9da2b16ec143cd5777356b27d37b65a3bd7df
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Dec 11 05:49:10 2008 +0000

    Implemented closure notification. Turns out generics only work on an instance level, so you cant use static methods without having to use reflection.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@725586 13f79535-47bb-0310-9956-ffa450edef68

commit 709dfceab332d9b75e4f53cc5dcb46acc8c941b2
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Dec 11 05:17:19 2008 +0000

    Refactor interceptor instantiation a bit
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@725584 13f79535-47bb-0310-9956-ffa450edef68

commit fd80a2f2d2c5b87379a810f1cfce247c9b54efa8
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Dec 11 04:58:11 2008 +0000

    Refactor a bit
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@725575 13f79535-47bb-0310-9956-ffa450edef68

commit 21ca24ebd67787d0a72d5af8443d17f9e1dc65aa
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Dec 11 03:51:10 2008 +0000

    remove more code not needed
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@725565 13f79535-47bb-0310-9956-ffa450edef68

commit 8828b884a7f7cf4f69a047af1325e83f1c499d7e
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Dec 11 03:40:13 2008 +0000

    get rid of closeListener, it turns into spaghetti code
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@725564 13f79535-47bb-0310-9956-ffa450edef68

commit 478856cba7f1bef18e7f3b08dbac18d281752197
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Dec 10 23:38:13 2008 +0000

    refactor the slow query report a bit
    also add the ability to remove a listener
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@725487 13f79535-47bb-0310-9956-ffa450edef68

commit 8c44364513c13116b3f151a389411e6c2025533e
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Dec 10 22:43:30 2008 +0000

    Make sure we check if the attachment is null
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@725474 13f79535-47bb-0310-9956-ffa450edef68

commit 668d4f57576551462440c533ab254ae31f23b539
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Dec 10 21:29:10 2008 +0000

    Reset the key to let go off references
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@725443 13f79535-47bb-0310-9956-ffa450edef68

commit 144f0bc892f30c30698c03077d9ef4d859949674
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Dec 10 20:28:19 2008 +0000

    implement timeout on sendfile write as wellimplement timeout on sendfile write as wellimplement timeout on sendfile write as wellimplement timeout on sendfile write as wellimplement timeout on sendfile write as wellimplement timeout on sendfile write as wellimplement timeout on sendfile write as wellimplement timeout on sendfile write as wellimplement timeout on sendfile write as well
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@725417 13f79535-47bb-0310-9956-ffa450edef68

commit b24c3b2a34ba329d0f37b45f53351aa3d76b73c7
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Dec 10 20:08:31 2008 +0000

    Remove methods so that the caller knows what action is being taken
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@725408 13f79535-47bb-0310-9956-ffa450edef68

commit b4432efac0aad03e9f56d472f25ea871a6857b1e
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Dec 9 23:13:26 2008 +0000

    oops, must return false, or a leak will happen
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@724926 13f79535-47bb-0310-9956-ffa450edef68

commit d6f7f0a7e80001fe8b4639d58d93e63d73d90bea
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Dec 9 22:33:08 2008 +0000

    cleanup methods not used, and correct methods that used the old thread stats
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@724919 13f79535-47bb-0310-9956-ffa450edef68

commit 44dece2ccc8fef73618364a3c234070896cbcc53
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Dec 9 21:22:38 2008 +0000

    Implement an execution that adds the task to the queue if rejected, and allow to try to add for a specified time
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@724897 13f79535-47bb-0310-9956-ffa450edef68

commit 7e489195ab295fb3d508664a9176236a016316bf
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Dec 9 20:59:36 2008 +0000

    correct the import statement
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@724889 13f79535-47bb-0310-9956-ffa450edef68

commit 1ce59fe30727fa2e0b3c6efe9430a813e62f825c
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Dec 9 20:56:59 2008 +0000

    Refactored the thread pooling when using an executor, this gets rid of duplicate code in the NIO connector as well as in the org.apache.catalina.core.StandardThreadExecutor package.
    I provided a ThreadPoolExecutor with a small extension to the java.util.concurrent
    The connector method setExecutor still take a java.util.concurrent.Executor as an argument to provide the most flexibility
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@724886 13f79535-47bb-0310-9956-ffa450edef68

commit bdd791c7b8ebba84a2bdc5b8be655471ce70146a
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Dec 9 19:38:44 2008 +0000

    Implement keep alive timeout, and while doing this, I realized that keepalive is either on or off, but there is no counter
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@724849 13f79535-47bb-0310-9956-ffa450edef68

commit 296aca495e9616d93567f2d2217b4cf9fd22c59e
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Dec 8 16:24:05 2008 +0000

    Implement keepAliveCount in a thread safe way, and as an estimate
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@724393 13f79535-47bb-0310-9956-ffa450edef68

commit 7844c421a1c55a1ea487fbe96e76763aae8c30ed
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Dec 8 15:52:23 2008 +0000

    implement a bit cleanup and a rough estimate on the size of a poller
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@724384 13f79535-47bb-0310-9956-ffa450edef68

commit 034f2c22a226de68eaa7ee6f6ff032aa84ead056
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Dec 8 03:32:07 2008 +0000

    Remove the synchronize/notifyAll based thread pool, and use only the built in pool
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@724239 13f79535-47bb-0310-9956-ffa450edef68

commit f5dc7bf63f70c3147bcfe9a3f7c62985e928c6a0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 6 09:24:29 2008 +0000

    Set line endings for a couple of new files
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@723961 13f79535-47bb-0310-9956-ffa450edef68

commit 1763cf94cdb4321cde034854ace9319a883944fc
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Dec 5 22:02:15 2008 +0000

    Add the ability to configure a job queue size, and a timeout for how long we want to try to add something to the queue.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@723889 13f79535-47bb-0310-9956-ffa450edef68

commit 5e05e057548cb81f13ff44bfc00a2abf1cfc3490
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 5 17:48:41 2008 +0000

    A few more properties
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@723803 13f79535-47bb-0310-9956-ffa450edef68

commit e31c413298faef4265598f29c9a5c79fb3761787
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Dec 5 17:36:09 2008 +0000

    Query collection stats
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@723802 13f79535-47bb-0310-9956-ffa450edef68

commit 408175f5f8699fbcac0c143f9bea2bda9952a9d4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 5 15:57:43 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46247
    svn property patches for trunk
    Patch provided be sebb at a.o
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@723775 13f79535-47bb-0310-9956-ffa450edef68

commit 3a703ff9b3cf46ad605bcc0620dd02b9fb537dfa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 5 14:27:57 2008 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=46232
    Don't override the endorsed dir if the user has set it
    Based on a patch by Russ Tokuyama
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@723738 13f79535-47bb-0310-9956-ffa450edef68

commit 425a0dfb5536f705fdf772b1a619dff2e83a2139
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Dec 4 19:31:34 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=44285
    Provide support for configuring the JSSE SSL session cache size and timeout
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@723404 13f79535-47bb-0310-9956-ffa450edef68

commit df05837ce3598037cfdfc943f221e03cdbfd200e
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Dec 4 07:07:23 2008 +0000

    start working on the interceptor for query stats
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@723228 13f79535-47bb-0310-9956-ffa450edef68

commit 8db9bb82b570e50735c32cd205b96a548e96c297
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Dec 4 07:07:01 2008 +0000

    fix build script
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@723227 13f79535-47bb-0310-9956-ffa450edef68

commit 3623c547d1d817b7a9b836155261b7932ed10f75
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Dec 4 07:06:19 2008 +0000

    Add comment and cleanup
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@723226 13f79535-47bb-0310-9956-ffa450edef68

commit 019f7803ebfb4c793f64704f5c3f3247444baaba
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 2 21:34:37 2008 +0000

    Generics for o.a.c.users and o.a.c.util
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@722621 13f79535-47bb-0310-9956-ffa450edef68

commit f84da3c2eb997d13bc430dd1c009da321e69273f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 2 19:54:06 2008 +0000

    Generics for o.a.c.valves
    Fix a couple of other Eclipse warnings as well
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@722589 13f79535-47bb-0310-9956-ffa450edef68

commit e7b1ad86ddde03cf10bcd9e3845945a2ced599ff
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Dec 2 17:11:38 2008 +0000

    remove some not needed test, add compile version
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@722528 13f79535-47bb-0310-9956-ffa450edef68

commit 0a3f0551a9fcf8bb893dcd65208930a00b9cf411
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Dec 2 17:01:02 2008 +0000

    Add fairness test to build.xml
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@722524 13f79535-47bb-0310-9956-ffa450edef68

commit 047873029b296dfd7e541da97b64182d21606c04
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Dec 2 16:46:14 2008 +0000

    update version to next rev
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@722522 13f79535-47bb-0310-9956-ffa450edef68

commit 11545e983382871a4aeb6daf85af78284f5439cf
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Dec 2 16:02:16 2008 +0000

    implement cancellation ability for future
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@722506 13f79535-47bb-0310-9956-ffa450edef68

commit 12f7a9f5a54cd2366da7fc01c8594c34f203786d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 1 13:15:37 2008 +0000

    Add log formatter that outputs on a single line (except stack traces)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@722064 13f79535-47bb-0310-9956-ffa450edef68

commit 5b35b268c762a57b1f12fb6192fc7572dabd7baf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 30 22:32:18 2008 +0000

    Generics changes for o.a.el
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@721914 13f79535-47bb-0310-9956-ffa450edef68

commit caddf017e186c4a49199fff6a92a3a7161759b2e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 30 20:14:59 2008 +0000

    Allow webapps to access org.apache.jasper.el package.
    I have looked through the package and I believe this change is safe although more eyes would be good. Without this permission, a handful of TCKs fail if tested with a security manager enabled.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@721886 13f79535-47bb-0310-9956-ffa450edef68

commit 673c8bf43f8764976b53cec764c736199efe2c95
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 30 15:59:48 2008 +0000

    Generics for o.a.coyote
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@721835 13f79535-47bb-0310-9956-ffa450edef68

commit f748e8978d91a4206447a20bf286b9a53e70cfaa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 29 20:20:06 2008 +0000

    Lots of EL failures with a security manager without this.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@721708 13f79535-47bb-0310-9956-ffa450edef68

commit 29fa038cff2fb67030f9afbb9d2832b1c5e4b26b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 29 19:01:57 2008 +0000

    Fix some TCK failures when using a security manager.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@721704 13f79535-47bb-0310-9956-ffa450edef68

commit e896751cd4dc1d4e3257ffd8e5d28fdaa9f67e50
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 27 21:54:36 2008 +0000

    Generics changes for remainder of Jasper.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@721289 13f79535-47bb-0310-9956-ffa450edef68

commit be8bf856d29aa52ef4739f71872b1a432267d83a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 27 21:40:05 2008 +0000

    Add doPrivileged block required for Servlet TCK to pass when running with a security manager
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@721286 13f79535-47bb-0310-9956-ffa450edef68

commit cd890f7b192e52e798301cfca3dcf5662b4162e4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 27 00:08:32 2008 +0000

    Generics fixes require change in code generated for JSPs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@721041 13f79535-47bb-0310-9956-ffa450edef68

commit b975ec87f6b66f48edc7be306986bbf3fd1c2186
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 26 23:55:26 2008 +0000

    Use same (more useful) jpda defaults as catalina.sh
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@721040 13f79535-47bb-0310-9956-ffa450edef68

commit 3f7fa22c67f21281f4592ec8fa7c7c9761bd6ea2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 26 21:41:03 2008 +0000

    Tabs -> 8 spaces
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@720991 13f79535-47bb-0310-9956-ffa450edef68

commit 0152594ba403849eac92d446aea46a9785232f5f
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Nov 26 03:54:38 2008 +0000

    Add the ability to configure multiple pollers and default them to number of CPUs
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@720728 13f79535-47bb-0310-9956-ffa450edef68

commit 1af0c6da9735e6a9de567906e7b9d8f4e05875ee
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Nov 26 03:39:03 2008 +0000

    First attempt for SSL send file
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@720724 13f79535-47bb-0310-9956-ffa450edef68

commit 68792ec9363369ea2e935b265df71ad12eacee32
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Nov 26 01:16:30 2008 +0000

    increment version number
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@720694 13f79535-47bb-0310-9956-ffa450edef68

commit 59103680aad2fdc34e2e5880de28be25ff9fb405
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Nov 26 01:14:32 2008 +0000

    Add the ability to retrieve connection object asynchronously
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@720693 13f79535-47bb-0310-9956-ffa450edef68

commit 5de40916dc1048434d2b7531bdf1af7f96bcca90
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Nov 25 23:37:00 2008 +0000

    Remove the Driver class, its not used anymore, and if it was used, there needs to be a way to instantiate from a properties file or similar
    
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@720668 13f79535-47bb-0310-9956-ffa450edef68

commit ba033f0e6eb1ebdc8d91663807706f971a4b3fa1
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Nov 25 23:23:21 2008 +0000

    we don't have to wrap it anymore, since the extension implements the interface directly
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@720646 13f79535-47bb-0310-9956-ffa450edef68

commit a1850f54a22d62de2b3c330c6298901dea43088c
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Nov 25 23:04:41 2008 +0000

    Clean up a bit
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@720643 13f79535-47bb-0310-9956-ffa450edef68

commit b639c6e38433a7e0a04ede425f804087b21a1013
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Nov 25 22:57:24 2008 +0000

    Extend the fair blocking queue to allow asynchronous polling
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@720641 13f79535-47bb-0310-9956-ffa450edef68

commit 9c1dd0ecb6161470a60a459aef137093334029c6
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Nov 25 22:56:58 2008 +0000

    Pool should throw a SQL exception, never return null
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@720640 13f79535-47bb-0310-9956-ffa450edef68

commit bbc3423c93515e27c1e605492209b4022f42f35c
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Nov 25 20:14:30 2008 +0000

    Add an extended key manager to handle a forced server alias on the tomcat NIO connector
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@720587 13f79535-47bb-0310-9956-ffa450edef68

commit b374372468fc04b57496ffd37cad569945f1ca41
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Nov 25 18:00:43 2008 +0000

    Implement setter for keyalias, not used yet
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@720553 13f79535-47bb-0310-9956-ffa450edef68

commit e074953870372a4d2717169d35dcc50d69b980e0
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Nov 24 22:39:48 2008 +0000

    start to add back in features
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@720317 13f79535-47bb-0310-9956-ffa450edef68

commit facd514fb3c9652c174dfce7cc0c2772d033b9d1
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Nov 24 22:28:03 2008 +0000

    print out some useful test data
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@720313 13f79535-47bb-0310-9956-ffa450edef68

commit 437b78ee950850c15f39a725b35851a3d635fe6d
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Nov 24 22:21:15 2008 +0000

    make sure the test is time based
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@720310 13f79535-47bb-0310-9956-ffa450edef68

commit 9bbbd66110bb6817dc2f22aff6bf3eaf6017fe8c
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Nov 24 22:04:23 2008 +0000

    Fix fair blocking queue for now, we will add back the ability to not have a timeout later
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@720306 13f79535-47bb-0310-9956-ffa450edef68

commit 14c8016dbcb25167cad92fc9225913f101d14b9d
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Nov 24 20:52:26 2008 +0000

    use same method names everywhere
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@720289 13f79535-47bb-0310-9956-ffa450edef68

commit 45f1c026d0a7ad23540633c9874d77de31191e49
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Nov 24 20:43:32 2008 +0000

    eclipse autocompletion is gonna kill me
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@720285 13f79535-47bb-0310-9956-ffa450edef68

commit c70c1b7d31229c1208e489a3ec7822f5d18267af
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Nov 24 20:43:15 2008 +0000

    fix bug
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@720284 13f79535-47bb-0310-9956-ffa450edef68

commit 19096f4efb7647c3131d4de2c1cc7783b9e6de52
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Nov 24 20:42:12 2008 +0000

    fix sample code
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@720283 13f79535-47bb-0310-9956-ffa450edef68

commit 9a9e9c6b3c0ccfffd9993bd3c80e99acf2ea825e
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Nov 24 20:41:38 2008 +0000

    implemented use equals attribute everywhere
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@720282 13f79535-47bb-0310-9956-ffa450edef68

commit 1341adc1717d8e624a0571e35c722c0928bea094
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Nov 24 20:33:17 2008 +0000

    implement useEquals for the connection pool itself, does not apply to interceptors, they can manage that on their own
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@720280 13f79535-47bb-0310-9956-ffa450edef68

commit 8f1aa6fb5dfc822cf53844b86494bf70bbfcad44
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Nov 24 19:27:37 2008 +0000

    Add doc, update version number
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@720267 13f79535-47bb-0310-9956-ffa450edef68

commit 87cc0da88ace7ce2bd887e75920690723100f279
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Nov 24 19:25:22 2008 +0000

    Add in framework for comparing on either reference or string value
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@720265 13f79535-47bb-0310-9956-ffa450edef68

commit 2051c7d89248e48d0456ab63a46590e17d3ca953
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Nov 24 18:49:40 2008 +0000

    update changelog
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@720254 13f79535-47bb-0310-9956-ffa450edef68

commit 17f4c406bfd939b62f87170569f789b9e524f58e
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Nov 24 18:47:49 2008 +0000

    document how interceptors work and how to configure them
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@720253 13f79535-47bb-0310-9956-ffa450edef68

commit f61caafedea08a7642974b2d668745145ddce142
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Nov 24 17:59:50 2008 +0000

    properly throw exception
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@720240 13f79535-47bb-0310-9956-ffa450edef68

commit 16cbaf1048c8005f7c6feed69c58fe6b726dd773
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Nov 24 11:32:02 2008 +0000

    Fix NPE
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@720173 13f79535-47bb-0310-9956-ffa450edef68

commit 8d5db6f51c02bc59ad44267c5915b4a3b4b8b638
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 23 23:35:05 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=42077
    Don't include nulls in iterator. Based on a patch by Mathias Broekelmann
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@720069 13f79535-47bb-0310-9956-ffa450edef68

commit eb9af2520e5bbc6ac73f42a98dd8cfcc94cb4315
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 23 23:31:43 2008 +0000

    Tab police
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@720068 13f79535-47bb-0310-9956-ffa450edef68

commit 59eb47192d4c4dcd7d23fbc507ceddfa937d3de2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 23 21:29:46 2008 +0000

    Fix generics in o.a.jasper & o.a.jasper.compiler. Also a few knock-on changes in other jasper packages.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@720049 13f79535-47bb-0310-9956-ffa450edef68

commit b5a5094c12e61013cc5e9c209745db2e1ec12931
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 23 21:25:22 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=42693
    I want to do some more testing before proposing this one
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@720046 13f79535-47bb-0310-9956-ffa450edef68

commit b32df7c938b6f17e68af67d090fcce582be3ca86
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 23 13:49:26 2008 +0000

    Generics fixes for o.a.jk
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@719988 13f79535-47bb-0310-9956-ffa450edef68

commit 60c1730e2a63f0b4ed2837cd2dd62ea9d6e3e6a2
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat Nov 22 23:13:05 2008 +0000

    Add ability to customize wait plan
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@719936 13f79535-47bb-0310-9956-ffa450edef68

commit 180f39fa9b84e93b3067d5bcef8d7936bcc845c1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 22 11:30:47 2008 +0000

    o.a.juli generics
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@719837 13f79535-47bb-0310-9956-ffa450edef68

commit a5b148bdffd9a3e128984a74fc6713f6765ee5ff
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 22 11:19:43 2008 +0000

    Remove deprecated code.
    Some code made private rather than removed based on code comments.
    Calls to deprecated methods changed to use appropriate replacements.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@719835 13f79535-47bb-0310-9956-ffa450edef68

commit 2331c7b70bdf4cfd2e238bee0214d7750febd3b6
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Nov 21 21:06:44 2008 +0000

    add async call template, not sure how it will work, but I will know soon
    make sure that timewait is a positive value, 0 being the lowest
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@719711 13f79535-47bb-0310-9956-ffa450edef68

commit e6c3dd51b921bdcc964c83eacaea033f2b1d7814
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Nov 21 16:31:45 2008 +0000

    Fix dynamic thread resizing
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@719626 13f79535-47bb-0310-9956-ffa450edef68

commit 0c3319af068a88c79a4cd8e41afa2acb94bbed0a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 21 15:46:12 2008 +0000

    Make size of all threads pools dynamically configurable
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@719602 13f79535-47bb-0310-9956-ffa450edef68

commit 9f4f804d5d7a281c87db4a18e4e74542962a999f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 21 09:45:31 2008 +0000

    Remove deprecated code in digester (it was this bit that broke the build previously).
    Modify all classes that overrode deprecated methods to override the new methods.
    Add a note to the change log about backwards compatibility or lack thereof.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@719551 13f79535-47bb-0310-9956-ffa450edef68

commit 350e9bbdaac6adcc69e407a634922eb7749f7780
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 21 09:36:09 2008 +0000

    Make private / remove deprecated methods
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@719550 13f79535-47bb-0310-9956-ffa450edef68

commit 943ce7c4662f5de34cd3d2af0c1a6f97753f262e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 21 09:33:44 2008 +0000

    Clean up
    Replace deprecated method calls
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@719549 13f79535-47bb-0310-9956-ffa450edef68

commit b93c839e731f2cce73ccbb3a8f79eae626c7f503
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Nov 21 05:22:14 2008 +0000

    timeout of 0 means we return right away
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@719481 13f79535-47bb-0310-9956-ffa450edef68

commit 42908a78a48b03201c22ab5fd4d6762b74eb8b76
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 20 08:19:23 2008 +0000

    Revert r718819 that completely broke Tomcat.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@719194 13f79535-47bb-0310-9956-ffa450edef68

commit 553c45b6d2c08c7af42dd1934cd0248e726d6a1d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 20 01:39:30 2008 +0000

    Generics for o.a.naming.*
    A little messy in places due to differences in env handling. Properties, Hashtable<?,?>, Hashtable<String,Object> and Hashtable<String,String) are all used and in a few places it is necessary to cast from one to the other.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@719153 13f79535-47bb-0310-9956-ffa450edef68

commit b05b72246cb03565b412dc8ef67f78a344cdd487
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 20 00:10:48 2008 +0000

    Relax generics checks otherwise an call with a Properties object will not compile.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@719136 13f79535-47bb-0310-9956-ffa450edef68

commit ae18492cb456ecba48b5c0c8f89cd36952df8844
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Nov 19 23:39:17 2008 +0000

    Fix SEND_FILE bug, with Java NIO you can only change the key interest ops on the poller thread, so we have to make sure we fire off an event
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@719129 13f79535-47bb-0310-9956-ffa450edef68

commit 097e43b2f6019eaafc062badb81fd11c76c9f5b6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 19 23:16:05 2008 +0000

    Fix generics and use of deprecated field
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@719125 13f79535-47bb-0310-9956-ffa450edef68

commit 68a749e191381e4dda1005bed4752fa2031b2f8d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 19 23:15:08 2008 +0000

    Deprecate class that is no longer used.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@719124 13f79535-47bb-0310-9956-ffa450edef68

commit 7a89bbca77927adc84b78423f9bae840cb3e8f33
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 19 23:07:20 2008 +0000

    Deprecate classes that are no longer used.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@719119 13f79535-47bb-0310-9956-ffa450edef68

commit 1f982a7570dad52a815b167233d9dc889ec78c16
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 19 23:03:01 2008 +0000

    More generics fixes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@719117 13f79535-47bb-0310-9956-ffa450edef68

commit 1d4e201c05fa67748862ca1ad834122b2131f715
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Nov 19 22:26:06 2008 +0000

    fix NPE risk
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@719096 13f79535-47bb-0310-9956-ffa450edef68

commit e378b56f35100932c1a7dd96084efdd2ddaf3ff0
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Nov 19 22:14:57 2008 +0000

    keep the correct default value
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@719093 13f79535-47bb-0310-9956-ffa450edef68

commit af68834f20bc73387d52245bcb3981a43767b2b1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 19 22:14:47 2008 +0000

    Tab police
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@719092 13f79535-47bb-0310-9956-ffa450edef68

commit c289fd5a1f38b3103a1e957a4cd01ea5f2cd09fc
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Nov 19 00:44:57 2008 +0000

    remove debug stuff that should not be there
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@718824 13f79535-47bb-0310-9956-ffa450edef68

commit 87546502f970c1579355e467dbffcc96ba622338
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 19 00:43:15 2008 +0000

    Remove deprecation. Generics changes removed the issue.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@718821 13f79535-47bb-0310-9956-ffa450edef68

commit 5fedbd6d2ff1f27786ae80803d30ae1971a1f25a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 19 00:39:04 2008 +0000

    Remove deprecated methods. (In a few places public methods become private)
    In the few places they are used, replace the call to the deprecated method with an appropriate alternative.
    Should be no functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@718819 13f79535-47bb-0310-9956-ffa450edef68

commit 844b5c679d459e1537fc33dbb452c36f54a2147b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 18 23:36:34 2008 +0000

    Knock-on generics changes from digester commit
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@718796 13f79535-47bb-0310-9956-ffa450edef68

commit d7ba6316dfb2ad31881162826e643d8dd98eb75a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 18 23:29:05 2008 +0000

    Remaining generics changes in o.a.tomcat.util
    No nasty surprises. Should be no functional impact.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@718766 13f79535-47bb-0310-9956-ffa450edef68

commit 6f876cbad4c83d63c45c1f08292b72ef53c072e2
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Nov 18 03:18:30 2008 +0000

    Clean up debug a bit while troubleshooting
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@718474 13f79535-47bb-0310-9956-ffa450edef68

commit 21ff510fc10b9fd95864f9e2f5a788371e787dc1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 18 00:47:36 2008 +0000

    Generics changes for o.a.t.util.modeler
    These changes identified a bunch of issues, the most serious of which was the loadDescriptors() method that sometimes returned List<ObjectName> and sometimes List<ManagedBean>. Some callers expected this, some didn't.
    There are comments in the code identifying this as an issue. The fix I applied aligns with some commented out code that may have been part of an intended fix. There are still some deprecated methods that need to be cleaned up.
    With these changes Tomcat starts without error and JConsole shows all the mbeans I expect to see.
    There is plenty of further clean-up required here but I'll do that separately after the generics.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@718452 13f79535-47bb-0310-9956-ffa450edef68

commit 0a57f63ddcee033306db5c7bfdb1c70f3cd0402b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 17 23:30:32 2008 +0000

    Need to make sure configBase exists. WAR deployment has this check. DIR deployment needs it too.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@718436 13f79535-47bb-0310-9956-ffa450edef68

commit e92b3b26143fb95e764bc1f1ba0a3c62fdd4f5a4
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Nov 17 23:00:23 2008 +0000

    socket properties NPE fixes
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@718428 13f79535-47bb-0310-9956-ffa450edef68

commit 1cc61f3500f1221a3dfdc0e98a15ab263a0b8cbc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 17 20:18:55 2008 +0000

    Remove references to admin and balancer webapps and an unused task
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@718360 13f79535-47bb-0310-9956-ffa450edef68

commit c65a429f06f4e4a025a306e377211863d9ff2a0c
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Nov 17 04:42:57 2008 +0000

    Add first stab in letting interceptors have dynamic attributes
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@718171 13f79535-47bb-0310-9956-ffa450edef68

commit 52699a95f8f3c2c6cd2ae804f9bf8885f7ea70dc
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Nov 17 04:42:29 2008 +0000

    Add timeout test
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@718170 13f79535-47bb-0310-9956-ffa450edef68

commit 27c5538eaadb6089d0b83d47d71873c18d04546d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 16 23:09:13 2008 +0000

    Update changelog to show all changes in trunk that have not been proposed for 6.0.x
    If any backports for 6.0.x fail to achieve 3 +1s, need to include change in this file.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@718141 13f79535-47bb-0310-9956-ffa450edef68

commit 405b17a2ec327b064c73705714f8469ae4373ded
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 16 23:07:52 2008 +0000

    Revert accidental changes in r718133
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@718140 13f79535-47bb-0310-9956-ffa450edef68

commit 12395e1038a83ea2ccba8f838e6b16a631ab4075
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 16 22:42:43 2008 +0000

    Far faster than I was expecting - the diff is complete. Remove the temp tracking file.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@718133 13f79535-47bb-0310-9956-ffa450edef68

commit 977371df17a7d8de091313ddfdf1a88c7b9fa0a9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 16 20:54:03 2008 +0000

    Port sendfile fix from 6.0.x to trunk
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@718115 13f79535-47bb-0310-9956-ffa450edef68

commit 3bbf3fc2fa4190bdc91c5adfe490b8ce111cd094
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 16 17:33:38 2008 +0000

    el was simple. jasper will take longer
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@718066 13f79535-47bb-0310-9956-ffa450edef68

commit 3818748edb40845aa2d1b649c5ef695b82caa7b4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 16 17:28:26 2008 +0000

    Remove pointless brackets
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@718063 13f79535-47bb-0310-9956-ffa450edef68

commit 9ec9ba5a9e5a9ce94717ebe84291d628002cc87e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 16 14:51:21 2008 +0000

    o.a.coyote review complete
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@718042 13f79535-47bb-0310-9956-ffa450edef68

commit 51e4373d083e3ea39a0308be75d47d4ebdf8e5b7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 16 14:08:02 2008 +0000

    o.a.catalina review complete
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@718033 13f79535-47bb-0310-9956-ffa450edef68

commit 5f6c3fb87462c551cf5ed20fdf7753ab4e268165
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 16 12:42:43 2008 +0000

    Fix comment typos
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@718014 13f79535-47bb-0310-9956-ffa450edef68

commit e82207d1c5d11337ee9e547a64ab737d65a8306d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 16 12:17:28 2008 +0000

    Document that shutdown address is configurable.
    Add note re how to disable this completely.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@718011 13f79535-47bb-0310-9956-ffa450edef68

commit c892a8f19307179188fb7fb7bd49ba28b376fe43
Author: Filip Hanik <fhanik@apache.org>
Date:   Sun Nov 16 03:50:09 2008 +0000

    Fix test case
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@717976 13f79535-47bb-0310-9956-ffa450edef68

commit 490c8a8391b5469e2aa33411c4a9458e034a89a9
Author: Filip Hanik <fhanik@apache.org>
Date:   Sun Nov 16 03:43:21 2008 +0000

    make sure we clean up
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@717975 13f79535-47bb-0310-9956-ffa450edef68

commit 6e94dae6e37c4f47da2915e2f227e86f8ca0f3c5
Author: Filip Hanik <fhanik@apache.org>
Date:   Sun Nov 16 03:41:42 2008 +0000

    Make sure it compiles with JDK1.5, this is one of the times you wish you had preprocessor statements
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@717974 13f79535-47bb-0310-9956-ffa450edef68

commit 92032f3772ea7e26a0f9aff0b44c9594e4b883da
Author: Filip Hanik <fhanik@apache.org>
Date:   Sun Nov 16 03:26:29 2008 +0000

    Added an interceptor that keeps track of statements, and if they are not closed, then they will be closed automatically
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@717972 13f79535-47bb-0310-9956-ffa450edef68

commit 40b9e7183be38f2cacb4945502ee6e57e613e8d6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 16 01:16:56 2008 +0000

    A few more simple dirs completed.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@717958 13f79535-47bb-0310-9956-ffa450edef68

commit df74fb5ddee1a08c5524c820721825de4cbadce8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 16 01:10:53 2008 +0000

    Sync docs in trunk with 6.0.x
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@717957 13f79535-47bb-0310-9956-ffa450edef68

commit f983a45612544793d332a574ca62345707532643
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 16 00:30:19 2008 +0000

    Add jfclere's cookie test fixes to trunk. Merge of r633793.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@717950 13f79535-47bb-0310-9956-ffa450edef68

commit da771d500139856a91206a91f75c5bfd00537a61
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 15 20:24:08 2008 +0000

    And another easy one
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@717926 13f79535-47bb-0310-9956-ffa450edef68

commit 0d09d599550998a98d6714b9af628cc093efc368
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 15 20:15:08 2008 +0000

    Another easy one. I'll have to start /java at some point ;)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@717924 13f79535-47bb-0310-9956-ffa450edef68

commit 8d6bd99561f22dc8bfe4c0366479ba7c4ef5c4e1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 15 20:00:27 2008 +0000

    /conf was quick too
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@717923 13f79535-47bb-0310-9956-ffa450edef68

commit e93d02c753df0d03805906b05adef572404a10d4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 15 19:57:25 2008 +0000

    /bin was quick :)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@717922 13f79535-47bb-0310-9956-ffa450edef68

commit 5970a0256248d2d1e9b684ea14d17c43417af022
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 15 19:55:02 2008 +0000

    Update diff status
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@717921 13f79535-47bb-0310-9956-ffa450edef68

commit 51fdafa779d4ff81aeee7438c0e2b1595fcb82f7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 15 19:52:04 2008 +0000

    Sync BUILDING.txt
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@717920 13f79535-47bb-0310-9956-ffa450edef68

commit e32c04e8bc54212707a304939393c28c7148408b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 15 19:09:15 2008 +0000

    Remove unused file.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@717914 13f79535-47bb-0310-9956-ffa450edef68

commit d6b4b920e8c67d3a2d572b15c0c1bea1861029c2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 15 18:40:10 2008 +0000

    Remove the tomcat 6 parts of the change log
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@717909 13f79535-47bb-0310-9956-ffa450edef68

commit 1dda05c4ed35af0f1b42a19b2514b40048f69a15
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 15 18:12:15 2008 +0000

    Merge r613809 from 6.0.x
    FarmWarDeployer can only be configured as host sub-element
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@717902 13f79535-47bb-0310-9956-ffa450edef68

commit d56275db0a477a419e1dd5a821986059f055fb10
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 15 13:27:34 2008 +0000

    Add temp file to track diff status
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@714253 13f79535-47bb-0310-9956-ffa450edef68

commit 96598da8d526d50cbbb8855fcc943236c6a71489
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 15 12:59:01 2008 +0000

    Update KEYS with changes from 6.0.x (Remy updated his key)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@714246 13f79535-47bb-0310-9956-ffa450edef68

commit cfd946fbd3c3d3e152d2c174eeaaf6ac0c9324da
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat Nov 15 03:51:51 2008 +0000

    Only apply state once, so if the connection state interceptor is not applied, then we need to do it in the pool
    Add abstract interceptor to handle statement wrappers and creation, to be used later when we do a clean up and performance interceptor
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@714217 13f79535-47bb-0310-9956-ffa450edef68

commit 6a9431ccffa211ee364bf20a5b6c3213a1b059c5
Author: William Barker <billbarker@apache.org>
Date:   Sat Nov 15 02:30:12 2008 +0000

    If we know we are closing the connection, don't drain input.
    This way uploading a 100GB file doesn't tie up the thread
    if the servlet has rejected it.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@714214 13f79535-47bb-0310-9956-ffa450edef68

commit c1502f31d7e06422d33bfb7ad309a16d62d09e30
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Nov 14 15:42:47 2008 +0000

    fix spacing issues
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@714040 13f79535-47bb-0310-9956-ffa450edef68

commit e4cb96f153d1566561f4cdab533ac7f19e5a498d
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Nov 14 15:33:39 2008 +0000

    A disconnect should not throw an error
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@714036 13f79535-47bb-0310-9956-ffa450edef68

commit 7b0628e89a4f7e20ef1650d942083db3c498c2e8
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Nov 14 15:19:25 2008 +0000

    forgot to save file before checkin
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@714028 13f79535-47bb-0310-9956-ffa450edef68

commit 727260af512f3b1290434ea280e972f0a3e0f55c
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Nov 14 15:18:19 2008 +0000

    use atomic counters
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@714027 13f79535-47bb-0310-9956-ffa450edef68

commit c1526ed5e2f01a6db75ef21434922839b0e61114
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Nov 14 14:59:10 2008 +0000

    initialize root cause of an exception
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@714023 13f79535-47bb-0310-9956-ffa450edef68

commit eae637b53b009be81d5f924b5e85538b0d063b9a
Author: Mladen Turk <mturk@apache.org>
Date:   Fri Nov 14 13:49:14 2008 +0000

    Do not throw attribute value.
    Patch provided by Tomaz Cerar cerar at parsek.com
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@714002 13f79535-47bb-0310-9956-ffa450edef68

commit 7f79e4d9642d5f6ba238eeb2e0d79b54eace9e6c
Author: Mladen Turk <mturk@apache.org>
Date:   Fri Nov 14 08:54:58 2008 +0000

    When throwing Non-serializable exception, mark which argument was non-serializable to help tracing the cause when developing.
    Needs localization to other local properties files.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@713953 13f79535-47bb-0310-9956-ffa450edef68

commit ddfffb88f49ca74908d0a2fd15cd38b5b34ed730
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Nov 14 00:55:59 2008 +0000

    increment build number and control it from build file at this point
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@713889 13f79535-47bb-0310-9956-ffa450edef68

commit a36637f6d190e5956270b1d697699fd41e1196cc
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Nov 14 00:44:19 2008 +0000

    Added helper script to sign releases
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@713887 13f79535-47bb-0310-9956-ffa450edef68

commit d5fe463f3dfb1384f24b0214475f6572bdd6175a
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Nov 13 23:54:31 2008 +0000

    Add a change log to the module
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@713869 13f79535-47bb-0310-9956-ffa450edef68

commit 3c18b728b29bffd873ef78dad6dbfefbefb23fea
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Nov 13 18:59:24 2008 +0000

    fix for calling close multiple times
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@713787 13f79535-47bb-0310-9956-ffa450edef68

commit 1786c16a1ec63ae39c1e0341c72bba620e7de09c
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Nov 13 18:02:35 2008 +0000

    Fix connection state, make it smarter and faster.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@713763 13f79535-47bb-0310-9956-ffa450edef68

commit 2991a63e6be83e0d1e62bb7f86907da415d17762
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Nov 12 21:50:03 2008 +0000

    Updated documentation and added wrappers for toString and added an example
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@713522 13f79535-47bb-0310-9956-ffa450edef68

commit 9a34fcc9a4cc20445aadcd62145b409f2311a456
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Nov 11 20:00:26 2008 +0000

    Fix socket properties usage so that we can decide if we want to accept the default value or if we want to use a preset value
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@713144 13f79535-47bb-0310-9956-ffa450edef68

commit 967fdb53beb40d06f7b7ff826badaf22294d9c66
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Nov 11 17:12:18 2008 +0000

    oops
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@713086 13f79535-47bb-0310-9956-ffa450edef68

commit 9ff21962c92c11ceb472a1d0a3351c6ed7706783
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Nov 11 15:58:23 2008 +0000

    Move the bayeux to a separate module
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@713070 13f79535-47bb-0310-9956-ffa450edef68

commit 97c29fee7e3a17f7ce85813f7335105f9d1f56de
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 10 23:03:48 2008 +0000

    Remove out of date file from trunk
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@712864 13f79535-47bb-0310-9956-ffa450edef68

commit 738221d95a81af70c0ab3024fe0acd9ada80dc6e
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Nov 10 17:14:41 2008 +0000

    Last bit of my ego goes away
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@712702 13f79535-47bb-0310-9956-ffa450edef68

commit f6cae0f22550252d485386e07d3c6f477f281ab7
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Nov 10 17:09:40 2008 +0000

    Added test case to test two concurrent datasources, fixed the flag to turn on the sweeper
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@712701 13f79535-47bb-0310-9956-ffa450edef68

commit 23a8ba0bce77acbe96a9c5b82b5b87f1e175ad17
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 9 01:57:34 2008 +0000

    Fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=42707
    I debated adding the addContainerListener() meethod to JMX. I'll leave it a little while for people to comment on this (or anything else) before I propose this one for 6.0.x.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@712467 13f79535-47bb-0310-9956-ffa450edef68

commit 400f344bd4ee72bd713dc6a45ba93db81b58b044
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 9 01:45:26 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=42747
    I've tested this with all the combinations I could think of and ensured that the order of the redploy resources is consistent. The summary of changes is:
    - context.xml takes effect on first deploy rather than next restart
    - context.xml from DIR is now copied to conf/<eng>/<host> in the same manner as context.xml from WAR
    I also fixed a couple of edge cases I spotted and changed a few local variables to make the code easier to understand.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@712464 13f79535-47bb-0310-9956-ffa450edef68

commit 4d5cca19b13e915c9393d8e8ae7381f4416fcbd0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 9 01:35:58 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=42673
    Correctly handle includes with multi-level contexts
    Patch provided by Peter Jodeleit
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@712461 13f79535-47bb-0310-9956-ffa450edef68

commit 82ba76c711234cd8d41cff915dfce1371aea4ad0
Author: Peter Rossbach <pero@apache.org>
Date:   Fri Nov 7 21:40:37 2008 +0000

    Fix NPE to use Http11NioProtocol handler with default parameters!
    # example:
    <Executor name="tomcatThreadPool" namePrefix="catalina-exec-"
            maxThreads="150" minSpareThreads="4"/>
    <Connector executor="tomcatThreadPool"
                   port="8080" protocol="org.apache.coyote.http11.Http11NioProtocol"
                   connectionTimeout="20000"
                   redirectPort="8443" />
    
    Used at MAC OS X with "-Djava.net.preferIPv4Stack=true"
    
    I am not sure that default returns are correct!
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@712278 13f79535-47bb-0310-9956-ffa450edef68

commit c29ffe9366baa21284d162091ad41b0df73d4e90
Author: Peter Rossbach <pero@apache.org>
Date:   Fri Nov 7 21:29:21 2008 +0000

    FIX possible NPE as Engine level configuration, as context dosen't exists!
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@712274 13f79535-47bb-0310-9956-ffa450edef68

commit 7f4db9f511ea98c2220c469c46306eb0c7924a91
Author: Rainer Jung <rjung@apache.org>
Date:   Fri Nov 7 04:01:05 2008 +0000

    This belongs to r711934. Property version nww
    gets calculated, so remove it from build.properties
    and add the version.suffix instead.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@712053 13f79535-47bb-0310-9956-ffa450edef68

commit 242ccbe7d44f182787fd9d4afacb5fe92ca0c7bc
Author: Rainer Jung <rjung@apache.org>
Date:   Fri Nov 7 01:59:04 2008 +0000

    Allow binding as user to directory instead
    of anonymous or fixed user/password access.
    Useful especially in an AD setup.
    
    Needs more testing.
    
    Should fix BZ45794 and BZ19444.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@712038 13f79535-47bb-0310-9956-ffa450edef68

commit 0e9f0f696e4b3beadeca25277b84d51e7f003aa7
Author: Rainer Jung <rjung@apache.org>
Date:   Fri Nov 7 00:48:13 2008 +0000

    Move curUserPattern from a global variable to
    a method variable.
    
    Not necessary at the moment, because the realm
    is mostly synchronized, but being global doesn't
    help and will hurt once we implement connection
    pooling and concurrent usage for the realm.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@712024 13f79535-47bb-0310-9956-ffa450edef68

commit 467ffd3f61501607f9e3aacd1c68f28cf708d806
Author: Rainer Jung <rjung@apache.org>
Date:   Fri Nov 7 00:20:06 2008 +0000

    Whitespace cleanup and two new debug messages.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@712019 13f79535-47bb-0310-9956-ffa450edef68

commit c9bfa8edcd276a254b2a7c950ce6b2a9ee278abc
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Nov 6 21:52:40 2008 +0000

    Modify build script to generate a distribution
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@711985 13f79535-47bb-0310-9956-ffa450edef68

commit f8d0baef653c73b2eb35ffc1c65e39678b10e66e
Author: Rainer Jung <rjung@apache.org>
Date:   Thu Nov 6 18:34:50 2008 +0000

    Using @-patterns in the non-docs files and
    ant filters to replace the major version and also
    major.minor.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@711934 13f79535-47bb-0310-9956-ffa450edef68

commit d82ce627476949589f4ec4d28e55f59d4fb02e86
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Nov 6 18:25:49 2008 +0000

    Improve documentation
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@711932 13f79535-47bb-0310-9956-ffa450edef68

commit d1f04240cc89017384c2cf0c2961770f24a820ec
Author: Rainer Jung <rjung@apache.org>
Date:   Wed Nov 5 22:15:53 2008 +0000

    Now make the classes checking session idleness
    use thisAccessedTime.
    This is not for invalidation, only for displaying
    idle times and making persistance decisions.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@711720 13f79535-47bb-0310-9956-ffa450edef68

commit 1ff039d36daca47b19f9001f5dfeb3bd4b2b9f55
Author: Rainer Jung <rjung@apache.org>
Date:   Wed Nov 5 22:11:04 2008 +0000

    Now expose thisAccessedTime via the session interface
    and ManagerBase, so we can use it from outside the session.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@711716 13f79535-47bb-0310-9956-ffa450edef68

commit 39890ba872ca4760edbed0fcd975b557bb6b5a48
Author: Rainer Jung <rjung@apache.org>
Date:   Wed Nov 5 22:05:24 2008 +0000

    This one gets inherited from StandardSession.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@711714 13f79535-47bb-0310-9956-ffa450edef68

commit 84fc878777f930b72f9a94035556ca4c1f6fc8c0
Author: Rainer Jung <rjung@apache.org>
Date:   Wed Nov 5 21:56:52 2008 +0000

    Give thisAccessedTime and lastAccessedTime for sessions
    a clear semantics:
    
    - thisAccessedTime will be updated at the beginning and
      at the end of session use
    - lastAccessedTime will only be updated at the end of
      session use
    
    This means:
    
    - lastAccessedTime is the last access time of a session
      disregarding any request still being processed on.
      So this is good to use even from within a request
      to detect when its own session has been used last before.
    - thisAccessedTime already gets updated when a new request
      disregarding any request still being processed on.
      So this is better for any idleness check or information.
    - thisAccessedTime >= lastAccessedTime always
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@711711 13f79535-47bb-0310-9956-ffa450edef68

commit ec905f0f564f7fdc999efa68ce649055cfd19bae
Author: Rainer Jung <rjung@apache.org>
Date:   Wed Nov 5 20:50:34 2008 +0000

    Whitespace and indentation cleanup.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@711695 13f79535-47bb-0310-9956-ffa450edef68

commit e148369c727941aeaa4a59e5ce458a7de42fdc6b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 5 16:17:16 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46011
    Make Principal accessible (if set) via Subject.getSubject(AccessController.getContext()) when processing filters.
    Based on a patch provided by tsveg1
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@711600 13f79535-47bb-0310-9956-ffa450edef68

commit 21ba6ebe1c3ddd62fa369e50fb6ed22406470136
Author: Rainer Jung <rjung@apache.org>
Date:   Tue Nov 4 21:42:38 2008 +0000

    Add ability to recursively search for roles
    to JNDIRealm. That way nested groups work.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@711422 13f79535-47bb-0310-9956-ffa450edef68

commit 25664b8ffc5edeb9684f7b746bcc47acc447598a
Author: Rainer Jung <rjung@apache.org>
Date:   Tue Nov 4 18:55:58 2008 +0000

    Preparation before introducing recursive group resolution
    - add a little generics
    - add a little logging
    - add a new utility function getDistinguishedName()
      replacing some inline code. It will be used
      again in the next commit.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@711355 13f79535-47bb-0310-9956-ffa450edef68

commit 0ec09e04f7033f3494e5bd855362e2e66fc20138
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 3 23:47:38 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46121
    Add note about resources clash and using namespaces to resolve it.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@711126 13f79535-47bb-0310-9956-ffa450edef68

commit 38ef38d2f99f74d39a9fd27b64111c8c658ba6d3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 3 22:47:26 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46047
    Include jar in path for dependencies if they are in a JAR
    Patch provided by Cédric Mailleux
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@710205 13f79535-47bb-0310-9956-ffa450edef68

commit 8525f4fcf1a2f748fce888c0e92d13b4aa6b86ec
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Nov 3 22:38:55 2008 +0000

    Setting svn:keywords (Author Date Id Revision) and
    svn:eol-style (native) for the jdbc-pool module.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@710199 13f79535-47bb-0310-9956-ffa450edef68

commit 218951ee1294d434da86bc778e039e97319e60e1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 3 21:52:42 2008 +0000

    Remove the invoker servlet and all references for security reasons. This will not be proposed for backport to 6.0.x
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@710179 13f79535-47bb-0310-9956-ffa450edef68

commit dafd07d0464d9b307b774995e520a746446879bc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 3 18:53:37 2008 +0000

    As per Remy's review comment, make sure we continue to reset the writer/stream flags before forwarding to a custom error page.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@710125 13f79535-47bb-0310-9956-ffa450edef68

commit 5161495604f095a0de0731e31691581068d97a8b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 3 14:31:59 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=41861
    Change service name from "Apache Tomcat" to "Apache Tomcat 6". Full version number is still present in the description.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@710066 13f79535-47bb-0310-9956-ffa450edef68

commit e0489c8ea7d912ec68eda84185d7b438a299aff9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 3 14:28:17 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=42409
    The spec says reset the buffer, therefore use the resetBuffer() method. This makes custom and standard error handling consistent.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@710063 13f79535-47bb-0310-9956-ffa450edef68

commit 2870b24770c1cfda40b03965740b601434564c20
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 2 00:52:21 2008 +0000

    Lots of typos. Make text consistent (Tomcat, MBean etc). Remove the section on JDK 1.4 and MX4J since TC6 can't run on a 1.4 JVM.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@709823 13f79535-47bb-0310-9956-ffa450edef68

commit 4dc7f9e9c5786ea5ed5cb3b9e4f416535e9f1ee7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 2 00:50:46 2008 +0000

    Ignore tmp file created during build
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@709822 13f79535-47bb-0310-9956-ffa450edef68

commit f4bef2037eca5eec121727e592c6c469977fb300
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 2 00:48:28 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46051
    The PrintWriter interface requires that the line separator is platform dependant. Not that this makes much sense for a web application but there is a spec so we shoud stick to it.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@709821 13f79535-47bb-0310-9956-ffa450edef68

commit 1a1c1f89e063a5dd0274ad14627924a74f795ffb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 2 00:39:54 2008 +0000

    Path is required for a deploy
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@709816 13f79535-47bb-0310-9956-ffa450edef68

commit fbb839a473914cb36293b8c2d54932f851fdace4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 2 00:34:01 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46125
    Change the exception if the headers are too big to force a 400 status code rather than the current 200
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@709811 13f79535-47bb-0310-9956-ffa450edef68

commit 60fbd2dc256490d70383374075f34046dadebe6f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 31 13:53:07 2008 +0000

    Remove used connector params from doc example
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@709416 13f79535-47bb-0310-9956-ffa450edef68

commit d9def07a87dc24ecebdeb2dd9c75b9ea1d0d5a30
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 30 23:46:41 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46105
    Correctly set URI encoding when replaying request after FORM auth
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@709294 13f79535-47bb-0310-9956-ffa450edef68

commit 0aff6d2b603efd4270a6257ce82dd95daed3e2df
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Oct 29 21:41:09 2008 +0000

    Add asynchronous log handling, feature not yet complete. Need to figure out when to stop the logger thread (possible when there are no loggers) and also make sure the thread sleep/wakeup is bullet proof
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@709018 13f79535-47bb-0310-9956-ffa450edef68

commit fc464decf0a8b575094df1aaf8a2244acab41740
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 29 12:35:59 2008 +0000

    r703017 broke SSL with the JIO connector on Windows (and possibly other platforms). The problem was that some settings don't make sense for an SSL socket so rather than ignoring them a SocketExcpetion is thrown. With this patch, only attributes set by the user are passed to the socket and if setting the attribute throws an exception it is logged as an error.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@708892 13f79535-47bb-0310-9956-ffa450edef68

commit c9ea8f345aef2231a6703122dcd4c8eeba059338
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Oct 29 05:19:32 2008 +0000

    added doc around new flag
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@708780 13f79535-47bb-0310-9956-ffa450edef68

commit 3abc8562fe3aa51c5f537a464f09166752d7a869
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Oct 29 04:34:29 2008 +0000

    Added in a fairness test to showcase the FairBlockingQueue
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@708769 13f79535-47bb-0310-9956-ffa450edef68

commit 19837a85e5be07eb2f333b805efc695e66e481bf
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Oct 29 02:15:35 2008 +0000

    Fix the performance issue, don't count down until the lock has been released, this allows for much more concurrency
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@708753 13f79535-47bb-0310-9956-ffa450edef68

commit 98915b02a8b5897b4b7e4406a5d2a7c3d327073d
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Oct 28 23:12:39 2008 +0000

    add test target
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@708717 13f79535-47bb-0310-9956-ffa450edef68

commit 1a56bc4bba3a1eab1456d3cb0f2fac183fc0f8c2
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Oct 28 22:26:03 2008 +0000

    stupid eclipse
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@708702 13f79535-47bb-0310-9956-ffa450edef68

commit 5c9178fc131130a953675f3fe8ea9c3874a91538
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Oct 28 20:31:00 2008 +0000

    Adjusted the timeout for abandoned, its in seconds
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@708663 13f79535-47bb-0310-9956-ffa450edef68

commit a0dbde5f9847cbe8f92958ac7a7d5440ebe6287b
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Oct 28 19:58:43 2008 +0000

    Added a different fairness option, since ArrayBlockingQueue with fair=true is really bad for performance
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@708652 13f79535-47bb-0310-9956-ffa450edef68

commit 475b23e08bde991a28d5f7ede39858c4b5cae16e
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Oct 28 19:50:26 2008 +0000

    move over documentation to the module
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@708651 13f79535-47bb-0310-9956-ffa450edef68

commit 0b7f9cc5dfc1b9b9443a811541e71db348ff4a70
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Oct 28 16:41:36 2008 +0000

    when the DB is down, don't wait and try over and over again, simply return the failure
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@708605 13f79535-47bb-0310-9956-ffa450edef68

commit f78e058e67ceccfb591b5e5a8b2f95db4d58c0fe
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Oct 28 15:00:22 2008 +0000

    Make the polling fairness configurable
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@708592 13f79535-47bb-0310-9956-ffa450edef68

commit 5aac7fb74eca66dc4526115c3074b08ae50cf721
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Oct 28 14:36:30 2008 +0000

    throw an exception instead of timeout when we fail to reconnect
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@708587 13f79535-47bb-0310-9956-ffa450edef68

commit 418f82fd32a940d532e2e5e4e4410caa4caef109
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Oct 28 14:34:28 2008 +0000

    Improve validation ordering, when a connection has been acquired, but validation failed, don't let the thread go back into polling mode, instead try to reconnect it.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@708586 13f79535-47bb-0310-9956-ffa450edef68

commit a353f2ee503d88786b57fb63922563f020c14ef0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 28 11:52:12 2008 +0000

    Remove references to DefaultContext from code
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@708541 13f79535-47bb-0310-9956-ffa450edef68

commit e4030dff0497667afddf0dd1cfbb756a3f9aa274
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 28 11:50:43 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46106
    Remove references to DefaultContext from docs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@708538 13f79535-47bb-0310-9956-ffa450edef68

commit 995aaacdc443addb6a519656d81faf61fd16cb58
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Oct 27 22:48:21 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46067
    Correct some typos.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@708365 13f79535-47bb-0310-9956-ffa450edef68

commit 85e71cf95f62cef214f5c20e8e6951a74df7d5a6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Oct 27 22:40:48 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46075
    Don't automatically create the ByteArrayOutputStream with the full threshold - we probably won't need it in most cases.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@708361 13f79535-47bb-0310-9956-ffa450edef68

commit d554f6f1f4624646076aceb197b2e59e21bc2547
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Oct 27 22:24:26 2008 +0000

    Improvements to connection handling
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@708354 13f79535-47bb-0310-9956-ffa450edef68

commit a9df97f3a22b12ded4e816c339a0679fc9ff542f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Oct 27 22:04:51 2008 +0000

    Expose deferAccept for APR HTTP connector.
    I did consider adding this to the AJP connector as well but since this is to work around a buggy client and we control the client in the AJP case, I couldn't see a need for it.
    Patch provided by Michael Leinartas.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@708344 13f79535-47bb-0310-9956-ffa450edef68

commit 6344b9646113edc6605557bc34d5ba8784359ffc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Oct 27 18:31:50 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46085
    Hard to reproduce thread safety issue with session expiration.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@708273 13f79535-47bb-0310-9956-ffa450edef68

commit cd82c1da4e45214e60422d822b017a0103ca01be
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Oct 27 18:21:07 2008 +0000

    Added couple more tests
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@708263 13f79535-47bb-0310-9956-ffa450edef68

commit 428c03bd89e4603cf726a67881f5da81617013c9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Oct 27 17:28:16 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=46096
    Allow for running under a security manager when processing annotations.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@708243 13f79535-47bb-0310-9956-ffa450edef68

commit dbf0efac38343c7699bfc2ce2979427870b4cec8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Oct 27 15:46:35 2008 +0000

    Log max threads message at info rather than warn
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@708223 13f79535-47bb-0310-9956-ffa450edef68

commit c3d25c1375d1d4f93c7f1d2e6de107ad1616a9d5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Oct 27 14:14:14 2008 +0000

    Add warning messages to APR and NIO endpoint to match change to JIO.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@708195 13f79535-47bb-0310-9956-ffa450edef68

commit a4b6f1852adb55c50f965cdefba77741a0634aa0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Oct 27 14:04:07 2008 +0000

    Apply Remy's alternative fix for the String comparison bugs found by Find Bugs. Note FB still complains but it is a false positive.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@708185 13f79535-47bb-0310-9956-ffa450edef68

commit 4a4ae47aa386d35e6e559c8d2b763d31a79eefd4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Oct 27 11:43:24 2008 +0000

    Previous commit undid some of the fixes for bug 45906. Correct that error.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@708145 13f79535-47bb-0310-9956-ffa450edef68

commit c0eabfdb26d52c04fb030c7744020073c8d3c4ba
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat Oct 25 00:17:54 2008 +0000

    added correct stuff to the classpath
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@707797 13f79535-47bb-0310-9956-ffa450edef68

commit 339e7be7d553d0bbbe653fc9d0bef351f59cbaa3
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat Oct 25 00:13:10 2008 +0000

    check in eclipse files
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@707795 13f79535-47bb-0310-9956-ffa450edef68

commit ef8b46923c010a0ecb239e45b47bcced66ccf027
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat Oct 25 00:06:20 2008 +0000

    move over to an independent module
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@707794 13f79535-47bb-0310-9956-ffa450edef68

commit e40c910fb16b746269106dac3515b188528d671d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 24 21:23:08 2008 +0000

    Apply Remy's patch for 45735 and align trunk with 6.0.x.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@707751 13f79535-47bb-0310-9956-ffa450edef68

commit 6c4a047bbd3a98690611bf4bbd4102660f8b9b1c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 24 20:33:31 2008 +0000

    Revert 680710 - no interst in porting this to 6.0.x
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@707736 13f79535-47bb-0310-9956-ffa450edef68

commit 3038395c245f5cbbbe69ab5d058ef48e4e91733f
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Oct 24 16:14:07 2008 +0000

    During a read or write timeout, we were cancelling the main key, this is fine for regular IO, but for Comet IO, this will cause events to stop since we remove the socket from the main selector
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@707670 13f79535-47bb-0310-9956-ffa450edef68

commit baa492f1dcf5cad6a7ae41ebd90ca5d1055f71b7
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Oct 23 05:14:50 2008 +0000

    simple connection pool contribution - currently built using
    ant -f extras.xml conpool
    until we have a way to release it as a module, coming soon
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@707275 13f79535-47bb-0310-9956-ffa450edef68

commit 2678070536925ac5d1c927ff496822d2b5512921
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Oct 23 04:10:59 2008 +0000

    Set the default thread count to 200
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@707264 13f79535-47bb-0310-9956-ffa450edef68

commit 7b0cfb84858b544d8c2ac6f66665bf0f6218dd50
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Oct 22 20:00:58 2008 +0000

    fix thread boundaries by adding a queue to the pool
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@707181 13f79535-47bb-0310-9956-ffa450edef68

commit 454a92779406ac532615fbd7ddd3ba5c816fddf0
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Oct 22 19:39:52 2008 +0000

    Correct default setting according to documentation
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@707175 13f79535-47bb-0310-9956-ffa450edef68

commit 3cce20eecc0b9a1cc2b852c2ac47278f1dded183
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Oct 21 19:27:36 2008 +0000

    fancier now
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@706729 13f79535-47bb-0310-9956-ffa450edef68

commit 33e8c762abe27e5a1631d00988675fd6ab08edfd
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Oct 21 19:16:15 2008 +0000

    improve the stock ticker example
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@706726 13f79535-47bb-0310-9956-ffa450edef68

commit eacf995b24cef32463bcb4346a9ac12611278a59
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Oct 21 18:07:04 2008 +0000

    work on the bayeux samples
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@706696 13f79535-47bb-0310-9956-ffa450edef68

commit a4c9e220a19f2b3891014319f6f0a9aec5514101
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Oct 20 22:36:56 2008 +0000

    if replicated context starts without clustering enabled, then the map is not swapped, and we get class cast exception upon shutdown
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@706433 13f79535-47bb-0310-9956-ffa450edef68

commit a08831af09afea371379c75c61d46ff446dad65a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Oct 20 09:11:55 2008 +0000

    Default JNDI name for annotation lookup should be based on the class where the annotation was found which isn't always the class of the instance being created.
    Reported as part of the follow-up to https://issues.apache.org/bugzilla/show_bug.cgi?id=45285
    Based on a patch for 6.0.x provided by Florent BENOIT.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@706159 13f79535-47bb-0310-9956-ffa450edef68

commit bcfe6756d5f4cd5420e187790510f3857331a9ac
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Oct 20 08:57:01 2008 +0000

    Fix generics warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@706155 13f79535-47bb-0310-9956-ffa450edef68

commit 9ca996db4d0bf96f4a737326be9b315e2f2f85bb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 19 21:26:40 2008 +0000

    Fix the remaining EL / TCK issues. With this patch the EL TCK tests pass and my test cases for bugs 42565, 44994, 45015, 45451, 45427, 45511 and some additional tests for edge cases all pass.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@706071 13f79535-47bb-0310-9956-ffa450edef68

commit 4e5ac3594bddeab1c51e41290bafa69f6b23ca21
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 10 11:12:21 2008 +0000

    Update docs: clarify context.xml copying and multi-level contexts, remove reference to default context
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@703403 13f79535-47bb-0310-9956-ffa450edef68

commit e277f6cd2bee429275f0da1d201bf9c693e42253
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 9 22:58:03 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45977
    Trivial comment clean up. No plans to backport this.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@703286 13f79535-47bb-0310-9956-ffa450edef68

commit 4b6da3dd6e8d1674cd47d8e9f2c60b239eb7b335
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Oct 8 23:31:04 2008 +0000

    update changelog
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@703018 13f79535-47bb-0310-9956-ffa450edef68

commit 6fb8bc2c521daebf34853a609e8ddfa8086d4a38
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Oct 8 23:28:51 2008 +0000

    Expose all socket settings available for the JIO connector, buffer size can make large differences, but they are hidden
    Make settings consistent with those for the NIO connector, so switching between Java connectors is seamless
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@703017 13f79535-47bb-0310-9956-ffa450edef68

commit 3503c20432e6d3d0f57b31061896c37d7337913e
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Oct 8 01:03:02 2008 +0000

    properly cleanup socket object, since we have the ability to chache Http11Processor objects the processor must remove its reference to the socket, since sockets contain buffers (especially SSL sockets) and it could be considered a semi mem leak
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@702676 13f79535-47bb-0310-9956-ffa450edef68

commit c3057904b69bac36380c797922dbdcd9aef030f7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 7 20:54:47 2008 +0000

    Better fix for 45636
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@702632 13f79535-47bb-0310-9956-ffa450edef68

commit 0fd6768530744eddb234b02bbd6d2f17f51ddd5c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 7 20:48:45 2008 +0000

    Revert patch - it caused a regression. Correct patch to follow.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@702628 13f79535-47bb-0310-9956-ffa450edef68

commit 47d6c0668e53459384849628d03e43bf36712c8c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 7 19:26:30 2008 +0000

    Fix comment typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@702595 13f79535-47bb-0310-9956-ffa450edef68

commit b6803c9e47cd21a33cbcbb5a6e25a3b045480326
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 7 19:10:51 2008 +0000

    EG confirmed that attribute values should be fully escaped, including any EL. Note this does not fix bug 45451.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@702587 13f79535-47bb-0310-9956-ffa450edef68

commit e85ed8ca2c8800875e94f02b814ec6bb8154ac62
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Oct 6 18:25:55 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45951
    Based on jfclere's patch
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@702219 13f79535-47bb-0310-9956-ffa450edef68

commit 28386afe4c564d241c8092fc7a18d36ca64df1c2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Oct 6 17:30:44 2008 +0000

    Handle nested contexts when foo#bar.xml exists
    Bug reported on users list
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@702208 13f79535-47bb-0310-9956-ffa450edef68

commit edbb7adc65bc3e5c92cee6e8869d87765c2f1598
Author: William Barker <billbarker@apache.org>
Date:   Sun Oct 5 23:43:00 2008 +0000

    Add support for full client-cert chains to AJP
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@701902 13f79535-47bb-0310-9956-ffa450edef68

commit 65d5ba1872bc1633fab661dc9254b61e5f7c7b74
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 3 16:19:01 2008 +0000

    Fix regression in previous fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=43656
    Patch provided by Nils Eckert.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@701432 13f79535-47bb-0310-9956-ffa450edef68

commit fb92c7031249d2abe7447328c810b4f87929a0b8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 3 12:15:53 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45940
    typo user->username
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@701362 13f79535-47bb-0310-9956-ffa450edef68

commit 3a221c750db15aa107576b17fba07f83758ee988
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 3 12:09:16 2008 +0000

    Better fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=45403
    With this patch, the allowLinking flag applies to all web application resources. It is very slightly slower. On my machine with allowLinking=false, the change to line 899 increases the time from ~7 microseconds to create the file to ~70 microseconds to create and validate the file. As far as I can tell, this change is only going to affect context start times. If directory listings are enabled in the default servlet, they will also be slightly slower but they were horribly slow to start with.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@701358 13f79535-47bb-0310-9956-ffa450edef68

commit f69637fee018570aa8803842283e9239ef68175d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 3 11:53:28 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45933
    Don't use parser from web-app for tld files
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@701355 13f79535-47bb-0310-9956-ffa450edef68

commit 0a6596f25cee91e74fba5ad6b8f17b0472a108a2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 2 11:47:46 2008 +0000

    Revert this patch whilst I figure out why it breaks class loading.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@701091 13f79535-47bb-0310-9956-ffa450edef68

commit 4172ef28fb7bb6f803503f2e89812a397515bbfb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 1 14:23:09 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45403
    When listing the resources for a collection, don't include invalid resources, particularly linked resources when allowLinking=false
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@700784 13f79535-47bb-0310-9956-ffa450edef68

commit 8e3bcfa01414c903593b366f9c61110282e76525
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 1 10:54:34 2008 +0000

    Update javadoc. Add a todo reminder.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@700735 13f79535-47bb-0310-9956-ffa450edef68

commit ac906ab02c9333a620331d4be4896a5b85f2df78
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 1 10:47:41 2008 +0000

    Move JmxRemote to extras. Fix Tomcat hang on shutdown. Improve logging. Update the docs.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@700734 13f79535-47bb-0310-9956-ffa450edef68

commit ea6f489a8f66179eac32abb91440ecf37fcbcaed
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 1 00:38:00 2008 +0000

    Fix some issues discovered when using this with PuTTY.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@700645 13f79535-47bb-0310-9956-ffa450edef68

commit 5045d222a0018885c3b9dd8ea1dafe8476a5a7bb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 30 21:18:45 2008 +0000

    Correct valve name in javadoc
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@700580 13f79535-47bb-0310-9956-ffa450edef68

commit a49c65170dfcf6b5ff1e438ec24a70247f767100
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 30 17:28:12 2008 +0000

    Fix some more Find Bugs nags in the CGIServlet. Minor functional changes.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@700532 13f79535-47bb-0310-9956-ffa450edef68

commit 8e02c5e0e50f4abed081b501083e8fff48c49a27
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 30 17:10:48 2008 +0000

    Code clean up. Use generics. Remove used code and a couple of other Find Bugs issues.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@700526 13f79535-47bb-0310-9956-ffa450edef68

commit 1c516bca180cccf5065272728cbccae7084999b0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 29 16:26:29 2008 +0000

    Remove the deprecated DateTool and some other (all bar one) deprecated methods that depended on it. Update SSI and ServerCookie to use local formats in a thread safe way.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@700167 13f79535-47bb-0310-9956-ffa450edef68

commit 378d06284bfa20317395d3516a8adf21359a57d9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 29 13:24:36 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45906
    Improve ResourceAttributes ETag handling.
    Patch provided by Chris Hubick
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@700125 13f79535-47bb-0310-9956-ffa450edef68

commit d8469fabfcf3cc439d45e80d5479176b2d0639b3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 27 18:34:06 2008 +0000

    Fix date format issue reported by Find Bugs.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@699714 13f79535-47bb-0310-9956-ffa450edef68

commit 44f00f2e43d3c77bcf4498b9bf5d296e38d562d4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 27 18:32:56 2008 +0000

    Remove unused code reported by Find Bugs / Eclipse. No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@699713 13f79535-47bb-0310-9956-ffa450edef68

commit 75668ca43528b8a87ce3e85b4a6b849312a687c1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 27 13:45:27 2008 +0000

    Fix string comp bugs reported by Find Bugs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@699646 13f79535-47bb-0310-9956-ffa450edef68

commit 263230c36e0e4be5ba031fa4e388262da5cc3a08
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 27 13:42:43 2008 +0000

    Fix cast error reported by Find Bugs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@699645 13f79535-47bb-0310-9956-ffa450edef68

commit 23e7deeb6bb58b13757b64ea3d2b26b19309bae1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 27 13:41:53 2008 +0000

    Fix signed/unsigned conversion reported by Find Bugs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@699644 13f79535-47bb-0310-9956-ffa450edef68

commit 58fd6e5b3a075e2e0fd57a65988c889da5203e1e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 27 13:12:07 2008 +0000

    Fix HTML decoding bug reported by Find Bugs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@699635 13f79535-47bb-0310-9956-ffa450edef68

commit 53e0766726ad77ee3893c6c618e6d39afe8b1a34
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 27 13:10:29 2008 +0000

    Fix minor memory leak found by find bugs.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@699634 13f79535-47bb-0310-9956-ffa450edef68

commit 4383847e270c6e2c4e839b054e5bde0d057def8d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 27 13:09:48 2008 +0000

    Fix serialisation issues reported by find bugs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@699633 13f79535-47bb-0310-9956-ffa450edef68

commit d606b883792e951a570b8645e7eb607636aa654b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 26 22:20:51 2008 +0000

    Add a new listener that enables the JMX ports to be fixed. This makes using jconsole etc through a firewall / SSH tunnel etc. a lot easier. As a bonus, the config docs include all the current listeners as well.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@699523 13f79535-47bb-0310-9956-ffa450edef68

commit c340c69ea8a07fc1470bc359e6c85ea852fc7c7d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 26 17:37:34 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45851
    Correct NPE when cluster is defined at engine level
    Ensure that only 1 thread writes the replicated WAR to disk and that the messages containing the WAR are processed in the correct order.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@699427 13f79535-47bb-0310-9956-ffa450edef68

commit 65b398839ec435869d2b1f481576b069186733ae
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 26 12:20:03 2008 +0000

    Code clean up in o.a.c.h.deploy
    No functional change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@699296 13f79535-47bb-0310-9956-ffa450edef68

commit e9fb56faaaef10a6f77f9fa028b7e5d4fa0fb654
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 26 11:56:42 2008 +0000

    Allow the maximum allowed size of a resource that is cached to be configured. The default of cacheMaxSize/20 gave too high a value for large caches.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@699287 13f79535-47bb-0310-9956-ffa450edef68

commit 7a8302e01080ec204f7c020a664d3ba19b7deee0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 25 23:20:48 2008 +0000

    Partial fix for 45878. If we are happy with this approach for the spec JARs, extend it to the remaining Tomcat JARs.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@699128 13f79535-47bb-0310-9956-ffa450edef68

commit d2eeb3e853a701b0dd58f5316b1b4ee9abc89634
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 25 23:00:57 2008 +0000

    Update default year
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@699126 13f79535-47bb-0310-9956-ffa450edef68

commit 2fd3bbea5139b571baae3ad5a880887938822611
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 25 11:07:44 2008 +0000

    Add NOTICE file to uninstall section.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@698925 13f79535-47bb-0310-9956-ffa450edef68

commit 8307082d9b77017787236e381ebb4cd4d912eb96
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Thu Sep 25 09:29:23 2008 +0000

    Use lastest tc-native version.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@698892 13f79535-47bb-0310-9956-ffa450edef68

commit dbc95494a28c239cead5c45f0cdc0065099a3a77
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 24 16:21:25 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45879
    Move the NOTICE file to the install dir
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@698629 13f79535-47bb-0310-9956-ffa450edef68

commit 64851bd21fa71b6ad2858a1a89c7f8cddddb3661
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 24 15:47:40 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45852
    Add special handling a for charset that Java uses a non-default name for
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@698613 13f79535-47bb-0310-9956-ffa450edef68

commit 6ad2075f344b656fea4e5ef3c51a40da57ce6910
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 23 16:49:25 2008 +0000

    Add new LockOut Realm plus docs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@698236 13f79535-47bb-0310-9956-ffa450edef68

commit 11b0bbbc97a9dd96c57ed82e8aef23d7e4ec813f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 23 16:35:42 2008 +0000

    Now containers can have multiple realms, need to make sure we don't get duplicate names for the realms in jmx.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@698227 13f79535-47bb-0310-9956-ffa450edef68

commit cc1a38f9c1e76720474c54f8de1506c4359d979c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 22 21:55:50 2008 +0000

    There is no admin app in tc6.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@698012 13f79535-47bb-0310-9956-ffa450edef68

commit 27f8a857a383b2301f358b5383850fc7a1489e04
Author: Rainer Jung <rjung@apache.org>
Date:   Fri Sep 19 21:23:22 2008 +0000

    Improve Active Directory compatibility of the JNDIRealm.
    
    AD often returns referrals and when iterating through
    NamingEnumerations those produce PartialResultsException
    we need to ignore. Since there is no robust way of detecting
    whether they are actually thrown because of AD referrals,
    we keep the handling configurable.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@697248 13f79535-47bb-0310-9956-ffa450edef68

commit 7beabcd929cce72c0328c90369402e181af62a8c
Author: Rainer Jung <rjung@apache.org>
Date:   Fri Sep 19 19:51:59 2008 +0000

    Add an optional and configurable default role to the JNDIRealm.
    This comes handy, if you only want to authenticate the users,
    but have a security constraint with a role in the app.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@697213 13f79535-47bb-0310-9956-ffa450edef68

commit 84ae19e40b0d46512aefb2ff92902d6f5f49bf46
Author: Rainer Jung <rjung@apache.org>
Date:   Fri Sep 19 19:12:59 2008 +0000

    Port r486217, which was applied to connectors, but has
    never been applied to 6.0 and trunk.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@697192 13f79535-47bb-0310-9956-ffa450edef68

commit 03097fa3f6a593e950cdfbef24a2bf4afb166436
Author: Rainer Jung <rjung@apache.org>
Date:   Fri Sep 19 18:51:14 2008 +0000

    Add Mark's proposed fix for BZ 45026:
    mod_jk + httpd 2.x fails with a null status message.
    
    Although the problem has been fixed in future httpd and mod_jk
    versions, we should also stay safe on the backend side.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@697183 13f79535-47bb-0310-9956-ffa450edef68

commit cfb0ec47af3e24c9096d8f007700b1bac2ff99c7
Author: Rainer Jung <rjung@apache.org>
Date:   Fri Sep 19 17:33:22 2008 +0000

    Correct wrong "No role found" realm debug logging,
    even if a role was found.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@697158 13f79535-47bb-0310-9956-ffa450edef68

commit dc351e6384aa0f21037b50f68874c39f2a8f43fe
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 18 21:18:41 2008 +0000

    More Spanish translations
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@696810 13f79535-47bb-0310-9956-ffa450edef68

commit a034980b16d1d00bdcc53ab5c398409dd7b9af34
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 18 19:53:24 2008 +0000

    Update auto generated files as a result of ELParser.jjt change
    I have not re-instated the AL2 header in the auto-generated files. On reflection I don't think it makes sense for auto-generated files and the file they are generated from has the AL2 header. It also makes re-generating the files simpler.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@696782 13f79535-47bb-0310-9956-ffa450edef68

commit d0c1a7e29880a945079ccef66295f58c0d757538
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 18 19:42:54 2008 +0000

    Add explicit lookaheads where they could be ambiguity. This resolves some TCK failures with the fix for 42565.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@696780 13f79535-47bb-0310-9956-ffa450edef68

commit 2954e1e277c66494ac2a6d2af1e97c9f80cc8804
Author: Rainer Jung <rjung@apache.org>
Date:   Thu Sep 18 17:08:10 2008 +0000

    Fix ClassCastException when we try to cast a
    
    NullPointerException to an ELException.
    I still need to investigate where the NPE came from,
    but simply casting seems unsafe in any case.
    
    Use a cast if possible and recreate exception
    otherwise.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@696716 13f79535-47bb-0310-9956-ffa450edef68

commit 656b87501ea028b9f16b6345904933ded61486eb
Author: Rainer Jung <rjung@apache.org>
Date:   Thu Sep 18 17:03:38 2008 +0000

    Use generics to improve type safetyness.
    
    Please check readExternal() in FunctionMapperImpl
    and VariableMapperImpl. The type of the persisted
    Map has changed. Does this pose a consistency
    problem with other components or older, already
    persisted Maps?
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@696714 13f79535-47bb-0310-9956-ffa450edef68

commit ea4581ddf46002a489d3e4667e50cba056dd6eeb
Author: Rainer Jung <rjung@apache.org>
Date:   Thu Sep 18 16:48:10 2008 +0000

    Tab police and trailing whitespace deletion
    for package a.o.el (except for generated java files).
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@696702 13f79535-47bb-0310-9956-ffa450edef68

commit 633545f3b89c95b81cae47e371564c33e6bbf6fc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 17 19:26:22 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45419
    Set the Accept-Ranges header on content served from the DefaultServlet. This can be disabled via configuration if required.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@696408 13f79535-47bb-0310-9956-ffa450edef68

commit 0a8483459bd5074f2fb56eec21e52af46dffdaa3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 17 19:10:01 2008 +0000

    Add generics to default servlet and fix other Eclipse warnings. No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@696402 13f79535-47bb-0310-9956-ffa450edef68

commit bfa3f5478e8a860cf3569946a70bbfd480b77e6a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 17 12:46:45 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45427
    Yet another EL bug. Correct paring of quoted stings.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@696278 13f79535-47bb-0310-9956-ffa450edef68

commit 2c0fffe180f796141ecc9c9d456ae27e2c23a342
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 17 11:11:42 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45441
    Filters for INCLUDE/FORWARD need to be matched against servletPath+pathinfo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@696240 13f79535-47bb-0310-9956-ffa450edef68

commit 678b5168d6771ce376f0196032c35e391447fbb6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 17 10:56:37 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45823
    Log '-' rather than null when request headers are not present
    Based on a patch by Per Landberg
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@696234 13f79535-47bb-0310-9956-ffa450edef68

commit c60a7236b7953be078db1ecce19ed0e6b3100cdc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 16 21:37:02 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45447
    Updated Spanish translations. Patch provided by Jesus Marin.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@696073 13f79535-47bb-0310-9956-ffa450edef68

commit 5ec1dab0748c49674eebc8cd94398b762aa370aa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 16 21:12:38 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45451
    Testing for this threw up all sorts of other failures around use of \${...} These should all now be fixed. The two pass parsing means we can do away with the previous 'replace with unused unicode character' trick.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@696061 13f79535-47bb-0310-9956-ffa450edef68

commit ac7d79ca4f46f6050812360bef5b3a5cf5c9c7f6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 15 22:14:00 2008 +0000

    Code cleanup. Fix indents. Removed deprecated code. Fixed generics warnings.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@695668 13f79535-47bb-0310-9956-ffa450edef68

commit c2e65171b5c8fe2f71d0b23ad42a16a6f393e479
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Sep 15 00:02:11 2008 +0000

    Fix broken links reported on users list.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@695311 13f79535-47bb-0310-9956-ffa450edef68

commit d8a569bc65d4839d615ed33a9c56d937a8206c14
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Sep 14 20:43:15 2008 +0000

    Improve previous fix to handle WAR deployment
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@695284 13f79535-47bb-0310-9956-ffa450edef68

commit 15b77ca71752d48cec648aede8e2844771bdcba9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Sep 14 20:01:21 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45785
    Ignore directories named xxx.jar in WEB-INF/lib
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@695274 13f79535-47bb-0310-9956-ffa450edef68

commit 324e2c8d8f291ea0cc5b6258e26c340e07bc9837
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Sep 14 19:45:08 2008 +0000

    Some clean up in o.a.c.util
    Use generics, remove unused code, fix various Eclipse warnings.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@695273 13f79535-47bb-0310-9956-ffa450edef68

commit 5d52a15ff13897eb8fa1e6060fd584fa9c9b075c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 13 22:47:21 2008 +0000

    Add missing executor element in NIO docs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@695053 13f79535-47bb-0310-9956-ffa450edef68

commit 5325446b1514468f21672e666e2a69991b612c78
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 13 17:39:47 2008 +0000

    Add HttpOnly support to session cookies. It is enabled by default and can be disabled at via manager configuration.
    Based on a patch by Jim Manico.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@694992 13f79535-47bb-0310-9956-ffa450edef68

commit de713d1b7c6cd2a2afa2c11b1aeb0e292b49502a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 13 14:24:47 2008 +0000

    Log a warning if we create the maximum number of threads
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@694951 13f79535-47bb-0310-9956-ffa450edef68

commit 06df0d22bcfaaa983e6f19705dbaa75b4008f6cf
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 12 20:02:45 2008 +0000

    Fix copy and paste error
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@694791 13f79535-47bb-0310-9956-ffa450edef68

commit 87f199755650a8f2a527c9f3ebb8e6f421b2f735
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 10 20:02:34 2008 +0000

    Include fix for 43117 in trunk
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@693962 13f79535-47bb-0310-9956-ffa450edef68

commit 8925e7d4cfcb5ae10cd4223d11d2b2dfe59754d7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 10 19:43:23 2008 +0000

    Correct access check
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@693952 13f79535-47bb-0310-9956-ffa450edef68

commit 98a56fcf65a064dfa40c9163fc7b79f5bd698c50
Author: Peter Rossbach <pero@apache.org>
Date:   Tue Sep 9 06:18:32 2008 +0000

    Handle session suffix rewrite with parallel requests from same client
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@693378 13f79535-47bb-0310-9956-ffa450edef68

commit f1dcc46dc74f7c04664520f8b1fce16dc02c820d
Author: Filip Hanik <fhanik@apache.org>
Date:   Sun Sep 7 18:16:40 2008 +0000

    clarify steps
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@692916 13f79535-47bb-0310-9956-ffa450edef68

commit b73be0574073a3c208c6ce6f7503e1304edeb36f
Author: Filip Hanik <fhanik@apache.org>
Date:   Sun Sep 7 17:24:17 2008 +0000

    delete not used sample
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@692905 13f79535-47bb-0310-9956-ffa450edef68

commit c454a1c5d996c47081c15718d41052c463cdf074
Author: Costin Manolache <costin@apache.org>
Date:   Sun Sep 7 15:36:46 2008 +0000

    Merging from sandbox: the casts are redundant for now, but in a future commit RequestInfo won't directly depend on JMX
    ( this is the only dep between base coyote/tomcat-lite and JMX ). Tomcat-lite still uses JMX, but optionally.
    Also exposing the endpoint, for easier programmatic config.
    
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@692880 13f79535-47bb-0310-9956-ffa450edef68

commit 96e90e95323020395f394c8d28fc1e8552f71f75
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 6 22:05:35 2008 +0000

    Correct log name. Add warning about user name uniqueness.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@692748 13f79535-47bb-0310-9956-ffa450edef68

commit ce9eadc156dfea1be31fff2d39e93d2ed9f91bb5
Author: Rainer Jung <rjung@apache.org>
Date:   Thu Sep 4 07:02:33 2008 +0000

    Reduce log statement to 1 line using
    more precise info, in the expected case and only
    log the detailed info in the unexpected case.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@691887 13f79535-47bb-0310-9956-ffa450edef68

commit 7f12777c51ddaefd4d54517991b7dfd1a711cc43
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 3 22:18:39 2008 +0000

    Add a new combined Realm that can be used to try authenticating against multiple realms.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@691805 13f79535-47bb-0310-9956-ffa450edef68

commit 5adb0e6e086b9ca08caa1342566f0b7781671c0e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 3 22:08:49 2008 +0000

    Fix typos in javadoc
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@691804 13f79535-47bb-0310-9956-ffa450edef68

commit b68c06741619f780c2ab8988d78dc0521d3c6769
Author: Rainer Jung <rjung@apache.org>
Date:   Wed Sep 3 16:44:07 2008 +0000

    Fix line duplication in previous commit r691675.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@691677 13f79535-47bb-0310-9956-ffa450edef68

commit f7a163e1c03858a5a1238704e401a177709284b4
Author: Rainer Jung <rjung@apache.org>
Date:   Wed Sep 3 16:38:17 2008 +0000

    Enhance http://svn.apache.org/viewvc?rev=646543&view=rev
    Don't drop the error silently. Instead use the root logger
    already initialized for the system class loader
    to write out a warning.
    Backport to TC 5.5 will need a couple of casts because
    of the lack of generics and the use of HashMaps.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@691675 13f79535-47bb-0310-9956-ffa450edef68

commit 84e468a01ebc94e565f14315740b0a08d3c9b900
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Sep 3 16:28:41 2008 +0000

    a fully working demo, had to set the content type for the new version of the dojo toolkit to properly parse the json data, otherwise it thinks it is xml
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@691664 13f79535-47bb-0310-9956-ffa450edef68

commit 3828715d19e1147595c6cb2458d1f022defb05b7
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Sep 3 16:07:33 2008 +0000

    update json library version to the latest
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@691647 13f79535-47bb-0310-9956-ffa450edef68

commit eae2c498d9ef03adaeec957887fc80b4945d2500
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Sep 3 15:52:26 2008 +0000

    Working on the new dojo toolkit to get it to work properly
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@691641 13f79535-47bb-0310-9956-ffa450edef68

commit 2aa8092d7a3263e5109cecea4c8404ee5ad86abf
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Sep 3 15:25:03 2008 +0000

    Dojo toolkit should be downloaded and not included in SVN
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@691634 13f79535-47bb-0310-9956-ffa450edef68

commit 3469c6e45c5451697e73ec2af7d8bf853d2ca767
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Sep 3 01:34:24 2008 +0000

    update notice file
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@691457 13f79535-47bb-0310-9956-ffa450edef68

commit d69b378cb3606d475441ebcba4b6011595d5bff1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 2 21:44:37 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45618
    Make sure the selector is closed.
    Almost certain not to be an issue in any real deployment but still - technically - a bug.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@691392 13f79535-47bb-0310-9956-ffa450edef68

commit 9e9107055614162e107024d589fa81b454dde4ee
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Sep 2 20:56:05 2008 +0000

    Build the samples classes too
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@691379 13f79535-47bb-0310-9956-ffa450edef68

commit fdb61bd96f5ac99d1b4d5dfa335bbe5552c22788
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Sep 2 20:24:26 2008 +0000

    add back in the lost license header
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@691368 13f79535-47bb-0310-9956-ffa450edef68

commit d701474dd12702e1034e99b4c827c606a081198f
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Sep 2 20:01:45 2008 +0000

    update with bayeux impl
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@691360 13f79535-47bb-0310-9956-ffa450edef68

commit 83fe69aa5befa2ef6dd8e6b06f5c59869d5ea38d
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Sep 2 20:00:36 2008 +0000

    Added in Bayeux implementation, as per
    https://issues.apache.org/bugzilla/show_bug.cgi?id=45413
    to build,
    ant download
    ant
    ant -f extras.xml bayeux
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@691359 13f79535-47bb-0310-9956-ffa450edef68

commit 3773ec4d39aef897956380632eb8667248f04c25
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Sep 2 15:46:00 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45628
    Jars that declare no deps should return that deps are satisfied
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@691282 13f79535-47bb-0310-9956-ffa450edef68

commit ccc1014ee35bb8985a1ef9d4449d33c094db405f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 31 21:06:01 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45666
    Patch provided by Tom Wadzinski
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@690781 13f79535-47bb-0310-9956-ffa450edef68

commit 6d40691d91f7adf64053faa91a4fafaed8ea1efe
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 31 19:35:05 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45648
    Note ELParser.java is auto-generated
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@690770 13f79535-47bb-0310-9956-ffa450edef68

commit 337d6a604db78b1a9a1a2c291053b5f78d6bcb76
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 31 13:47:57 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45691
    Make temporary variable name generation safe when multiple compilations are running in parallel
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@690693 13f79535-47bb-0310-9956-ffa450edef68

commit ebec4acdd6ca59356130d1319ccd1da25899c2b6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 31 11:40:56 2008 +0000

    Tabs -> 8 spaces. No functional change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@690678 13f79535-47bb-0310-9956-ffa450edef68

commit 0863cc48db0397b62d0a0be8fac6d45e63e8209d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Aug 28 13:10:36 2008 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@689807 13f79535-47bb-0310-9956-ffa450edef68

commit 74c01c9201d9a6df187cd7d7bd9f3a213f0f114a
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Thu Aug 28 08:23:27 2008 +0000

    Fix wrong default in doc.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@689758 13f79535-47bb-0310-9956-ffa450edef68

commit 6a1f316cef3e7e7a3e93be5d744d5a65eaad50e4
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Wed Aug 27 07:42:58 2008 +0000

    Fix for PR#45074
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@689402 13f79535-47bb-0310-9956-ffa450edef68

commit 46055c585e222cbe503082f6cfe4e053a6aa52e3
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Wed Aug 27 07:23:40 2008 +0000

    Fix for PR#44809
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@689395 13f79535-47bb-0310-9956-ffa450edef68

commit c0b45bc43eab32a1cfcedf01343fd92583ef21b3
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Aug 25 20:08:05 2008 +0000

    Remove recycle of B2CConverter when used for URI conversion.
    
    Recycle was an empty method until recently. It now eats up
    all bytes in the ByteChunk underlying the B2CConverter in
    order to fix BZ44494. That's fine and necessary for the
    B2CConverter use in InputBuffer at the end of request handling,
    but here, in the case of URI conversion, the associated
    ByteChunk comes from a convert call of a previous request
    and we will destroy a ByteChunk we still need to use outside of the
    B2CConverter.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@688857 13f79535-47bb-0310-9956-ffa450edef68

commit fea7658d34dc9dea44719b373a54ef5f7dde2966
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Thu Aug 21 13:34:40 2008 +0000

    JAVA part of the #43327 fix.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@687755 13f79535-47bb-0310-9956-ffa450edef68

commit 129e1b39c897652af8128f04a433babe7321c3c7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Aug 21 09:15:55 2008 +0000

    There is no admin app in TC6
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@687660 13f79535-47bb-0310-9956-ffa450edef68

commit 3e05eb3cf6aca73969e78000dfd72a48ca03f573
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Aug 21 08:36:43 2008 +0000

    Update patch for 45528
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@687645 13f79535-47bb-0310-9956-ffa450edef68

commit b2668365fe651d5af014892f34a529408d33bd76
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Aug 20 23:36:36 2008 +0000

    Remove unnecessary casts. Reported by Jens Kapitza in https://issues.apache.org/bugzilla/show_bug.cgi?id=45655
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@687508 13f79535-47bb-0310-9956-ffa450edef68

commit fb8f976a1788fee100745a38df6b38d4809cb9c4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Aug 20 23:20:42 2008 +0000

    Improved fix for 45528 (invalid SSL config).
    It is a variation on the previous patch that:
    - does the check earlier
    - uses an unbound socket so there is no possibility of a client connection
    - uses the String manager for the error message
    Note: I gave up on the alterntaive javax.crypto.Cipher suggestion as the cipher names are different and there is no easy conversion.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@687503 13f79535-47bb-0310-9956-ffa450edef68

commit 6e55f729b0c4fc7c6a1f7b16aa2f9584b7671db1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Aug 14 18:11:28 2008 +0000

    Revert the previous fix. Filip has suggested an alternative approach that should address the various objections. New patch will follow in the next few days.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@685981 13f79535-47bb-0310-9956-ffa450edef68

commit abfd2efeae3a28e14ad863effc05a9458f50e188
Author: Timothy A. Funk <funkman@apache.org>
Date:   Wed Aug 13 12:58:47 2008 +0000

    Let the user know why errorReportValveClass was not loaded. Since it could
    be ClassNotFound, invalid class version, (or other)
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@685530 13f79535-47bb-0310-9956-ffa450edef68

commit 816ecb89da36b07374cf8bb777579808a616b460
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 12 15:10:23 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45608
    Use AtomicInteger for countAllocated to prevent race conditions.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@685177 13f79535-47bb-0310-9956-ffa450edef68

commit 7d4fe9b563e6236bf6becfd265cfbbf1c1102633
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 11 20:57:16 2008 +0000

    Correct SSL docs as to the list of ciphers used by default. Add note about export grade ciphers. Add note (already in TC4) about cipher naming.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@684922 13f79535-47bb-0310-9956-ffa450edef68

commit 24dfc123c2b3bfe4836faad93567a8bbee5e57fd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 10 17:24:51 2008 +0000

    Fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=45528. Test the SSL socket before returning it to make sure the specified certificate will work with the specified ciphers.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@684559 13f79535-47bb-0310-9956-ffa450edef68

commit 6d782329d5b52b97ddfb4209239020fd9f216f68
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Aug 9 14:32:47 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=41407
    Add support for CLIENT-CERT authentication to JAAS realm.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@684270 13f79535-47bb-0310-9956-ffa450edef68

commit c984c6a1352c619f4ce25a183a97100d16042016
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Aug 9 12:10:34 2008 +0000

    Fix bug https://issues.apache.org/bugzilla/show_bug.cgi?id=45576
    Get the JAASRealm working with DIGEST authentication.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@684234 13f79535-47bb-0310-9956-ffa450edef68

commit 79d08dab7726adc8cf250b4508be690d28647e58
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 8 20:27:52 2008 +0000

    Modify JAASMemoryLoginModule so it conforms to the contract with the JAASRealm regarding the representation of roles.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@684081 13f79535-47bb-0310-9956-ffa450edef68

commit d0365260e48789250be68cddd8c359c45887c9dd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 8 17:55:24 2008 +0000

    Fix doc typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@684029 13f79535-47bb-0310-9956-ffa450edef68

commit 338a03c902d0acc107c243b989110a3e30a397d1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 8 15:49:24 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45585 using a suggestion from Ian Ward Comfort
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@684001 13f79535-47bb-0310-9956-ffa450edef68

commit 38a62a63ee17672ec6de898b4b6b9eb3c6668a26
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 8 14:31:20 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45591 - NPE on start-up failure in some cases
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@683982 13f79535-47bb-0310-9956-ffa450edef68

commit 5bcc55f589f1bd7e6a4869eb61f2b7ab36f5cc03
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 8 14:08:21 2008 +0000

    When a JSP file is deleted, return a 404 for the next request rather than serving the next request as if the file still existed and then returning 404s for the second and subsequent requests.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@683969 13f79535-47bb-0310-9956-ffa450edef68

commit 3481d5494d0f7ae9f868c0c73c89205d78819a0a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Aug 4 22:00:38 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45532
    Doc typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@682525 13f79535-47bb-0310-9956-ffa450edef68

commit 81ecc5486370b5260e04434f659c75dca4247209
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 3 17:54:23 2008 +0000

    Remove some unused code.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@682197 13f79535-47bb-0310-9956-ffa450edef68

commit 1267045ac42fd529ba34c944e0e1dd645ea2605c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 1 19:25:41 2008 +0000

    The surprisingly small update to the auto generate code to go with the update to the jjtree file
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@681792 13f79535-47bb-0310-9956-ffa450edef68

commit fffca92b0f84fd2dfd03500c5d65ff4cbb3573b4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 1 19:23:25 2008 +0000

    Needed to look ahead one more token to differentiate between a function call and an identifier.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@681789 13f79535-47bb-0310-9956-ffa450edef68

commit 5d34ff92718de4ce8742411dcf4061651edd2ba4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 1 16:20:14 2008 +0000

    Update auto-generated code after recent jjt changes.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@681737 13f79535-47bb-0310-9956-ffa450edef68

commit dfd2dad392bb3ebd0b345dca4ba86b045cafc216
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 1 16:11:14 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=42565
    This patch:
     - limits the regexp for namespace to what is in the spec
     - removes the namespace token since the maximal munch rule means that there is a risk the second and third parts of a ternary expression would, incorrectly, be interpreted as a fucntion call.
     - modifies the lookahead for function to be more explicit about what to look for
    My set of weird and wonderful test cases (mixing ternary, fucntion and empty) now all work.
    Updated generated files will follow.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@681736 13f79535-47bb-0310-9956-ffa450edef68

commit e36293e70cfcfcc92f3ecb4ab94e89c9d62a666f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 1 16:05:47 2008 +0000

    Revert fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=42565 since it caused https://issues.apache.org/bugzilla/show_bug.cgi?id=45511
    A better fix for 42565 will follow
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@681735 13f79535-47bb-0310-9956-ffa450edef68

commit 52f9b2d9114dcd3b083162be2a1d3070aed7a016
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 30 22:37:11 2008 +0000

    Fix 45509 - typos
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@681233 13f79535-47bb-0310-9956-ffa450edef68

commit c55ad56ed72ee1dbfe790bc5492d4df74e3e754f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 29 16:28:59 2008 +0000

    Port http://svn.apache.org/viewvc?rev=678137&view=rev (additional normalization check) to trunk
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@680759 13f79535-47bb-0310-9956-ffa450edef68

commit 9d3cad72edc11ba265c8052abd50da913bf9101d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 29 14:58:05 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45453
    Add yet more synchronisation to JDBCRealm.
    Based on a patch provided by Santtu Hyrkk.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@680725 13f79535-47bb-0310-9956-ffa450edef68

commit 4cab5f391c4f3fcbfb89b90bcbd57118c6b4b04e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 29 14:29:27 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45459
    Provide info on possible cause of exception.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@680710 13f79535-47bb-0310-9956-ffa450edef68

commit 0a1cf173ed1cd11e995498d0ffde86f7cd7900ec
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 27 13:20:07 2008 +0000

    Fix error in JAAS realm doc reported on users list.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@680101 13f79535-47bb-0310-9956-ffa450edef68

commit 3915b69574fab7a5d095df9ed80d9dac3e8a1cd1
Author: Costin Manolache <costin@apache.org>
Date:   Fri Jul 18 14:11:03 2008 +0000

    This was discussed a month ago - didn't hear any objections. It uses the 'platform' mbean server instead of a new one if none
    was explicitely created. This allows using jconsole without any flags - without the change it would only show platform mbeans,
    now it has tomcat mbeans as well.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@677910 13f79535-47bb-0310-9956-ffa450edef68

commit 36de11539c280e9930a54f84dddaed5839c12630
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Fri Jul 18 06:39:45 2008 +0000

    Grammar + typos: Fix PR#45422
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@677836 13f79535-47bb-0310-9956-ffa450edef68

commit dfca445d7ae6f86466a5ee012a33baba5264bc57
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 17 23:12:03 2008 +0000

    Remove pre-loading of inner class that was removed as part of r605000.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@677773 13f79535-47bb-0310-9956-ffa450edef68

commit 92f847d9d8e6b04cd328dcf45443eb1bbf154106
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 17 22:09:18 2008 +0000

    Fix bug 42727. Handle request lines that are exact multiples of 4096 in length.
    Patch provided by Will Pugh.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@677759 13f79535-47bb-0310-9956-ffa450edef68

commit 6bf407a064aaf236ac8ae82a87f4140a64dd0a6a
Author: Costin Manolache <costin@apache.org>
Date:   Thu Jul 17 17:14:47 2008 +0000

    Add a non-config starter for tomcat. All you need is the classpath including tomcat and the servlets - no config file.
    There is a requirement for a temp directory - the spec requires that webapps are provided with one I believe.
    It is possible to remove this or do it lazily or have some default in /tmp, if anyone wants to.
    
    Also adding a context requires some base dir ( can be an empty one ) - so the default servlets points to something.
    This can also be eliminated by setting a different default servlet - needs to be done if wanted.
    
    It is also pretty fast - the unit tests show startup + first request in ~1 sec.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@677640 13f79535-47bb-0310-9956-ffa450edef68

commit 930421c7bbcd50c8f4157024005e194f4e789efd
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jul 17 00:13:37 2008 +0000

    first chunk - make sure END gets called properly, if the event was closed
    second chunk - if the POST body is x-www-form-urlencoded, request.getAvailable() returns 0 for IdentityInputFilter
    so we still need to invoke READ event if there is a body, and it hasn't been processes by the servlet
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@677473 13f79535-47bb-0310-9956-ffa450edef68

commit 2836ca3b5205b590f3f246bf75067b5c5a972b89
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 15 15:51:44 2008 +0000

    As Remy pointed out, this really should be in the finally block.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@676944 13f79535-47bb-0310-9956-ffa450edef68

commit 478b17fc83a7aaeecb34fad5252ba93aeaf584c0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 15 09:14:21 2008 +0000

    Revert changes as root cause of issue appears to be strangeness in my build environment.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@676843 13f79535-47bb-0310-9956-ffa450edef68

commit 120c24dfe2061c55249f2e7a0005e103121a1570
Author: Mladen Turk <mturk@apache.org>
Date:   Mon Jul 14 08:36:41 2008 +0000

    Use tomcat native from ASF repository instead downloading at install time from tomcat.heanet.ie
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@676510 13f79535-47bb-0310-9956-ffa450edef68

commit b519f4d7a8a6aa3e5a7cd100f4bd90324982437a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 13 18:30:19 2008 +0000

    Previous patch didn't go far enough. No need to pre-load StandardWrapper.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@676395 13f79535-47bb-0310-9956-ffa450edef68

commit 1e51e49fe13fb8fe5ec5cf857db218aabf989951
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 10 23:00:31 2008 +0000

    Startup fails with security enabled
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@675796 13f79535-47bb-0310-9956-ffa450edef68

commit d41f610b423a068cc3020c61a030e136b8de84fd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 10 21:11:16 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=42722
    Possible NPE in CGIServlet.java
    Patch provided by Nils Hammar
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@675751 13f79535-47bb-0310-9956-ffa450edef68

commit a594e32ce204e7cb91bfca4f8b68390613f2ceab
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 10 21:05:35 2008 +0000

    Auto-generated changes as a result of http://svn.apache.org/viewvc?rev=675726&view=rev
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@675739 13f79535-47bb-0310-9956-ffa450edef68

commit 1f17ad2c61f8350e9428acca195185c8282c9f26
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 10 20:53:24 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=42565
    el ternary expression without space before colon now works
    Patch provided by Lucas Galfaso
    This is just the jjt patch. The resulting changes to the generated code will follow.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@675726 13f79535-47bb-0310-9956-ffa450edef68

commit e1939b72bdf809f5175964e25c91af1ef099d552
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 10 18:34:22 2008 +0000

    Go back to the original patch. The better one didn't pan out. Sorry for the noise.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@675667 13f79535-47bb-0310-9956-ffa450edef68

commit e51dfe9020f850ff901d6c0442da6ac46341a057
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 10 18:20:18 2008 +0000

    Revert previous patch prior to applying a better one
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@675664 13f79535-47bb-0310-9956-ffa450edef68

commit 252fca1ada750ab414fe053d91c88fba4f9ce284
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 10 17:01:23 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=42678
    Only ignore docBase it it really is a subdir of appBase
    Patch provided by juergen
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@675650 13f79535-47bb-0310-9956-ffa450edef68

commit 518cc2af67cad6e91c5b797cfa67e7ef6cf4aca7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jul 9 20:50:18 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45285
    Should look for annotations all the way up the class hierarchy
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@675340 13f79535-47bb-0310-9956-ffa450edef68

commit 5e20980147b601bcc15e8faa515adff66c876c3d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 6 20:02:06 2008 +0000

    Fix bug 45323. Add note that context.xml files can only contain a single Context.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@674339 13f79535-47bb-0310-9956-ffa450edef68

commit b7467313a1f81eadc15e8037615dfca7242f2297
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 6 19:31:20 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45332
    Specify the correct encoding (the current windows code page) rather than assuming UTF-8 when creating tomcat-users.xml
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@674335 13f79535-47bb-0310-9956-ffa450edef68

commit 9b92b142ee9e47e25c7073457422acdbe43f1892
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 6 16:14:01 2008 +0000

    Port windows installer changes from 6.0.x to trunk
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@674311 13f79535-47bb-0310-9956-ffa450edef68

commit 201fec57b5a44374be3f95e557dc97ef79c4f20c
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 4 21:30:31 2008 +0000

    Add in startup options to the cluster channel.
    Document the multicast recovery options
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@674125 13f79535-47bb-0310-9956-ffa450edef68

commit ce58da882c27afb1d002cf6957ff36bcd74cae27
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 4 07:52:17 2008 +0000

    Fix 45310, 45308 and a couple of additional typos. Also use OpenSSL consistently and fix a very long line.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@673943 13f79535-47bb-0310-9956-ffa450edef68

commit 09322956005a84d2e0086e161622f481e9a4de6c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 3 21:26:13 2008 +0000

    Extract the query string before we try to normalise the URI
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@673820 13f79535-47bb-0310-9956-ffa450edef68

commit c0f1602ca04fc767c9ee220c2e0f97cb2590f30d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 3 20:52:42 2008 +0000

    Make filtering of /r and /n in headers consistent for all connectors.
    Make handling of 404s consistent across components.
    Provide option to include custom status message in headers. SRV.5.3 suggests custom messages are intended for the body of the response, not the status line.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@673796 13f79535-47bb-0310-9956-ffa450edef68

commit 36bb5d989723f38a3a25382e14d4eaf21a468671
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Jul 2 20:41:10 2008 +0000

    Fix for bug 45317, document and properly output the session timeout time
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@673487 13f79535-47bb-0310-9956-ffa450edef68

commit 3b0204ffd4dbc7c48d6d735c7165ac7f2054b7fc
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Wed Jul 2 08:44:37 2008 +0000

    typo: 45309
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@673317 13f79535-47bb-0310-9956-ffa450edef68

commit 3b0e5f2e11c0fe93f942bc6c4ae1ad51945299de
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Tue Jul 1 11:34:06 2008 +0000

    Add some extra info on keystore type.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@673061 13f79535-47bb-0310-9956-ffa450edef68

commit f23907d242db9a0afb72845cc1ca1ac4922af9bd
Author: William Barker <billbarker@apache.org>
Date:   Sat Jun 28 02:11:48 2008 +0000

    port fix for BZ 36155 from the JK Connector
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@672454 13f79535-47bb-0310-9956-ffa450edef68

commit 4773531f9e357ab3d50536f2a6746f981de58bb6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 27 21:48:41 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45277
    Correct typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@672399 13f79535-47bb-0310-9956-ffa450edef68

commit 39a24653af089eb368f4d34f19278b2a76a53bd2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 27 21:39:27 2008 +0000

    Fix for part 3 of https://issues.apache.org/bugzilla/show_bug.cgi?id=43683
    This isn't perfect but it narrows the window for the race condition significantly. A perfect fix would require syncing most (all?) of allocate() which is on the critical path.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@672397 13f79535-47bb-0310-9956-ffa450edef68

commit c892641b6236671fc44e7800ece115c4dadfd8f0
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jun 26 18:25:30 2008 +0000

    doco update for fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=45272
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@671975 13f79535-47bb-0310-9956-ffa450edef68

commit b00e8366137f8ff4020232a421cd53d036bb6150
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jun 26 18:24:18 2008 +0000

    work around for IE not being RFC compliant, IE doesn't like quotes around the path value, even though a slash is considered a header delimiter and must be quoted, fix for bug https://issues.apache.org/bugzilla/show_bug.cgi?id=45272
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@671973 13f79535-47bb-0310-9956-ffa450edef68

commit 30e9b50e7224076f5f9489701212e848cdb04364
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Jun 25 20:46:02 2008 +0000

    update changelog
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@671652 13f79535-47bb-0310-9956-ffa450edef68

commit a2a771419459c247af3232523d9e7da9c83eb8f5
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Jun 25 20:44:48 2008 +0000

    fix for bug 45279, close multicast socket on close
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@671650 13f79535-47bb-0310-9956-ffa450edef68

commit 04b1925da704c154dfab2053b11b876cf782ffc0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 20 21:34:09 2008 +0000

    Provide an option to disable the fix for 45015 that raised an error if attributes were not correctly quoted.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@670074 13f79535-47bb-0310-9956-ffa450edef68

commit 2d95703b66737dd5bbd835e20e47ba26341e81e5
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Wed Jun 18 09:08:14 2008 +0000

    Use localhost instead of 127.0.0.1
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@669119 13f79535-47bb-0310-9956-ffa450edef68

commit cfd911baba854bcfbd2a03a872704756ff045232
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 17 22:13:00 2008 +0000

    Additional check related to bug 45195.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@668854 13f79535-47bb-0310-9956-ffa450edef68

commit eea89dab271cec935612a0d5787fd752d057b2d2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 17 22:04:50 2008 +0000

    Apply Filip's better patch for https://issues.apache.org/bugzilla/show_bug.cgi?id=45212
    Map.entrySet() should return entries, not values
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@668849 13f79535-47bb-0310-9956-ffa450edef68

commit 46e800ffc54036a7fd87786712e1c47a678b4bb5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jun 17 22:01:01 2008 +0000

    Revert previous fix after veto.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@668847 13f79535-47bb-0310-9956-ffa450edef68

commit 706e5b3c6f5ba53628604f4d4a836d016e601768
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 16 17:22:36 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45212
    Map.entrySet() should return entries, not values
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@668249 13f79535-47bb-0310-9956-ffa450edef68

commit ab868708d83b13fcb9cc12ff07d6d42a52c2652e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 13 20:40:27 2008 +0000

    Another fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=43683
    There was a short period where the context didn't appear in the mapper that resulted in some more 404s.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@667644 13f79535-47bb-0310-9956-ffa450edef68

commit 9b7c3a1c6ac6e26a8e8fcdae2406fa1e1451f430
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 13 17:43:51 2008 +0000

    Fix bug 45195. NPE when calling getAttribute(null).
    The spec is unclear but this is a regression from 5.0.x
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@667604 13f79535-47bb-0310-9956-ffa450edef68

commit bc49ff4f8e799d741000604fe3557ad36ea7557d
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jun 10 17:44:24 2008 +0000

    update changelog
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@666233 13f79535-47bb-0310-9956-ffa450edef68

commit 5b1b01deb280fe044a009dc6730891170853259c
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jun 10 17:43:28 2008 +0000

    prevent NPE during shutdown where the logger has been shutdown and delayed resources still trying to log
    java.lang.NullPointerException
    	at org.apache.juli.FileHandler.publish(FileHandler.java:136)
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@666232 13f79535-47bb-0310-9956-ffa450edef68

commit 64ad90015352bb637bcb4dd24384e53f18fde9e5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 9 16:41:58 2008 +0000

    Make forced coercion of null and "" to zero optional. It is enabled by default, as per the spec.
    Patch by Nils Eckert.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@665756 13f79535-47bb-0310-9956-ffa450edef68

commit 7f05cc102f3e61f8f810debe76a02e39b862d655
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 8 11:30:44 2008 +0000

    Add an additional layer of protection in case app fails to protect against an XSS.
    Copied filter code to jasper module so no new dependency is created.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@664483 13f79535-47bb-0310-9956-ffa450edef68

commit 0408368d311924237c71c417ad355985f25e99ef
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jun 7 14:34:36 2008 +0000

    Add a new valve that works-around the broken MS WedDAV client.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@664345 13f79535-47bb-0310-9956-ffa450edef68

commit 49c71fc59c1b8f8da77aea9eb53e61db168aebab
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jun 2 21:41:28 2008 +0000

    Fix potential XSS in host-manager.
    This is CVE-2008-1947.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@662582 13f79535-47bb-0310-9956-ffa450edef68

commit e0200b0d9574b5809f30fb137c4cce9f8a27958e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 29 21:32:02 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45101
    Format dates for header value from DirContextURLConnection using HTTP format.
    Patch provided by Chris Hubick.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@661488 13f79535-47bb-0310-9956-ffa450edef68

commit 36e7f3ed463982117bfeac1dbc56405e0af9c060
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 28 20:42:22 2008 +0000

    Additional fix for https://issues.apache.org/bugzilla/show_bug.cgi?id=43683
    If the context is reloaded, the classloader will have changed so need to reset it
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@661074 13f79535-47bb-0310-9956-ffa450edef68

commit 3b0ea850738c091299373a330929cc024dd1867a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 22 19:17:38 2008 +0000

    Revert changes for 42747 whilst I work on a better fix.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@659215 13f79535-47bb-0310-9956-ffa450edef68

commit ebc90c576bd184eac82a48423e508e72b30da46a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 19 21:47:19 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=42747.
    Actually fixes a number of related bugs:
     - For a new WAR, use META-INF/context.xml for first initiation rather than copying it then using it on next start
     - For a new dir, use META-INF/context.xml for first initiation
     - For a new dir, copy any META-INF/context.xml to $CATALINA_BASE/[engine]/[host]/contextPath.xml
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@657995 13f79535-47bb-0310-9956-ffa450edef68

commit f93376d54df87ca64c1286ac209da107b45ab574
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 19 20:07:20 2008 +0000

    Note: This patch is on the critical path.
    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=42750
    Making parsing of the request line tolerant of multiple SP and/or HT rather than requiring single SP characters.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@657954 13f79535-47bb-0310-9956-ffa450edef68

commit 8b0004db74d31baf111faa9ef102c5b89791c38b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 17 19:55:55 2008 +0000

    Additional patch from https://issues.apache.org/bugzilla/show_bug.cgi?id=43094
    Make SSL providers configurable.
    Based on a patch by Bruno Harbulot.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@657449 13f79535-47bb-0310-9956-ffa450edef68

commit a8a168859bfa34d38c3e85e2ec53304249bb67cd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 17 19:39:14 2008 +0000

    Code clean-up. No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@657439 13f79535-47bb-0310-9956-ffa450edef68

commit 64caa217636896673b786347250581ac21a3b50f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 17 18:52:23 2008 +0000

    Fix some Eclipse warnings in the examples webapp.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@657429 13f79535-47bb-0310-9956-ffa450edef68

commit c309de998879b89ecb3407c9f1db17dc1c0dfd2d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 17 18:41:07 2008 +0000

    Fix as many Eclipse warnings as I can in the unit tests.
    Add some missing svn properties
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@657428 13f79535-47bb-0310-9956-ffa450edef68

commit a415669bb23e02fbf8189981c3ae2bb231985c61
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 17 17:33:43 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=44994
    Correct BNF grammar so  ${0 lt a ? 1 lt a ? "many": "one": "none"} does not throw an exception
    The patch is bigger than I would like due to the code generation tools used
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@657404 13f79535-47bb-0310-9956-ffa450edef68

commit 955bfac92ff3069802c2b86c6a0c171ca84c364d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri May 16 22:28:09 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45015
    You can't use an unescaped quote in an attribute value if you have quoted the value using that quote character
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@657231 13f79535-47bb-0310-9956-ffa450edef68

commit 85435021f16116a7f8b89060eab3975caa60c527
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri May 16 17:46:34 2008 +0000

    Fix NPE reported on the dev list. The other toUpperCase() calls should be safe since the String will be non-null when the method is called.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@657149 13f79535-47bb-0310-9956-ffa450edef68

commit 4607cef3d13df6b42e0259b528ea671925609933
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 15 17:07:31 2008 +0000

    Improved fix https://issues.apache.org/bugzilla/show_bug.cgi?id=44968 as a single patch
    Provide more information when keystore load fails
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@656739 13f79535-47bb-0310-9956-ffa450edef68

commit 440ceca1a88a6246840a02f1c5335f661ad2026a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 15 17:01:47 2008 +0000

    Revert previous 3 commits to create clean patch for 6.0.x
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@656738 13f79535-47bb-0310-9956-ffa450edef68

commit 4d30d4bc57e1b750ce323bab1e28b3ad38b951b1
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu May 15 17:01:07 2008 +0000

    update docs
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@656737 13f79535-47bb-0310-9956-ffa450edef68

commit 02b2d14f7d7121afa6d61092ba9fda6b79e969b6
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu May 15 02:53:51 2008 +0000

    fix broken build
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@656494 13f79535-47bb-0310-9956-ffa450edef68

commit 9e9a80ade07e7e3b82a1a882f8e9bb8aead8da99
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 14 07:17:46 2008 +0000

    Improve logging messages associated with previous commit in response to Filip's veto
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@656124 13f79535-47bb-0310-9956-ffa450edef68

commit 08c5317f9fa20c6007a64e2927a1bfc8fad18d2e
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed May 14 02:29:56 2008 +0000

    tab police
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@656089 13f79535-47bb-0310-9956-ffa450edef68

commit 337820c310843fc17b635c9c157a6f37a93fd77d
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed May 14 01:58:27 2008 +0000

    save a few cpu cycles to avoid exceptions being thrown when a key is invalid
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@656084 13f79535-47bb-0310-9956-ffa450edef68

commit e8ff559b31db7df0ece9d1018a3fd69cabb6e303
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 13 22:32:17 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=44968
    Provide more information when keystore load fails
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@656035 13f79535-47bb-0310-9956-ffa450edef68

commit 3c84dcf8e3e8402ff4a8cbb87b4b30769729c663
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 13 21:40:59 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=44986
    Convert to upper case before comparing encoding names
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@656024 13f79535-47bb-0310-9956-ffa450edef68

commit a49943387886bc1338c662a2ff25acc5c7df3b6a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 13 21:19:07 2008 +0000

    Code clean-up. Remove unused code, parameters, etc.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@656018 13f79535-47bb-0310-9956-ffa450edef68

commit 16c60218f8319b2fb7749c35cab14e0021ca2555
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 13 20:13:22 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=44988
    Use Java 5 syntax to start debugger.
    Patch provided by Cédrik Lime.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@655992 13f79535-47bb-0310-9956-ffa450edef68

commit a9cb6a6e8be16c2ad4d745356524ca8f1a14b028
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri May 9 20:21:20 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=42934
    Trigger contextInitialized() before sessionDidActivate()
    TCK tests all pass but I want to give this a little longer in trunk before proposing it for 6.0.x
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@654932 13f79535-47bb-0310-9956-ffa450edef68

commit 17b443618fc74952b7d5d471620cf5bb7d0b7bb0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 8 21:53:35 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=42943
    Make sure the nested element is inside a <jsp:text> element
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@654640 13f79535-47bb-0310-9956-ffa450edef68

commit 179a7eb25603a53df75a246c457808da5232e22f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 8 21:32:46 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=44955
    Use correct location for endorsed dir.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@654632 13f79535-47bb-0310-9956-ffa450edef68

commit 889f6c87f4a4ebda288c2a17bb13aa9933ea010b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 8 21:30:36 2008 +0000

    Clean-up. Remove old stuff that has just been commented out rather than deleted.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@654630 13f79535-47bb-0310-9956-ffa450edef68

commit 3981607e342bd151216add07d80172e4409e2497
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 7 17:20:41 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=44943
    Reduce copy/paste issues caused by different engine names.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@654177 13f79535-47bb-0310-9956-ffa450edef68

commit a3ca9b01ae83a4fe5102b2877e1560a022928675
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 6 17:52:29 2008 +0000

    Code clean-up. Remove unused method.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@653855 13f79535-47bb-0310-9956-ffa450edef68

commit 5156943ac8ccd051a492ddcab17f9f9ec15c51c4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 6 17:51:01 2008 +0000

    Code clean up - remove unnecessary casts.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@653852 13f79535-47bb-0310-9956-ffa450edef68

commit 7125c9fc203b683374220322159e451c2c418cef
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 5 18:18:00 2008 +0000

    Fix bugs https://issues.apache.org/bugzilla/show_bug.cgi?id=43013 and https://issues.apache.org/bugzilla/show_bug.cgi?id=44021
    Add support to manger and deployer for wars and dirs that use # to denote multi-level contexts.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@653549 13f79535-47bb-0310-9956-ffa450edef68

commit 8e245b21f13b3edfa279b91afcb2bcdc10d25219
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon May 5 16:08:07 2008 +0000

    Fix various Eclipse warnings. Generics, unused code, etc
    No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@653519 13f79535-47bb-0310-9956-ffa450edef68

commit bdfa87f4e3efd2167408c4448a53c5825dfa7c50
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 4 16:32:23 2008 +0000

    Fix typo in recently added dbcp check so you can build a release on a 1.5 JDK
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@653247 13f79535-47bb-0310-9956-ffa450edef68

commit 78fd49c30386d479ca2fa403afeafd876bbdbdee
Author: Costin Manolache <costin@apache.org>
Date:   Sun May 4 15:49:05 2008 +0000

    Not sure if I got the process right - the 2 classes I want to submit can be found on www.apache.org/~costin.
    I don't think there is anything tricky about them - except the fact that it adds another option for
    tomcat startup.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@653236 13f79535-47bb-0310-9956-ffa450edef68

commit 332d0f05ad3f06554a7a95ca8b3641519b752eaa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun May 4 10:41:48 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=43080 and https://issues.apache.org/bugzilla/show_bug.cgi?id=43079
    Move warning to StandardContext so a) we can check all url-patterns and b) we associate the message with the context.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@653195 13f79535-47bb-0310-9956-ffa450edef68

commit 3dc422e427d046a5be22f008bf45cec2607a61ea
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 3 20:22:57 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=43094
    Support any keystoreType that doesn't need a file.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@653128 13f79535-47bb-0310-9956-ffa450edef68

commit 5ec56819f1fe78b11a49b6ecb8d4aa6c76398afd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 3 19:49:57 2008 +0000

    Fix bug 43117. Setting an empty workDir can delete all of CATALINA_HOME.
    Patch provided by Takayuki Kaneko.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@653113 13f79535-47bb-0310-9956-ffa450edef68

commit a1ea3fc64c81c28bd75a8ca3bb231cef1e3fb84b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 3 19:47:13 2008 +0000

    A final bit of code clean up.
    Actually no functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@653112 13f79535-47bb-0310-9956-ffa450edef68

commit 990000b812f3cb6f086119fd8fda2a1213d039c9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 3 19:44:24 2008 +0000

    Fix various Eclipse warnings. Generics, unused code, etc
    No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@653111 13f79535-47bb-0310-9956-ffa450edef68

commit 483f58649c1e1081a3423aa09e9ddea5df95c295
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 3 10:28:51 2008 +0000

    Add Remy's NPE fix to trunk.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@653038 13f79535-47bb-0310-9956-ffa450edef68

commit e2524a84edf4265e1f5ddccfe445e07be126f589
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 3 10:14:00 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=43191
    No way to turn off compression for some file types.
    Based on a patch by Len Popp
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@653032 13f79535-47bb-0310-9956-ffa450edef68

commit 8a88f257ae33b705a1b6ce160a06207cb7805c31
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri May 2 21:25:56 2008 +0000

    Code clean up. Remove unused methods, unnecessary casts/code, fix generics warnings etc reported by Eclipse.
    No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@652918 13f79535-47bb-0310-9956-ffa450edef68

commit b00bc358c00ed711065e04d9b9b2d5d4fc4a345e
Author: Costin Manolache <costin@apache.org>
Date:   Fri May 2 03:20:37 2008 +0000

    Since not beeing able to build with JDK1.6 is so annoying - and commons-dbcp doesn't support jdk1.6 in the first place:
    - let the compile work with jdk1.6, minus dbcp
    - add a small warning at the end.
    
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@652744 13f79535-47bb-0310-9956-ffa450edef68

commit d995407c5f9377484aad51fda372bf3472deafdc
Author: Costin Manolache <costin@apache.org>
Date:   Fri May 2 03:18:26 2008 +0000

    Match build.xml - exclude webservices, missing deps
    Not sure why it's checked in - if 'download' doesn't get the deps and build.xml doesn't build it.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@652743 13f79535-47bb-0310-9956-ffa450edef68

commit fa91954f998f069bbc38221ea69c07c192814c9b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 1 21:25:01 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=43150
    # in installation path stops Tomcat starting
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@652669 13f79535-47bb-0310-9956-ffa450edef68

commit 7b15ea9c8bd2e1a64675a86c5ba14a499f8de0de
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 1 21:20:45 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=43333
    Correct sendfile docs.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@652666 13f79535-47bb-0310-9956-ffa450edef68

commit a96861dde66c4f1dd62ffb073825536060417982
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 1 21:11:26 2008 +0000

    Fix bug 43343. Correctly handle the case where a request arrives for a session we are in the middle of persisting.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@652662 13f79535-47bb-0310-9956-ffa450edef68

commit 6a8b1bb49c31a2195c1394b446165011034999c2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 1 07:00:14 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=43142
    If someone is daft enough to name their directory xxx.war, don't assume it is a war file.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@652441 13f79535-47bb-0310-9956-ffa450edef68

commit f4a763216189d40f95923ee3931f635ea70d417d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 27 17:59:02 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=43366
    Provide backwards compatibility for sessions command
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@651988 13f79535-47bb-0310-9956-ffa450edef68

commit dfa25f4a9f29ddc3f6f4896ac3e1db9180d7aa5e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 27 17:19:48 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=44877
    Prevent collisions in tag pool names
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@651984 13f79535-47bb-0310-9956-ffa450edef68

commit 5ba9c9aba16db0da6189f58fd27692fda503e88a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 27 16:29:52 2008 +0000

    Further minor clean-up of unused/unnecessary code after I made Eclipse even more pedantic.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@651978 13f79535-47bb-0310-9956-ffa450edef68

commit b9b32ae3b1faf3fb8840af3bb96a1312a0850309
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 27 16:28:34 2008 +0000

    Add some missing control checks.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@651977 13f79535-47bb-0310-9956-ffa450edef68

commit c030f086c4f7f3f8cdf067b7c7640e520aa7ba76
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 27 16:14:06 2008 +0000

    Code clean up o.a.t.util.net.
    Generics and unused code.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@651976 13f79535-47bb-0310-9956-ffa450edef68

commit 63699cb72c37dc52ba337b7fe2eecba37018fee9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 27 15:56:16 2008 +0000

    Code cleanup. o.a.t.util.res
    No functional change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@651968 13f79535-47bb-0310-9956-ffa450edef68

commit d933ddbcff896a35091f55a48645224e8911f4f9
Author: William Barker <billbarker@apache.org>
Date:   Sat Apr 26 02:48:40 2008 +0000

    Reduce signoff error message to DEBUG, since it is harmless if mod_jk has hung up the phone
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@651792 13f79535-47bb-0310-9956-ffa450edef68

commit 48131cd64592ff3e902ee592f8c3ab6dcd2f5998
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 25 22:55:38 2008 +0000

    Fix bug https://issues.apache.org/bugzilla/show_bug.cgi?id=43425
    Annotations not spec compliant.
    Patch provided by Dain Sundstrom.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@651732 13f79535-47bb-0310-9956-ffa450edef68

commit 304ee0dafabe5acb521a9f0ae6d12efa8818ee66
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 25 22:40:55 2008 +0000

    Better fix https://issues.apache.org/bugzilla/show_bug.cgi?id=43617
    Correctly handle quotes in attribute values for tag(x) files.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@651729 13f79535-47bb-0310-9956-ffa450edef68

commit a32032c3d8a140161a98ffc380b73110496c2309
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 25 22:39:52 2008 +0000

    Revert previous patch. It didn't cover all cases.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@651725 13f79535-47bb-0310-9956-ffa450edef68

commit a9d12342c1b90dc51bf0d10ed568402d11c4d03e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 25 22:07:55 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=43578
    Tomcat doesn't start in linux if CATALINA_BASE contains a space
    Patch provided by Ray Sauers
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@651713 13f79535-47bb-0310-9956-ffa450edef68

commit fd05f6f220ccba62bb70c101779e476bf31d13c1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 25 18:38:38 2008 +0000

    Fix compiler warnings for o.a.c.deploy.*
    Note using generics would have highlighted bug 43470
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@651680 13f79535-47bb-0310-9956-ffa450edef68

commit 72eb723e959fa874a3e6f06a143040af15ece507
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 25 18:16:36 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=43470
    Based on a changes provided by Lucas Galfaso
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@651675 13f79535-47bb-0310-9956-ffa450edef68

commit 9fa9739551cab37b25ca6e83011aa9102e634861
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 25 17:40:47 2008 +0000

    Add missing access check.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@651662 13f79535-47bb-0310-9956-ffa450edef68

commit 40ca63c74b2eafffa6f3924e8214076c9bd45e43
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 23 21:52:11 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=43617
    Correctly handle quotes in attribute values for tag(x) files.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@651082 13f79535-47bb-0310-9956-ffa450edef68

commit d7162cabbe93aaff07dc63a4d12bc346b86db904
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 23 21:38:09 2008 +0000

    Generics changes for o.a.t.util.res
    No fucntional change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@651076 13f79535-47bb-0310-9956-ffa450edef68

commit 0b66b6a984e234a61e4f82766746748cb637ca25
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 23 21:37:09 2008 +0000

    Generics changes for o.a.t.util.threads
    No fucntional change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@651075 13f79535-47bb-0310-9956-ffa450edef68

commit 1b2383d5131644cdf3d6ae66305d48f521eb4ead
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Apr 23 11:12:23 2008 +0000

    notify user of the actual error and add a todo behavior for buffer copying
    
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@650826 13f79535-47bb-0310-9956-ffa450edef68

commit 9db026483bc6ea182f43f83e9a4e737e5d8c6b3e
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Apr 23 11:09:56 2008 +0000

    new idea
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@650824 13f79535-47bb-0310-9956-ffa450edef68

commit b8661d5602d3b18f472049ab1d4a1cb2ed636944
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Apr 22 20:46:26 2008 +0000

    Remy's better fix for 43683.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@650648 13f79535-47bb-0310-9956-ffa450edef68

commit a6e47de005655732d330630d0caa93a3ef38eabc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Apr 22 20:43:50 2008 +0000

    Revert previous patch to fix obvious potential NPE as pointed out by Remy.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@650645 13f79535-47bb-0310-9956-ffa450edef68

commit 0ea3e15e3ab543c35bb6f588549dcd41566df9d3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 20 22:39:35 2008 +0000

    Fix bug 31257. Quote endorsed dirs if they contain a space.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@649993 13f79535-47bb-0310-9956-ffa450edef68

commit 06c23d827fea6de7ee34c837369f5568806d9d04
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 20 20:47:57 2008 +0000

    Fix bug 29936. In some circumstances, Tomcat would use the parser from a webapp to parse web.xml and possibly context.xml files.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@649974 13f79535-47bb-0310-9956-ffa450edef68

commit 2b35a878e4e56dc144e2a8ad6c59fc5997d7b17b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Apr 19 09:51:35 2008 +0000

    Add license and props.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@649785 13f79535-47bb-0310-9956-ffa450edef68

commit 52e479016330636974676f75c9d9bb43a3112134
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Apr 19 09:47:07 2008 +0000

    More fixes for bug 43656 so new test case passes.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@649784 13f79535-47bb-0310-9956-ffa450edef68

commit 56bee0db4b9eb22d29f4e40b8e73333965bacf40
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Apr 19 09:44:35 2008 +0000

    Add test case for bug 43656. Based on a patch from Konstantin Kolinko.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@649783 13f79535-47bb-0310-9956-ffa450edef68

commit d7e6345ee3a3193df81b2d917494149f37a556cd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 18 18:10:06 2008 +0000

    Fix bug 43656. coerceToType() modified some values. Patch provided by Nils Eckert.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@649638 13f79535-47bb-0310-9956-ffa450edef68

commit 2660bf0368a68d447dbdd90dc16be05e71741257
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 18 18:08:31 2008 +0000

    Remove unused code. No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@649637 13f79535-47bb-0310-9956-ffa450edef68

commit c6b57c6a3f9ba2a9d03ced06c3683cdcb541abfc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 17 22:07:38 2008 +0000

    Patch for bug 43683. It could be more efficient if wrapper.started was visible but that would have made the patch quite invasive.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@649302 13f79535-47bb-0310-9956-ffa450edef68

commit 1ca80327a3dbd571b8d2958a5ce5a36848e7b85a
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Apr 17 20:00:10 2008 +0000

    update changelog
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@649253 13f79535-47bb-0310-9956-ffa450edef68

commit d43b18498807ce089bd7387c8e0120239061af9b
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Apr 17 19:58:51 2008 +0000

    make the alwaysSend flag public, so that we can set it through config
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@649252 13f79535-47bb-0310-9956-ffa450edef68

commit e4b54bbf5836921e86ed7c588896a36191ec6d66
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Apr 17 19:46:23 2008 +0000

    update changelog
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@649248 13f79535-47bb-0310-9956-ffa450edef68

commit ddea36fef58bc9e8fe51180d51f8c96a4edfa4d7
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Apr 17 19:20:00 2008 +0000

    fix override of methods from standardsession
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@649238 13f79535-47bb-0310-9956-ffa450edef68

commit 8c0f745fb486b8a0be75de4a5145a5e4389cc11e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Apr 15 08:02:31 2008 +0000

    Align realm config doc and realm howto doc..
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@648161 13f79535-47bb-0310-9956-ffa450edef68

commit 74718dea558f6fab610e78cab39f899e4f2bc4b3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Apr 14 21:44:22 2008 +0000

    Fix some links so they work even if the ROOT app is renamed.
    Minor clean-up.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@648017 13f79535-47bb-0310-9956-ffa450edef68

commit 675e4dbe55688de6fc402bdfe5d3422b385d8278
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Apr 14 21:42:52 2008 +0000

    Remove second index page. It wasn't 100% in sync with the html one and I don't see why we need two.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@648014 13f79535-47bb-0310-9956-ffa450edef68

commit 2edf51e9edf7e900fd107a9d73cdcb29adc75194
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 11 23:07:10 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=44380
    Don't bother scanning non-file URLs for TLDs.
    Patch provided by Florent BENOIT
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@647345 13f79535-47bb-0310-9956-ffa450edef68

commit 8f1b9acafc0950a6cbf5d0c95c6279ae92b4069e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 11 23:00:55 2008 +0000

    Code clean up. Java5 and remove unused code. No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@647344 13f79535-47bb-0310-9956-ffa450edef68

commit 6723b357b511c3c31a962cde23c036050985af92
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 11 22:34:45 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=44389
    Make nested class static so it doesn't hold a reference to the ApplciationContext instance.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@647339 13f79535-47bb-0310-9956-ffa450edef68

commit df759379b3ef077d234efcf8d6f6963dbf648e6f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 11 21:25:59 2008 +0000

    Fix bug44391. Handling of escaped characters was incorrect.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@647316 13f79535-47bb-0310-9956-ffa450edef68

commit d7a2eedb9da8513219e92821ac6a35117434802f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 11 21:02:41 2008 +0000

    Fix for garbage test in bug 44494. Patch provided by Suzuki Yuichiro.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@647307 13f79535-47bb-0310-9956-ffa450edef68

commit 067e92451eb8fdb6002c1eac886e24ba90410666
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 11 20:52:10 2008 +0000

    Re-instate Rainer's code that fixes the 44494 test case for read with maxHttpHeaderSize > 8192.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@647304 13f79535-47bb-0310-9956-ffa450edef68

commit 75fbd91a82345a03f8ec316558fafb64771da661
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Apr 11 20:07:26 2008 +0000

    Fix bug 44392. HTML entities not resolved in SSI.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@647289 13f79535-47bb-0310-9956-ffa450edef68

commit 6783a61b1d4681f8a4bea84c0f00964fafe9adb9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 10 21:51:57 2008 +0000

    Java 5 clean up. No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@646980 13f79535-47bb-0310-9956-ffa450edef68

commit 1f41c3d2b38d48707e6d1d05c8251747737aa423
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 10 17:29:23 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=44408
    Avoid bottleneck by calling the synchronized method only once.
    Patch provided by Robert Andersson.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@646889 13f79535-47bb-0310-9956-ffa450edef68

commit 0035fd4284e9da69dba27ef7e6d5d3ac8cb6d9c7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 9 22:33:01 2008 +0000

    Fix bug 44428. Make sure m is not null to prevent NPE.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@646574 13f79535-47bb-0310-9956-ffa450edef68

commit 9640fc401bc6112b22a24a4b8b0c1931d51f61c4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 9 22:29:28 2008 +0000

    Clean up type checking code. Patch provided by Konstantin Kolinko.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@646571 13f79535-47bb-0310-9956-ffa450edef68

commit c3e2a5399f44e57ecc93e3abac11b5b117b20ece
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 9 21:59:05 2008 +0000

    Fix bug 44785. Correct deafult maxThreads for AJP connector.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@646559 13f79535-47bb-0310-9956-ffa450edef68

commit cb19d3ad5377265ed916834ca0912fb51be6944b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 9 21:29:42 2008 +0000

    Additional permission needed to read JDK logging config.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@646550 13f79535-47bb-0310-9956-ffa450edef68

commit ee930c191a3a2330487af242bc249a8332b7ada8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 9 21:19:02 2008 +0000

    Handle case where we don't have permission to read context specific configuration.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@646543 13f79535-47bb-0310-9956-ffa450edef68

commit d6cff98a6867cf974d559e35a2674f8ac043c55b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Apr 8 22:26:05 2008 +0000

    Better patch for 44766. I still can't see why the original code listed the classes individually.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@646106 13f79535-47bb-0310-9956-ffa450edef68

commit 2cefb72b69db29305f9ea57fe7678c9effff3377
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Apr 8 22:17:34 2008 +0000

    Revert previous fix as it needs correcting.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@646102 13f79535-47bb-0310-9956-ffa450edef68

commit 110f782e3e4f7b0cae38e4611f4f2a6e34a108ba
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Apr 8 21:25:04 2008 +0000

    This fixes 44766 but I can't see why the code was written as originally coded. Any light much appreciated. I'll give it a couple of days and then, assuming there are no objections, propose it for 6.0.x.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@646076 13f79535-47bb-0310-9956-ffa450edef68

commit 7bf40828b1450745bd7de4ba8db0d3902e6db573
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Apr 7 22:47:54 2008 +0000

    All of the issues I was seeing with mark/reset were due to states that resulted in a call to CharChunk.flushBuffer().
    I tried many different ways to fix it but by far the simplest was this patch that just increases the size of the CharChunk internal buffer when creating the mark sufficiently that flushBuffer() is never called.
    With this patch I can't break mark/reset with bug 44494's test case in single or multibyte mode.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@645722 13f79535-47bb-0310-9956-ffa450edef68

commit 0c66ed7b649b225606d8942f07d052abb068fa3c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Apr 7 22:43:52 2008 +0000

    Remy's resizing fix from bug 44494
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@645719 13f79535-47bb-0310-9956-ffa450edef68

commit c3c525b901e8225864be9b5218584b535385cc73
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Mon Apr 7 09:29:41 2008 +0000

    Submitted by Ruediger Pluem. PR#44595
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@645428 13f79535-47bb-0310-9956-ffa450edef68

commit 21cf9e7e181c6bba00a2a40605a203b04c501785
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat Apr 5 22:03:59 2008 +0000

    Fix for bug
    https://issues.apache.org/bugzilla/show_bug.cgi
    The ObjectInputStream.resolveProxyClass uses some funky native code base to retrieve what class loader to use, and it doesn't return the correct one. So we have to mimic the behavior in that class but use our class loaders instead
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@645184 13f79535-47bb-0310-9956-ffa450edef68

commit 6dbc40005371037086de9994df6f38995ef6a6f1
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat Apr 5 20:44:42 2008 +0000

    Implement asynchronous callbacks for CometEvent.close and CometEvent.setTimeout to avoid connections with very long timeouts getting stuck
    CometProcessor implements servlet interface, or the code will fail deployment
    if no keepalive, close the connection after comet transaction is complete
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@645175 13f79535-47bb-0310-9956-ffa450edef68

commit 4290b57bd0da62080455eabf4143b48ebe5b1a61
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Apr 5 20:11:16 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=44759
    Need source to generate javadocs
    Patch provided by Stephen Bannasch.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@645169 13f79535-47bb-0310-9956-ffa450edef68

commit ca9c58773695c5cb389fdc288d7b6af53cd241f9
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Apr 4 19:51:52 2008 +0000

    doco update for the latest change
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@644860 13f79535-47bb-0310-9956-ffa450edef68

commit cb402fd291e9cf3638c9e977898c1aec74a36659
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Apr 4 19:48:34 2008 +0000

    fix sendfile, incorrect if else statements
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@644858 13f79535-47bb-0310-9956-ffa450edef68

commit 0351fff60d0699ce092bff7f7579366a54884019
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Apr 1 18:33:38 2008 +0000

    Better fix for bug 44715. Document use of secret for AJP connector.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@643497 13f79535-47bb-0310-9956-ffa450edef68

commit e0b48e41b865d2e98298e16c3541ca4af0896d60
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Apr 1 18:23:08 2008 +0000

    Undo last commit - need to rework wording.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@643491 13f79535-47bb-0310-9956-ffa450edef68

commit 9b6fa18b501901b84c81f16f67c5e5582390e637
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 31 22:19:20 2008 +0000

    Fix bug 44715. Document use of secret for AJP connector.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@643181 13f79535-47bb-0310-9956-ffa450edef68

commit 3924a08c46a559a0f55d481351c2b06fef077da2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 30 21:13:36 2008 +0000

    Apply Remy's patch for 44494 for multi-byte character data.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@642819 13f79535-47bb-0310-9956-ffa450edef68

commit 52b6052c1f5b7719ebcfdef1cd9322a437156815
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 30 20:56:29 2008 +0000

    Remove unused code. No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@642816 13f79535-47bb-0310-9956-ffa450edef68

commit 4c2a3ebc9dfb1c89e28eeae0785e583ab536479a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 30 20:52:21 2008 +0000

    Tab police. Tabs -> 8 spaces. No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@642814 13f79535-47bb-0310-9956-ffa450edef68

commit 7be237482b333b647d04532e082b36de79fbaa18
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 29 14:48:24 2008 +0000

    https://issues.apache.org/bugzilla/show_bug.cgi?id=44529
    No roles (deny all) trumps no auth-constraint (allow all)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@642542 13f79535-47bb-0310-9956-ffa450edef68

commit 760f0717045d4bdce0d7a14d31ce202f7f02e20f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 28 21:18:25 2008 +0000

    Remove hack for getting env since JDK >= 1.5 provide a suitable method. Fixes issue with CGI, env and vista.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@642391 13f79535-47bb-0310-9956-ffa450edef68

commit ca41a2742e418fd0282c4c27b194116ded7cc6d4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 25 23:36:56 2008 +0000

    Fix bug 44673. Throw IOE if stream is closed and a call is made to any read(), ready(), mark(), reset(), or skip() method as per javadocs for Reader.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@641076 13f79535-47bb-0310-9956-ffa450edef68

commit 0195ccd1cb6a0b43757155fec247e70be8b41a25
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 25 23:19:15 2008 +0000

    Code clean-up. Remove unused code. Fix generics related warnings. No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@641073 13f79535-47bb-0310-9956-ffa450edef68

commit 7064248bf48920a8b06c8eee9c045a19b3e31076
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 25 22:21:57 2008 +0000

    Apply the patch for BZ44494 that was applied to 6.0.x
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@641051 13f79535-47bb-0310-9956-ffa450edef68

commit 7c9c14357667ec0dfbea97fffce98da22b16ff0c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 25 22:13:49 2008 +0000

    Revert original proposal for BZ44494 since an alternative patch was committed to 6.0.x
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@641043 13f79535-47bb-0310-9956-ffa450edef68

commit e5d495eda29c995ae902a05f39ad3c9e29f82238
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 25 21:27:04 2008 +0000

    Fix bug 44541 - document packetSize for the AJP connector.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@640994 13f79535-47bb-0310-9956-ffa450edef68

commit d962316d7011ea3000f8a7932080f365c69dbf9f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Mar 25 20:00:43 2008 +0000

    Revert change from some work in progress that snuck in as part of an unrelated commit
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@640962 13f79535-47bb-0310-9956-ffa450edef68

commit 922b107a76d2fcff9fa0077bfb4d8e10abc32404
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Tue Mar 25 17:02:02 2008 +0000

    SavedRequest is the only one using T_STR instead T_BYTES.
    converting to T_BYTES allows to use utf8 encoded querystring with parameters and form based authentication.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@640897 13f79535-47bb-0310-9956-ffa450edef68

commit a480d4d684810442205c987f5cd809b9cd88b529
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Tue Mar 25 16:38:14 2008 +0000

    Add missing public on constructor.
    Otherwise when using form based authentication:
    +++
    java.lang.NoClassDefFoundError: org/apache/tomcat/util/http/NamesEnumerator
            at org.apache.tomcat.util.http.MimeHeaders.names(MimeHeaders.java:201)
            at org.apache.catalina.connector.Request.getHeaderNames(Request.java:1873)
            at org.apache.catalina.authenticator.FormAuthenticator.saveRequest(FormAuthenticator.java:479)
    +++
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@640888 13f79535-47bb-0310-9956-ffa450edef68

commit 024afb665fe009f6b9eb7045211f75e9aaaf4cf6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 24 21:30:03 2008 +0000

    Fix bug 44611 https://issues.apache.org/bugzilla/show_bug.cgi?id=44611
    DirContextURLConnection:
    1) Does not implement the getHeaderFields() method
    2) It's implementation of getHeaderField(String name) is case sensitive.
    3) It returns an empty string "", rather than null, for header values which don't exist.
    Patch provided by Chris Hubick.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@640584 13f79535-47bb-0310-9956-ffa450edef68

commit 53acd2f7b28ac3b80569d31275fd5467f68a880c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 24 20:52:42 2008 +0000

    Fix BZ 44620 https://issues.apache.org/bugzilla/show_bug.cgi?id=44620
    Move the code that handles writing more than the output buffer can accept in a single write to the method that does the writing. This then protects all calls to addToBB() from the issue described in BZ 44620 and does not require the socket.appWriteBufSize to be >= maxHttpHeaderSize
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@640572 13f79535-47bb-0310-9956-ffa450edef68

commit 326b621e17c323df60958c6ebb0d46f6d5aad4c4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 24 20:30:14 2008 +0000

    Use Rainer's improved patch for bug 44633
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@640559 13f79535-47bb-0310-9956-ffa450edef68

commit da178659c83a510317a201443a1c9b23ade85f9d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 24 20:09:15 2008 +0000

    Clean-up unused import
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@640551 13f79535-47bb-0310-9956-ffa450edef68

commit 479d94175f4d374f4040b8f55d3b5a931ceefe16
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 24 15:57:42 2008 +0000

    Fix bug 44633. Tell use which class failed to load due to wrong version number.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@640451 13f79535-47bb-0310-9956-ffa450edef68

commit fdac1d6c97c411d718b36b011dd616ffa3e3f119
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 23 23:22:07 2008 +0000

    Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=44646
    The problem was wider than the issue described in the bug report. The session listener and the valve are different objects so the connection list wasn't visible to the session listener. I couldn't see an easy way to make them the same object so I used two lists - one for the valve (stored in the valve) and one for the session (stored in the session).
    This valve now works for a simple comet app.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@640273 13f79535-47bb-0310-9956-ffa450edef68

commit 0f5676fa2333d92109078a8e3150cf01bdfaae4a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 21 21:08:36 2008 +0000

    maxActive setting for unlimited changed in commons-pool > 1.2
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@639842 13f79535-47bb-0310-9956-ffa450edef68

commit 407e647c2f1e911cce144312b4aaa17915e653f6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 21 19:29:35 2008 +0000

    No longer need to rename jars for CGI or SSI.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@639771 13f79535-47bb-0310-9956-ffa450edef68

commit c8615ce0cce88922608a355e406766d2e272e8e5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 20 08:20:05 2008 +0000

    There is no admin app in 6.x
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@639198 13f79535-47bb-0310-9956-ffa450edef68

commit 2e6a7a16eda636f967966e8e22a7e249cb949fcf
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Mar 19 03:46:17 2008 +0000

    Only allow version switching on the "value" of the cookie, for the rest, just quote like we did in the past. this becomes the most backwards compatible with old behavior
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@638695 13f79535-47bb-0310-9956-ffa450edef68

commit 89ce6218ddf45ea29c3ff0e92f1e6ef030b18368
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Mon Mar 17 10:07:03 2008 +0000

    Typo.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@637817 13f79535-47bb-0310-9956-ffa450edef68

commit 337fb8498204c393e2e42dc36058b8394cfc00cb
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Mon Mar 17 09:59:15 2008 +0000

    Add SSLRandomSeed documentation.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@637810 13f79535-47bb-0310-9956-ffa450edef68

commit 7bd915ca28da7527d5eb030f460d50d4102b0654
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 9 17:31:48 2008 +0000

    Fix bug 44558. Include address in bind exception message.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@635304 13f79535-47bb-0310-9956-ffa450edef68

commit 60d16837686c8ca20103914d3e1c6223ee10113e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 9 17:19:59 2008 +0000

    Use localised string having gone to the bother of obtaining it.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@635298 13f79535-47bb-0310-9956-ffa450edef68

commit 288b2ae460664c94fbabf67f7d75c95644a8a6b7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 9 17:19:00 2008 +0000

    Fix bug 44562. HEAD requests fail with rd.include(). Patch provided by David Jencks.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@635297 13f79535-47bb-0310-9956-ffa450edef68

commit 19349966221a22ad39d306f928a9ec56883781ee
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Mar 9 17:13:17 2008 +0000

    Tabs -> 8 spaces and general clean-up of white space. No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@635294 13f79535-47bb-0310-9956-ffa450edef68

commit 018f1a94c2b2c437c3bcc4245758a439e42e9a25
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Mar 7 03:50:00 2008 +0000

    update changelog
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@634518 13f79535-47bb-0310-9956-ffa450edef68

commit de197304d3f7eab7f66b3a65d36b52ec70cd2de6
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Mar 7 03:41:42 2008 +0000

    don't quote the path for v0 cookies, some browsers understand quote for the value, but not the path
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@634513 13f79535-47bb-0310-9956-ffa450edef68

commit 4ed4f26e40a352c4079bfa96859272c874f9d216
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Feb 27 20:14:16 2008 +0000

    update changelog
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@631701 13f79535-47bb-0310-9956-ffa450edef68

commit 030c7ac09de43a020956150275fa2a81ba43b8fe
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Feb 27 20:12:18 2008 +0000

    Revert back to original patch proposed for UTF8 parsing.
    This also fixes the regression for 6.0.16 and 5.5.26 (and possibly 4.1.37) mentioned in
    http://issues.apache.org/bugzilla/show_bug.cgi?id=44494
    
    The original patch can be viewed
    http://svn.apache.org/viewvc?rev=568307&view=rev
    http://svn.apache.org/viewvc?rev=568605&view=rev
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@631700 13f79535-47bb-0310-9956-ffa450edef68

commit 42e2f1ddb4927de6ec6b9e5205dc721e99a5564a
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Feb 26 18:21:56 2008 +0000

    add rev number
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@631322 13f79535-47bb-0310-9956-ffa450edef68

commit 410cde9ca4099d67e25e8b69ac198377f1a32f43
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Feb 26 18:21:27 2008 +0000

    update to support <rev> attribute
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@631321 13f79535-47bb-0310-9956-ffa450edef68

commit 64c7c53e4911480a7ada4e26a8807e1a29c3f83a
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Feb 26 18:10:50 2008 +0000

    small doco update with the addition on the new features
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@631316 13f79535-47bb-0310-9956-ffa450edef68

commit b3f9105f40fa78dcca1ac232438be14acaa8e976
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Feb 26 18:10:12 2008 +0000

    no need to sync, the javadoc says it's thread safe
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@631315 13f79535-47bb-0310-9956-ffa450edef68

commit fd5c2c6336f631e931e8340e9066d5f4646b3836
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat Feb 23 20:51:23 2008 +0000

    Use the same name on the static variable for servlet compliance
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@630533 13f79535-47bb-0310-9956-ffa450edef68

commit bf46314d0f68523508a8d27e2012e1b8db62d527
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Feb 22 20:41:06 2008 +0000

    correct the example URLs since the example webapp has been modified
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@630314 13f79535-47bb-0310-9956-ffa450edef68

commit 6c988a3d0f30cd4571fb44f21fad99805b030317
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Feb 22 16:01:51 2008 +0000

    more test changes
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@630235 13f79535-47bb-0310-9956-ffa450edef68

commit fe6e6a15e1eea28b5860fa697d905931de8384a0
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Feb 22 16:01:41 2008 +0000

    add in some more checks
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@630234 13f79535-47bb-0310-9956-ffa450edef68

commit 9eace28f4f0d0ad41ae84d3ef4121415d611f59f
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Feb 22 15:55:32 2008 +0000

    correct project name
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@630231 13f79535-47bb-0310-9956-ffa450edef68

commit 2c09c163a78eeece52ce4b79cc1d02eb3f197d69
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 21 22:02:50 2008 +0000

    Revert r616563 which was a fix for bug 43878 that has now been marked as WONTFIX.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@630019 13f79535-47bb-0310-9956-ffa450edef68

commit 3a58b63dd41cb27848fdcd919cbcd0b6800428d7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 21 21:51:52 2008 +0000

    Doc improvements:
      Tomcat 5       -> Tomcat 6
      $CATALINA_HOME -> $CATALINA_BASE
      /server/lib    -> /lib
      /common/lib    -> /lib
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@630013 13f79535-47bb-0310-9956-ffa450edef68

commit 5cff4439e2217ef1846bfb7d6bb35f86dc1cd4f7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 21 21:36:18 2008 +0000

    As per http://marc.info/?l=tomcat-dev&m=120303263525849&w=2, remove status page and point to wiki.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@630006 13f79535-47bb-0310-9956-ffa450edef68

commit bc1b9b93093e3e40ed599971a66f3aa5be120501
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Feb 21 17:07:42 2008 +0000

    source jars for maven repo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@629873 13f79535-47bb-0310-9956-ffa450edef68

commit 89d2c99aae1b93af3b527886d9dff63310d0c16b
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Feb 21 17:07:01 2008 +0000

    two proposals
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@629872 13f79535-47bb-0310-9956-ffa450edef68

commit 3bc2c26ac9f5bbd736ad9c43067d0ea5e62bc180
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Feb 21 16:06:17 2008 +0000

    modify test code to report more info
    avoid concurrency during closedown
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@629843 13f79535-47bb-0310-9956-ffa450edef68

commit 8843ece4de7f20d2ba12c400ee79045f96fa3192
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Feb 20 17:12:27 2008 +0000

    Add buffer sizes to the UDP sockets
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@629539 13f79535-47bb-0310-9956-ffa450edef68

commit 99e03eaf1904e6048f8e4034f81eee4752faff7a
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Feb 19 20:45:54 2008 +0000

    more UDP impl
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@629223 13f79535-47bb-0310-9956-ffa450edef68

commit 4aa6aff4139e09abf6a6bdb2473a806911df2346
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Feb 19 00:57:54 2008 +0000

    more UDP code
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@628940 13f79535-47bb-0310-9956-ffa450edef68

commit 72d460c73662bb97567f39bead19b3318ec2ba60
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Feb 18 22:07:09 2008 +0000

    Starting to add in UDP support, still need to rethink how the sender is going to work
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@628881 13f79535-47bb-0310-9956-ffa450edef68

commit e0595bcffac855087072a5c775f26932b3ca97b7
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Feb 18 18:50:35 2008 +0000

    implement setter of secure and UDP ports
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@628843 13f79535-47bb-0310-9956-ffa450edef68

commit 2d8066ae9cdfa38df933a19744879686c17ed17f
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Feb 18 18:13:39 2008 +0000

    Add support to carry a UDP port in the broadcast, also add in versioning support (last two bytes) so that we can move the protocol forward
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@628837 13f79535-47bb-0310-9956-ffa450edef68

commit c19a9fe25ea38626e2c7141e4b8d9512405aa612
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Feb 15 00:36:29 2008 +0000

    one more feature
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@627921 13f79535-47bb-0310-9956-ffa450edef68

commit 22e1ab759a04eefddd0e2ce6ca8fed30ff47c496
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 14 23:54:39 2008 +0000

    Add a file to track possible 6.2 features so I can refer to it from the wiki.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@627911 13f79535-47bb-0310-9956-ffa450edef68

commit 46cba667cbbcb256f566a5d205a9724330ac4762
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Feb 14 22:02:41 2008 +0000

    Fix ArrayIndexOutOfBoundsException reported on users list. Patch provided by Charles R Caldarale.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@627883 13f79535-47bb-0310-9956-ffa450edef68

commit ea2b04721e5259a116a99c2b1ac3ae54e53f76e1
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Feb 14 13:59:00 2008 +0000

    Add STRICT compliance flag to impact cookie value handling to provide backwards compatibility
    Add STRICT complanice flag to impact ServletContext.getResource(AsStream) to be backwards compatible
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@627743 13f79535-47bb-0310-9956-ffa450edef68

commit ec7e6c88fe12592fcb6368617246a22e8e09b7d4
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Feb 14 09:55:23 2008 +0000

    fix NPE
    java.lang.NullPointerException at org.apache.catalina.session.ManagerBase.processExpires(ManagerBase.java:682)
            at org.apache.catalina.session.ManagerBase.backgroundProcess(ManagerBase.java:667)
            at org.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1316)
            at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1601)
            at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1610)
            at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1610)
            at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1590)
            at java.lang.Thread.run(Thread.java:619)
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@627689 13f79535-47bb-0310-9956-ffa450edef68

commit a4e9dec6e37a2ba73f440f8bf82241b6cfe7e2b7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Feb 13 22:22:38 2008 +0000

    As pointed out on the users list, lib is relative to catalina home, not base
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@627602 13f79535-47bb-0310-9956-ffa450edef68

commit 5a27f1b02a0b021b5148dbb59d2994eaff29fb54
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Feb 12 16:25:49 2008 +0000

    some more ideas
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@620847 13f79535-47bb-0310-9956-ffa450edef68

commit 06dff7c5047a08b0f15e042c34c8fed69c3039ca
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Tue Feb 12 16:22:58 2008 +0000

    Allow to run the shutdown on another IP that localhost.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@620845 13f79535-47bb-0310-9956-ffa450edef68

commit 4a4d005790ecd78b6a9c11accd7ec9168bde8a76
Author: Timothy A. Funk <funkman@apache.org>
Date:   Tue Feb 12 16:22:19 2008 +0000

    Only add the listener once (to prevent the dup message from accidently appearing)
    
    related to http://issues.apache.org/bugzilla/show_bug.cgi?id=44268
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@620844 13f79535-47bb-0310-9956-ffa450edef68

commit ce09eb5f9ee85ac1529500358d8571066d554fa4
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Feb 12 16:02:28 2008 +0000

    improvements to tribes
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@620835 13f79535-47bb-0310-9956-ffa450edef68

commit bcade9d9da0e5ca2956d1ed3930950973737e1f3
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Feb 12 15:03:29 2008 +0000

    remove not needed synchronization
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@620821 13f79535-47bb-0310-9956-ffa450edef68

commit 715f54e59868051d1999974f456c959910c79809
Author: Peter Rossbach <pero@apache.org>
Date:   Tue Feb 12 12:36:00 2008 +0000

    ExtendedAccessLogValve cs-uri not print empty querystring
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@620778 13f79535-47bb-0310-9956-ffa450edef68

commit 82452ce8b07d27e5397d80e74c3f42ea8f7b1fd8
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Feb 11 17:29:06 2008 +0000

    Corrected use of Channel.getMembers() in cluster
    Added debug hints to warning messages based on what may be wrong
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@620533 13f79535-47bb-0310-9956-ffa450edef68

commit 4ccadfe73afefd3796505121e1e5a8a974df2990
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Feb 11 17:19:32 2008 +0000

    added demo on how to use the payload
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@620529 13f79535-47bb-0310-9956-ffa450edef68

commit cf7bd051f5a8ba8c3bea33a144d6c0a34ba32b57
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 10 21:33:35 2008 +0000

    Add a page to the config docs detailing the various system properties that are available.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@620335 13f79535-47bb-0310-9956-ffa450edef68

commit 8f388782a60666f7fd2672d0420dea55368120ee
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Feb 5 23:29:56 2008 +0000

    Remove synchronization on the DeltaRequest object, and let the object that manages the delta request (session/manager) to handle the locking properly, using the session lock
    There is a case with a non sticky load balancer where using synchronized and a lock (essentially two locks) can end up in a dead lock
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@618823 13f79535-47bb-0310-9956-ffa450edef68

commit 551ffe077f1526399529965648aa92f8dec97fdb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Feb 4 22:58:21 2008 +0000

    Fix for bug 43741. Correctly handle dependencies for tag files in JARs.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@618481 13f79535-47bb-0310-9956-ffa450edef68

commit 198a19ded8dc8f02ab860e57bb722640febc77c0
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Feb 4 20:23:40 2008 +0000

    check if there is more room, in case limit(x) has been called
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@618420 13f79535-47bb-0310-9956-ffa450edef68

commit 8a3b14b41f47f52214027eeb8f522c64975d13e4
Author: Timothy A. Funk <funkman@apache.org>
Date:   Mon Feb 4 02:10:39 2008 +0000

    http://issues.apache.org/bugzilla/show_bug.cgi?id=44337
    Dir listing crashes if no readme-file present
    
    Catch NamingException on resource not found instead of checking for null
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@618150 13f79535-47bb-0310-9956-ffa450edef68

commit cf9756e73e772fff185462360fed125ebb3d8e83
Author: Filip Hanik <fhanik@apache.org>
Date:   Sun Feb 3 19:51:02 2008 +0000

    I meant the reverse
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@618071 13f79535-47bb-0310-9956-ffa450edef68

commit d57708cd2c55d7551b9820dd067ee21c7dae3250
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Feb 3 19:45:46 2008 +0000

    Tabs to 8 spaces. No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@618070 13f79535-47bb-0310-9956-ffa450edef68

commit bf6ce6fd41df7eb049867e6a6d588248dee894ab
Author: Filip Hanik <fhanik@apache.org>
Date:   Sun Feb 3 19:06:00 2008 +0000

    Fix defect 43701
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@618059 13f79535-47bb-0310-9956-ffa450edef68

commit 61aefb5dd4fd78b256f260ae3407e85ffb83fef4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 1 22:32:13 2008 +0000

    Revert fix for 43741. Aim for better fix that handles tag files in JARs.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@617682 13f79535-47bb-0310-9956-ffa450edef68

commit 948598d4eb54314ecb636a1bb9f1e8b9b70bb44f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 30 23:24:48 2008 +0000

    Fix bug 44282. Do call to getClassLoader() in a privileged block.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@616953 13f79535-47bb-0310-9956-ffa450edef68

commit 44d9ee51c504838ea582fe10b44e1ee34a2acc40
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 30 21:56:27 2008 +0000

    Remove TLS from Eclipse as well
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@616917 13f79535-47bb-0310-9956-ffa450edef68

commit d6145060faae8219487df6511a4d470b139e386d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 30 20:54:30 2008 +0000

    Remove JSSE dependency from SSL abstraction.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@616897 13f79535-47bb-0310-9956-ffa450edef68

commit c3c90b58eb8fe5164e166dad813b402ebc7794b0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 30 20:52:49 2008 +0000

    The NIO connector is hard-coded to use the JSSE SSL implementation so just use it directly. This patch allows the JSSE dependency in the SSL abstraction to be removed (this will be in a later patch).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@616896 13f79535-47bb-0310-9956-ffa450edef68

commit 45266ada4f7b986bc7ebcc129f5e1dfc69dcfc59
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 30 20:49:51 2008 +0000

    Remove the old TLS code from Tomcat 6.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@616894 13f79535-47bb-0310-9956-ffa450edef68

commit 5fe79d1e950b0ca042b92c70dad9ce53ce2670b5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 30 18:43:52 2008 +0000

    Tab police - no functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@616839 13f79535-47bb-0310-9956-ffa450edef68

commit b396ffc8330ccc78750757ace2e1037e968e70d9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 29 23:37:08 2008 +0000

    Better fix for 43878. If we aren't re-loading, use a single class loader for JSPs and tag files to reduce perm gen space usage
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@616563 13f79535-47bb-0310-9956-ffa450edef68

commit cc639cc3e2c8bf53a6b04c07f1a628d9b68dc0a7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 29 23:14:23 2008 +0000

    Fix bug 43741. Tag files in JARs were getting compiled once for every JSP that used them. Patch provided by Anthony Berglas.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@616556 13f79535-47bb-0310-9956-ffa450edef68

commit 4586650ca66f45239594b9cc980f9c128fbc9964
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 29 21:18:25 2008 +0000

    Tab police. No function change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@616522 13f79535-47bb-0310-9956-ffa450edef68

commit d93473e0e9f4ff8fb76ed24960c1f62413f95b28
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 28 21:05:04 2008 +0000

    Revert attempt to fix 43878 since patch is obviously wrong.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@616042 13f79535-47bb-0310-9956-ffa450edef68

commit 5a0d9b4ec4ad6b1e371f394e56395453e02e8a9e
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Jan 27 12:01:49 2008 +0000

    Correct subversion properties of some items:
    - remove executable from *.java, *.dtd, *.xsd and *.jsp
      Some of those had executable set.
    - add executable to *.bar and *.exe
      Some of those had executable not set.
    - set eol-style to native for *.java and *.xml
      Some of those had no eol-style set
    - set mime-type to image/x-icon for *.ico
      One file had no eol-style set
    - add mime-type application/rtf to an rtf file
    - switch mime-type to application/java-archive for *.jar
    - set mime-type to application/xml-dtd for *.dtd
    - correct mime-type to image/jpeg for two *.jpg files
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@615583 13f79535-47bb-0310-9956-ffa450edef68

commit f693bfb7c36128e4898868c9465bc7ded4c40ae4
Author: Rainer Jung <rjung@apache.org>
Date:   Thu Jan 24 17:34:38 2008 +0000

    Add entries for expire command on ManagerServlet to
    manager web.xml. Otherwise it will only work
    in the HTMLManager, although it's implemented for
    the Manager servlet to.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@614933 13f79535-47bb-0310-9956-ffa450edef68

commit d328c4d8ad576646a012934d7d3b172005b12082
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jan 22 17:33:32 2008 +0000

    add the ability to set timeout during any EVENT, not just begin
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@614268 13f79535-47bb-0310-9956-ffa450edef68

commit 706496c73451c237b725dcd1609a6e9e7afb0f7e
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jan 22 16:40:01 2008 +0000

    bring back comet timeout
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@614249 13f79535-47bb-0310-9956-ffa450edef68

commit cdff09fb448d879866a3cc9f8e6b81ddba08ee2f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 21 21:14:57 2008 +0000

    Log a warning if a duplicate listener is ignored. Result of bug 44268.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@614012 13f79535-47bb-0310-9956-ffa450edef68

commit e3b7280cc2f0c8146f273c021138188f1ffa0c08
Author: Peter Rossbach <pero@apache.org>
Date:   Mon Jan 21 11:36:19 2008 +0000

    Set correct author of the patch, Sorry!
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@613851 13f79535-47bb-0310-9956-ffa450edef68

commit b6e23dd32d8fefccb61f9e0bb5fa23414f71c18d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 20 22:16:24 2008 +0000

    Update JNDI docs to refer to context elements rather than server.xml for configuration of resources.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@613689 13f79535-47bb-0310-9956-ffa450edef68

commit ecd5324965c3309f10fb6973d5f269884d2e7649
Author: Peter Rossbach <pero@apache.org>
Date:   Sun Jan 20 14:01:52 2008 +0000

    FIX: WatchedResource does not work if app is outside "webapps"
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@613558 13f79535-47bb-0310-9956-ffa450edef68

commit f9e41b82fa40589039c208805e2367e561341f17
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 18 20:57:51 2008 +0000

    Fix bug 44223. Use all the trust store system properties.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@613266 13f79535-47bb-0310-9956-ffa450edef68

commit 3a9b490b811f16c84e1252cc65be5f26e5267216
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 18 20:56:28 2008 +0000

    Fix warnings. No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@613265 13f79535-47bb-0310-9956-ffa450edef68

commit ff7982876a1f98bfc68f113f9b77c5150aa23a4f
Author: Peter Rossbach <pero@apache.org>
Date:   Thu Jan 17 21:45:45 2008 +0000

    Fix "Restricted listeners property file not found" message fix
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@612991 13f79535-47bb-0310-9956-ffa450edef68

commit eec712641069e3b84d47b74ec60da12dad59688a
Author: Peter Rossbach <pero@apache.org>
Date:   Thu Jan 17 21:34:33 2008 +0000

    Fix ManagerServlet.exipreSession throws Exceptions as iterate longer session lists at production servers.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@612988 13f79535-47bb-0310-9956-ffa450edef68

commit e338739e941384732a4b8a4429f457d0ab90ba70
Author: Peter Rossbach <pero@apache.org>
Date:   Thu Jan 17 20:43:43 2008 +0000

    Add getLastAccessedTimestamp and getCreationTimestamp for remote JMX Access.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@612971 13f79535-47bb-0310-9956-ffa450edef68

commit 74ae5c75e44f7b751303d074d04bf3dc8dc17136
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 17 19:45:42 2008 +0000

    Update: native to 1.1.12; commons-pool to 1.4; locations for commons downloads.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@612950 13f79535-47bb-0310-9956-ffa450edef68

commit 6ecb48b796fc029e212a8fb8da5e2566ebf5ba39
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 17 00:29:29 2008 +0000

    Fix typo.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@612653 13f79535-47bb-0310-9956-ffa450edef68

commit 254d8538e44efe773607c14820a9c57a3994cd30
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 16 23:53:19 2008 +0000

    Add missing change from previous commit
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@612647 13f79535-47bb-0310-9956-ffa450edef68

commit 25d619b2546a349ce0957859d32cb07b570d89e1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 16 23:46:55 2008 +0000

    Undo accidental commit.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@612640 13f79535-47bb-0310-9956-ffa450edef68

commit 8d61a5089e4956bcdd32e9ad3c7e8ed8c70fd325
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 16 23:42:37 2008 +0000

    Fix 43315. Display value rather than key.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@612636 13f79535-47bb-0310-9956-ffa450edef68

commit e14afee1ba5934c1dd6544032d6ca1b3e19eb879
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 16 23:40:53 2008 +0000

    Fix bug 43468. Prevent NPE.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@612632 13f79535-47bb-0310-9956-ffa450edef68

commit f806ed1a25a47b904215f5fab484b700c0e61929
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 16 23:30:19 2008 +0000

    Fix bug 43173. Correct location for logging.properties.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@612622 13f79535-47bb-0310-9956-ffa450edef68

commit 8ab3a6fee7677ae9e1fcc37a797f4e4c6fcccf8a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 16 22:52:00 2008 +0000

    One more place where a commons-logging-api.jar reference can be removed now extras repackages the source.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@612607 13f79535-47bb-0310-9956-ffa450edef68

commit 03513e763edf9cfe779915d6836d27b68f744f37
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 16 22:12:50 2008 +0000

    Fix odd statement.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@612588 13f79535-47bb-0310-9956-ffa450edef68

commit 53490579be393c24ba55ce9406fc61458863624d
Author: Peter Rossbach <pero@apache.org>
Date:   Wed Jan 16 14:01:14 2008 +0000

    Propose Correct StandardManager.sessionCounter after reload!
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@612461 13f79535-47bb-0310-9956-ffa450edef68

commit aea1ba8477ee496860e27a7d65e27d5417df83ba
Author: Peter Rossbach <pero@apache.org>
Date:   Wed Jan 16 13:47:40 2008 +0000

    Set correct sessionCounter after reload sessions!
    Fix two indent lines.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@612455 13f79535-47bb-0310-9956-ffa450edef68

commit 4b6e244de0cd9f97a18fe82abccd7642c3fe9431
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jan 15 19:37:20 2008 +0000

    update changelog
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@612193 13f79535-47bb-0310-9956-ffa450edef68

commit 32f59b3a27760124c43672c7ca0b28ff5d2415a9
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jan 15 19:34:10 2008 +0000

    Add in the ability to turn off reverse DNS lookups for membership on a global scale.
    alot of system aren't configured for this, so simple debugging or warn messages that try to print the name, cause timeouts
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@612192 13f79535-47bb-0310-9956-ffa450edef68

commit a12ae4269c87be85662cc385ec97ef6d810fd8c4
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Tue Jan 15 11:11:41 2008 +0000

    Add the extras step otherwise it won't build a release.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@612082 13f79535-47bb-0310-9956-ffa450edef68

commit f603a786909d0034bfd9f3a934d26a78ba321514
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 14 21:22:09 2008 +0000

    Update to available libraries
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@611940 13f79535-47bb-0310-9956-ffa450edef68

commit 775d107edf7a26627da94f75379c5ba6c200cd19
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 13 22:29:37 2008 +0000

    Fix a problem with the installer. File /r lib was selecting the jar files in src/webapps/examples/WEB-INF/lib. There may have been other issues too. Make all uses of File /r more explicit as to the files that are being referred to.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@611660 13f79535-47bb-0310-9956-ffa450edef68

commit 08c06b88fa5a99ce999a4805b06d7c73c6a60431
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 13 20:38:35 2008 +0000

    Update Eclipse classpath to latest versions, add test code and use standard Ant variable.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@611637 13f79535-47bb-0310-9956-ffa450edef68

commit f5ac7e812810dc45e32e896353624974f9351bae
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 13 20:36:58 2008 +0000

    Library updates.
    Update to latest versions:
      - commons logging 1.1.1 (needed fixes to build script to work with non 1.1 version)
      - nsis 2.34
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@611635 13f79535-47bb-0310-9956-ffa450edef68

commit 92d81d3d5eca28b51cfdd59e3e8b50c30da2e08b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 10 22:28:45 2008 +0000

    Revert previous accidental commit.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@610956 13f79535-47bb-0310-9956-ffa450edef68

commit 6be048609ac8b8955538969c60ded7ea67e0e6a1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 10 21:53:14 2008 +0000

    Fix bug 43344. Correct typo. Patch provided by Tim Nowaczyk.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@610946 13f79535-47bb-0310-9956-ffa450edef68

commit 1cc6641c54f6b0d2dd69ab5323487ffa51f9df9d
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jan 8 21:45:03 2008 +0000

    fix regression for bug 11117 while maintaining the no need to proceed and block for comet connections that handle chunked input
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@610173 13f79535-47bb-0310-9956-ffa450edef68

commit 5aa0b7f4ba22ee74810c1a1da480ee075e6774e1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 8 21:15:40 2008 +0000

    Clean up build scripts. Patch provided by Paul Shemansky.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@610157 13f79535-47bb-0310-9956-ffa450edef68

commit 98b8ba2097047ca9de455da1eb9a181697181f54
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 7 23:15:59 2008 +0000

    Fix bug 43743. Correctly handle nest tag files packaged in a jar.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@609803 13f79535-47bb-0310-9956-ffa450edef68

commit 7d6433b9b889b259fe1b78a9702d1f53ca6f6f72
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jan 7 21:52:49 2008 +0000

    reformat, no change, so that the upcoming changes and corrections of mbean files can be easily read
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@609790 13f79535-47bb-0310-9956-ffa450edef68

commit 462a25c4ff95d129f253e7589ba0984e36d73316
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jan 7 21:25:23 2008 +0000

    start the cluster JMX impl
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@609784 13f79535-47bb-0310-9956-ffa450edef68

commit 04af17237a9453a03e417ce26e99c657c3d9b380
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jan 7 21:11:26 2008 +0000

    minor fixes
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@609778 13f79535-47bb-0310-9956-ffa450edef68

commit cee1fa1fa66d48adbe24a8b6c0b1407a63717324
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 6 23:29:15 2008 +0000

    Include 6.0.x parameter processing fix in trunk.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@609469 13f79535-47bb-0310-9956-ffa450edef68

commit bacc970962f2b8cc8d99cae44053886517e9978d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 6 00:07:57 2008 +0000

    Tabs -> 8 spaces
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@609239 13f79535-47bb-0310-9956-ffa450edef68

commit 37c4018ab2f0a25c1989121a6106f164da80e8bc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 4 21:47:28 2008 +0000

    No functional change. Remove unused code. Lines <= 80 chars
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@609019 13f79535-47bb-0310-9956-ffa450edef68

commit 34fe823badd6a2a34be86166de972f7e6c3123ba
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 4 21:13:58 2008 +0000

    Fix path
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@609009 13f79535-47bb-0310-9956-ffa450edef68

commit 7196ac08d6568554f80db3ee32b9dad14c78fad3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 4 20:59:59 2008 +0000

    Fix possible NPE when no ROOT application is deployed in fix for bug 43839.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@609003 13f79535-47bb-0310-9956-ffa450edef68

commit 32f20e8f1a63f22f7e484e885df0c8d6c37302cd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jan 3 22:04:48 2008 +0000

    Improve fix for 43840 with better error handling, a better variable name and a bit of other clean-up.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@608654 13f79535-47bb-0310-9956-ffa450edef68

commit 61ce1a32d4066fc4d779fcbe28d924ed1fdb3c14
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 1 20:04:45 2008 +0000

    Fix bug 43758. Return empty string rather than null to prevent the NPEs that happen otherwise.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@607903 13f79535-47bb-0310-9956-ffa450edef68

commit 5c8c055bca8aedcaa9a51479ea398e3db9ebdc23
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 1 18:11:06 2008 +0000

    Fix bug 43775. Don't change line endings for binary files.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@607888 13f79535-47bb-0310-9956-ffa450edef68

commit a36d3408b6a49d00a7c903495a31ee33bcbeed9f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 1 17:33:12 2008 +0000

    Fix bug 43800. Make clearer relationship between APR and native in docs, error messages and the installer.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@607875 13f79535-47bb-0310-9956-ffa450edef68

commit 01bdeb4258521251d44517805a7fc6bd3a3d139d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 1 15:38:38 2008 +0000

    Align docs for Jasper options. Put in alphabetical order, add some missing ones, remove an unused one and address feedback provided on users list.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@607860 13f79535-47bb-0310-9956-ffa450edef68

commit 15297f0d8140b25cdd1f3e10802d7035463e066e
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jan 1 04:49:24 2008 +0000

    If we are reloading the context, we must get rid of the old instance manager, it uses final fields, so we can't issue it a new class loader to the old instance
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@607800 13f79535-47bb-0310-9956-ffa450edef68

commit 879d430c6454153972b7641eaa299f065b3654fb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 30 22:42:03 2007 +0000

    Update props
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@607605 13f79535-47bb-0310-9956-ffa450edef68

commit a35e87769a034b8a09f1ab2ff353b9e20584359f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 30 22:41:20 2007 +0000

    Add some notes for Tomcat 7.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@607604 13f79535-47bb-0310-9956-ffa450edef68

commit 49d090aa19b2fa5bd169adbc8eb507a0c599e185
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 30 22:02:32 2007 +0000

    Add a missing check
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@607597 13f79535-47bb-0310-9956-ffa450edef68

commit c0e0dbae049ffe35317adee0c51beb82fbd3b674
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 30 21:59:31 2007 +0000

    Implement a fix for bug 43840 along with a rudimentary test case.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@607596 13f79535-47bb-0310-9956-ffa450edef68

commit 43948c8db532df99cbb101c3de5c80ee1a5ae89c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 30 19:30:40 2007 +0000

    Add missing package declaration
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@607586 13f79535-47bb-0310-9956-ffa450edef68

commit ccadbbc1ba5ca830787d97ca64eee639b60bcc4b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 29 22:45:21 2007 +0000

    Fix bug 43868. MBean methods getInvoke and getSetter were broken.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@607483 13f79535-47bb-0310-9956-ffa450edef68

commit 84bd363c4a01f66fb9ea7ece737e966ed373bc8a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 29 19:28:41 2007 +0000

    Fix bug 43878. When development mode isn't being used, use a single JasperLoader. The main benefit is a reduction in the use of perm gen space when there are many JSPs all using the same few tags since the tags are loaded once rather than once per JSP.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@607464 13f79535-47bb-0310-9956-ffa450edef68

commit e7ef1761d5161f7c0956cec98a4a8155debb0aae
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 28 22:18:57 2007 +0000

    Tab police.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@607347 13f79535-47bb-0310-9956-ffa450edef68

commit c5bcc98b7f944c5d2e9ec85a678a7b04f76390c6
Author: Timothy A. Funk <funkman@apache.org>
Date:   Thu Dec 27 02:10:38 2007 +0000

    http://issues.apache.org/bugzilla/show_bug.cgi?id=43285
    Missing EL Coercion causes argument type mismatch
    
    Patch by Bernhard Huemer bernhard.huemers gmail com
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@606996 13f79535-47bb-0310-9956-ffa450edef68

commit 2441155dbf0aa2f58b1d4b3f2872ed73cfa66c82
Author: Timothy A. Funk <funkman@apache.org>
Date:   Thu Dec 27 01:57:02 2007 +0000

    http://issues.apache.org/bugzilla/show_bug.cgi?id=42503
    ServletContext.getResourceAsStream returns stale data
    
    patch by Arvind Srinivasan
    arvindDOTsrinivasan sun com
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@606994 13f79535-47bb-0310-9956-ffa450edef68

commit d2636f0a0c8d2bba670a52e4501b5f905dcd8460
Author: Timothy A. Funk <funkman@apache.org>
Date:   Thu Dec 27 01:38:17 2007 +0000

    FAQ links to wiki
    use the xslt task instead of style task
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@606992 13f79535-47bb-0310-9956-ffa450edef68

commit e4522002e110abc6a30e211679331e14d7cc09b5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 26 21:23:17 2007 +0000

    Fix bug 43914. Location headers must be encoded. Patch provided by Ivan Todoroski.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@606952 13f79535-47bb-0310-9956-ffa450edef68

commit 5be0421fb1767a6536de1aa20ab2f4849846c230
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Dec 26 20:54:44 2007 +0000

    Fix for bug 43839. When cookie based session tracking has been disabled, URL based session tracking would fail due to the presence of a session cookie from a parent context. Based on a patch by Yuan Qingyun.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@606944 13f79535-47bb-0310-9956-ffa450edef68

commit b441b27c3452d9744ca79a3f4b4d85dc19056090
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 24 19:33:23 2007 +0000

    Tab police
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@606731 13f79535-47bb-0310-9956-ffa450edef68

commit fdb170ef9172fd033b51d5beb8bb58096f9c2f9b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 24 19:24:59 2007 +0000

    Fix bug 43909. Make sure locale maps to wrapped ELContext. Patch provided by Tuomas Kiviaho.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@606728 13f79535-47bb-0310-9956-ffa450edef68

commit c2280547eed61e2c24d7bf01801180f5077814a1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 24 15:51:53 2007 +0000

    Fix bug 43944. Use a message that exists.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@606704 13f79535-47bb-0310-9956-ffa450edef68

commit df2b1e6a0ce5d7bc5bb535d8adc5e365a3472009
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 23 23:07:48 2007 +0000

    Fix bug 44088. Expire button didn't work. Patch by Ben Short.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@606633 13f79535-47bb-0310-9956-ffa450edef68

commit 46721e4a5fa89606ae7261e3fec579e897677fe6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 23 21:55:38 2007 +0000

    Fix 44084 with a patch provided by Noah Levitt. I also made a few additional fixes to line lengths etc.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@606621 13f79535-47bb-0310-9956-ffa450edef68

commit 10f32402189dd741c6fb191c32aaa0cedf71e888
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 23 21:32:23 2007 +0000

    Tab police - a minor infraction ;)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@606619 13f79535-47bb-0310-9956-ffa450edef68

commit 52a88ae7a48916dac7cfe22d94ff888d7d63312d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 23 19:22:18 2007 +0000

    Fix CVE-2007-5342. Limit JULI privs to just those required to prevent per web-app configurations having too many privs.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@606594 13f79535-47bb-0310-9956-ffa450edef68

commit 71bd193f034756bd80748fdd020c6bb7917f7535
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 18 23:46:19 2007 +0000

    Fix bug 43236. Reset the usingWriter and associated flags when the response is reset.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@605364 13f79535-47bb-0310-9956-ffa450edef68

commit 8f91433e1d56e9b266b1aa4f835e329e6b9c77fa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 18 23:08:51 2007 +0000

    Fix bug 43241. Patch provided by John Kew.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@605356 13f79535-47bb-0310-9956-ffa450edef68

commit f6d2dd9ddd2905d4653cdc302e58aba179811304
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 18 22:04:58 2007 +0000

    Add note to docs about use of privileged flag and consequent changes in parent class loader.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@605339 13f79535-47bb-0310-9956-ffa450edef68

commit beb291fa666de4234ff73dcb811829ecb43300f9
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Dec 17 20:55:56 2007 +0000

    port new annotation logic from previous trunk
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@605000 13f79535-47bb-0310-9956-ffa450edef68

commit a7a274b3a7b4e8d38dda0366a35230eea973b41c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 11 19:36:00 2007 +0000

    Better patch based on Filip's comments
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@603340 13f79535-47bb-0310-9956-ffa450edef68

commit e74295fa68b4f242d2a2f88fa813413166bfe5c6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Dec 10 22:24:40 2007 +0000

    Fix bug 44041. A small sync is required to prevent attempts to load the same class twice.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@603074 13f79535-47bb-0310-9956-ffa450edef68

commit 03badc3870e3879dfb503bb7fa32a2df5d7ab4e3
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Fri Dec 7 15:00:01 2007 +0000

    Don't load the entropy but sets the file the entropy is collected from.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@602114 13f79535-47bb-0310-9956-ffa450edef68

commit 01f5e1fa00a54c07f820e8157e31a8afd34e62ad
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Thu Dec 6 17:53:09 2007 +0000

    Allow to specify a random device.
    SSLRandomSeed="/dev/random"
    SSLRandomSeed="/dev/urandom"
    SSLRandomSeed="builtin" (Default).
    The native already exists.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@601795 13f79535-47bb-0310-9956-ffa450edef68

commit 72301796ddf328540b2255a287ee6970ef7e19f4
Author: Timothy A. Funk <funkman@apache.org>
Date:   Wed Dec 5 02:14:27 2007 +0000

    43993 - mime mapping for WS-Policy
    Patch by Fabian Ritzmann
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@601188 13f79535-47bb-0310-9956-ffa450edef68

commit 45080ab6c424b094dfa94451dac38cb361aae4ec
Author: Timothy A. Funk <funkman@apache.org>
Date:   Wed Dec 5 01:08:54 2007 +0000

    http://code.google.com/p/google-highly-open-participation-asf/issues/detail?id=23
    
    Printer friendlize the docs
    
    Also discovered webapps/docs/build.xml is no longer used from the
    main build.xml. Can that be chucked?
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@601180 13f79535-47bb-0310-9956-ffa450edef68

commit 2464618b30a9e943fae3e6706f2e9cb941c48b29
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Dec 4 16:52:22 2007 +0000

    This files were originally committed (in TC5.5.x) by a Sun employee (Remy) with Sun's permission and is therefore therefore licensed to the ASF under a CLA. As such, the restrictive header can be removed. See the following legal-discuss thread that went into this in much more detail:
    URL: http://mail-archives.apache.org/mod_mbox/www-legal-discuss/200707.mbox/browser
    Thread: SUN PROPRIETARY/CONFIDENTIAL code in myfaces
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@600993 13f79535-47bb-0310-9956-ffa450edef68

commit 077aac7adc579152b401e757ecbf1eafc6d2a2ab
Author: Timothy A. Funk <funkman@apache.org>
Date:   Sun Dec 2 01:11:50 2007 +0000

    BZ  43530
    
    Path inspired by Paul Shemansky  : paul.shemansky
    at gmail com
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@600222 13f79535-47bb-0310-9956-ffa450edef68

commit 709bb3e2370588bfe2986a3b0634f0c1b50f1d05
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 1 19:48:16 2007 +0000

    Fix bug 43594. Use setenv from CATALINA_BASE (if set) in preference to the one in CATALINA_HOME. Patch provided by Shaddy Baddah.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@600185 13f79535-47bb-0310-9956-ffa450edef68

commit ffbbe88537b26444a4ac1396c19b13647b775a3d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Dec 1 18:26:13 2007 +0000

    Fix bug 43611. Provide an error message if user tries to upload a war for a context defined in server.xml rather than failing silently.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@600177 13f79535-47bb-0310-9956-ffa450edef68

commit d1d06197b21dbe02d52781b30a27fd41e369ae08
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 30 19:13:33 2007 +0000

    Fix bug 43622. Don't overwrite the min compression size set by the compression attribute with the default.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@599914 13f79535-47bb-0310-9956-ffa450edef68

commit eb87635a58e6d2e2e638eab4b68f5f9bc9576286
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 29 22:27:23 2007 +0000

    Fix bug 43757. Rather than use string matching to work out the line in the JSP with the error, use the SMAP info and the knowledge that for a scriptlet there is a one to one line mapping.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@599605 13f79535-47bb-0310-9956-ffa450edef68

commit 51fa863c41a5f99b4926dc56dd6c578b2ba11040
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 27 22:57:28 2007 +0000

    Fix bug 43957. Service.bat doesn't configure logging correctly. Patch provided by  Richard Fearn.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@598800 13f79535-47bb-0310-9956-ffa450edef68

commit 324387d8bf1694bd031e57a232e9309bfacb5066
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 27 22:05:57 2007 +0000

    Fix bug 43706. Copy/move should return 201 if successful. Based on a patch by Panagiotis Astithas.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@598783 13f79535-47bb-0310-9956-ffa450edef68

commit 4e421704f1e0b1bd8ec5f850875f44fc30d990ba
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Nov 26 22:45:22 2007 +0000

    add get/set for properties
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@598455 13f79535-47bb-0310-9956-ffa450edef68

commit 668a6b0b329717a80e79d4633bdbdef8d4783499
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 26 20:28:32 2007 +0000

    Remove Sun notice that should never have been included in the original commit.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@598412 13f79535-47bb-0310-9956-ffa450edef68

commit 0b79df04792149161f6877ebe9dc63f0da3e8071
Author: William Barker <billbarker@apache.org>
Date:   Sat Nov 24 01:37:36 2007 +0000

    Remove conditional headers from the re-played request.
    
    These confuse some UAs (notably FireFox), and we can't really keep them from the HTTP/1.1 spec.
    
    Fix for bug #43687
    Reported By:   Przemyslaw Madzik
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@597781 13f79535-47bb-0310-9956-ffa450edef68

commit 9314e5bcb978c78079e61dc96916ad472c3278c6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 23 21:12:32 2007 +0000

    Fix bug 43887. Include exception in the log message.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@597738 13f79535-47bb-0310-9956-ffa450edef68

commit 3c61f9bd30f5716994dd216594cfd70cf16fc126
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 23 19:02:38 2007 +0000

    Update WebDAV javadocs as a result of bug 43893
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@597719 13f79535-47bb-0310-9956-ffa450edef68

commit 3ecffbf7ece19a7e2cb68b2724b6777869a0c79b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 20 06:34:36 2007 +0000

    Fix properties
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@596550 13f79535-47bb-0310-9956-ffa450edef68

commit b714cce3895a0c4396120faa9c37015d4ebe6b0d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 19 22:49:15 2007 +0000

    Code cleanup. Fix warnings in webdav servlet. No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@596473 13f79535-47bb-0310-9956-ffa450edef68

commit 514215360ee5a87aa742450a447ae3054d8c3ccb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 16 20:11:45 2007 +0000

    Include Fix for bug 43702 in trunk. Inner class files have unnecessarily long names.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@595805 13f79535-47bb-0310-9956-ffa450edef68

commit 465e63cfc9b81806cc5820ef43c55ce8151fa676
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 16 20:07:21 2007 +0000

    Include CGI include fix in trunk
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@595802 13f79535-47bb-0310-9956-ffa450edef68

commit de80680e01db0bdc9617dc44c576e9dca47813b9
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Nov 15 15:29:02 2007 +0000

    Fix BZ 43846 http://issues.apache.org/bugzilla/show_bug.cgi?id=43846
    and port improvements from sandbox
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@595331 13f79535-47bb-0310-9956-ffa450edef68

commit 1bb905c8cfd9287a366e495be7c11b2b1aca5497
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Nov 15 15:09:52 2007 +0000

    Fix comet handling in case BEGIN event calls CometEvent.close
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@595328 13f79535-47bb-0310-9956-ffa450edef68

commit c5785c9cb7349f62e69ac609899542f90fe94386
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Nov 15 15:08:43 2007 +0000

    Correct JDT location
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@595327 13f79535-47bb-0310-9956-ffa450edef68

commit 6d31b36cd4a8c69b2cd799420011ef78e2d1ef44
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Nov 14 20:54:09 2007 +0000

    Add cookie patch to trunk to keep it up to date
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@595052 13f79535-47bb-0310-9956-ffa450edef68

commit 307bb441ac6cb0564d43319b64918172988c9df5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Nov 13 23:13:24 2007 +0000

    Better patch for BZ 43675 in response to Remy's -1 to previous patch
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@594700 13f79535-47bb-0310-9956-ffa450edef68

commit d9cf0aa5bafd5b5f142ab9a05bc1c55f1879aca2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 10 22:08:06 2007 +0000

    Resolve licensing issue with these files by replacing them with AL2 licensed ones from Geronimo. I didn't svn copy these files as I wanted to retain their history. The contents came from geronimo/specs/tags/geronimo-jsp_2.1_spec-1.0/src/main/schema/
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@593814 13f79535-47bb-0310-9956-ffa450edef68

commit 74cb8c574f6f932bde3a02eaeab947e0b15099cc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 9 21:21:21 2007 +0000

    Really remove status this time
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@593655 13f79535-47bb-0310-9956-ffa450edef68

commit 5e48e0462cadf4ce8174d2603e78c7d47ca20421
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 9 21:13:06 2007 +0000

    Remove the STATUS file, add a PROPOSALS.txt file
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@593653 13f79535-47bb-0310-9956-ffa450edef68

commit d32efb84e69a972334cf568c0a7ec82c51ad8573
Merge: 9496e52 e5c1782
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 9 21:00:38 2007 +0000

    Create C-T-R development branch
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@593649 13f79535-47bb-0310-9956-ffa450edef68

commit e5c1782d7ace9d2fb89fd3eb4ead9de91a79316f
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Nov 8 23:32:52 2007 +0000

    change vote, still couldn't get the tests through
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@593356 13f79535-47bb-0310-9956-ffa450edef68

commit 65d450aacc1f06b7b80d5e50d5e4cddb4392d579
Author: Peter Rossbach <pero@apache.org>
Date:   Thu Nov 8 19:37:59 2007 +0000

    add my vote
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@593270 13f79535-47bb-0310-9956-ffa450edef68

commit 40c044c6942fb17cbc838f6f858adfdcec2bcdfd
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Nov 8 19:18:07 2007 +0000

    Add vote on cookie patch
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@593264 13f79535-47bb-0310-9956-ffa450edef68

commit 97af98efcc0adbb88eb9ed3d4edfa00a2a82c2f0
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Nov 8 17:53:25 2007 +0000

    2nd Patch includes the first, so combine them
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@593238 13f79535-47bb-0310-9956-ffa450edef68

commit 5be42cc6468d5e64349c52836679d678aacc86c2
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Thu Nov 8 14:41:50 2007 +0000

    Add another proposal.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@593173 13f79535-47bb-0310-9956-ffa450edef68

commit 9a2d59df6510959d29761deffa39c49a421fb93c
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Thu Nov 8 14:38:54 2007 +0000

    Cast my vote.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@593171 13f79535-47bb-0310-9956-ffa450edef68

commit 58ac6c8a6630d59d3a3dc03b8f47e05622d003ed
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Nov 7 22:01:25 2007 +0000

    Added proposed fix for version number fix
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@592920 13f79535-47bb-0310-9956-ffa450edef68

commit 51aedf0700e58b1ad77f73cb154968444c121bf2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 31 02:39:35 2007 +0000

    Propose fix for 43675.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@590541 13f79535-47bb-0310-9956-ffa450edef68

commit dfc21d67c83a4d055c240e6f0ac971b671b7c7c6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 31 02:17:34 2007 +0000

    Propose fix for 43702.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@590538 13f79535-47bb-0310-9956-ffa450edef68

commit 8224a073099b47d8b37e83ed223a33d5e4df177e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 28 17:56:45 2007 +0000

    Add fix for CGI bug reported on users list
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@589389 13f79535-47bb-0310-9956-ffa450edef68

commit 09d62b42dba754f331aa93629bb1cfe9e7a03d90
Author: Peter Rossbach <pero@apache.org>
Date:   Sun Oct 28 16:20:11 2007 +0000

    Fix better readable!
    
    I miss the authors....
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@589373 13f79535-47bb-0310-9956-ffa450edef68

commit c2cc9f9dd6c658e3631dcaf232eb72d13da58cca
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Sat Oct 27 08:25:56 2007 +0000

    Commit the accepted proposal to prevent CLOSE_WAIT sockets.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@589062 13f79535-47bb-0310-9956-ffa450edef68

commit c400aaf2d2b5797fba6d76fbd2d79adabef33984
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Sat Oct 27 08:19:24 2007 +0000

    Commit the accept proposal to improve JAVA_HOME detection.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@589060 13f79535-47bb-0310-9956-ffa450edef68

commit 0ecd0bf9b8e1ad5e0fbd6bb2a08a9ce2eac208ee
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Fri Oct 26 14:51:23 2007 +0000

    Add the tests of the cookies.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@588673 13f79535-47bb-0310-9956-ffa450edef68

commit b68075d0138d8e69e8678478e846137232f26ef7
Author: William Barker <billbarker@apache.org>
Date:   Fri Oct 26 03:11:08 2007 +0000

    document changes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@588490 13f79535-47bb-0310-9956-ffa450edef68

commit c459f750085db8733a6017c3bb895e53a2726af4
Author: William Barker <billbarker@apache.org>
Date:   Fri Oct 26 03:05:02 2007 +0000

    Note to self, you can't copy and paste from 5.5 to 6.0
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@588489 13f79535-47bb-0310-9956-ffa450edef68

commit a65d593224ba2ba38efcd736399ba0c3011771df
Author: William Barker <billbarker@apache.org>
Date:   Fri Oct 26 02:44:17 2007 +0000

    removing committed patches from STATUS
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@588481 13f79535-47bb-0310-9956-ffa450edef68

commit ae517bea300040839adb69a4607a7686fa5a33a6
Author: William Barker <billbarker@apache.org>
Date:   Fri Oct 26 02:41:57 2007 +0000

    fix possible DoS condition when using the experimental NIO/AJP connector
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@588479 13f79535-47bb-0310-9956-ffa450edef68

commit 7b93f573331df0e7dd92ab5ff5e36f3df7629cc6
Author: William Barker <billbarker@apache.org>
Date:   Fri Oct 26 02:37:39 2007 +0000

    Continue to give Remy a headache by fixing the problem where when the outer most wrapper is a ServetRequest/ResponseWrapper, but not a HttpServletRequest/ResponseWrapper would cause an NPE.
    
    Fix for bug: #43668
    Reported by:   Mailmur
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@588477 13f79535-47bb-0310-9956-ffa450edef68

commit cd93610f029c73bb2c17d85bac05a65485fa1dfc
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Oct 25 17:20:57 2007 +0000

    Remaining fix for NIO connector
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@588284 13f79535-47bb-0310-9956-ffa450edef68

commit d24860cb91f71a88102f8dfed7e9d81cf23e1f51
Author: Jim Jagielski <jim@apache.org>
Date:   Thu Oct 25 16:12:56 2007 +0000

    Cast some votes - reviewed and tested
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@588265 13f79535-47bb-0310-9956-ffa450edef68

commit 1509fb4381fff8af4cebbb88f2f4c4e9f75e3664
Author: Peter Rossbach <pero@apache.org>
Date:   Thu Oct 25 06:36:24 2007 +0000

    add my votes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@588152 13f79535-47bb-0310-9956-ffa450edef68

commit 7f6cdd6e1e081ede9778f9fc595bc10a0ac062b8
Author: Timothy A. Funk <funkman@apache.org>
Date:   Thu Oct 25 00:46:02 2007 +0000

    some votes
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@588095 13f79535-47bb-0310-9956-ffa450edef68

commit 2ff48fe509170f56b15635796318befedd110199
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Oct 24 20:10:18 2007 +0000

    added in proposal
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@588000 13f79535-47bb-0310-9956-ffa450edef68

commit f1aeb76685d5c47ccb76851b68afdc66ea273604
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Oct 23 15:28:09 2007 +0000

    - Some votes, after getting a headache reviewing a patch.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@587540 13f79535-47bb-0310-9956-ffa450edef68

commit f7cc581575604255e3e88b45089d487d34c035fc
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Oct 23 15:10:05 2007 +0000

    vote
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@587535 13f79535-47bb-0310-9956-ffa450edef68

commit 4e507a93031b0b80dac17ba923dd866ca4dd1ef0
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Oct 23 14:52:36 2007 +0000

    votes
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@587527 13f79535-47bb-0310-9956-ffa450edef68

commit a666ac682b77db2687be9cab569d9ff7c8907542
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Tue Oct 23 12:37:06 2007 +0000

    Add a fix for sockets in CLOSE_WAIT state.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@587478 13f79535-47bb-0310-9956-ffa450edef68

commit 0c91d7f4a04ac9aef720b6228e671e0d6b54c426
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Oct 22 14:46:04 2007 +0000

    Add in MD5 fix
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@587115 13f79535-47bb-0310-9956-ffa450edef68

commit ab7b037e239505e52156d6d1ff35c02f431d3506
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Oct 22 13:19:05 2007 +0000

    Improve patch for WebDAV issue.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@587082 13f79535-47bb-0310-9956-ffa450edef68

commit 2e21a654a5427f26bef6e3a48e2ce322e6b31106
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Oct 22 11:38:28 2007 +0000

    - Vote.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@587062 13f79535-47bb-0310-9956-ffa450edef68

commit dd5444129a41d04af0ca71aaabce7a7ece4fc12b
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Mon Oct 22 09:07:39 2007 +0000

    It also improve the fix for 37284.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@587045 13f79535-47bb-0310-9956-ffa450edef68

commit 32218c62e35750e7961c6cdfff151b9ea4d439f9
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Mon Oct 22 09:05:37 2007 +0000

    Propose a better patch for IcedTea support.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@587043 13f79535-47bb-0310-9956-ffa450edef68

commit 580b488ecb127a13a347c3a92b306951df702981
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Mon Oct 22 07:18:49 2007 +0000

    Add the Cookies tests patch.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@587018 13f79535-47bb-0310-9956-ffa450edef68

commit 33e8d944da99f727b9ca0a89bd20d6025b518832
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Oct 22 03:08:58 2007 +0000

    Add vote
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@586990 13f79535-47bb-0310-9956-ffa450edef68

commit 4cbea0a46cb2fe0121f88ce26695d90a357d1e49
Author: William Barker <billbarker@apache.org>
Date:   Mon Oct 22 02:38:24 2007 +0000

    Propose fix to BZ 43668
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@586984 13f79535-47bb-0310-9956-ffa450edef68

commit 96d1b53a63c3598856af6515b5d57a20261a5a9c
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Oct 22 02:34:29 2007 +0000

    cast votes
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@586983 13f79535-47bb-0310-9956-ffa450edef68

commit efc6f154a5739b323e06e548840813e1b4d6ae15
Author: William Barker <billbarker@apache.org>
Date:   Sun Oct 21 08:34:38 2007 +0000

    Propose forward port of NIO/AJP bug
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@586871 13f79535-47bb-0310-9956-ffa450edef68

commit 527696ebfb81b49a56e51624cff10bef38c8bdb3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 21 03:10:38 2007 +0000

    Add improved fix for webdav vulnerability
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@586837 13f79535-47bb-0310-9956-ffa450edef68

commit 0f69c9b27578e8379aaa43a87f7b0bd3b33e8914
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 20 22:52:47 2007 +0000

    Make unescaping the exact reverse of escaping.
    Code clean up.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@586818 13f79535-47bb-0310-9956-ffa450edef68

commit ee8247ca138522ed2e40cd9595eecd6fdc421bfe
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat Oct 20 15:30:26 2007 +0000

    Final proposed patch before tag
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@586745 13f79535-47bb-0310-9956-ffa450edef68

commit 7d993a6bdc041e3b8ccdb3f811702d559271c209
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat Oct 20 14:57:18 2007 +0000

    Added NIO connector to server.xml parser warnings
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@586738 13f79535-47bb-0310-9956-ffa450edef68

commit 17cbaf862e7ee8aee23097ef0e25db0b45231f6f
Author: Timothy A. Funk <funkman@apache.org>
Date:   Fri Oct 19 18:30:30 2007 +0000

    +1
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@586571 13f79535-47bb-0310-9956-ffa450edef68

commit 18dfed7fe69fe4ae0ed9e8ef6dd2b87f761a7439
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Oct 19 16:32:52 2007 +0000

    - Propose a shell script update v2 (but it's better to ignore it, JF told me he would do something better
      later).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@586522 13f79535-47bb-0310-9956-ffa450edef68

commit 3caeba395afad42c82688e24c4b3cf91528b965d
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Oct 19 14:35:28 2007 +0000

    update changelog
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@586481 13f79535-47bb-0310-9956-ffa450edef68

commit e491b0cb281dced8e3a9bb9b24886b0364fb03a7
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Oct 19 13:35:38 2007 +0000

    update status file
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@586444 13f79535-47bb-0310-9956-ffa450edef68

commit 081a9821906f6588fb59ff1889b58a3dbdd7a826
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Oct 19 13:35:18 2007 +0000

    Add a ANT script that can sign and publish to the central ASF maven repo
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@586443 13f79535-47bb-0310-9956-ffa450edef68

commit aeffeb5ffb8c19a281f55155d8ca3c7aee198721
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Oct 19 11:39:51 2007 +0000

    Change my vote after patch revision
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@586384 13f79535-47bb-0310-9956-ffa450edef68

commit 56302f4d9a12287afa18fcd9a877fcbcbb1d3cb9
Author: Rainer Jung <rjung@apache.org>
Date:   Fri Oct 19 07:28:50 2007 +0000

    Cast a vote.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@586293 13f79535-47bb-0310-9956-ffa450edef68

commit bcc0420c9b4c736a4cdea93335fc704e7ff0454a
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Oct 19 02:23:32 2007 +0000

    MD5 proposed fix as the old files look kind of ugly with the unexpanded variable in there
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@586232 13f79535-47bb-0310-9956-ffa450edef68

commit e02e3e72e55bcfc10f0b34498b17427c78600795
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Oct 19 02:16:41 2007 +0000

    Add in voted on fixes
    
    Fix 43653: SSL buffer mixup when response is unable to write more than socket buffer can handle
    Fix 43643: If connector doesn't support external executor, display warning
    Fix 43641: Property bind multicast address for cluster membership
    Fix 42693: JSP compiler bug with recursive tag files
    Update: Add mbean descriptor for virtual webapp loader
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@586228 13f79535-47bb-0310-9956-ffa450edef68

commit a00aa144ef392134adf6f8d71d4b8c71ce2c681d
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Oct 19 02:09:21 2007 +0000

    Added vote, and corrected mvn.properties.default (added back AL2 license to property file)
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@586225 13f79535-47bb-0310-9956-ffa450edef68

commit c876438e79ca646bc7f9b7e734345eebe18b10d7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 18 22:59:55 2007 +0000

    Add further cookies patch
    Add votes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@586165 13f79535-47bb-0310-9956-ffa450edef68

commit 3db17b03466efcd0f6c90b3ec4b5d119e066c291
Author: Yoav Shapira <yoavs@apache.org>
Date:   Thu Oct 18 20:30:46 2007 +0000

    Add my comments on STATUS
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@586125 13f79535-47bb-0310-9956-ffa450edef68

commit e00b43b835ab7e6425d16c52edcc59e66fefcbf0
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Oct 18 20:25:28 2007 +0000

    Proposed enhancement to the maven ant script
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@586121 13f79535-47bb-0310-9956-ffa450edef68

commit ef12ceeebdfe5cc8e3799e73c9048852a1847a01
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Oct 18 19:43:06 2007 +0000

    proposed bug fix
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@586103 13f79535-47bb-0310-9956-ffa450edef68

commit b6190c926cf976e4832310b6f642a9fd4a169e71
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Oct 18 16:46:58 2007 +0000

    - Update to JDT 3.3 (really, this time).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@586031 13f79535-47bb-0310-9956-ffa450edef68

commit 901292cf9d7d8225f8a3b96c7583e2bd8b41772d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 18 11:44:53 2007 +0000

    Fix CVE-2007-5461.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@585934 13f79535-47bb-0310-9956-ffa450edef68

commit 558a6f3a9f1f98c0601d83a3cece49fa528b2b80
Author: Peter Rossbach <pero@apache.org>
Date:   Thu Oct 18 05:41:23 2007 +0000

    add my vote
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@585875 13f79535-47bb-0310-9956-ffa450edef68

commit 83ef753ffb8ca927e1f8ebbf784ef27e6f66836e
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Oct 17 21:39:15 2007 +0000

    proposed fix
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@585708 13f79535-47bb-0310-9956-ffa450edef68

commit 97ca5c32046ca37ddc893cf65607bc0aae51e03b
Author: Peter Rossbach <pero@apache.org>
Date:   Wed Oct 17 18:14:09 2007 +0000

    add my vote
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@585616 13f79535-47bb-0310-9956-ffa450edef68

commit 80adb9cb951b98b88258a3185bcffc19e830d40e
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Oct 17 18:00:23 2007 +0000

    proposed bug fix
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@585610 13f79535-47bb-0310-9956-ffa450edef68

commit c0321220698539220003b1872e9d70dd0e2f6042
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Oct 17 17:51:44 2007 +0000

    Fix property setter for keystore type
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@585604 13f79535-47bb-0310-9956-ffa450edef68

commit 2c0b6451e2337c4022eec3e16087bc33654c1d02
Author: Peter Rossbach <pero@apache.org>
Date:   Wed Oct 17 03:46:28 2007 +0000

    add my vote
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@585351 13f79535-47bb-0310-9956-ffa450edef68

commit 37bfce1f86d73b53e2545c27c1648d4f20d80e49
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Oct 17 01:11:39 2007 +0000

    - Propose a shell script update.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@585313 13f79535-47bb-0310-9956-ffa450edef68

commit 161ed21c4544eef80bde89b6c2098ac991f65cf9
Author: Timothy A. Funk <funkman@apache.org>
Date:   Tue Oct 16 16:27:32 2007 +0000

    +1  a few patches
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@585189 13f79535-47bb-0310-9956-ffa450edef68

commit 3eec84e0c0867e58aeb0522e323b5c7771ea3f59
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Oct 16 15:15:22 2007 +0000

    added votes and new proposed fixes
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@585168 13f79535-47bb-0310-9956-ffa450edef68

commit 707c76d1202faba3400e8a5b2f69d3a973b81978
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Oct 16 14:04:31 2007 +0000

    - Propose fix for the JDT update.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@585147 13f79535-47bb-0310-9956-ffa450edef68

commit 7314f81370303615645112672323283a822d8ced
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Oct 16 11:22:50 2007 +0000

    - Commit patches which have been in the status for some time:
    * Fix explicit flush before response commit in the org.apache.jk AJP connector.
      http://svn.apache.org/viewvc?view=rev&revision=580815
    
    * Use newer eclipse jdt - old location is gone (reported by Jason Britian via email)
      update to jdt.loc=http://sunsite.informatik.rwth-aachen.de/eclipse/downloads/drops/R-3.3.1-200709211145/eclipse-JDT-3.3.1.zip
    
    * Call StopAwait at StandardServer.stop as port==-1
    
    * Arrange doc of connectors.
      http://people.apache.org/~jfclere/patches/tc.docs.patch
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@585118 13f79535-47bb-0310-9956-ffa450edef68

commit 4675d60ca0445c772f816a3bc7ec242750b120c7
Author: Timothy A. Funk <funkman@apache.org>
Date:   Mon Oct 15 12:41:09 2007 +0000

    webdav vote
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@584774 13f79535-47bb-0310-9956-ffa450edef68

commit ed1c3c311a784f1f26fe8a3dd4974f82f53b8026
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Oct 15 12:32:41 2007 +0000

    Propose fix for webdav vulnerability
    Vote on the patches I could review quickly
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@584771 13f79535-47bb-0310-9956-ffa450edef68

commit 0fc9e8211f539e35b610c6a56edcf30aad218eb2
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Oct 12 19:59:52 2007 +0000

    proposed bug fix from L. Galfaso
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@584252 13f79535-47bb-0310-9956-ffa450edef68

commit 9565cfe3565186826b17824c74d7be94bdf8de55
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Oct 11 18:24:11 2007 +0000

    update
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@583901 13f79535-47bb-0310-9956-ffa450edef68

commit 2916e464b22126838b5fe9b6749d2bc790e3c734
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Oct 11 17:50:42 2007 +0000

    - Clarify stop patch (inline, it's very small).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@583895 13f79535-47bb-0310-9956-ffa450edef68

commit c90f9875e579d7adfeaebd2b0c64b76daa8bb04e
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Oct 11 17:41:44 2007 +0000

    - The modification was a bit hard to understand for me, but does not change the behavior for the APR
      connectors.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@583894 13f79535-47bb-0310-9956-ffa450edef68

commit 1412504d429e9587eb7bcd651cf51aee9d6d2ce1
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Oct 11 16:14:21 2007 +0000

    missing mbean definition
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@583866 13f79535-47bb-0310-9956-ffa450edef68

commit 9df0827fb6ea5ad513486aad7d71ce02438f67a0
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Oct 11 15:44:34 2007 +0000

    - Vote.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@583858 13f79535-47bb-0310-9956-ffa450edef68

commit 47e0a68631c94c9313aba24ca596be07760853c1
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Oct 11 15:35:33 2007 +0000

    Proposal for a generic way of setting attributes, letting the components decide if a warning should be issued or not by implementing 'boolean setProperty' instead of 'void setProperty'.
    The old way, 'void setProperty' is still backwards compatible, and its behavior has not changed.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@583853 13f79535-47bb-0310-9956-ffa450edef68

commit 16464d6ec7e33d47c8209eba851d0087d623a585
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Oct 11 00:29:00 2007 +0000

    - 43479: Memory leak cleaning up sendfile connections (submitted by the bug reporter).
    - 42925: No timeout for sendfile (fix TODO item that had been forgotten).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@583650 13f79535-47bb-0310-9956-ffa450edef68

commit c567c797d9922d2bb9b8e993fd2bc46f76fddab5
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Wed Oct 10 16:01:08 2007 +0000

    Remove a wrong and probably missleading part so a sentence.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@583525 13f79535-47bb-0310-9956-ffa450edef68

commit b44a372189cb7a2b69a7799e0d18c9b7545fded2
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Oct 8 21:09:22 2007 +0000

    - Vote.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@582975 13f79535-47bb-0310-9956-ffa450edef68

commit 96332b0ed5dd5d8813c560b2c883d5d1112fcdaf
Author: Timothy A. Funk <funkman@apache.org>
Date:   Mon Oct 8 18:18:14 2007 +0000

    +1 proposals
    
    abstained from "Call StopAwait at StandardServer.stop as port==-1" since it was missing the patch in the status file
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@582924 13f79535-47bb-0310-9956-ffa450edef68

commit 605b394d0706927d0c2139449292cd2f093706e4
Author: Peter Rossbach <pero@apache.org>
Date:   Sun Oct 7 08:36:51 2007 +0000

    add change request: call StandardServer stopAwait
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@582597 13f79535-47bb-0310-9956-ffa450edef68

commit d1fabd60dff7233e39fc4738248b2cb2aa798648
Author: Peter Rossbach <pero@apache.org>
Date:   Sun Oct 7 05:13:20 2007 +0000

    Update jdt.loc current reference at build.properties.default is gone!
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@582576 13f79535-47bb-0310-9956-ffa450edef68

commit 9614713cdf3a58d0a12359a6e7ec0a27ae895881
Author: Peter Rossbach <pero@apache.org>
Date:   Sat Oct 6 08:17:07 2007 +0000

    vote +1 to new fixes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@582466 13f79535-47bb-0310-9956-ffa450edef68

commit 92cb2c09770599f7d0af14b16ef9c6adc12658cc
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Oct 5 21:14:32 2007 +0000

    - 42925: Another minor patch.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@582392 13f79535-47bb-0310-9956-ffa450edef68

commit be25e850f425014a3216d342be8e9f2116773b43
Author: Peter Rossbach <pero@apache.org>
Date:   Fri Oct 5 15:06:52 2007 +0000

    set replace props and eol-style
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@582303 13f79535-47bb-0310-9956-ffa450edef68

commit e24ac6bde053c2684510688232bc769c71a274da
Author: Peter Rossbach <pero@apache.org>
Date:   Fri Oct 5 15:03:23 2007 +0000

    Very usefull patch!
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@582299 13f79535-47bb-0310-9956-ffa450edef68

commit 568a7f505285ba13146f0117a88f7b62d9b60ab6
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Oct 5 14:51:35 2007 +0000

    - Propose r580815 for review.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@582291 13f79535-47bb-0310-9956-ffa450edef68

commit 099325a85d362125d5e03c9a728ec6a531426219
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Oct 4 14:25:20 2007 +0000

    update changelog and status
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@581923 13f79535-47bb-0310-9956-ffa450edef68

commit 556298f595f02e9075fa3bfabb3eb430d2b1f560
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Oct 4 14:20:13 2007 +0000

    fix request processing stats
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@581920 13f79535-47bb-0310-9956-ffa450edef68

commit 7c55155a86b927a1734eceffbdd0dd2399650ab3
Author: Remy Maucherat <remm@apache.org>
Date:   Sun Sep 30 17:03:22 2007 +0000

    - Cookie parser update.
    - Submitted by John Kew, with an update to the initialization
      of the boolean array (hopefully easier to read and modify).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@580754 13f79535-47bb-0310-9956-ffa450edef68

commit 93d0981be2fe2d02d1fc55157927ab637190fbe2
Author: Rainer Jung <rjung@apache.org>
Date:   Thu Sep 27 17:47:45 2007 +0000

    Cast a vote.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@580114 13f79535-47bb-0310-9956-ffa450edef68

commit e424932cb830adc6ea6cfc18125aebae94e85c16
Author: Peter Rossbach <pero@apache.org>
Date:   Thu Sep 27 05:11:46 2007 +0000

    Add my vote
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@579892 13f79535-47bb-0310-9956-ffa450edef68

commit 0ce19e27e87d2dd1176fa1a3e636967756c935de
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Sep 26 15:11:40 2007 +0000

    add my vote to cookie patch
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@579688 13f79535-47bb-0310-9956-ffa450edef68

commit df51ecb5eec4a28fb0ff2aa00d0ef9e910f88344
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Sep 26 15:10:04 2007 +0000

    Patch proposal for request info data
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@579687 13f79535-47bb-0310-9956-ffa450edef68

commit 4eb57a4955b299f72524a595d82d67be8b1df1cb
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Wed Sep 26 08:52:21 2007 +0000

    Add the test part move remy's patch to people.apache.org and cast my vote.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@579521 13f79535-47bb-0310-9956-ffa450edef68

commit 9e19e26068e7e754d282ef2732d998f55d21c9a7
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Sep 25 15:22:40 2007 +0000

    - Patch update.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@579298 13f79535-47bb-0310-9956-ffa450edef68

commit 2562cb6707ac25cdae930d0151673222b6c70c95
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Tue Sep 25 07:23:07 2007 +0000

    Try to arrange the  proposal. And cast a vote.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@579106 13f79535-47bb-0310-9956-ffa450edef68

commit c2f9891946ad651cac7518cc3f42b22d66c3a571
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Sep 24 21:27:16 2007 +0000

    - Add status file.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@578980 13f79535-47bb-0310-9956-ffa450edef68

commit 73b5e41abab1c960c4d9f736c42856cd67907baa
Author: Timothy A. Funk <funkman@apache.org>
Date:   Sun Sep 23 23:53:05 2007 +0000

    bug 43453: ClassCastException at  org.apache.catalina.core.StandardContext.findStatusPage(int)
    
    In reality - I don't see anywhere that calls findStatusPage(). Is there a chance (in the future)
    to drop this method from StandardContext as well as the Context interface?
    
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@578613 13f79535-47bb-0310-9956-ffa450edef68

commit 4b17634ed0bacda764384e271cb0d3eace61282e
Author: Timothy A. Funk <funkman@apache.org>
Date:   Sun Sep 23 23:33:56 2007 +0000

    bug 41797: CNFE/NPE thrown from function mapper when externalizing
    Patch by Tuomas Kiviaho- tuomas.kiviahos at ikis fi
    (submit part2 of the patch as seem in comment #3)
    
    (Format police - help!!! I did my best)
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@578610 13f79535-47bb-0310-9956-ffa450edef68

commit 4461a96d8bb2c2f6132e5f370cf0d47ad18c7adb
Author: Timothy A. Funk <funkman@apache.org>
Date:   Sat Sep 22 18:05:54 2007 +0000

    bug 41797: CNFE/NPE thrown from function mapper when externalizing
    Patch by Tuomas Kiviaho- tuomas.kiviahos at ikis fi
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@578466 13f79535-47bb-0310-9956-ffa450edef68

commit 5aed2f54983fc39ea488e9a199f895316b2510d9
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Sep 21 18:26:31 2007 +0000

    bz http://issues.apache.org/bugzilla/show_bug.cgi?id=43435
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@578218 13f79535-47bb-0310-9956-ffa450edef68

commit 403794cca60c26dd4cfa50bec53c736035525227
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Sep 17 19:45:16 2007 +0000

    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@576565 13f79535-47bb-0310-9956-ffa450edef68

commit fcd7d0800952c87afddb91ba7dc32a6dd92f363a
Author: Timothy A. Funk <funkman@apache.org>
Date:   Sat Sep 15 17:42:01 2007 +0000

    undo 575332 (alias support) due to 2 vetos
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@575945 13f79535-47bb-0310-9956-ffa450edef68

commit bd07e2d64062ceb485a9e300dc04e69610e9581a
Author: Peter Rossbach <pero@apache.org>
Date:   Sat Sep 15 07:55:42 2007 +0000

    SRV 6.2.5 says supporting for '*' as the servlet-name in filter-mapping.
        <filter-mapping>
            <filter-name>SampleFilter</filter-name>
            <servlet-name>*</servlet-name>
        </filter-mapping>
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@575890 13f79535-47bb-0310-9956-ffa450edef68

commit 28da14176c420cc17efe893298ae8c42fd6e7961
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Sep 14 21:30:29 2007 +0000

    Backport from earlier fix
    http://issues.apache.org/bugzilla/show_bug.cgi?id=43356
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@575798 13f79535-47bb-0310-9956-ffa450edef68

commit a6929e4e312056832888819f86fe5aac47de7e36
Author: Peter Rossbach <pero@apache.org>
Date:   Fri Sep 14 11:01:06 2007 +0000

     Handle more then one system property replacement at file logging.properties.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@575617 13f79535-47bb-0310-9956-ffa450edef68

commit 6cd27ebfc24599e508339f5b37f5a040f2338092
Author: Peter Rossbach <pero@apache.org>
Date:   Fri Sep 14 05:38:37 2007 +0000

    add cookieDomain description!
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@575540 13f79535-47bb-0310-9956-ffa450edef68

commit fe56bc3aedb1d5c5950176dee39c4154e9c7bb33
Author: Peter Rossbach <pero@apache.org>
Date:   Thu Sep 13 21:58:19 2007 +0000

    Fix porting typo!
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@575480 13f79535-47bb-0310-9956-ffa450edef68

commit 2d348c52712792325d2ae8b1d2bfe2286cc5cb0c
Author: Peter Rossbach <pero@apache.org>
Date:   Thu Sep 13 21:56:30 2007 +0000

    Improve large-file support (more then 4 Gb) at all AccessLogValves, backport from 5.5.25.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@575478 13f79535-47bb-0310-9956-ffa450edef68

commit 63886810e490cfae1dddee975e6467d7e3df2005
Author: Peter Rossbach <pero@apache.org>
Date:   Thu Sep 13 21:52:31 2007 +0000

    Optimized JDBCAccessLogValve combined pattern request attribute access.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@575477 13f79535-47bb-0310-9956-ffa450edef68

commit 6eb1f5229a2c826a7e5efbf9a7bfb4924a93c949
Author: Peter Rossbach <pero@apache.org>
Date:   Thu Sep 13 21:43:22 2007 +0000

    Improve large-file support (more then 4 Gb) at all AccessLogValves, backport from 5.5.25.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@575475 13f79535-47bb-0310-9956-ffa450edef68

commit 9e8d76ad5b377098945159e77e7e58641e25ea8d
Author: Peter Rossbach <pero@apache.org>
Date:   Thu Sep 13 21:06:46 2007 +0000

    Support logging of current thread name at AccessLogValve (ex. add %I to your pattern).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@575451 13f79535-47bb-0310-9956-ffa450edef68

commit af221086d4b23999f2a6479ce56a97c82e2adcfe
Author: Peter Rossbach <pero@apache.org>
Date:   Thu Sep 13 19:31:16 2007 +0000

    Support logging of all response header values at AccessLogValve (ex. add %{Set-Cookie}o to your pattern)
    and ExtendedAccessLogValve (ex. add x-O(Set-Cookie) to your pattern)
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@575411 13f79535-47bb-0310-9956-ffa450edef68

commit 4aa093eba2db24bb820f454699ce283b8c476f3c
Author: Timothy A. Funk <funkman@apache.org>
Date:   Thu Sep 13 18:16:23 2007 +0000

    Bug 42831
    
    Permissions aren't set correctly on $CATALINA_HOME/bin/version.sh
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@575390 13f79535-47bb-0310-9956-ffa450edef68

commit 93136d18149cf34ccac6e55cd03d2109300045a3
Author: Timothy A. Funk <funkman@apache.org>
Date:   Thu Sep 13 17:57:17 2007 +0000

    BZ 43057 - Trivail doc fix
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@575385 13f79535-47bb-0310-9956-ffa450edef68

commit 022bf2a2f3a181b2d004666147cefa8a2c3181dd
Author: Timothy A. Funk <funkman@apache.org>
Date:   Thu Sep 13 15:19:59 2007 +0000

    Allow for Aliases at the resource level.
    
    This is to prevent situations of relying on symlinks, or Filters
    while still make outside directories appear as part of the webapp.
    (A common feature request seen on the user list)
    
    Example usage:
    <Context ... >
      <Resources className="org.apache.naming.resources.FileDirContext"
                   aliases="/doh/=C:/tmp/woohoo/,
                            /mmmmmm/=C:/opt/data/doughnuts/" />
    </Context>
    
    If the feature is NOT used - there is no additional overhead.
    
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@575332 13f79535-47bb-0310-9956-ffa450edef68

commit 14a8044a61bb254d97f9905c757487bf3b6575b2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 13 11:48:25 2007 +0000

    More clarification about Contexts, path and docBase as a result of http://marc.info/?l=tomcat-user&m=118945359807000&w=2.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@575274 13f79535-47bb-0310-9956-ffa450edef68

commit 872420c87cc71a2790310f5b4be0e5b0f275a44f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 13 11:32:38 2007 +0000

    Take account of bug 39013. Not sure if it is valid but there is a warning about it in the context docs.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@575262 13f79535-47bb-0310-9956-ffa450edef68

commit f1ac657fa2699f2d88a0169c11769de15527d2bd
Author: Peter Rossbach <pero@apache.org>
Date:   Sun Sep 9 09:12:06 2007 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@573965 13f79535-47bb-0310-9956-ffa450edef68

commit 1916b0cdf4e66e0a244cfce78f7c1af05a8311da
Author: Peter Rossbach <pero@apache.org>
Date:   Sun Sep 9 09:04:27 2007 +0000

    Made session createTime accessible for all SessionManager via JMX - Backport from 5.5.x
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@573964 13f79535-47bb-0310-9956-ffa450edef68

commit dd27d68ee34760405c22c176add4c53503eaaf44
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 8 19:57:27 2007 +0000

    Clarify appBase - docBase relationship
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@573898 13f79535-47bb-0310-9956-ffa450edef68

commit 96558d32384cd0fba5de946e6cef37cea221cd7c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 5 02:14:45 2007 +0000

    Improve fix for 33774 by adding check for alternative exception to the remaining point where it could be seen.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@572859 13f79535-47bb-0310-9956-ffa450edef68

commit 4dd22a5af4a3e4f7ed1cbe10c8d36baf78da5634
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Sep 5 02:01:02 2007 +0000

    Port improved fix for bug 30949 to TC6.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@572856 13f79535-47bb-0310-9956-ffa450edef68

commit 732d2f617eb74bae537760f7569cf530bf15c209
Author: William Barker <billbarker@apache.org>
Date:   Tue Sep 4 02:45:37 2007 +0000

    Forward porting Reader fixes from 5.5.x
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@572498 13f79535-47bb-0310-9956-ffa450edef68

commit cb95a1f20067b0fdf3d3f835820b5bba4d2ee5ee
Author: William Barker <billbarker@apache.org>
Date:   Tue Sep 4 02:44:07 2007 +0000

    Forward porting Reader fixes from 5.5.x
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@572497 13f79535-47bb-0310-9956-ffa450edef68

commit 034a29c41ede4d0c7459945aee4088d9cc5f9a8f
Author: William Barker <billbarker@apache.org>
Date:   Tue Sep 4 01:54:52 2007 +0000

    Update cipher key list with Sun's new ones in Java 6
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@572490 13f79535-47bb-0310-9956-ffa450edef68

commit 9ef397360535f30a280705b6c6139a8aa6e00f7d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Sep 2 21:42:03 2007 +0000

    Commons moved to TLP
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@572170 13f79535-47bb-0310-9956-ffa450edef68

commit 7155b61701b2b2595cacf08414f96e42eda476c2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Sep 2 20:40:59 2007 +0000

    Remove the explicit reference to the source form of sub-components as the licenses apply to binary forms as well.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@572146 13f79535-47bb-0310-9956-ffa450edef68

commit 9496e5270a8b0a96851855c69ed4183f7b5f37b6
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Aug 31 21:42:31 2007 +0000

    Since comet event can be closed async, for example after we have exited the CoyoteAdapter.service method, but before the HTTP processor, the processor will recycle on its end, but the catalina request/response will never be recycled and cause invalid data.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@571602 13f79535-47bb-0310-9956-ffa450edef68

commit 1677d9dda288da801deeed3bfc7282fca002e07c
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Aug 31 21:23:30 2007 +0000

    use the request processor to see if we are doing the action during a call or not
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@571592 13f79535-47bb-0310-9956-ffa450edef68

commit 28ca0e4dbdc92413bd9a8286f8961dc3fa604ea1
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Aug 31 21:18:34 2007 +0000

    don't create a comet event object until we are for certain that it is a comet URI
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@571588 13f79535-47bb-0310-9956-ffa450edef68

commit 079e7dc70760d9d86243f645bea74f89fae0ba2d
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Aug 31 20:59:00 2007 +0000

    Move back to original idea, use primitive int instead of enum, extremely inefficient using enums and arrays to hold them.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@571578 13f79535-47bb-0310-9956-ffa450edef68

commit 2c9f79ca84cfd47f97bdec91f626fbba2ecc7aa7
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Aug 31 20:24:38 2007 +0000

    improve the executor, keep a count on active thread, as Executor.getActiveCount loops through all of them each time
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@571562 13f79535-47bb-0310-9956-ffa450edef68

commit f20eb7d685388d5a264b6aa8a49beabebe67ef0b
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Aug 31 17:17:29 2007 +0000

    - Typo.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@571526 13f79535-47bb-0310-9956-ffa450edef68

commit 6491b5e5d784809b11ae176b6845f6768de0c018
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Aug 31 15:34:53 2007 +0000

    - Small changelog update.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@571495 13f79535-47bb-0310-9956-ffa450edef68

commit 1b2276221703fd341ecb71d231cfcbb03388759f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Aug 31 04:08:41 2007 +0000

    As per http://marc.info/?l=tomcat-dev&m=118848624422496&w=2, correct the license text for these files.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@571365 13f79535-47bb-0310-9956-ffa450edef68

commit 44b12762234be6f1ea733a99f23e08929702485f
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Aug 30 19:14:43 2007 +0000

    forward port of bugfixes from 6.0
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@571276 13f79535-47bb-0310-9956-ffa450edef68

commit a80a6dd9a79727616ca876265d12208f9cba821f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Aug 30 00:44:55 2007 +0000

    Fix bug 43175. Typos in servlet XSD files. Patch provided by Takayuki Kaneko.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@571003 13f79535-47bb-0310-9956-ffa450edef68

commit 9c37a0110a695c837bd8613b1ee3f14e7f8c16c3
Author: Peter Rossbach <pero@apache.org>
Date:   Tue Aug 28 13:33:18 2007 +0000

    Fix bug 43216: Set correct StandardSession#accessCount as StandardSession.ACTIVITY_CHECK is true.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@570417 13f79535-47bb-0310-9956-ffa450edef68

commit 3d781d2e377389e34d0c70b57bb1331ca57bcb60
Author: Peter Rossbach <pero@apache.org>
Date:   Tue Aug 28 13:17:43 2007 +0000

    Fix big 43215: Thanks Takayuki to report it -:)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@570411 13f79535-47bb-0310-9956-ffa450edef68

commit 16ada677e4e45ad0eb0de965bf972445af22fdff
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Aug 28 10:03:15 2007 +0000

    - Add back arbitrary attributes due to SSL socket factory configuration. Unfortunately, it seems only the APR connector
      can have validation since the set of attributes is fully known.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@570359 13f79535-47bb-0310-9956-ffa450edef68

commit 2937eedf57d829e8e63cf56660bbc7cf7bf37033
Author: Peter Rossbach <pero@apache.org>
Date:   Mon Aug 27 13:20:38 2007 +0000

    Fix typo: Can't init wsdl Service as Naming Context
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@570102 13f79535-47bb-0310-9956-ffa450edef68

commit 8a4f432e82c9b32424681cef5da3eff709a5e9b5
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Aug 24 19:35:40 2007 +0000

    backport from trunk, correct solution is to expand the buffer, but that can lead to overly large buffers, we want the the size the developers specified for predictability
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@569489 13f79535-47bb-0310-9956-ffa450edef68

commit c87791c3b22d66e4696ab91a009cc2799052e385
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Aug 24 19:32:34 2007 +0000

    Added support for when the buffers are sized very similarly
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@569485 13f79535-47bb-0310-9956-ffa450edef68

commit 019ba6cadaea039e317bb271a4f08d9dae132af0
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Aug 22 20:19:54 2007 +0000

    backport from trunk
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@568742 13f79535-47bb-0310-9956-ffa450edef68

commit f7c5157a43ad9b49e663a69ea0cc01f8f6c85ab2
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Aug 22 20:18:35 2007 +0000

    Log deserialization errors as error
    log channellistener errors as warnings
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@568741 13f79535-47bb-0310-9956-ffa450edef68

commit 7342cadd1ea6c7ba9e05eebf67089aa6c6408085
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Aug 22 17:07:01 2007 +0000

    Added license header
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@568702 13f79535-47bb-0310-9956-ffa450edef68

commit a8d329a90b8aa6485b8eb3f373f298d84d2b9f9a
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Aug 22 14:43:08 2007 +0000

    Added example on how you can name nodes with existing system
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@568631 13f79535-47bb-0310-9956-ffa450edef68

commit 2d258457cda8cd677f63f4d8033ce27daff80b11
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Aug 22 13:29:21 2007 +0000

    remove non needed methods, somehow they cause an itch, so lets get rid of the itch
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@568605 13f79535-47bb-0310-9956-ffa450edef68

commit b0c9a398fecb1f226d753abf0b5e076a0e363c76
Author: Timothy A. Funk <funkman@apache.org>
Date:   Wed Aug 22 01:42:35 2007 +0000

    42466
    globalresources.xml has a wrong link
    patch from       Takayoshi Kimura takayoshi at  gmails doooot com
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@568367 13f79535-47bb-0310-9956-ffa450edef68

commit be1e80b3d0d59faa56df70243388979b1c111f54
Author: Timothy A. Funk <funkman@apache.org>
Date:   Wed Aug 22 01:39:17 2007 +0000

    42466
    globalresources.xml has a wrong link
    patch from   	 Takayoshi Kimura takayoshi at  gmails doooot com
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@568366 13f79535-47bb-0310-9956-ffa450edef68

commit 8c03bc9ff5b0f0acc865b021f700780edd419692
Author: Timothy A. Funk <funkman@apache.org>
Date:   Wed Aug 22 01:26:43 2007 +0000

    43155
    remove commons-logging-api.jar since it ain't there
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@568359 13f79535-47bb-0310-9956-ffa450edef68

commit 237f531eac8f1a73be1896a02439f9d1565460ed
Author: Timothy A. Funk <funkman@apache.org>
Date:   Wed Aug 22 01:25:09 2007 +0000

    43155
    remove commons-logging-api.jar since it ain't there
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@568357 13f79535-47bb-0310-9956-ffa450edef68

commit 1e9c06409426bb360962e29106a434ba3406e386
Author: Timothy A. Funk <funkman@apache.org>
Date:   Wed Aug 22 01:20:17 2007 +0000

    42569
    Small grammar correction on default Tomcat index.html page
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@568355 13f79535-47bb-0310-9956-ffa450edef68

commit e3fdb66e1d72f4ed0ec462a8c365b63542944b3f
Author: Timothy A. Funk <funkman@apache.org>
Date:   Wed Aug 22 01:19:22 2007 +0000

    42569 Small grammar correction on default Tomcat index.html page
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@568353 13f79535-47bb-0310-9956-ffa450edef68

commit ad0eae0b3dedbc0a505d107c732c3ee85f5b3368
Author: Timothy A. Funk <funkman@apache.org>
Date:   Wed Aug 22 01:02:01 2007 +0000

    BZ - 20068
    Patch by Wendy Smoak wsmoak at apache org
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@568346 13f79535-47bb-0310-9956-ffa450edef68

commit d672365cbe053817ac07ceced6e3251ddcbb530b
Author: Timothy A. Funk <funkman@apache.org>
Date:   Wed Aug 22 00:59:43 2007 +0000

    BZ - 20068
    Patch by Wendy Smoak wsmoak at apache org
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@568345 13f79535-47bb-0310-9956-ffa450edef68

commit 19e01d8f00413a0fcd2755e4fca695a2b25b9a17
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Aug 21 23:52:25 2007 +0000

    Update changelog
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@568333 13f79535-47bb-0310-9956-ffa450edef68

commit ebdeb7809aa06921c22bceb7a064eb2a919e9630
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Aug 21 22:15:40 2007 +0000

    Fix the B2C converter.
    Sometimes data comes in incomplete chunks, and we have to check to see if we have available data, otherwise, when we return -1, the underlying InputStreamReader actually returns 1, and we get garbage in the output data.
    I will discuss this on the dev list, since it affects all tomcat versions, at that time I will also provide a test case showing what can happen. Please comment on this fix, if there is something alarming
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@568307 13f79535-47bb-0310-9956-ffa450edef68

commit fc81553010bf0dc0c5e6e1d1ebbd78ff5c4d6b68
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Aug 21 21:14:39 2007 +0000

    Documented the virtual webapp loader
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@568290 13f79535-47bb-0310-9956-ffa450edef68

commit ad79b142ea1370ae3c5e77e71bd40eb8b36c6d6f
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Aug 21 19:00:23 2007 +0000

    Extend the virtual loader a bit further, allowing developers to specify a class-path using the MANIFEST.MF file in the WAR file. I can't see that it would break the spec, and Websphere does it.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@568233 13f79535-47bb-0310-9956-ffa450edef68

commit 13577775f8ef766b2561b55a126aa7e548d0efc3
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Aug 20 14:25:14 2007 +0000

    improved upon the existing virtualwebapploader,
    new feature: can configure the path separator
    new feature: can create a local repository for runtime
    new feature: jar files are added as addJar to prevent locking of files
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@567714 13f79535-47bb-0310-9956-ffa450edef68

commit 31eb7e0384e562280db3afa903f5002868ab0955
Author: Peter Rossbach <pero@apache.org>
Date:   Sun Aug 19 21:13:40 2007 +0000

    Add log.isXXXEnabled
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@567474 13f79535-47bb-0310-9956-ffa450edef68

commit 54b0ab3402b66ed40d6017ff702b478c83a6f483
Author: Peter Rossbach <pero@apache.org>
Date:   Sun Aug 19 21:12:31 2007 +0000

    Extract boolean recoveryEnabled correct.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@567472 13f79535-47bb-0310-9956-ffa450edef68

commit 4804be7b8ae30f190b692c10b146cd7c31705231
Author: Peter Rossbach <pero@apache.org>
Date:   Sat Aug 18 11:49:41 2007 +0000

    Set correct socket transfer buffer size
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@567259 13f79535-47bb-0310-9956-ffa450edef68

commit decf14261dd2fa70cb39a8edd78cb8500ba68572
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Aug 17 22:52:56 2007 +0000

    required a little bit more touchup
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@567165 13f79535-47bb-0310-9956-ffa450edef68

commit a409acd292c0fbab03aa62eb2751db6f3a554944
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Aug 17 22:47:38 2007 +0000

    Fix NPE if no classpath is set
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@567163 13f79535-47bb-0310-9956-ffa450edef68

commit 7ac21f93a816a4f835a8ae8773151b72ffa3a3c8
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Aug 17 21:49:50 2007 +0000

    Added in the ability to name classloaders in Tomcat
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@567156 13f79535-47bb-0310-9956-ffa450edef68

commit e5991a9ccd8ff2834c668b256cd60bfcb4777f39
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Aug 17 19:36:19 2007 +0000

    back port from trunk, recovery options and retain membership
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@567117 13f79535-47bb-0310-9956-ffa450edef68

commit 3405c078ca4c7c7dc6a54bdcf56bb71ada5b50fc
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Aug 17 19:34:03 2007 +0000

    Enable configuration of all properties, including the recovery turn/on/off
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@567115 13f79535-47bb-0310-9956-ffa450edef68

commit 3201c0a971dbf854bccb9fbfd2b16d53e6008c9b
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Aug 17 19:12:46 2007 +0000

    don't reset the membership during a recovery, otherwise we lose all info on the surrounding members
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@567113 13f79535-47bb-0310-9956-ffa450edef68

commit f880bc99b044b5eb590b6ffc9f27879ce951f586
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Aug 17 18:41:58 2007 +0000

    merge back from trunk
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@567105 13f79535-47bb-0310-9956-ffa450edef68

commit 0b4931a7721ccb342c23875ae9e547b7aabae8c1
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Aug 17 18:33:08 2007 +0000

    Added in a recovery service to the membership layer. if the network card gets disabled or something similar happens, it tries to recover the service
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@567104 13f79535-47bb-0310-9956-ffa450edef68

commit 462cda09f0df39308faabc1ce3a3b20808549b28
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Aug 15 15:59:28 2007 +0000

    - Fix recycling glitch. I prefer using nextRequest although it's a bit slower, since it's identical to regular request
      processing.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@566237 13f79535-47bb-0310-9956-ffa450edef68

commit accbcecb97722c876753bc89f991ced2671502c7
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Aug 15 14:07:38 2007 +0000

    backport from trunk
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@566174 13f79535-47bb-0310-9956-ffa450edef68

commit 7d70d594d504606c22fa3bdd5e31ae952b1136c7
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Aug 15 14:06:45 2007 +0000

    Set the interval in a distributed env, patch by Takayuki Kaneko
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@566170 13f79535-47bb-0310-9956-ffa450edef68

commit 0023fdab3284dfd411759fc55ea2aafc85b8719f
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Aug 14 23:03:52 2007 +0000

    backport from trunk
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@565964 13f79535-47bb-0310-9956-ffa450edef68

commit d87b4ef1cdd99b12d590fa3314e49b790fecb8d7
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Aug 14 23:03:45 2007 +0000

    filters are not properly recycled if the request was a Comet
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@565963 13f79535-47bb-0310-9956-ffa450edef68

commit 1e1c483fbea9d2120e1fe8778ef1f8ba686081a3
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Aug 14 14:56:20 2007 +0000

    backport
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@565786 13f79535-47bb-0310-9956-ffa450edef68

commit bc52eb30a5731b2778221bb87bccd31d743aba55
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Aug 14 14:02:41 2007 +0000

    Additional methods for JMX info
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@565763 13f79535-47bb-0310-9956-ffa450edef68

commit 3433bfaa33dc77ee18e5ebee5600088c7e2d174e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 14 01:59:56 2007 +0000

    Add license header back in removed in previous commit.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@565608 13f79535-47bb-0310-9956-ffa450edef68

commit 3b196f65136009a1626283bfa0a1199816775f3d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 14 01:27:51 2007 +0000

    Fix bug 43102. Patch by Ben Hatton.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@565601 13f79535-47bb-0310-9956-ffa450edef68

commit e8ad5f9857860df8f120021012043c86d31018e7
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Aug 13 18:13:47 2007 +0000

    - Experiment with reporting warnings for unmatched elements and attributes, based on Bill's ideas.
    - The NIO HTTP protocol handler does not seem very reporting friendly at the moment.
    - The change should be rather safe, if it causes problems that cannot be fixed easily I will revert it.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@565464 13f79535-47bb-0310-9956-ffa450edef68

commit 89bc591b1c8b7c6f350fd3ab50f0c9770cc77599
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Aug 13 17:23:04 2007 +0000

    protect against a NPE when a member disappears
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@565433 13f79535-47bb-0310-9956-ffa450edef68

commit 5892633ef03899382517bbe29a420f10e225b4bb
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Aug 13 17:22:03 2007 +0000

    backport from trunk
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@565432 13f79535-47bb-0310-9956-ffa450edef68

commit 9379f7c23e2ec9d724020ededbc1a7243b74e8e8
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Aug 13 17:04:52 2007 +0000

    Added in backup manager
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@565420 13f79535-47bb-0310-9956-ffa450edef68

commit 564347efe96415f37babd6c21f26404c7bc30327
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Aug 13 13:54:30 2007 +0000

    Fix NPE in the map, add accessors to stats information
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@565352 13f79535-47bb-0310-9956-ffa450edef68

commit 361993fe8fede093f49defcf48d27f2c31071de2
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Aug 10 21:07:46 2007 +0000

    Fix the comet recycle sync issue, will think of another solution some other time, for now this solves the problem
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@564768 13f79535-47bb-0310-9956-ffa450edef68

commit 58d9f42021c7dd0b87cde8a787e056650c7bf9fa
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Aug 10 19:45:04 2007 +0000

    backport
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@564730 13f79535-47bb-0310-9956-ffa450edef68

commit 191bb97b5153d10b07b50ca935dbb3437a1f1ace
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Aug 10 19:43:46 2007 +0000

    oops, no one was supposed to know that I still debug with System.out
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@564729 13f79535-47bb-0310-9956-ffa450edef68

commit ba544005b3884b5efbf5100ffc95c6a3973e8525
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Aug 10 19:41:34 2007 +0000

    backport from trunk rev 564727
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@564728 13f79535-47bb-0310-9956-ffa450edef68

commit 02a40f971c89afb0486556448ba6f9a0674f2a08
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Aug 10 19:39:17 2007 +0000

    fix state synchronization problems
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@564727 13f79535-47bb-0310-9956-ffa450edef68

commit 15abe28efdcfe806728dd00b8247ae72ef0de864
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Aug 9 23:46:47 2007 +0000

    backport from trunk, prevent premature session expiration
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@564428 13f79535-47bb-0310-9956-ffa450edef68

commit c0c4d6113541d5ad8d2aa8ba1e0e5ae92def6d88
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Aug 9 23:44:52 2007 +0000

    Make sure when a session becomes primary that its timeout value is reset, otherwise we can have unexpected session expirations
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@564426 13f79535-47bb-0310-9956-ffa450edef68

commit 248a29b265d8552aafc1d743af0e258024fa05c3
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Aug 9 23:30:41 2007 +0000

    backport from trunk
    http://issues.apache.org/bugzilla/show_bug.cgi?id=43053
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@564422 13f79535-47bb-0310-9956-ffa450edef68

commit b8ba19a1e268616c886677d74384e4752d78c0e4
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Aug 9 23:24:20 2007 +0000

    must set the primary in all locations
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@564420 13f79535-47bb-0310-9956-ffa450edef68

commit edebe0b9d1e3cb3f69fdc98a9135588214404878
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Aug 9 19:54:51 2007 +0000

    more fixes, same bz
    http://issues.apache.org/bugzilla/show_bug.cgi?id=43053
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@564360 13f79535-47bb-0310-9956-ffa450edef68

commit 7f07947410becef755d6acbe5e228b2ae851b37d
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Aug 9 19:52:08 2007 +0000

    make the backup node become the primary so that we can still expire sessions
    http://issues.apache.org/bugzilla/show_bug.cgi?id=43053
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@564358 13f79535-47bb-0310-9956-ffa450edef68

commit a6c49769c043f59a72d9d1bde43914f7344dcda1
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Aug 9 19:45:53 2007 +0000

    If there is no primary node, then let the expiration time apply to the backup node
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@564356 13f79535-47bb-0310-9956-ffa450edef68

commit 9ebcc51de19eda6b55cff1fb89c14b99bb99beeb
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Aug 9 19:40:31 2007 +0000

    remove proxies without primary or backups, only backup expiration handling left
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@564354 13f79535-47bb-0310-9956-ffa450edef68

commit 50ce1d5139b8b4552801a0f76aecb95bb5ec28cf
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Aug 9 18:47:22 2007 +0000

    if primary member disappears, remove the entry in the hashmap
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@564337 13f79535-47bb-0310-9956-ffa450edef68

commit d4f7827841850d801b4773ccf9f9d1e5b4803240
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Aug 9 18:43:12 2007 +0000

    Publish primary node information as well
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@564335 13f79535-47bb-0310-9956-ffa450edef68

commit 26d84db7b56f1fb77a49b81da68a177235902db0
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Aug 9 02:06:32 2007 +0000

    remove throwing of exceptions, handle everything inside the JMX helper
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@564074 13f79535-47bb-0310-9956-ffa450edef68

commit de685def46dffd66bf918fca39e08b5a690ae350
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Aug 9 01:58:50 2007 +0000

    remove not used fields
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@564071 13f79535-47bb-0310-9956-ffa450edef68

commit b0a773718ffdb23a32b975ec62d67452e801a1ef
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Aug 9 01:54:34 2007 +0000

    Setup framework for cluster JMX operations
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@564069 13f79535-47bb-0310-9956-ffa450edef68

commit 48159b9d402d5dad83b5da33b950f6626c05faed
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Aug 8 23:45:21 2007 +0000

    Fix typos.
    Play with wording.
    Add note about license for wsdl4j.jar
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@564046 13f79535-47bb-0310-9956-ffa450edef68

commit b3ef938d68bebfd421ca6e1d675aad8608202e9c
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Aug 8 16:00:07 2007 +0000

    forward port from 6.0
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@563925 13f79535-47bb-0310-9956-ffa450edef68

commit 1d3ec5252fefa503ca628eb0a0672aa35f1ff0a4
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Aug 8 15:05:25 2007 +0000

    - Update changelog.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@563911 13f79535-47bb-0310-9956-ffa450edef68

commit 7ffaf873c840de36471c36db1370572e0c8152d4
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Aug 8 14:55:33 2007 +0000

    - As suggested by a couple people, start accepting after starting everything else, to avoid running into non
      initialized fields.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@563905 13f79535-47bb-0310-9956-ffa450edef68

commit b9cbbb5151d42c0a80e2429112459910947aa003
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Aug 7 19:02:25 2007 +0000

    back port from trunk, bz http://issues.apache.org/bugzilla/show_bug.cgi?id=42530
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@563625 13f79535-47bb-0310-9956-ffa450edef68

commit cccdf405762a03d815c09b9de02a89160b4e9a6e
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Aug 7 15:48:08 2007 +0000

    Don't send out if there are no members
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@563534 13f79535-47bb-0310-9956-ffa450edef68

commit 29551a72ff03f769b3cf492b3d10403532d2b142
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Aug 7 15:46:27 2007 +0000

    Don't send the message if there are no members in the cluster
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@563533 13f79535-47bb-0310-9956-ffa450edef68

commit 1602b8524d60222844343993ecaccec49397399d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Aug 7 01:34:05 2007 +0000

    Line endings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@563367 13f79535-47bb-0310-9956-ffa450edef68

commit ee43b5bd11856b3305916a16296e12691fddaecc
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Aug 6 23:49:46 2007 +0000

    forward port from markt bug fixes in 6.0.x branch
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@563344 13f79535-47bb-0310-9956-ffa450edef68

commit 38e7124318605297d65f5eae3b1d9a2c96284814
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Aug 6 23:19:37 2007 +0000

    Improve poller timeout handling to not waste cycles
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@563331 13f79535-47bb-0310-9956-ffa450edef68

commit 2621ea1cf3fb082e2ee1410579fc3902fa075aaf
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Aug 6 23:19:17 2007 +0000

    Improve upon poller timeout handling, to not waste cycles running the timeout setting too often
    same fix as 6.0.x
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@563330 13f79535-47bb-0310-9956-ffa450edef68

commit 0b15c93a1e6620da54fda189d615a142edf1455c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 5 17:15:59 2007 +0000

    Add eol-style native
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@562913 13f79535-47bb-0310-9956-ffa450edef68

commit 2bd3502c5f6982a579d6278bad843d8c95fe3705
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 5 17:14:14 2007 +0000

    Add eol-style native
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@562911 13f79535-47bb-0310-9956-ffa450edef68

commit af1498627794c335260096923d5c57fb0f9ac0b6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 5 17:12:28 2007 +0000

    Add eol-style native to the maven files
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@562910 13f79535-47bb-0310-9956-ffa450edef68

commit c96115e3fabba0ba54a49dcfd4753e37a1d68406
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 5 17:03:16 2007 +0000

    Add license to another file I missed.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@562907 13f79535-47bb-0310-9956-ffa450edef68

commit ce3e76fdeb5d9596a7c2dbf2da563977c0be54d0
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 5 04:12:49 2007 +0000

    Add license to a file I missed.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@562818 13f79535-47bb-0310-9956-ffa450edef68

commit abe33d255b947a64066d9f497693bfd38a53f30f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 5 03:52:04 2007 +0000

    Add missing licence header to all files in webapps.
    Again, need to check commit message
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@562814 13f79535-47bb-0310-9956-ffa450edef68

commit 95ff55c421107ff3e042f9001a9235d9ae5bccb4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 5 03:48:09 2007 +0000

    Add missing licence header to all files in res
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@562813 13f79535-47bb-0310-9956-ffa450edef68

commit b4c5bdcde955c8eb30c4502241f86c14cd14f288
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 5 03:16:50 2007 +0000

    Update to 2.0b licence header
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@562811 13f79535-47bb-0310-9956-ffa450edef68

commit 2fee5acd0583c8cf6dc432aa9081ec5013a7d7a9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 5 03:15:27 2007 +0000

    Add missing licence header to remaining files in java/org/apache
    Everything compiles without error but I need to check the commit message to make sure it hasn't done anything crazy.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@562810 13f79535-47bb-0310-9956-ffa450edef68

commit b34afd99e76377ef47288286956d760215cbe798
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 5 03:11:28 2007 +0000

    Add missing licence header to all files in java/org/apache/jasper
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@562809 13f79535-47bb-0310-9956-ffa450edef68

commit cd8db30e453f4d359cc730817acbd1aa81a6e49f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Aug 5 03:07:46 2007 +0000

    Add missing licence header to all files in java/org/apache/el
    Everything compiles without error but I need to check the commit message to make sure it hasn't done anything crazy.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@562807 13f79535-47bb-0310-9956-ffa450edef68

commit 78a39267df2cd6cbd2d6c671cb1a8704b4dd3deb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Aug 4 23:31:26 2007 +0000

    Add missing licence header to all files in java/org/apache/coyote
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@562786 13f79535-47bb-0310-9956-ffa450edef68

commit 2eab9fdc75276241d0b910e8da5ba30b21aa05b3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Aug 4 23:30:01 2007 +0000

    Add missing licence header to all files in java/org/apache/catalina
    Everything compiles without error but I need to check the commit message to make sure it hasn't done anything crazy.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@562785 13f79535-47bb-0310-9956-ffa450edef68

commit 8da52747c6f44d6b27cbef8e39bc73188bbb6862
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Aug 4 23:25:13 2007 +0000

    Add xml declaration
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@562784 13f79535-47bb-0310-9956-ffa450edef68

commit e23d28b0b2e5deb786948698d44451f483703a42
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Aug 4 23:24:16 2007 +0000

    Replace this file with the AL2 licensed Tomcat 5.5.x versions.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@562783 13f79535-47bb-0310-9956-ffa450edef68

commit 1fd85f0978bb36995927351c237b5d891f92d525
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Aug 4 23:21:49 2007 +0000

    Replace these files with the AL2 licensed Tomcat 5.5.x versions.
    Includes mime-type update that wasn't in 2.4 xsd
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@562781 13f79535-47bb-0310-9956-ffa450edef68

commit 84236ceb0a0b8ada2d50507409a2d0e08feab64b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Aug 4 23:06:16 2007 +0000

    Replace these files with the AL2 licensed Tomcat 5.5.x versions.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@562777 13f79535-47bb-0310-9956-ffa450edef68

commit 20aee33ff98593372b966a9e534e984dbd8e0f6a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Aug 4 22:21:50 2007 +0000

    Fix results of running the license checking tool for java/javax/mail directory
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@562772 13f79535-47bb-0310-9956-ffa450edef68

commit 6d191037cdf5b87ae8f43ad4f0d073eb63e801cc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Aug 4 22:17:42 2007 +0000

    Fix results of running the license checking tool for conf directory
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@562771 13f79535-47bb-0310-9956-ffa450edef68

commit 843f790f158c9ae435ff07736c6bbc0b5fd5cd34
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Aug 4 22:13:58 2007 +0000

    Fix results of running the license checking tool for bin directory
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@562770 13f79535-47bb-0310-9956-ffa450edef68

commit 2ba95f7af30416c3610f20e142419f945a167c1b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Aug 4 22:08:32 2007 +0000

    Fix results of running the license checking tool.
    Some of these are border line, but better to have the license present than not.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@562769 13f79535-47bb-0310-9956-ffa450edef68

commit c8eed7972e9e4765d02eb7f366c550b91dd4c566
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Aug 4 22:04:00 2007 +0000

    Correct Tomcat version
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@562768 13f79535-47bb-0310-9956-ffa450edef68

commit 54ff82d1c598a3d68c4e36f13284223b8ffed3d9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Aug 4 18:13:40 2007 +0000

    Remove code testing for bug 37326 showed was not required.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@562752 13f79535-47bb-0310-9956-ffa450edef68

commit 2cce4af1893bf28422052e92f9d857d74a895a04
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Aug 4 18:13:04 2007 +0000

    Port fix for 37326. Ensure missing includes resources cause errors rather than being silently ignored.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@562751 13f79535-47bb-0310-9956-ffa450edef68

commit 44e36eaae5a2fa6993b71d3c487959182b851678
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Aug 4 16:17:22 2007 +0000

    Port fix for bug 42944. + should only decoded to space in query strings.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@562736 13f79535-47bb-0310-9956-ffa450edef68

commit a546262f1b5a9dc4fc10c5147b6ee044baff56be
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Aug 4 16:01:50 2007 +0000

    Update JavaDoc information
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@562734 13f79535-47bb-0310-9956-ffa450edef68

commit 783dc90c2693f2163cac21c1ae12f37d34e9cb5f
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Aug 3 21:40:20 2007 +0000

    Forward port from 6.0
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@562594 13f79535-47bb-0310-9956-ffa450edef68

commit 34e698c7149041ce3d2fff42de68c2acf41eb72b
Author: Costin Manolache <costin@apache.org>
Date:   Thu Aug 2 17:25:21 2007 +0000

    Add a simple one-line formatter.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@562187 13f79535-47bb-0310-9956-ffa450edef68

commit 40cb6db02bde9643d828516ef16c57bef01ac621
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jul 31 13:38:23 2007 +0000

    forward port from 6.0
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@561328 13f79535-47bb-0310-9956-ffa450edef68

commit 7afc2dbceb09e48000336bb84424ab8269c271fa
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jul 31 13:35:35 2007 +0000

    patch provided by Alexander Maas, fix timeout setting on a replicated session
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@561326 13f79535-47bb-0310-9956-ffa450edef68

commit 8b17e7e20209187fc4f56bad99e95f2d764cc000
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 30 23:48:45 2007 +0000

    Fix bug 42979. Update sample.war to include recent security fixes.
    Ported from TC5.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@561188 13f79535-47bb-0310-9956-ffa450edef68

commit 727775423731393bb5fb01bf209eed35d4884e8c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 30 23:37:47 2007 +0000

    Fix WebDAV for MS clients.
    Fix error message when there is no request content
    Ported from TC5
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@561186 13f79535-47bb-0310-9956-ffa450edef68

commit 8aa247eb346880dde8b6a84865f5689e955190f9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 30 18:13:30 2007 +0000

    Port fix for 39212. Possible NPE and redundant code.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@561077 13f79535-47bb-0310-9956-ffa450edef68

commit 663ddc6cf8d804be00798d923aa796a4b8c830e7
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 27 23:38:19 2007 +0000

    Added missing attribute to the docs
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@560422 13f79535-47bb-0310-9956-ffa450edef68

commit 6f210e6baa86c3d8dd557fd0aebab851dc9640a0
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Jul 22 18:31:13 2007 +0000

    BZ 42951: Port r454193 (BZ 36976) from TC 5.5.x:
    Don't use CATALINA_OPTS when stopping Tomcat.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@558523 13f79535-47bb-0310-9956-ffa450edef68

commit 39be2cadd14bbbc64497bcc07e36e9038f34c438
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Jul 22 18:29:59 2007 +0000

    BZ 42951: Port r454193 (BZ 36976) from TC 5.5.x:
    Don't use CATALINA_OPTS when stopping Tomcat.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@558522 13f79535-47bb-0310-9956-ffa450edef68

commit f7591b486d1c0faabe19132239fce6ff72f66128
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 20 22:41:17 2007 +0000

    missing import
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@558184 13f79535-47bb-0310-9956-ffa450edef68

commit 78485ff2b12c098a907ff94f2a4dfaf6bb7d5d2b
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 20 22:36:07 2007 +0000

    upsync from 6.0
    http://svn.apache.org/viewvc?view=rev&rev=557454
    http://svn.apache.org/viewvc?view=rev&rev=557467
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@558182 13f79535-47bb-0310-9956-ffa450edef68

commit cb8f84acc9099f4c146987c2f2d3e5b6ebc0cabd
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 20 22:31:38 2007 +0000

    up sync from 6.0
    http://svn.apache.org/viewvc?view=rev&rev=556453
    http://svn.apache.org/viewvc?view=rev&rev=556489
    http://svn.apache.org/viewvc?view=rev&rev=556767
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@558181 13f79535-47bb-0310-9956-ffa450edef68

commit f7445921e3a17d78fa30a0679c08db109a836b74
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 20 22:29:12 2007 +0000

    up sync from 6.0
    http://svn.apache.org/viewvc?view=rev&rev=555310
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@558179 13f79535-47bb-0310-9956-ffa450edef68

commit f0e76d230478e485eed3c23f07f11f33148a07a9
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 20 22:28:05 2007 +0000

    up sync from 6.0
    http://svn.apache.org/viewvc?view=rev&rev=554814
    http://svn.apache.org/viewvc?view=rev&rev=555304
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@558178 13f79535-47bb-0310-9956-ffa450edef68

commit b8ac93278382b0738588fd1542020df509f50211
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 20 22:24:26 2007 +0000

    sync up from 6.0
    http://svn.apache.org/viewvc?view=rev&rev=553716
    http://svn.apache.org/viewvc?view=rev&rev=554109
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@558177 13f79535-47bb-0310-9956-ffa450edef68

commit 2c6ad2285456fcc8fe50eb4b0e0a6b730371fdcc
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 20 22:18:27 2007 +0000

     syncing up from 6.0
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@558176 13f79535-47bb-0310-9956-ffa450edef68

commit 265cc465a12efe4f9c2cd0ddb7a7bd16b1879c9c
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 20 20:44:08 2007 +0000

    synch from 6.0
    
    http://svn.apache.org/viewvc?view=rev&rev=543307
    http://svn.apache.org/viewvc?view=rev&rev=553410
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@558127 13f79535-47bb-0310-9956-ffa450edef68

commit e9f1b47642d26a3cee5a520cc2dfbcbf427fdab1
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 20 00:21:23 2007 +0000

    forward port from 6.0
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@557822 13f79535-47bb-0310-9956-ffa450edef68

commit c7a15b9887635ff14701533fb678c069668ccd17
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Jul 19 23:48:06 2007 +0000

    - Fix classcast exceptions if Comet is used and there's a filter (I forgot to commit this patch).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@557818 13f79535-47bb-0310-9956-ffa450edef68

commit aac77091e8bf0b65e905b27a5020a72d47e484d6
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jul 19 16:28:04 2007 +0000

    forward port from 6.0
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@557679 13f79535-47bb-0310-9956-ffa450edef68

commit 12e9be2caa9127bcde3ada2cab4f4a7881525fad
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jul 19 16:26:53 2007 +0000

    complete the bug fix
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@557676 13f79535-47bb-0310-9956-ffa450edef68

commit ef93f84def100d3864ad7b7176ba3e22d0c1c069
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Thu Jul 19 15:51:50 2007 +0000

    This Valve is to extra the SSL informations from additional headers
    When using Apache httpd as proxy they are added by mod_headers and the following directives:
    RequestHeader set SSL_CLIENT_CERT "%{SSL_CLIENT_CERT}s"
    RequestHeader set SSL_CIPHER "%{SSL_CIPHER}s"
    RequestHeader set SSL_SESSION_ID "%{SSL_SESSION_ID}s"
    RequestHeader set SSL_CIPHER_USEKEYSIZE "%{SSL_CIPHER_USEKEYSIZE}s"
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@557664 13f79535-47bb-0310-9956-ffa450edef68

commit 78d1cf1c2f0d933bc8c0a7180f1a5a78fa80ebbb
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jul 19 14:21:35 2007 +0000

    BZ 42937, forward port from 6.0
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@557638 13f79535-47bb-0310-9956-ffa450edef68

commit 2af6488711dad0b16f65e40075479e8c09a32a48
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jul 19 14:17:18 2007 +0000

    BZ 42937
    use the correct index
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@557635 13f79535-47bb-0310-9956-ffa450edef68

commit 805357866ae06d59605df4e1ec265fb79fc19ad7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 19 02:41:08 2007 +0000

    Make cookie handling conform to RFC2965. Don't treat the single quote character as special.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@557467 13f79535-47bb-0310-9956-ffa450edef68

commit 5202986c8f2a67bb08a360e178bc04bfe986b69b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 19 02:19:10 2007 +0000

    Fix compiler warnings.
    Filter output.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@557454 13f79535-47bb-0310-9956-ffa450edef68

commit 813e7ee8935cef53b60d992d5fee3cd5f4913ed8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 16 23:33:46 2007 +0000

    Clarify that the manager app is already installed. Remove adding entry to server.xml as an installation option.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@556767 13f79535-47bb-0310-9956-ffa450edef68

commit f201950a5af298bce103d2e0b573bd4e05abbc4f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jul 16 02:01:01 2007 +0000

    Fix reload problem that only affected ROOT.xml. Ported from 5.5.x
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@556489 13f79535-47bb-0310-9956-ffa450edef68

commit 02351a75815eebc1e9b47f5330cef54763617fb7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jul 15 20:58:12 2007 +0000

    Remove references to adding stuff to server.xml and cross-reference the context docs instead.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@556453 13f79535-47bb-0310-9956-ffa450edef68

commit 59ec6629a081cc1dbf3c428cb18bab4e60977469
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Jul 15 17:03:25 2007 +0000

    Correct j.u.l log levels in JULI docs.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@556431 13f79535-47bb-0310-9956-ffa450edef68

commit 9b258bf0a431e09e59877fd0ec322a5ced9e93e8
Author: Rainer Jung <rjung@apache.org>
Date:   Sun Jul 15 17:02:56 2007 +0000

    Correct j.u.l log levels in JULI docs.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@556430 13f79535-47bb-0310-9956-ffa450edef68

commit 48a300e6ae0e260fc2c810d4bfbd807872fb592e
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Wed Jul 11 15:31:03 2007 +0000

    Use Constants.SESSION_PARAMETER_NAME instead "jsessionid".
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@555310 13f79535-47bb-0310-9956-ffa450edef68

commit 13c212193e961f38682353faa0b7ab0b807e1859
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Wed Jul 11 15:28:52 2007 +0000

    Use Globals.SESSION_PARAMETER_NAME instead "jsessionid".
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@555304 13f79535-47bb-0310-9956-ffa450edef68

commit 4d65197060b350e106e5f403b91322302ca52432
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jul 10 03:40:02 2007 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@554814 13f79535-47bb-0310-9956-ffa450edef68

commit ee0ef53cb1c626eeb8c2fc046221607076e6225d
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jul 9 20:53:48 2007 +0000

    fix for bz 42840
    http://issues.apache.org/bugzilla/show_bug.cgi?id=42840
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@554764 13f79535-47bb-0310-9956-ffa450edef68

commit e6c35d92845dd4a5b0c61a2ab9532966e6ffe62d
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jul 9 20:52:52 2007 +0000

    Fix BZ 42840
    http://issues.apache.org/bugzilla/show_bug.cgi?id=42840
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@554762 13f79535-47bb-0310-9956-ffa450edef68

commit 7a6e9b21a6cee459dce2be120f20fb36c5b87b90
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jul 9 09:49:18 2007 +0000

    Separate sequence increment from getter in ThreadPool to avoid
    misleading increments during monitoring via JMX.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@554588 13f79535-47bb-0310-9956-ffa450edef68

commit bfe23ce0c45a0ca332e984d19978178a78cc6bfc
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jul 9 09:48:48 2007 +0000

    Separate sequence increment from getter in ThreadPool to avoid
    misleading increments during monitoring via JMX.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@554587 13f79535-47bb-0310-9956-ffa450edef68

commit 5bdbb330d3bbac5a12768e2da54d08675c75adce
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jul 9 09:09:50 2007 +0000

    Remove invalid attribute "encoding" of MBean MemoryUserDatabase,
    which lead to errors in the manager webapp JMXProxy output.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@554579 13f79535-47bb-0310-9956-ffa450edef68

commit 1df4d0ee8ed432afa2931bcbca35fde2e9e309ce
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jul 9 09:09:01 2007 +0000

    Undo unintetional commit from r554562. Will come next as separate commit.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@554578 13f79535-47bb-0310-9956-ffa450edef68

commit 915f582cf0ed272d80504d815fa698b29d5eea3c
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jul 9 09:05:54 2007 +0000

    Remove invalid attribute "encoding" of MBean MemoryUserDatabase,
    which lead to errors in the manager webapp JMXProxy output.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@554577 13f79535-47bb-0310-9956-ffa450edef68

commit dcb600fd941474de004ab7f413aa964b6708cd29
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jul 9 08:59:33 2007 +0000

    Don't write error on System.out, use log() instead.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@554571 13f79535-47bb-0310-9956-ffa450edef68

commit b637894404df4baf3ef870468e5465b0b2fd50d7
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jul 9 08:59:02 2007 +0000

    Don't write error on System.out, use log() instead.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@554570 13f79535-47bb-0310-9956-ffa450edef68

commit 1de403d2e2c786d47a72fab548036fa07bad871f
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jul 9 08:45:22 2007 +0000

    BZ 39813: Correct handling of new line characters in JMX attributes.
    Patch provided by R Bramley. Ported from tc5.5.x r415029.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@554563 13f79535-47bb-0310-9956-ffa450edef68

commit 4904623c666c812863ef2b0700efc29da7df673c
Author: Rainer Jung <rjung@apache.org>
Date:   Mon Jul 9 08:44:50 2007 +0000

    BZ 39813: Correct handling of new line characters in JMX attributes.
    Patch provided by R Bramley. Ported from tc5.5.x r415029.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@554562 13f79535-47bb-0310-9956-ffa450edef68

commit 283f4ade0ba6f8e6eedf7446089dee44ae36fada
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 7 01:40:19 2007 +0000

    Fix typo.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@554109 13f79535-47bb-0310-9956-ffa450edef68

commit a4faa0ed030691f3ad8e4b43260192ada7634a39
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 6 03:31:04 2007 +0000

    Remove old util class that is no longer used.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@553716 13f79535-47bb-0310-9956-ffa450edef68

commit 561941256ada7d8af5e566a7afaa5c51e29a50c5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jul 6 02:36:32 2007 +0000

    o.a.t.util.http
    Tabs -> 8 spaces
    Fix compiler warnings
    No functional change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@553700 13f79535-47bb-0310-9956-ffa450edef68

commit a0d1ce103ae0cfb137e43ac56dfd658edd8e844c
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Thu Jul 5 08:13:06 2007 +0000

    Escape the " in the cookie value.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@553410 13f79535-47bb-0310-9956-ffa450edef68

commit 7db95169f35da0392a4382007aa40ea19784ad4f
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Wed Jul 4 14:29:19 2007 +0000

    Arrange the handling of cookies values.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@553218 13f79535-47bb-0310-9956-ffa450edef68

commit b9a978792b6f3b38428e2c51625ea3850f599f84
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jul 3 13:31:05 2007 +0000

    BZ 42803
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@552838 13f79535-47bb-0310-9956-ffa450edef68

commit 6a8c50223dbfe19fe1250fad0acd411d08d3202f
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jul 3 13:29:43 2007 +0000

    Fix BZ 42803
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@552836 13f79535-47bb-0310-9956-ffa450edef68

commit 3457d7ce53d36447f1aed58c2e73a24dec3dfb7f
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jul 2 18:46:20 2007 +0000

    Force closure of connections upon a server shutdown
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@552560 13f79535-47bb-0310-9956-ffa450edef68

commit 71c58b90f8a3405856c1b4eec093dc4fca38efe4
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Jun 29 13:58:09 2007 +0000

    - Changelog update.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@551897 13f79535-47bb-0310-9956-ffa450edef68

commit a6ea14d2e9db9d0cad341dde7a82c3c2beef0368
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jun 29 13:07:27 2007 +0000

    Bugzilla 42753
    Same fix as 6.0 branch
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@551881 13f79535-47bb-0310-9956-ffa450edef68

commit fd6f5508267bfa8dccc05f1395c3375d34c3232d
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Jun 29 12:35:04 2007 +0000

    - Fix a lost reference problem when using Comet with a security manager.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@551870 13f79535-47bb-0310-9956-ffa450edef68

commit 6693a6e8cbdf6a544c36d4accd03475175195108
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jun 28 21:21:37 2007 +0000

    try setting equalness to false, see if we can do better
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@551702 13f79535-47bb-0310-9956-ffa450edef68

commit ec61b986f99db73f39a0eb537c7593507b7dce6b
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jun 28 18:41:00 2007 +0000

    Same fix as for 6.0 branch, invoke error if the read did not empty the buffer
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@551656 13f79535-47bb-0310-9956-ffa450edef68

commit 58746806fa1b45ad070312a76ae9141bab417d5a
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Jun 28 18:16:09 2007 +0000

    - If bytes are not read, send an error event (otherwise, fields referring to the connection could remain).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@551647 13f79535-47bb-0310-9956-ffa450edef68

commit 4e219ff529fdc310df9d774be40027e7ea5c0827
Author: William Barker <billbarker@apache.org>
Date:   Sun Jun 24 23:27:57 2007 +0000

    porting AJP large-file support from 5.5
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@550299 13f79535-47bb-0310-9956-ffa450edef68

commit f232171deb2ea07d5ee493473d71898a32810510
Author: William Barker <billbarker@apache.org>
Date:   Sun Jun 24 23:19:50 2007 +0000

    porting AJP large-file support from 5.5
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@550297 13f79535-47bb-0310-9956-ffa450edef68

commit 85e94f63aa789f539921ce7cbdeb04a1f262ed11
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 24 21:58:36 2007 +0000

    Tabs -> 8 spaces
    Fix compiler warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@550293 13f79535-47bb-0310-9956-ffa450edef68

commit ba25bfbf0da492387a4de0d0660f86a995ba9a90
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 24 17:28:45 2007 +0000

    Port fix for bug 41722. role-link in web.xml should be optional.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@550263 13f79535-47bb-0310-9956-ffa450edef68

commit 6c6ad833be16a181bf32088b8a02233004ccb28a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 24 11:45:44 2007 +0000

    Close streams as noted in bug 42314.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@550210 13f79535-47bb-0310-9956-ffa450edef68

commit 53add24c46d3298b5236d9285a13745c105162a2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jun 23 15:00:51 2007 +0000

    Port fix for bug 42547. Fix NPE when a ResourceLink tries to override an env-entry.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@550048 13f79535-47bb-0310-9956-ffa450edef68

commit 428b4716f45fe8705f2a5ea6b0bda0f8f94d76c4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 22 17:33:38 2007 +0000

    Remove default host which is no longer used.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@549894 13f79535-47bb-0310-9956-ffa450edef68

commit e46822264fbf450aa319f2c6e931573366c38b6b
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Jun 18 15:54:54 2007 +0000

    - Fix API. Submitted by Bill Burke.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@548385 13f79535-47bb-0310-9956-ffa450edef68

commit 5b65cf43284415ade493afea222907cf449a0514
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jun 16 15:39:21 2007 +0000

    Port fix bug 42643. Prevent creation of duplicate function mapper variables.
    Fix various compiler warnings.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@547932 13f79535-47bb-0310-9956-ffa450edef68

commit e1f14dbe31ebb703c6056c1197bd3606894785bb
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jun 15 21:35:57 2007 +0000

    fix formatting for latest added example
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@547794 13f79535-47bb-0310-9956-ffa450edef68

commit 15a736bd9ff0e01ef46a3b715f87dfd35faaa088
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jun 15 21:31:45 2007 +0000

    Added in AJAX with delayed response example
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@547792 13f79535-47bb-0310-9956-ffa450edef68

commit 1f0293e412e85ee43f7dec1ec0c791599417bb6e
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jun 15 21:27:12 2007 +0000

    minor correction
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@547788 13f79535-47bb-0310-9956-ffa450edef68

commit 6271d5e02cd4b4ff1086aa4e34fd2d8d106f80f0
Author: William Barker <billbarker@apache.org>
Date:   Thu Jun 14 02:55:26 2007 +0000

    Porting large-file support for the AJP Connectors from 5.5
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@547096 13f79535-47bb-0310-9956-ffa450edef68

commit a3ba5062e005327edffd06a1677b6fb753807f64
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 14 02:01:19 2007 +0000

    Fix XSS issues in snoop.jsp. This is CVE-2007-2449. Some of these are harder (impossible?) to exploit than others but doing all of them means there won't be another XSS issue to patch later.
    I also made a similar change for a couple of other JSPs that are in the harder/impossible? to exploit category.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@547081 13f79535-47bb-0310-9956-ffa450edef68

commit 4b447e78c5bd69f37cbe49ea654b94796eb93dde
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 14 01:57:01 2007 +0000

    Ignore local build properties
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@547079 13f79535-47bb-0310-9956-ffa450edef68

commit bcb9ed822f51e9580fc2eb0782aab6817f04eb8d
Author: William Barker <billbarker@apache.org>
Date:   Thu Jun 14 01:56:16 2007 +0000

    Porting large-file support for the AJP Connectors from 5.5
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@547078 13f79535-47bb-0310-9956-ffa450edef68

commit 1bc3bcb2848f478fd6674487d6dad507fd5dd686
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jun 14 01:55:09 2007 +0000

    Fix XSS issue in Manager and Host Manager. This is CVE-2007-2450.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@547077 13f79535-47bb-0310-9956-ffa450edef68

commit 147b83ccafb26ab235f5b95beb8c29a3ec4313d3
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Jun 13 22:51:56 2007 +0000

    added simple example code snippets to comet usage
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@547055 13f79535-47bb-0310-9956-ffa450edef68

commit 9191a18624a8327b47f7455e2149d4cb11df8e10
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Jun 13 18:51:38 2007 +0000

    simplify API a bit based on feedback
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@546999 13f79535-47bb-0310-9956-ffa450edef68

commit 85d386f7a336602a3dbb535bed56536470851711
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Jun 13 17:07:06 2007 +0000

    fix for BZ 42650
    http://issues.apache.org/bugzilla/show_bug.cgi?id=42650
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@546959 13f79535-47bb-0310-9956-ffa450edef68

commit 46bda081dfdbf8100e948c0e69801c35a12964bd
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Jun 13 17:05:14 2007 +0000

    fix for BZ 42650
    http://issues.apache.org/bugzilla/show_bug.cgi?id=42650
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@546958 13f79535-47bb-0310-9956-ffa450edef68

commit e79edcdcf7fb69eaa394420bcc430499c5495142
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Jun 13 17:00:21 2007 +0000

    fix for BZ 42648
    http://issues.apache.org/bugzilla/show_bug.cgi?id=42648
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@546955 13f79535-47bb-0310-9956-ffa450edef68

commit beebd8043053b9013b7db079942bfce52053b9d0
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Jun 13 16:55:27 2007 +0000

    Fix for BZ 42648
    http://issues.apache.org/bugzilla/show_bug.cgi?id=42648
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@546952 13f79535-47bb-0310-9956-ffa450edef68

commit 6d7b58b66b7ab66d088a96b0f31b6a0794539272
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 13 02:07:43 2007 +0000

    Add generation of html versions of source files for the examples webapp.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@546706 13f79535-47bb-0310-9956-ffa450edef68

commit 327964d3950e63a5b1dfcf1c40bb1abb2e3fc774
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jun 11 12:11:20 2007 +0000

    oops, didn't mean to relax the close method
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@546117 13f79535-47bb-0310-9956-ffa450edef68

commit e1bec14942ab69e306581fd6e37340ac28961e86
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jun 11 11:53:47 2007 +0000

    Added some doco
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@546108 13f79535-47bb-0310-9956-ffa450edef68

commit 024d61a87e8fe63282323f2aab1f4583b097b2c7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jun 9 00:18:22 2007 +0000

    Look for tools.jar in right place.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@545668 13f79535-47bb-0310-9956-ffa450edef68

commit 7a235aff138fa285938d1804906f5557e0f193c9
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jun 8 11:27:42 2007 +0000

    minor optimization to the blocking selector
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@545479 13f79535-47bb-0310-9956-ffa450edef68

commit b3396c0369f54524ca50f3a7e3b73b4a43a358a7
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jun 8 10:52:49 2007 +0000

    Cancel the blocking key only, no need to cancel anything else here
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@545474 13f79535-47bb-0310-9956-ffa450edef68

commit 1dbffc3a910975bf0c9b221b9b2d45aad776ced8
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jun 8 10:22:50 2007 +0000

    added debug statement instead of swallowing
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@545470 13f79535-47bb-0310-9956-ffa450edef68

commit 1176cadc9c37e0b0431d7ff3a16ad0fa1ebc6a7f
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jun 8 10:18:21 2007 +0000

    straightened out buffer handling
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@545469 13f79535-47bb-0310-9956-ffa450edef68

commit 2fe78b33229b21ec9c618d8842894d3fd11c0674
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jun 7 13:48:07 2007 +0000

    notes, still need some work on the write to socket
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@545180 13f79535-47bb-0310-9956-ffa450edef68

commit 850da31663f87ee99e49dabd60d9da5b889c21d8
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jun 7 12:15:22 2007 +0000

    Simplified the API, no need for the IOExceptions
    Updated documentation, added in some notes about life cycle, more source code examples to come
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@545151 13f79535-47bb-0310-9956-ffa450edef68

commit 5accb17571a616def54afca2d0f2f649f079cdd8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jun 6 01:08:53 2007 +0000

    Fix old reference to Jakarta.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@544700 13f79535-47bb-0310-9956-ffa450edef68

commit 6d2a325154af8fc0bf1f148357082d5de932e97f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jun 2 01:42:17 2007 +0000

    Port fix for 33774. Retry on ServiceUnavailableException
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@543693 13f79535-47bb-0310-9956-ffa450edef68

commit a84cde3d9bf2dd13060aac4b0f6738b8565f3210
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jun 2 01:37:08 2007 +0000

    Fix compiler warnings in o.a.c.realm
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@543691 13f79535-47bb-0310-9956-ffa450edef68

commit 050d9ed7055c6ca636aeada2980e178163401bbb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jun 2 00:42:59 2007 +0000

    Fix compiler warnings
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@543681 13f79535-47bb-0310-9956-ffa450edef68

commit 0114b2d0410f80f53de1f63019d60cbfb7610f67
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jun 2 00:42:36 2007 +0000

    Port fix for bug 42497. Include ETag header on 304 response as per RFC2616. Patch provided by Len Popp.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@543680 13f79535-47bb-0310-9956-ffa450edef68

commit b37ec503a026304621572128c6e9f04417dc90e5
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jun 1 18:55:10 2007 +0000

    added cleanup code
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@543576 13f79535-47bb-0310-9956-ffa450edef68

commit 12360f259ea134f05914aebd7e006a4e94574229
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jun 1 17:20:06 2007 +0000

    Thread safe handling of dealing with async writes and non blocking writes, needed to separate it into a poller for incoming events and one poller for outgoing data
    Not thread safe for multiple async servlet threads writing at the same time, up to the comet developer to set it straight
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@543538 13f79535-47bb-0310-9956-ffa450edef68

commit 6e07f1f7eaf9f20caaa72fe6d9909cb4014c7174
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jun 1 07:40:37 2007 +0000

    Forward port of BZ 42509 and BZ 42515
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@543414 13f79535-47bb-0310-9956-ffa450edef68

commit 089609a6f328db13471783d269588ec4d292c15c
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jun 1 07:38:39 2007 +0000

    Fix signatures
    BZ 42509
    BZ 42515
    Submitted by Paul McMahan
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@543413 13f79535-47bb-0310-9956-ffa450edef68

commit 71eccb355a4e1d13826631c9ae77332b183af7ec
Author: Remy Maucherat <remm@apache.org>
Date:   Thu May 31 23:08:24 2007 +0000

    - 42559: I did not make equivalent modifications (the isCommitted method was not invoked on the facade).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@543307 13f79535-47bb-0310-9956-ffa450edef68

commit 077867c74d34c8b1b06618f08cdca2e95080870f
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu May 31 19:55:12 2007 +0000

    remove not used, at least until I've figured out the concurrency issue around the read/write
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@543237 13f79535-47bb-0310-9956-ffa450edef68

commit bc12d3903b9164c3c2c91e396b8c0c85d027df2c
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu May 31 19:53:25 2007 +0000

    restore original interest ops
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@543235 13f79535-47bb-0310-9956-ffa450edef68

commit 9ca0f82d9411268b1aaa4d7b1850e1621454ecfb
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu May 31 19:44:27 2007 +0000

    consolidate the usage of the NioChannel buffers
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@543228 13f79535-47bb-0310-9956-ffa450edef68

commit aeb96d4940b3a953421a4761988f950ab9dea30b
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu May 31 19:34:05 2007 +0000

    rearrange
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@543227 13f79535-47bb-0310-9956-ffa450edef68

commit c83d8ec5aeed0a467cbde2aad5cc70a9f30bdc25
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu May 31 19:32:33 2007 +0000

    1. Timeouts are now per connection, not using fixed timeouts anywhere. by default the connection gets the timeout defined in server.xml
    2. Implemented all Comet operations, including the ability to have none
    3. Implemented CometEvent.isReadable and isWriteable
       isAvailable - means data is available to the servlet
       isReadable - means there is data from the socket also checks the socket, by doing a read, in a non blocking fashion to verify this to be true
       isWriteable - the last write attempted on this socket was 0, hence we are probably blocking
    4. simplified CometEvent.register/unregister, they are now just one call and no syncs
    5. After each event, the connection is registered with the same operations it had before
    6. CoyoteAdapter respects when the servlet doesn't want to be notified of the READ event, hence it doesn't invoke it automatically
    7. Let me know if MutableBoolean and MutableInteger should be elsewhere(in terms of package), they are used since ActionHook doesn't have a return value and also valuable in the output buffers since SSL writing is two steps, one through the engine and the other to the socket
    I'm pretty happy with how isReadable,isWriteable works, they are completly non blocking and very accurate
    True non blocking in the buffers and filters seems like a major surgery, still holding off on that.
    Need to fix the NioBlockingSelector as it is almost impossible to make the poller interest declaration thread safe
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@543226 13f79535-47bb-0310-9956-ffa450edef68

commit 0d7bfe68c34394a0adfe1214256993b01fe232ab
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu May 31 11:51:34 2007 +0000

    return the amount of bytes written
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@543117 13f79535-47bb-0310-9956-ffa450edef68

commit 8aabc1ffb20958113ea9c1619c52921d41f266c1
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu May 31 10:34:27 2007 +0000

    add brackets to clarify what were trying to do
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@543107 13f79535-47bb-0310-9956-ffa450edef68

commit f35ad0237e2f151e6b65f9eeea4daaa27e4f75f6
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu May 31 09:09:04 2007 +0000

    implement CALLBACK and WRITE events
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@543091 13f79535-47bb-0310-9956-ffa450edef68

commit a7a1c2fe861b68028bbd50fce89ca56f4c0d4635
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu May 31 08:48:01 2007 +0000

    simplify register and poller interest for comet, all can be done in one call
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@543086 13f79535-47bb-0310-9956-ffa450edef68

commit e32e38be7c09fc695afa55a67281d17785ea2da8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu May 31 02:44:55 2007 +0000

    Port fix for bug 39425. Add additional permission required for precompiled JSPs.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@543026 13f79535-47bb-0310-9956-ffa450edef68

commit 577d63ee24bfd069f6027f0654d85f10ac4aac9a
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed May 30 08:44:40 2007 +0000

    no need to sync here, the poller will dispatch for handling anyway
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@542779 13f79535-47bb-0310-9956-ffa450edef68

commit f95d20357d426eb9267a2a1dd4ef110a7221665c
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue May 29 22:23:36 2007 +0000

    setup default operation
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@542678 13f79535-47bb-0310-9956-ffa450edef68

commit 3fe02e657ff7656dcb7e3ff8066ed9e06b405593
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue May 29 22:13:26 2007 +0000

    When using a comet connection, register the requested operations instead of the default read
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@542674 13f79535-47bb-0310-9956-ffa450edef68

commit a0cc7351f342d68231b3e53dfbaabec9a6cbc53d
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue May 29 22:08:19 2007 +0000

    added in some comments
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@542673 13f79535-47bb-0310-9956-ffa450edef68

commit e7e87b2b7ade6cc34d8ffa8a131ecf93ffb85faf
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue May 29 22:04:24 2007 +0000

    question mark has to be a global variable
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@542671 13f79535-47bb-0310-9956-ffa450edef68

commit 30ad3a7c244bcdc7cddbfb8faa1df97e2fcef24a
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue May 29 21:53:52 2007 +0000

    implement non blocking reading of the request line
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@542666 13f79535-47bb-0310-9956-ffa450edef68

commit e903340fa355e1b2806bf1c5bfd49028a622ec31
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue May 29 20:52:25 2007 +0000

    The protocol class will register the socket with the poller for another read event
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@542649 13f79535-47bb-0310-9956-ffa450edef68

commit 7d7653cb068b8c0c7aaaac6cc9f3d826fb0ed674
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue May 29 20:41:53 2007 +0000

    Remove the non blocking handling of the request, doesn't work well with the new non thread local processor handling
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@542645 13f79535-47bb-0310-9956-ffa450edef68

commit 68d130fcbe97ed03fbb2d01f74755bbb3f9f94f2
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue May 29 20:26:49 2007 +0000

    Make the new way of handling processors work with the ability to read headers in a non blocking way
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@542644 13f79535-47bb-0310-9956-ffa450edef68

commit 96f6fcdd6eb53da1bd7ceecc5f4f7f7b1bd8b8c2
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue May 29 18:41:07 2007 +0000

    implement comet operation notification
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@542618 13f79535-47bb-0310-9956-ffa450edef68

commit 1c6e3866d3fdc1ed6ea56b6e692e10854789560c
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue May 29 18:04:51 2007 +0000

    only notify the poller if it is done async, otherwise we don't need to, it will be done at the end of the request
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@542603 13f79535-47bb-0310-9956-ffa450edef68

commit bc29ca0ae7467e20013f8c1d898df40eaa1911ce
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue May 29 17:52:36 2007 +0000

    Blocking and non blocking is the only configuration option right now,
    no need for the NO_IO option, as it can be controlled using the register/unregister options
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@542600 13f79535-47bb-0310-9956-ffa450edef68

commit a7656b13e76e1c6954f3c71dd3f250bcd5da5f3c
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue May 29 16:54:27 2007 +0000

    simplify isreadable and iswriteable
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@542589 13f79535-47bb-0310-9956-ffa450edef68

commit 35cc1aba67a30a7010e16b10cf9633758142c258
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue May 29 16:46:23 2007 +0000

    adopted changes
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@542586 13f79535-47bb-0310-9956-ffa450edef68

commit 2f185b3df1e4c50a87a9984977e11f4c0fc5a984
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue May 29 10:44:51 2007 +0000

    Add the additional SocketStatus event types, its up to the connector implementation to send the correct one.
    Currently the functionality is backwards compatible as OPEN changed to OPEN_READ
    
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@542482 13f79535-47bb-0310-9956-ffa450edef68

commit 05b286fb7ec8a9ec7e8672a050a5192494856c3d
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue May 29 10:29:25 2007 +0000

    Added in the registration of comet interest operations
    Added in PollerInterest enumeration to satisfy different socket implementations and to decouple org.apache.tomcat from org.apache.catalina
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@542479 13f79535-47bb-0310-9956-ffa450edef68

commit 71ee94f279d83ff90e9dd9cce4d15c0b8be9ea8e
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon May 28 15:20:46 2007 +0000

    add in flags for readable or writeable
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@542250 13f79535-47bb-0310-9956-ffa450edef68

commit f23b99755bd5b1f1766cc9d6992b06a1aeb463c0
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon May 28 15:16:13 2007 +0000

    implement method callbacks
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@542247 13f79535-47bb-0310-9956-ffa450edef68

commit 6188989f688b235e8ac408249773786168787c21
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon May 28 15:01:08 2007 +0000

    cleanup
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@542244 13f79535-47bb-0310-9956-ffa450edef68

commit 229e3a093fdfc5c4dcdb2c1b179bdacae6aa4af4
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon May 28 14:34:09 2007 +0000

    set timeout can be called any time, at least for now
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@542238 13f79535-47bb-0310-9956-ffa450edef68

commit 406e50853ee90612ec6710b67afe9f42c3cb19a2
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon May 28 14:18:04 2007 +0000

    configure can be called as long as we are on a tomcat thread, not in the begin stage
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@542235 13f79535-47bb-0310-9956-ffa450edef68

commit 969a8da89278601cbfa1cf025e9f35b0cb5cd311
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon May 28 11:40:28 2007 +0000

    remove usage of timeout attribute
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@542209 13f79535-47bb-0310-9956-ffa450edef68

commit 464a81464d69ac1dea073eb09b4426ac064ae6c1
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon May 28 11:39:15 2007 +0000

    Implement setTimeout using an Action instead of an attribute
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@542208 13f79535-47bb-0310-9956-ffa450edef68

commit 384a53e7410864f9255e1ec442f10e8c34420db2
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon May 28 11:38:30 2007 +0000

    update to test cases, no change really
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@542207 13f79535-47bb-0310-9956-ffa450edef68

commit 73ca8f0d9b2e2d52f4003485fa7001e48319eb93
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon May 28 11:04:00 2007 +0000

    CometProcessor should extend servlet, as they have the regular servlet lifecycle
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@542195 13f79535-47bb-0310-9956-ffa450edef68

commit 9e44e4de71fa25c253810b817ce1b83cfda80816
Author: Remy Maucherat <remm@apache.org>
Date:   Mon May 28 10:35:32 2007 +0000

    - Switch from AnnotationProcessor to InstanceManager.
    - Submitted by David Jecks, with some modifications: package names, addition of an extra method to allow
      injecting already instantiated objects, and a system property in Jasper (to specify to use the instance manager
      to create tag instances).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@542189 13f79535-47bb-0310-9956-ffa450edef68

commit 41d01208aeb359700ac76733d185a6da6c607ed2
Author: Remy Maucherat <remm@apache.org>
Date:   Mon May 28 10:06:31 2007 +0000

    - Redo findSessions which was outdated (42530 claims concurrency problems that I can't reproduce).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@542185 13f79535-47bb-0310-9956-ffa450edef68

commit 73daf70813d36154256752ec17799bd13f530537
Author: Remy Maucherat <remm@apache.org>
Date:   Sun May 27 14:02:36 2007 +0000

    - Typo.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@541991 13f79535-47bb-0310-9956-ffa450edef68

commit 90319d6ab37caa0d59d9b474153bed3ff1c1a044
Author: William Barker <billbarker@apache.org>
Date:   Sun May 27 02:01:05 2007 +0000

    Porting fix to allow for a forward/include to call getAttributeNames on the Request in a sandbox
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@541958 13f79535-47bb-0310-9956-ffa450edef68

commit 4c7def8f6f04c1558395d95848998434e032e288
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu May 24 15:47:29 2007 +0000

    Add in support to check if the current thread is a Tomcat 'worker' thread or not, that way we can decide if the invokations are appropriate or not
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@541337 13f79535-47bb-0310-9956-ffa450edef68

commit 0ffda38dec6e36b8e756d65cfb4b0184e4fae305
Author: Mladen Turk <mturk@apache.org>
Date:   Thu May 24 06:56:59 2007 +0000

    Automatically detect CPU and 64-bit JVM version. This allows to install the proper service wrapper for the JVM and CPU used.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@541206 13f79535-47bb-0310-9956-ffa450edef68

commit 969996615949e7d75e61eee007b278ae8a8c1ce9
Author: Mladen Turk <mturk@apache.org>
Date:   Thu May 24 06:54:44 2007 +0000

    Add windows service binaries to the .zip distribution.
    The rule can be excluded by defining exclude.service.binaries in build.properties file.
    Service binaries included are for all platforms WIN32 and WIN64.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@541204 13f79535-47bb-0310-9956-ffa450edef68

commit 188cc2802e7b66c6005e7c451afc20e5852ae3fc
Author: Remy Maucherat <remm@apache.org>
Date:   Wed May 23 15:49:36 2007 +0000

    - Revert the API changes in the 6.0.x branch.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@540981 13f79535-47bb-0310-9956-ffa450edef68

commit 536bff44e288a599f07c77f5c455f546f15eeffe
Author: Remy Maucherat <remm@apache.org>
Date:   Wed May 23 15:44:33 2007 +0000

    - NPE check (when using JMX, if I remember correctly).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@540979 13f79535-47bb-0310-9956-ffa450edef68

commit 23c6dbb69893038c578370fbe03cb5d5ce3d33d8
Author: Fabien Carrion <fcarrion@apache.org>
Date:   Wed May 23 03:56:10 2007 +0000

    Correction Bug 42436 patch from Paul McMahan
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@540832 13f79535-47bb-0310-9956-ffa450edef68

commit 0ea4c7cb5b91cc8ad0ab9ee16fad676d5cad48de
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 23 02:44:56 2007 +0000

    Port fix for bug 39875.
    Fix genrics compiler warnings.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@540813 13f79535-47bb-0310-9956-ffa450edef68

commit 5e188bcc7abeadc6dd4b6ccaacd1127e0a46d361
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed May 23 02:42:08 2007 +0000

    Port fix for bug 42438. Duplicate temp variable was created. Patch provided by Brian Lenz.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@540810 13f79535-47bb-0310-9956-ffa450edef68

commit d1a4ee07d756a4427fd9a6b40ba8e6d3fb0e839f
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue May 22 20:04:23 2007 +0000

    added some docs around the maven stuff
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@540729 13f79535-47bb-0310-9956-ffa450edef68

commit af811f8c70a125a129323ae499385eb2e41d4014
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue May 22 18:40:23 2007 +0000

    Added in dbcp and cleanup for signatures, as signing fails when the file already exists
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@540692 13f79535-47bb-0310-9956-ffa450edef68

commit 5984a69afe45bea9f3f1d0298512246e7a3250ec
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue May 22 16:26:02 2007 +0000

    Added in build package using Maven ANT tasks and that signs our JARs with GPG as well.
    Almost there
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@540638 13f79535-47bb-0310-9956-ffa450edef68

commit 38c4edd6879569a7f5e4b1722e96ff39fc4b64fa
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue May 22 15:52:14 2007 +0000

    Added domain membership test
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@540616 13f79535-47bb-0310-9956-ffa450edef68

commit b102fee6fd7132ca7ac1792758f7c5f53b714f7e
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue May 22 09:55:05 2007 +0000

    update docs
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@540513 13f79535-47bb-0310-9956-ffa450edef68

commit c45e3561ec02f382dd14766c7df29a2fb529fb28
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue May 22 09:54:20 2007 +0000

    update docs
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@540512 13f79535-47bb-0310-9956-ffa450edef68

commit 7638a3fcc039587210518468b0191928ee2c1b02
Author: Fabien Carrion <fcarrion@apache.org>
Date:   Tue May 22 07:40:22 2007 +0000

    Correction Bug 42436 patch from Paul McMahan
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@540457 13f79535-47bb-0310-9956-ffa450edef68

commit 69f00cc0ba9f02ac6f1bd4234b11c6be12fc5f46
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon May 21 14:08:04 2007 +0000

    forward port
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@540149 13f79535-47bb-0310-9956-ffa450edef68

commit e1cab26ec462e8a568dc06572f73e2d89d257749
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon May 21 13:32:46 2007 +0000

    Fix demo
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@540139 13f79535-47bb-0310-9956-ffa450edef68

commit 056e09e4ba10b71abb32b796d68586e6829fda98
Author: Remy Maucherat <remm@apache.org>
Date:   Mon May 21 10:46:17 2007 +0000

    - Create a new branch for HEAD development, to be
      branched later to https://svn.apache.org/repos/asf/tomcat/tcX.Y.x/trunk.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@540106 13f79535-47bb-0310-9956-ffa450edef68

commit e16d483cede7f509ad8af05744e4157ec2308e88
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon May 21 10:25:46 2007 +0000

    no need to pre initialize these values
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@540102 13f79535-47bb-0310-9956-ffa450edef68

commit bc307ebe1aa72edc96caad4b1d29189ce417a1cc
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon May 21 09:56:48 2007 +0000

    add non block support
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@540094 13f79535-47bb-0310-9956-ffa450edef68

commit 5a9dc8e5d88a0df16f3ee3301006eb31f915c8bf
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon May 21 09:54:46 2007 +0000

    add block/no block flag to flushing the SSL buffer
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@540093 13f79535-47bb-0310-9956-ffa450edef68

commit a125e40da2078d4680afa1210143d7b924cf364d
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon May 21 09:27:15 2007 +0000

    lock in the right place
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@540082 13f79535-47bb-0310-9956-ffa450edef68

commit 1d2a65215f11a5f345be9accf2ad18cb43343273
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon May 21 09:14:08 2007 +0000

    Only lock when incrementing the counter on sending messages, can be further optimized to have a lock per member
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@540077 13f79535-47bb-0310-9956-ffa450edef68

commit e8fbf5b95404860884093826586fcadc66aed0fe
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon May 21 09:08:02 2007 +0000

    minor change
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@540076 13f79535-47bb-0310-9956-ffa450edef68

commit 16f114715e3fd26f32a73deb2a5ce66a58f57861
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon May 21 09:07:25 2007 +0000

    remove locking from memberAdded and memberDisappeared, as it can lock with sending messages
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@540075 13f79535-47bb-0310-9956-ffa450edef68

commit 704b0a0fd261e9dd74b70984d289984362833486
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon May 21 09:02:21 2007 +0000

    Correct fix for removal of first read timeout, we are always using soTimeout, both for write and for read
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@540073 13f79535-47bb-0310-9956-ffa450edef68

commit 7a64e33c98d1f85480dc6a3469ac2ae96eed5f03
Author: William Barker <billbarker@apache.org>
Date:   Sun May 20 22:45:26 2007 +0000

    Shave a couple of ms off of the time :)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@539974 13f79535-47bb-0310-9956-ffa450edef68

commit 787bacb087f22dd2af9c77a0a0002dcbc48af612
Author: William Barker <billbarker@apache.org>
Date:   Sun May 20 22:28:47 2007 +0000

    Always reset the MB when doing getBytes
    
    Fix for bug #36155
    
    1) an unconditional reset is cheap if I'm going to call MB.setBytes
    2) the JK connector doesn't support any charset except iso-latin-1 anyway
    3) This particular connector is on the fast track to deprecated
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@539971 13f79535-47bb-0310-9956-ffa450edef68

commit 7ea6c2e3c0fc391276dc67e6f9ac2609d784a06c
Author: Timothy A. Funk <funkman@apache.org>
Date:   Sun May 20 18:33:16 2007 +0000

    JNDIRealm does not catch NullPointerException for Sun's LDAP provider
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@539907 13f79535-47bb-0310-9956-ffa450edef68

commit 33c9949d674a90ca0a29803b4523513f502b2e4f
Author: Rainer Jung <rjung@apache.org>
Date:   Sun May 20 17:12:08 2007 +0000

    Fix BZ 42459: Manager webap table format error
    for stopped and undeployed webapps.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@539895 13f79535-47bb-0310-9956-ffa450edef68

commit 776736fe577b13fc51d3e155e14d0aaf201915cd
Author: Timothy A. Funk <funkman@apache.org>
Date:   Sat May 19 18:31:09 2007 +0000

    bug 42444: prevent NPE
    Patch provided by Nils Hammar (funkman)
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@539787 13f79535-47bb-0310-9956-ffa450edef68

commit 59ef801965220af88f90e4f8bd8350fd8753e210
Author: Peter Rossbach <pero@apache.org>
Date:   Fri May 18 18:05:40 2007 +0000

    Hups, Http11NioProcessor need FirstReadTimeout at strange way.. Sorry!
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@539542 13f79535-47bb-0310-9956-ffa450edef68

commit a01f578a4679bbaaf51837500d21720fa81a465a
Author: Peter Rossbach <pero@apache.org>
Date:   Fri May 18 18:01:34 2007 +0000

    Remove unused local variable step
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@539541 13f79535-47bb-0310-9956-ffa450edef68

commit 7624460a3b09e19fb5c5e19e27d259dcab3ebdab
Author: Peter Rossbach <pero@apache.org>
Date:   Fri May 18 17:57:16 2007 +0000

    Remove unsused firstReadTimeout attribute
    Set correct default pollerThreadCount
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@539539 13f79535-47bb-0310-9956-ffa450edef68

commit c9772ad6c10730e09f5ea5a1b8b70a9347f36b5f
Author: Peter Rossbach <pero@apache.org>
Date:   Fri May 18 08:50:57 2007 +0000

    Add selectorTimeout default and a lot of value formatings.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@539322 13f79535-47bb-0310-9956-ffa450edef68

commit 7959d3da07931551ae0d50f7abd8f9fca8cdfd17
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu May 17 18:28:35 2007 +0000

    left overs
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@539066 13f79535-47bb-0310-9956-ffa450edef68

commit 5cbdf8ee89c9c1ef99430b69ea2d31d878b88506
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu May 17 15:43:49 2007 +0000

    minor optimizations
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@538977 13f79535-47bb-0310-9956-ffa450edef68

commit 1190c62297713261d53f4df7e6a328179fac6e58
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu May 17 13:45:15 2007 +0000

    Add locks instead of synchronized statements to avoid issues between receiving and sending
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@538920 13f79535-47bb-0310-9956-ffa450edef68

commit 480edc538e73c6635b8be5ed10aa9b1d9d6c68bf
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu May 17 13:19:59 2007 +0000

    Added in a unit test for ordering messages
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@538908 13f79535-47bb-0310-9956-ffa450edef68

commit 695455b6aa64815f89cedba0c485539d8322ace0
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu May 17 11:47:50 2007 +0000

    Avoid concurrent mod exception, remove from the iterator instead
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@538878 13f79535-47bb-0310-9956-ffa450edef68

commit 44407d639b33ea7534ba0ae1c2842048e3c46ce3
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon May 14 12:25:21 2007 +0000

    Make sure to respect the option flag, otherwise you must order everything
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@537797 13f79535-47bb-0310-9956-ffa450edef68

commit a175efac26e1069b2d9a1c3961041aa81f6289de
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 12 21:11:40 2007 +0000

    Fix bug 42401. Provide better JRE/JDK information.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@537518 13f79535-47bb-0310-9956-ffa450edef68

commit eeef44428fe479b69b700f8b359db14a17db4db3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri May 11 23:06:47 2007 +0000

    Update context info
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@537312 13f79535-47bb-0310-9956-ffa450edef68

commit 3508c9cf5d356cb3ab807b1e620ec514ca921d47
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu May 10 16:43:31 2007 +0000

    Added in actions for the new Comet methods
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@536931 13f79535-47bb-0310-9956-ffa450edef68

commit e26410c405dadbe65e3a78a72369d1f249a819fd
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu May 10 15:58:29 2007 +0000

    added in unregister
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@536901 13f79535-47bb-0310-9956-ffa450edef68

commit 202aa57756ad1922a2beaf61487576092854009c
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu May 10 15:24:51 2007 +0000

    Add in getters
    Also change name from pluralis to CometOperation
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@536888 13f79535-47bb-0310-9956-ffa450edef68

commit 162800ef49aa59035814014600598fa65de10482
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu May 10 12:41:42 2007 +0000

    feedback incorporated
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@536849 13f79535-47bb-0310-9956-ffa450edef68

commit 1a255a1fe6ab0b5bd82ae49a5f1cac96e708ceb2
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Thu May 10 12:29:41 2007 +0000

    Use "%r" and single quotes.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@536845 13f79535-47bb-0310-9956-ffa450edef68

commit 783b9e014c4ed09ed23356395f11f84ec7929092
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu May 10 11:49:09 2007 +0000

    oops, forgot these
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@536837 13f79535-47bb-0310-9956-ffa450edef68

commit 0867277b1d69a94dc6f0243a7071f523f22379c3
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu May 10 11:30:29 2007 +0000

    New proposed API calls for Comet
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@536830 13f79535-47bb-0310-9956-ffa450edef68

commit 0c7b82c76a2f11e43c3ac0861923c015737dfe6c
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed May 9 16:46:06 2007 +0000

    Separate out read vs write latches, simplify implementation, avoid concurrency issues and prepare for new comet strategies
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@536580 13f79535-47bb-0310-9956-ffa450edef68

commit 6e0f8724e3577bc8bbe23f6fd17aa41f4017f102
Author: Timothy A. Funk <funkman@apache.org>
Date:   Wed May 9 14:53:40 2007 +0000

    bad link : s/tomcat-docs/docs/
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@536554 13f79535-47bb-0310-9956-ffa450edef68

commit 607b06e2c1a3ec9da72a21e32e8f640047cf9448
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed May 9 14:18:25 2007 +0000

    volatile should ensure double locking to work properly
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@536540 13f79535-47bb-0310-9956-ffa450edef68

commit 86c4b9f77d822f658464b70d82635cb66628383b
Author: Mladen Turk <mturk@apache.org>
Date:   Wed May 9 13:54:04 2007 +0000

    Fix binaries by using /D_UNICODE for library as well.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@536529 13f79535-47bb-0310-9956-ffa450edef68

commit cba9ace77511fd476ba9792109ba55ec7026dc78
Author: Mladen Turk <mturk@apache.org>
Date:   Wed May 9 13:32:57 2007 +0000

    Update fixed binaries that will do a thread dump on stdout redirected file even if the log level is < INFO
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@536518 13f79535-47bb-0310-9956-ffa450edef68

commit d9cfcc01c21b6f2f302629f25539db83ddc24aa8
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Wed May 9 08:14:37 2007 +0000

    Arrange the default value of pattern.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@536456 13f79535-47bb-0310-9956-ffa450edef68

commit 637acc524dba7a8cb06cc896dcfa13f9f7934038
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 8 23:58:24 2007 +0000

    Fix bug 42361. Handle multi-part forms when saving request during FORM auth. Patch provided by Peter Runge.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@536381 13f79535-47bb-0310-9956-ffa450edef68

commit 5253834a3d84d0b7e045d4abb84fd724957ac42e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue May 8 23:49:56 2007 +0000

    Fix generics related warnings in o.a.c.authenticator package
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@536380 13f79535-47bb-0310-9956-ffa450edef68

commit b69a283827186bde5849b2e00a8c4a65fe1684b3
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue May 8 11:00:06 2007 +0000

    mimic APR behavior and do stuff according to document, TIMEOUT should not close the connection
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@536159 13f79535-47bb-0310-9956-ffa450edef68

commit 79a237bc87d251a2b97fce310c09119dbc5ce4f6
Author: Remy Maucherat <remm@apache.org>
Date:   Mon May 7 16:06:56 2007 +0000

    - Avoid casting (no functional change).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@535915 13f79535-47bb-0310-9956-ffa450edef68

commit edae922762e8f8e98ab44e43edb46877bd66052d
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon May 7 13:44:13 2007 +0000

    Set correct soLinger time
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@535877 13f79535-47bb-0310-9956-ffa450edef68

commit 61dab219a53e52000701b5059c68bedb808ddeb1
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon May 7 11:35:38 2007 +0000

    set the correct so linger attribute
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@535855 13f79535-47bb-0310-9956-ffa450edef68

commit 9829f2c3ba9d1699cba342c6b7925e96a500045a
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon May 7 11:30:17 2007 +0000

    Fix direct connect, which apparently happens on Solaris
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@535852 13f79535-47bb-0310-9956-ffa450edef68

commit 1ae7440d08799e3e65f8a57af2d995e3d751c396
Author: Remy Maucherat <remm@apache.org>
Date:   Sun May 6 13:35:54 2007 +0000

    - Add back missing socketBuffer attribute.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@535613 13f79535-47bb-0310-9956-ffa450edef68

commit 8668d20fc51154aeca590143e617a17d3d95caff
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat May 5 17:04:51 2007 +0000

    Port updates for path usage limitations
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@535547 13f79535-47bb-0310-9956-ffa450edef68

commit 5948870588ddf9fb328d02296f5597c775372d73
Author: Remy Maucherat <remm@apache.org>
Date:   Sat May 5 01:26:05 2007 +0000

    - Extras build update.
    - Year update.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@535433 13f79535-47bb-0310-9956-ffa450edef68

commit 1d735c35e06699f1ed5cdf2c0b6118737b286915
Author: Remy Maucherat <remm@apache.org>
Date:   Fri May 4 23:57:58 2007 +0000

    - Use the main xml file for tasks.
    - Submitted by Daniel Santos.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@535416 13f79535-47bb-0310-9956-ffa450edef68

commit ab076728287fd54e4c85541f92eeff64b6c67084
Author: Remy Maucherat <remm@apache.org>
Date:   Fri May 4 16:49:06 2007 +0000

    - Changelog update.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@535325 13f79535-47bb-0310-9956-ffa450edef68

commit 04de9af6fc95f933b17cc1e04070a50f43e9d908
Author: Remy Maucherat <remm@apache.org>
Date:   Fri May 4 16:46:47 2007 +0000

    - Small javadoc update.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@535324 13f79535-47bb-0310-9956-ffa450edef68

commit 4c56b10e8150d088f84bf9cfd5a29c6a8d147796
Author: Remy Maucherat <remm@apache.org>
Date:   Fri May 4 00:19:56 2007 +0000

    - Add some xsds to the constants.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@535038 13f79535-47bb-0310-9956-ffa450edef68

commit aeb7692f9215688d8f08976ce8a531a600a02ec8
Author: Remy Maucherat <remm@apache.org>
Date:   Fri May 4 00:04:39 2007 +0000

    - Use the better IOException type (any other exception is totally unexpected).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@535035 13f79535-47bb-0310-9956-ffa450edef68

commit a9352556e8989498ca2a387a94fff2bf8fb29f41
Author: Remy Maucherat <remm@apache.org>
Date:   Thu May 3 23:54:31 2007 +0000

    - Remove the didRead flag (an error checking hack).
    - If there is a read event, do at least one read on the connector (the buffer is necessarily empty, otherwise
      there would have been an error during the previous read event).
    - Side effect: EOFs can be reported using the END event, and exceptions can be reported as ERROR.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@535030 13f79535-47bb-0310-9956-ffa450edef68

commit 60f1d48592c6615229171e7a31d6fab56907aa5a
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu May 3 16:43:35 2007 +0000

    Fix the bug in AprLifecycleListener, the value of SSLEngine is never transferred to the listener.
    Patch submitted by mturk
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@534930 13f79535-47bb-0310-9956-ffa450edef68

commit 95460051b59f4f524b59b9a1930b2cfa5d358798
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu May 3 15:49:09 2007 +0000

    Ability to create a connector using a custom protocol specification for embedded.
    Fix for bug 42309
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@534913 13f79535-47bb-0310-9956-ffa450edef68

commit 055779627d0d868033f88c17cf6f74160bfe832b
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu May 3 02:35:56 2007 +0000

    Same fix as for the APR processor, although wouldn't this flag be set on the "recycle" method
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@534695 13f79535-47bb-0310-9956-ffa450edef68

commit 32055385e40a6f46660908410c27716d24e1493d
Author: Remy Maucherat <remm@apache.org>
Date:   Thu May 3 00:11:35 2007 +0000

    - Recycle the comet flag (pretty large glitch ...).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@534661 13f79535-47bb-0310-9956-ffa450edef68

commit 0d8318f2392f06b36f854f0b313553ba15e9eb9c
Author: Remy Maucherat <remm@apache.org>
Date:   Wed May 2 14:51:32 2007 +0000

    - Fix paths.
    - Submitted by Frank McCown.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@534492 13f79535-47bb-0310-9956-ffa450edef68

commit d48f5bee011eb69b5a5d4de9ed0058463edb6186
Author: Remy Maucherat <remm@apache.org>
Date:   Tue May 1 16:31:58 2007 +0000

    - Add a flag to work around the double start problem for embedded (the most usual problem is with contexts).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@534147 13f79535-47bb-0310-9956-ffa450edef68

commit 4a0472248dbffd4a8d652a4bd79ec55b38807400
Author: Remy Maucherat <remm@apache.org>
Date:   Tue May 1 12:46:12 2007 +0000

    - 42308: nextRequest recycles the request.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@534043 13f79535-47bb-0310-9956-ffa450edef68

commit 31c0084d8680ffa45f8b30e6ee837badb6766171
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Apr 30 23:39:41 2007 +0000

    - Obvious typo in didRead. Ooops. Maybe Eclipse did that.
    - Return 1 for available when using a Comet read and no real read was done (actually, it could well be good enough
      to only use didRead to get an "accurate" available() method, but it could probably be useful for blocking IO).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@533882 13f79535-47bb-0310-9956-ffa450edef68

commit 4a4304b1d7255197dc05308de30fc1ab8028f332
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Apr 30 23:36:10 2007 +0000

    - New read loop (much more conventional using the more accurate InputStream.available() method).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@533881 13f79535-47bb-0310-9956-ffa450edef68

commit 0b50d45a33659c04338997d6c0b19cba254ffb1d
Author: Remy Maucherat <remm@apache.org>
Date:   Sat Apr 28 00:49:06 2007 +0000

    - Add socket to the poller after cleanup in the connection handler event method (possible memory leak).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@533272 13f79535-47bb-0310-9956-ffa450edef68

commit c2d20a1e79c285cf08c325c120489d799eee337d
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Apr 27 22:03:57 2007 +0000

    - Add code to check that at least one read is made that goes down to the connector for each read event.
    - It is an error to not read bytes as long as some are reported as available.
    - Generate a read event if bytes are available after processing the begin event (for API lawyers out there).
    - Not tested yet, sorry. In theory, previously working code shouldn't have to be modified at all.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@533240 13f79535-47bb-0310-9956-ffa450edef68

commit 3cafd07c62b32f34a35c152fce5795d93f3b5287
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Apr 27 22:00:40 2007 +0000

    - Add an explicit check for null (it's there in the facades ...).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@533239 13f79535-47bb-0310-9956-ffa450edef68

commit 9251fd085f26b48fb790002390a535988c4a71ca
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Apr 27 19:40:21 2007 +0000

    Undo Pero's checkin, sorry Peter, just can't have it in there until the solution is more robust, although I don't think it will ever be implemented in association with memberships
    For now, senders that are no longer connected on the remote end, will be removed during the keepalive heartbeat
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@533197 13f79535-47bb-0310-9956-ffa450edef68

commit b3a3c25b4ec02c234de01b31a948d185d2040bf9
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Apr 27 17:04:36 2007 +0000

    - Add more accurate available() method, using a new action (still very cheap to invoke, and quite simple).
    - This is mostly useful for Comet, since it can be difficult to know for sure if reading is possible without
      blocking if the beginning of the entity body was sent along with the request header in a single packet.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@533164 13f79535-47bb-0310-9956-ffa450edef68

commit 3d4eac83300bdbe650ad2753bbbef0739f7e0586
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Apr 27 03:14:58 2007 +0000

    Remove call to remove clear connections upon a member disappeared event, this call is exposed higher in the API and should be controlled by the application
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@532943 13f79535-47bb-0310-9956-ffa450edef68

commit db8ee6380044fb40b0fab0746c8fb3e7613cf383
Author: Peter Rossbach <pero@apache.org>
Date:   Thu Apr 26 21:41:47 2007 +0000

    Remove senders as member disappeared..
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@532877 13f79535-47bb-0310-9956-ffa450edef68

commit 708dff2c936367464eec8201f6babcefeb6e8502
Author: Peter Rossbach <pero@apache.org>
Date:   Thu Apr 26 21:09:41 2007 +0000

    Add heartbeatBackgroundEnabled to enable channel heartbeat call.
    Don't forget to disable the GroupChannel heartbeat thread.
    Default is false.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@532865 13f79535-47bb-0310-9956-ffa450edef68

commit 6ad3ba85e0d26a984e889f73d833362fb731c9c5
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Apr 26 16:52:29 2007 +0000

    Change the name to a more appropriate name
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@532800 13f79535-47bb-0310-9956-ffa450edef68

commit 5a514caac8e1acde2a7a39c4fa73ad69d50d9ebb
Author: Peter Rossbach <pero@apache.org>
Date:   Thu Apr 26 04:58:20 2007 +0000

    remove unused flag!
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@532608 13f79535-47bb-0310-9956-ffa450edef68

commit 879cf828a0d8c0fdbaf36cc4f196bafb23b2c870
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Apr 25 19:57:45 2007 +0000

    - Changelog update for 6.0.12.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@532462 13f79535-47bb-0310-9956-ffa450edef68

commit 3efeb100b5b614b178500c074fc0064b35f82638
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Apr 25 19:56:25 2007 +0000

    - Session expiration and statistics tools.
    - Submitted by Rainer Jung.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@532461 13f79535-47bb-0310-9956-ffa450edef68

commit f418f36f71af94f4bc3c95f115b701c06f134601
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Apr 25 19:35:34 2007 +0000

    - Update for the timeout configuration.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@532451 13f79535-47bb-0310-9956-ffa450edef68

commit 7098f89132d5b9bd4921204b69c05837c5a9f7d2
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Apr 25 18:29:50 2007 +0000

    Implement keep alive timeout logic
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@532434 13f79535-47bb-0310-9956-ffa450edef68

commit a0fe1dba3c3e2924072d18df771321d96a45f939
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Apr 25 18:03:18 2007 +0000

    fix heartbeat
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@532429 13f79535-47bb-0310-9956-ffa450edef68

commit 8d125a05f1a20088279e5fddd2743c23101c6cc9
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Apr 25 17:19:18 2007 +0000

    Change latch behavior so that it can coexist with other IO events
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@532411 13f79535-47bb-0310-9956-ffa450edef68

commit 1203ec657a07e595350433d6f34c0c27e520f8d8
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Apr 25 16:48:19 2007 +0000

    - Remove fixme for the timeout hack. I think this timeout has a lot in common with the keep alive value in terms of
      resource use, so the normal behavior seems good enough.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@532405 13f79535-47bb-0310-9956-ffa450edef68

commit 38c897ba986ce602ac7b06356ad9bb1eb69b2eeb
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Apr 25 16:16:37 2007 +0000

    Fix error handling when a single failure occurs
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@532400 13f79535-47bb-0310-9956-ffa450edef68

commit 12cf4dd354323b6390aff61267088d953f89c8d4
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Apr 24 21:42:00 2007 +0000

    reset timeout counter upon registration
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@532092 13f79535-47bb-0310-9956-ffa450edef68

commit eca11ee6799b8ec3c77f51ed18b38c46a38a56e6
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Apr 24 16:53:00 2007 +0000

    - This error shouldn't happen, and it's out of the servlet, so it is not going to be possible to send another event.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@532006 13f79535-47bb-0310-9956-ffa450edef68

commit f9ddabab486d66948aa5ade85cdf4f38af4315f6
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Apr 24 13:42:07 2007 +0000

    - 42202: Fix a problem handling %xx encoded URLs (unfortunately, some are encoded - the webapp CL and the system CL -
      and some are not - the URL CL).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@531938 13f79535-47bb-0310-9956-ffa450edef68

commit edcfe4ce0b30a8405c18ce416b63caea30578996
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Apr 24 12:24:34 2007 +0000

    - Port Mark's patch.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@531901 13f79535-47bb-0310-9956-ffa450edef68

commit 2a217d0d71a1a2f8bb410f9a39d93f0daee88efb
Author: Peter Rossbach <pero@apache.org>
Date:   Mon Apr 23 14:17:49 2007 +0000

    add enabled attribute to support JMX enable/disable logging.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@531475 13f79535-47bb-0310-9956-ffa450edef68

commit 26bd054b882906b1ed7c67f5cdca7e922e78e494
Author: Peter Rossbach <pero@apache.org>
Date:   Mon Apr 23 14:15:42 2007 +0000

    move to correct release, sorry!
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@531474 13f79535-47bb-0310-9956-ffa450edef68

commit db133a51d9c7a5218c9363e7e287dad3ba977341
Author: Peter Rossbach <pero@apache.org>
Date:   Mon Apr 23 14:11:44 2007 +0000

    Add toString method to better logging support.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@531471 13f79535-47bb-0310-9956-ffa450edef68

commit 6a3690e9d57de54c77184250433ba4664174c400
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Apr 23 10:30:02 2007 +0000

    - Proposed refactoring of dispatcher logging (remove some "I can't use a debugger" style logging as well).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@531415 13f79535-47bb-0310-9956-ffa450edef68

commit c597d7b16947c4ab07bd5d7e33b8a17aec1e1a3f
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Apr 23 00:26:39 2007 +0000

    - Fix license headers.
    - Submitted by Niall Pemberton.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@531305 13f79535-47bb-0310-9956-ffa450edef68

commit a49326136a8cf9c803f268f06e91ecb62f275799
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Apr 23 00:26:10 2007 +0000

    - Fix license headers.
    - Submitted by Niall Pemberton.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@531304 13f79535-47bb-0310-9956-ffa450edef68

commit df9f3249a6e3bcff3d8280629a1bfe6d7669b00f
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Apr 23 00:24:01 2007 +0000

    - Fix license headers.
    - Submitted by Niall Pemberton.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@531303 13f79535-47bb-0310-9956-ffa450edef68

commit b41ca6f6feff5a41d214aeff57decb447c209a0f
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Apr 23 00:19:33 2007 +0000

    - Fix license headers.
    - Submitted by Niall Pemberton.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@531302 13f79535-47bb-0310-9956-ffa450edef68

commit 96142718f7cf6f3c5e0547075cdff02e949170f5
Author: Peter Rossbach <pero@apache.org>
Date:   Sat Apr 21 21:51:19 2007 +0000

    Add Missing isInfoEnabled checks
    No functional change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@531115 13f79535-47bb-0310-9956-ffa450edef68

commit ea2947f9f2dfcf4f72031763826b68a3741b0ad5
Author: Peter Rossbach <pero@apache.org>
Date:   Sat Apr 21 20:07:17 2007 +0000

    Remove unused field and at copyright!
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@531101 13f79535-47bb-0310-9956-ffa450edef68

commit ed5180c03669902ecf0cfaf3c6e2c5cb318c5db7
Author: Peter Rossbach <pero@apache.org>
Date:   Sat Apr 21 18:56:27 2007 +0000

    fix :-)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@531085 13f79535-47bb-0310-9956-ffa450edef68

commit f90399994a069eb511efe36384feac08836a8304
Author: Peter Rossbach <pero@apache.org>
Date:   Sat Apr 21 18:54:48 2007 +0000

    Add Missing isInfoEnabled checks
    No functional change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@531083 13f79535-47bb-0310-9956-ffa450edef68

commit 29e37f47231fb36e2725a536fec6d5391396bf10
Author: Peter Rossbach <pero@apache.org>
Date:   Sat Apr 21 18:53:12 2007 +0000

    Add Missing isInfoEnabled checks
    No functional change
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@531081 13f79535-47bb-0310-9956-ffa450edef68

commit 3f1ba131b636a88ee9f8d036156abfa389db1056
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Apr 19 21:45:30 2007 +0000

    - Add the comet valve (commented out).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@530559 13f79535-47bb-0310-9956-ffa450edef68

commit 20bd80a273ad82a9dc3b21305f5369d5242e6830
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 19 02:58:35 2007 +0000

    Complete fix for 41655.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@530243 13f79535-47bb-0310-9956-ffa450edef68

commit 508f513efb734183fb4cd8f7f5838502dadf83d5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Apr 19 02:28:08 2007 +0000

    Fix bug 42071 - ISE on multiple UnavailableExceptions.
    Allow recovery after an UnavailableException
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@530239 13f79535-47bb-0310-9956-ffa450edef68

commit a6db9d782cc705bcb1b630b932d9d050fa1baa3e
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Apr 19 02:18:33 2007 +0000

    - Remove some attributes.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@530233 13f79535-47bb-0310-9956-ffa450edef68

commit 8c17d2816c007d5eec205a0a891f522f08f454db
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Wed Apr 18 12:44:41 2007 +0000

    default is not javac but the JDT compiler (See doc).
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@530004 13f79535-47bb-0310-9956-ffa450edef68

commit ce4cd2ed7eb94a8f9c1fa1ee6b66a1073b469a11
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 18 01:30:25 2007 +0000

    Revert previous fix for 41869 and apply Remy's suggested fix.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@529822 13f79535-47bb-0310-9956-ffa450edef68

commit 9d0ec06186efba9c929038bae4b37a905515be11
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Apr 18 00:32:36 2007 +0000

    Fix bug 41869. TagData.getAttribute() should return TagData.REQUEST_TIME_VALUE when the attribute value is an EL expression.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@529818 13f79535-47bb-0310-9956-ffa450edef68

commit e9df6ace9beb2f6f984e7214871708bd8a4710b5
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Apr 17 14:10:07 2007 +0000

    - Protect about possible issues calling toString in escapeXml(Object).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@529612 13f79535-47bb-0310-9956-ffa450edef68

commit 19153236826e473df65863a18d37cea56d9354d8
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Apr 17 01:52:50 2007 +0000

    - Code cleanup (less thread local manipulation).
    - Submitted by Arvind Srinivasan.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@529466 13f79535-47bb-0310-9956-ffa450edef68

commit 82e878b1cffdde9fdf2a4c69a5051dc1f5dd03e5
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Apr 17 01:50:35 2007 +0000

    - Merge changes to the other protocols, to fix leaking when using an executor (for java.io, not using a thread local
      has no performance impact).
    - Harmonize properties between the 4 protocols.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@529465 13f79535-47bb-0310-9956-ffa450edef68

commit a46cd1e7f95ae74233a6c1d3357c860b64c1f091
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Apr 16 23:30:55 2007 +0000

    - Add session browser capabilities in the manager. Let me know if it creates problems (I checked XSS to some extent to,
      but please double check if you can).
    - Submitted by Cédrik Lime.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@529444 13f79535-47bb-0310-9956-ffa450edef68

commit 523433ef29d527fdafb31ec6255dffd6a6606326
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Apr 16 23:30:24 2007 +0000

    - Add session browser capabilities in the manager. Let me know if it creates problems (I checked XSS to some extent to,
      but please double check if you can).
    - Submitted by Cédrik Lime.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@529443 13f79535-47bb-0310-9956-ffa450edef68

commit c4a1bd9fe7b625f739b01f636ce02493b9b0419a
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Apr 16 23:30:03 2007 +0000

    - Add session browser capabilities in the manager. Let me know if it creates problems (I checked XSS to some extent to,
      but please double check if you can).
    - Submitted by Cédrik Lime.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@529442 13f79535-47bb-0310-9956-ffa450edef68

commit add269fb430743c2934a581bf375a544878fa6b2
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Apr 16 22:59:24 2007 +0000

    - Fix links (42130).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@529434 13f79535-47bb-0310-9956-ffa450edef68

commit 011a4b3976db550b09d69363114cfe48bbe0d7e6
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Apr 16 22:59:03 2007 +0000

    - Fix links (42130).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@529433 13f79535-47bb-0310-9956-ffa450edef68

commit d79be7228fb4101349cc8313d6ff3f98109be28d
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Apr 16 21:01:16 2007 +0000

    - Update path (part of 42130).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@529399 13f79535-47bb-0310-9956-ffa450edef68

commit 167b35cc982df3fb19adda51eb32924661818eb2
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Apr 16 21:00:52 2007 +0000

    - Update path (part of 42130).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@529398 13f79535-47bb-0310-9956-ffa450edef68

commit 494bd8d7a20ee7f4302f3ac423130e305f9c0e1b
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Apr 16 16:14:47 2007 +0000

    - Port changes from the NIO connector to the APR connector, to resolve memory leaking when using an executor (note:
      when not using an executor, no memory leak could occur).
    - Discard thread local usage altogether, as my testing did not show a measurable performance difference. I don't know
      if this would change when scaling up the number of CPUs (if anyone wants to test).
    - No size limit by default, since this is mechanically limited (amount of threads + open comet connections).
    - Harmonize code with the HTTP/1.1 connector.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@529305 13f79535-47bb-0310-9956-ffa450edef68

commit dfd1416df932d6367c856276601d2c0a1dc0562b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 15 20:04:25 2007 +0000

    Fix bug 41990. Add some new mime-type mappings.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@529060 13f79535-47bb-0310-9956-ffa450edef68

commit 77ba62e751a24bfd5db3180948d5b73e187cf164
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 15 19:26:34 2007 +0000

    Fix bug 42025. Refer to correct regular expression implementation
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@529052 13f79535-47bb-0310-9956-ffa450edef68

commit 7f66fc9db56fac449611f2e474cc3edbb6ab3748
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 15 17:46:17 2007 +0000

    Update change log. Move post 6.0.11 change to correct section.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@529037 13f79535-47bb-0310-9956-ffa450edef68

commit c3d2ce46de54d41f084210f60f9e80a57841ae43
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 15 17:45:34 2007 +0000

    Fix bug 42039. Log a stack trace if a servlet throws an UnavailableException. Patch provided by Kawasima Kazuh
    Remove some unused code.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@529036 13f79535-47bb-0310-9956-ffa450edef68

commit 7fdf2ec7566176c8e6a531e0bc8b7897334b7336
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 15 00:24:49 2007 +0000

    Remove old, unused utility methods.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@528897 13f79535-47bb-0310-9956-ffa450edef68

commit 4cf171afa0c34705b56f7d92d3f6ecfee7c4c370
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Apr 15 00:22:47 2007 +0000

    Fix bug 42119 using approach suggested by Leigh L Klotz Jr of using RequestUtil implementation.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@528896 13f79535-47bb-0310-9956-ffa450edef68

commit 75a5a08bdd3f9959d9ae016f70cdefb8b1ca6bf7
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat Apr 14 17:06:10 2007 +0000

    remove comments
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@528840 13f79535-47bb-0310-9956-ffa450edef68

commit c590ebee3105dd97e97de785f730d4b91a44febd
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat Apr 14 16:47:20 2007 +0000

    remove duplicate code, cause of all my headaches
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@528837 13f79535-47bb-0310-9956-ffa450edef68

commit c4add4d948a8c9b9a94473600162181b8ff30cd4
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat Apr 14 16:31:45 2007 +0000

    Revert to revision 528735, something is broken and I'm losing my mind
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@528832 13f79535-47bb-0310-9956-ffa450edef68

commit 056353c7b6923e2c24f328fdb3495c93fc3b51fc
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat Apr 14 15:02:21 2007 +0000

    oops, didn't mean to make that into the prev commit
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@528819 13f79535-47bb-0310-9956-ffa450edef68

commit e120e8b9fcf1d1adf7d1cda07c8a97ca01ac0ff7
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat Apr 14 15:02:02 2007 +0000

    consolidate methods into one
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@528818 13f79535-47bb-0310-9956-ffa450edef68

commit 0ce0a91bac3684a052a364fdcc701dfacb38d870
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat Apr 14 14:39:22 2007 +0000

    apply the right exit condition
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@528816 13f79535-47bb-0310-9956-ffa450edef68

commit c7de17085b6c699b2b1cc2e78c64806366b80ed9
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat Apr 14 03:45:41 2007 +0000

    minor optimization, go directly to the poller, chances of another request being present at that very time is very slim
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@528751 13f79535-47bb-0310-9956-ffa450edef68

commit 128ff0a8dd94666c7eb296ece04cb70d5e83397e
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat Apr 14 02:48:45 2007 +0000

    Minor optimizations
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@528744 13f79535-47bb-0310-9956-ffa450edef68

commit 82424ca0c7d7e5c3adfeb854e48e0becf2ede4d3
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat Apr 14 01:41:35 2007 +0000

    Smarter executor, only create threads if no threads are available
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@528735 13f79535-47bb-0310-9956-ffa450edef68

commit 4bfb8f4fa1bb62ce1b70771375eae6c75326b7e5
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Apr 13 23:26:07 2007 +0000

    Added a TCP ping for membership, to be used with static memberships and with the TCP failure detector
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@528702 13f79535-47bb-0310-9956-ffa450edef68

commit 1c2f419814132d6188b4914a2c7d1059f4e0b2b5
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Apr 13 19:16:08 2007 +0000

    remove redundant calls, easier to track usage
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@528605 13f79535-47bb-0310-9956-ffa450edef68

commit e93e4e4fa58896b1dde1e7fd8e1c8a87a826c247
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Apr 13 19:05:01 2007 +0000

    consolidate usage between executor runnables and worker threads
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@528594 13f79535-47bb-0310-9956-ffa450edef68

commit e228df9b3b652bdc2613503882ca4a62ceec62b1
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Apr 13 18:08:43 2007 +0000

    Use the remaining for the byte buffer as the capacity is the total capacity and not the limit
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@528570 13f79535-47bb-0310-9956-ffa450edef68

commit 3fd3fff062a9a18523aa351e92ef1058b62bb331
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Apr 13 16:51:54 2007 +0000

    prevent a timeout when a servlet write is issued, but not flushed
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@528551 13f79535-47bb-0310-9956-ffa450edef68

commit 37b5f5be0a53a5d163162cd925f598677da36946
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Apr 13 15:39:44 2007 +0000

    Prevent NPE on a key that was cancelled by the poller
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@528528 13f79535-47bb-0310-9956-ffa450edef68

commit 851b1af3b55fa9f2fd802e3b8b6db45df86ac262
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Apr 13 15:33:44 2007 +0000

    if the flush is not guaranteed, then try again
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@528526 13f79535-47bb-0310-9956-ffa450edef68

commit bcf5aa009de1e303ec3f4c2e09bbb79708094353
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Apr 13 15:32:19 2007 +0000

    This write has to be synchronized since comet can write to the buffer and cause a buffer overflow if more than one thread is writing
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@528524 13f79535-47bb-0310-9956-ffa450edef68

commit 44cfafedaad20fd68a92aeebbecc0015222cf911
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Apr 13 14:05:35 2007 +0000

    - XML directive (most important commit ever !!).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@528491 13f79535-47bb-0310-9956-ffa450edef68

commit 2e5e7f8ead27747a2cca86f24be4dae8a08a22af
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Apr 13 04:19:09 2007 +0000

    Since we can keep alive a HTTP connection, even after we have stopped using it as a comet, then we need to go back to the original timeout
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@528347 13f79535-47bb-0310-9956-ffa450edef68

commit 8c35dba068f6adcf8e58aec48ae9fe3d06c3feee
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Apr 13 03:22:29 2007 +0000

    Updated with some useful info
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@528341 13f79535-47bb-0310-9956-ffa450edef68

commit 2dbabee8816545ee562dc07ba281522fe804a649
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Apr 13 02:28:01 2007 +0000

    Fix the handling of the Http11NioProcessors when the thread pool can be shrinking and growing.
    So we are not associating the processor with a thread local, instead going directly to a pool of them
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@528323 13f79535-47bb-0310-9956-ffa450edef68

commit fa2b7463715ffdd561bc79fea7b579becec5a40d
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Apr 12 15:34:51 2007 +0000

    - 42085: The handlers for the root logger are now added in addLogger when they are explicitly specified.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@527981 13f79535-47bb-0310-9956-ffa450edef68

commit 98f82483a68dee707b237dc99eb05ec2561f4218
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Apr 12 14:53:06 2007 +0000

    Don't unmark the object as a comet, if we do, it will not call the cleanup for it
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@527964 13f79535-47bb-0310-9956-ffa450edef68

commit 562834d92f077edd57b7d54fd2a0809832753767
Author: Fabien Carrion <fcarrion@apache.org>
Date:   Wed Apr 11 21:51:57 2007 +0000

    Send back error code and Initialise jaxrpcmapping path
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@527693 13f79535-47bb-0310-9956-ffa450edef68

commit a275643e4f9e80a161fe15588d09e39a4eca75c9
Author: Fabien Carrion <fcarrion@apache.org>
Date:   Wed Apr 11 21:50:02 2007 +0000

    Add proxy user/pass to setproxy
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@527691 13f79535-47bb-0310-9956-ffa450edef68

commit 1d90cce8c30bbabd58e565d2217d167e37c8033a
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Apr 11 15:03:10 2007 +0000

    big oopsie, I know, right after the tag got created
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@527512 13f79535-47bb-0310-9956-ffa450edef68

commit 2f1b7bd20180132361ef74986b2340935e3e7821
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Apr 10 22:49:53 2007 +0000

    - Changelog update.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@527331 13f79535-47bb-0310-9956-ffa450edef68

commit 3d27771c08c06434251601d133f6d8199317eab3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Apr 9 23:31:09 2007 +0000

    Fix bug 42072. Don't call destroy() if init() fails. Patch provided by Kawasima Kazuh.
    Ported from TC5.5
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@526953 13f79535-47bb-0310-9956-ffa450edef68

commit 6f146afad41bbd51a9814a34f49a4054663b9aa8
Author: Peter Rossbach <pero@apache.org>
Date:   Mon Apr 9 09:15:08 2007 +0000

    Add clean_depend use as Eclispe or DBCP package changed.
    remove commons collection dependency (remove at DBCP 1.2.2)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@526680 13f79535-47bb-0310-9956-ffa450edef68

commit 007b833097f471226dd754d089e1f26b5cf50701
Author: Filip Hanik <fhanik@apache.org>
Date:   Sun Apr 8 17:03:21 2007 +0000

    Start preparing for non blocking writes, the underlying code has to have the ability if there is ever gonna be a need
    fix NPE
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@526577 13f79535-47bb-0310-9956-ffa450edef68

commit 6d0d89bce774074ba9bda3b785ba305a72c93ed8
Author: Filip Hanik <fhanik@apache.org>
Date:   Sun Apr 8 17:02:12 2007 +0000

    Forward port from 5.5, expose what thread is currently executing a request to JMX
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@526576 13f79535-47bb-0310-9956-ffa450edef68

commit ce5cdc971852363d9c7d94fc389390030d1db173
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Apr 6 15:44:38 2007 +0000

    - Update dbcp, pool, collections.
    - Update JDT.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@526202 13f79535-47bb-0310-9956-ffa450edef68

commit b271b66e91f7fce3f73541cf8637402ad528aa0e
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Apr 6 15:22:06 2007 +0000

    - Similar flag fix.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@526196 13f79535-47bb-0310-9956-ffa450edef68

commit 680968065a09ade4e678b1d95f092c1250d218cd
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Apr 6 14:27:12 2007 +0000

    - Fix variable again.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@526177 13f79535-47bb-0310-9956-ffa450edef68

commit 77897611d204622fd420d479e49c72be20d1ab93
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Apr 6 12:26:16 2007 +0000

    - Fix variable.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@526133 13f79535-47bb-0310-9956-ffa450edef68

commit e2b9163581f4e0fa1e29acd8f2a961a9d5e055a6
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Apr 5 23:29:29 2007 +0000

    - Changelog update.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@526001 13f79535-47bb-0310-9956-ffa450edef68

commit d7215221c1a677aac1ff0dcad62235e5e7efdac8
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Apr 5 13:22:17 2007 +0000

    - 41289: create configBase, since it is no longer created elsewhere.
    - Submitted by Shiva Kumar H R.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@525821 13f79535-47bb-0310-9956-ffa450edef68

commit f601846fffeca4cc6b7e07fd813b5648ef46d979
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Apr 5 13:16:43 2007 +0000

    - Simplify the test hello webapp.
    - Fix its build script.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@525818 13f79535-47bb-0310-9956-ffa450edef68

commit 2c4cec1f1f330382ef7111a0f026b14a49705bae
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Apr 4 15:18:53 2007 +0000

    - Add the factories for ws.
    - Submitted by Fabien Carrion.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@525532 13f79535-47bb-0310-9956-ffa450edef68

commit af4d7bcbe4fff864b7608be996ee9fbb586f6612
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Apr 4 15:18:32 2007 +0000

    - Add the factories for ws.
    - Submitted by Fabien Carrion.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@525530 13f79535-47bb-0310-9956-ffa450edef68

commit 17e0f284efecf8321819255dd2ac1d8ffcc065e7
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Apr 4 15:17:29 2007 +0000

    - Add the factories for ws.
    - Submitted by Fabien Carrion.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@525529 13f79535-47bb-0310-9956-ffa450edef68

commit d3f2cf603fdfd8d01c58df84094da45de37111c9
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Apr 4 14:07:51 2007 +0000

    - Oops.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@525517 13f79535-47bb-0310-9956-ffa450edef68

commit f8062b330676f124b6ac7201a547f179ff12fe09
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Apr 4 14:06:41 2007 +0000

    - Examples cleanup.
    - Submitted by Takayuki Kaneko and Markus Schönhaber.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@525516 13f79535-47bb-0310-9956-ffa450edef68

commit 021f5b57b62d5930b3de8d106cef0c7df3ea338e
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Apr 4 14:00:57 2007 +0000

    - Polish.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@525514 13f79535-47bb-0310-9956-ffa450edef68

commit 52354b217df3bb58fe77607339b98618c1353612
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Apr 3 21:55:06 2007 +0000

    - Changelog update.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@525296 13f79535-47bb-0310-9956-ffa450edef68

commit 581edb2fbce5f0b343fc97bed71c9c5aa185508e
Author: Peter Rossbach <pero@apache.org>
Date:   Tue Apr 3 16:27:21 2007 +0000

    fixed typo...
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@525200 13f79535-47bb-0310-9956-ffa450edef68

commit 16082dd2de2164f0bdbf20743ecffc27bbecfee0
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Apr 3 14:14:30 2007 +0000

    - Merge from javadoc.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@525161 13f79535-47bb-0310-9956-ffa450edef68

commit d1150dcf5bca9b714a7173acfa4e74ea980f76ab
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Apr 3 14:13:33 2007 +0000

    - It should be possible for the event object to be closed asynchronously. In that case, I think an END event
      should be sent to cleanup the pipeline.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@525160 13f79535-47bb-0310-9956-ffa450edef68

commit 8980bfd16828dec273359ecc096b4bf2a56ff331
Author: Mladen Turk <mturk@apache.org>
Date:   Tue Apr 3 10:47:06 2007 +0000

    Fix #41973 by not initializing IPV6 if address is null.
    APR cannot listen both on IPV4 and IPV6 on some platforms
    (e.g BSD and Windows).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@525133 13f79535-47bb-0310-9956-ffa450edef68

commit 27928b33b7f9787439d4787eb4aa882688798594
Author: Mladen Turk <mturk@apache.org>
Date:   Tue Apr 3 10:45:51 2007 +0000

    Fix #41973 by not initializing IPV6 if address is null.
    APR cannot listen both on IPV4 and IPV6 on some platforms
    (e.g BSD and Windows).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@525132 13f79535-47bb-0310-9956-ffa450edef68

commit 488654736c80697ba818047a6a4782770b0cb439
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Apr 2 23:54:06 2007 +0000

    - Fix javadocs (no return false anymore).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@524974 13f79535-47bb-0310-9956-ffa450edef68

commit e532786a847c52bef91343bee6cfd1a0ba7a1c26
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Apr 2 16:51:29 2007 +0000

    - If an exception is thrown processing an event which was not an error, the contract says an ERROR event
      should be called.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@524836 13f79535-47bb-0310-9956-ffa450edef68

commit 387aab6a75ea18e9e18d7196f86683587a239095
Author: Mladen Turk <mturk@apache.org>
Date:   Mon Apr 2 06:35:20 2007 +0000

    Document APR connector native changes.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@524732 13f79535-47bb-0310-9956-ffa450edef68

commit 06051fbada1ca42c46c30707f9d2e6fbdb19d940
Author: Mladen Turk <mturk@apache.org>
Date:   Mon Apr 2 06:24:33 2007 +0000

    Use the tomcat-native-1.1.10 as recommended version.
    Note: 1.1.9 was broken for OpenSSL builds on some platforms. 1.1.8 will continue to work, although on some platforms there can be JVM crash if IPV6 is enabled and platform doesn't support IPV4 addresses on IPV6 sockets.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@524730 13f79535-47bb-0310-9956-ffa450edef68

commit 7ecdc28377b3923a9ab72e8f42a8a592fc76ecc9
Author: Mladen Turk <mturk@apache.org>
Date:   Sun Apr 1 19:37:58 2007 +0000

    Use the tomcat-native-1.1.9 as recommended version.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@524660 13f79535-47bb-0310-9956-ffa450edef68

commit 6a84bd2a09eb8f468f478b6f3113849fd517beb6
Author: Mladen Turk <mturk@apache.org>
Date:   Sat Mar 31 07:57:39 2007 +0000

    Add native as external instead maintaining duplicate code.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@524386 13f79535-47bb-0310-9956-ffa450edef68

commit d9dbf6fc17178e6149b2404de142f30e2b3df278
Author: Mladen Turk <mturk@apache.org>
Date:   Sat Mar 31 07:49:55 2007 +0000

    Remove native/connector
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@524385 13f79535-47bb-0310-9956-ffa450edef68

commit 22c47be25fe7abd6f712b819e2f8416f873e07b1
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Mar 30 14:38:02 2007 +0000

    - Adjustments to error processing with Comet during the begin event (exceptions not causing error reports).
    - Fix a probable bug when security was enabled (Comet would most likely not work).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@524103 13f79535-47bb-0310-9956-ffa450edef68

commit fd98776b4b08542b71918f24bf75c6efdbcca735
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Mar 29 14:02:08 2007 +0000

    - Default configuration updates.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@523717 13f79535-47bb-0310-9956-ffa450edef68

commit 91ead6dc2756fef95591e04dc252646f0fc01883
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Mar 28 14:01:53 2007 +0000

    - The poller now has good performance, so remove firstReadTimeout (the algorithm can still be retrieved from
      svn if needed).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@523331 13f79535-47bb-0310-9956-ffa450edef68

commit 80a4cc05c81aab9de6b3ad0a152f32fbcea945db
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Mar 28 13:52:08 2007 +0000

    - Tweak startup time a bit.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@523327 13f79535-47bb-0310-9956-ffa450edef68

commit cb67a7baedb37d58597ba50e728ebc3f1afd2757
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Mar 28 13:46:45 2007 +0000

    - License header !
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@523324 13f79535-47bb-0310-9956-ffa450edef68

commit 1ca8fda4fe5b180c13023db146a3d014803cbeca
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Mar 27 15:53:15 2007 +0000

    - Skip BOM when reading a JSP.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@522964 13f79535-47bb-0310-9956-ffa450edef68

commit 32192bdb05ee9316d9975026b79d968ad7062c4d
Author: Peter Rossbach <pero@apache.org>
Date:   Tue Mar 27 10:34:18 2007 +0000

    comment my last changes at AccessLogValves
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@522860 13f79535-47bb-0310-9956-ffa450edef68

commit 9c2aecc6c6f792e0b066f63792f96bd60e28c48e
Author: Peter Rossbach <pero@apache.org>
Date:   Tue Mar 27 10:10:45 2007 +0000

    Fix that pattern with subtokens ended, are print out subtoken
    Example cs(Host) date time cs-uri sc-status x-C(JSESSIONID) time-taken
    prints  'localhost:30014' 2007-03-27 10:02:47 /test/ 200 '336C8E8300402846604650DFCE9A6059.tomcat6' 0.001taken
    instead 'localhost:30014' 2007-03-27 10:02:47 /test/ 200 '336C8E8300402846604650DFCE9A6059.tomcat6' 0.001
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@522854 13f79535-47bb-0310-9956-ffa450edef68

commit bd3dfdb3e8bfda8e1951943631b26759396ddd04
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Mar 27 07:10:29 2007 +0000

    fix 41786
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@522797 13f79535-47bb-0310-9956-ffa450edef68

commit 2049b789cb8a2bd00e3d569f540b0d1e549b2335
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Mar 27 06:58:27 2007 +0000

    Fixed 41703
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@522792 13f79535-47bb-0310-9956-ffa450edef68

commit 12d912d0fe00b91a24e8fd81aea59d6ebd7abda4
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Mar 27 06:52:10 2007 +0000

    fix 41682
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@522786 13f79535-47bb-0310-9956-ffa450edef68

commit dd47bb00a9b66ac1aff9036bbd78f5c6607f6b39
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Mar 27 06:48:01 2007 +0000

    don't log io exception if the connector is not running
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@522774 13f79535-47bb-0310-9956-ffa450edef68

commit 7a817903892f699dbb5e9bf8b9ef70f7fe5e0b34
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Mar 27 06:45:41 2007 +0000

    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@522773 13f79535-47bb-0310-9956-ffa450edef68

commit 4f96d21ad75e82292282abfd423c2035a1144adf
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Mar 27 04:44:06 2007 +0000

    fixes for
    http://issues.apache.org/bugzilla/show_bug.cgi?id=41166
    although there is still work to be done, need to separate Tomcat attributes vs. application attributes
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@522745 13f79535-47bb-0310-9956-ffa450edef68

commit ef2dab0624c51bd90aaeaaed709072445a22b6ae
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Mar 26 22:24:32 2007 +0000

    never return null
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@522651 13f79535-47bb-0310-9956-ffa450edef68

commit 9ac21ce920fd5024d9051fde0e57fb97e94bc639
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Mar 26 17:52:23 2007 +0000

    - CRLF inside a URL pattern is always invalid, AFAIK.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@522580 13f79535-47bb-0310-9956-ffa450edef68

commit 7fd4fa89abc5cbcdec062cd5a046aaf87e330d24
Author: Yoav Shapira <yoavs@apache.org>
Date:   Sun Mar 25 23:08:01 2007 +0000

    Bugzilla 41675: add a couple of DEBUG-level logging statements to Http11Processor.java when sending error responses.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@522379 13f79535-47bb-0310-9956-ffa450edef68

commit 34fe5cffcca1c8b4c2ad8c7f570a1240d0b69311
Author: Yoav Shapira <yoavs@apache.org>
Date:   Sun Mar 25 22:46:46 2007 +0000

    Bugzilla 41227: add a bit of DEBUG-level logging to JspC so users know what file is being compiled.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@522367 13f79535-47bb-0310-9956-ffa450edef68

commit 400d6847feb1377db8f1d486a8574e61dd5323d1
Author: Yoav Shapira <yoavs@apache.org>
Date:   Sun Mar 25 21:42:05 2007 +0000

    Bugzilla 40150: validate user and role classes in JAASRealm.  While I'm there, typify the relevant lists of class names so that JDK 5+ doesn't complain about unchecked operations in this class.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@522356 13f79535-47bb-0310-9956-ffa450edef68

commit 6c812a388212556ba85d478ca421e0d4f94bba4d
Author: Yoav Shapira <yoavs@apache.org>
Date:   Sun Mar 25 21:21:29 2007 +0000

    Bugzilla 39540: add link to mod_proxy_ajp httpd config docs.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@522353 13f79535-47bb-0310-9956-ffa450edef68

commit 7ac69f888046435308357b9717688c910d1f0981
Author: Filip Hanik <fhanik@apache.org>
Date:   Sun Mar 25 17:19:39 2007 +0000

    Implemented a one time parachute for java heap oom. Should give the system enough room to properly report the error and clear the caches. everything else will be up to the developer at that time
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@522303 13f79535-47bb-0310-9956-ffa450edef68

commit 3208a3d86adaa47598f71703951ff6a75c6c8d3f
Author: Yoav Shapira <yoavs@apache.org>
Date:   Sun Mar 25 15:44:59 2007 +0000

    Bugzilla 39883: add documentation warning about the use of antiResourceLocking on a webapp that's outside th Host's appBase.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@522286 13f79535-47bb-0310-9956-ffa450edef68

commit 11c5c51f63e4c9a3dde5ef7ea8be01c2ab143b88
Author: Peter Rossbach <pero@apache.org>
Date:   Sun Mar 25 14:41:05 2007 +0000

    set correct info message
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@522270 13f79535-47bb-0310-9956-ffa450edef68

commit 670b04b8c773289f3d1df69de434157b9bf391f0
Author: Peter Rossbach <pero@apache.org>
Date:   Sun Mar 25 14:40:32 2007 +0000

    add some missing attributes
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@522269 13f79535-47bb-0310-9956-ffa450edef68

commit 3b9ad0d056798c052fd3e274f4d4c4c30b4f7f9a
Author: Fabien Carrion <fcarrion@apache.org>
Date:   Sun Mar 25 01:08:07 2007 +0000

    Forward exception to the parent class, so the user knows his configuration problem
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@522136 13f79535-47bb-0310-9956-ffa450edef68

commit 47bc1d1e87b83fc487fd974ec1c9057280c2e7c2
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Mar 23 16:19:47 2007 +0000

    better error handling
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@521790 13f79535-47bb-0310-9956-ffa450edef68

commit e016106bf894da20072389fa00ed1710fd71a57e
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Mar 23 16:12:09 2007 +0000

    choke the log statement, not needed
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@521787 13f79535-47bb-0310-9956-ffa450edef68

commit 39d690a7f8c6c25b361365b6e6482f72b8ebe089
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Mar 23 16:05:46 2007 +0000

    big oopsie, forgot to do SSL for executor/socketprocessor
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@521784 13f79535-47bb-0310-9956-ffa450edef68

commit ac74ecbec9d7cbb6ee9787f763cda51dfbf073d1
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Mar 23 15:28:39 2007 +0000

    Optimized sendfile a tiny bit. Instead of handing off to the poller, since we are already on a thread then try it first on, and if we are not done, then simply register with the poller
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@521765 13f79535-47bb-0310-9956-ffa450edef68

commit 759a09f64338ef204f12bc60a8aa68056930db53
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Mar 22 23:34:29 2007 +0000

    - Use fewer threads by default (it uses too much memory otherwise).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@521527 13f79535-47bb-0310-9956-ffa450edef68

commit c9731160d7326c222c1aa2c0035511313ca2fd87
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Mar 22 22:38:04 2007 +0000

    moved bug notes to the release notes
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@521511 13f79535-47bb-0310-9956-ffa450edef68

commit 5a0bfccb3746666d617770d67c89abd0719b358f
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Mar 22 22:33:16 2007 +0000

    documented the useSendfile behavior for NIO
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@521509 13f79535-47bb-0310-9956-ffa450edef68

commit 7c514d87dfea9a72ce1c40c55a825083864ffe20
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Mar 22 22:17:58 2007 +0000

    added in some useful release notes for users to be aware of.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@521499 13f79535-47bb-0310-9956-ffa450edef68

commit af149ab2a34fc782f7ad9ed53392a790d51e1861
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Mar 22 22:05:22 2007 +0000

    Catch io exceptions and hide them unless debug is enabled
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@521493 13f79535-47bb-0310-9956-ffa450edef68

commit 7cdb9c4027fb37d8f260b628cd698b9886e36d1e
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Mar 22 21:52:25 2007 +0000

    Added in sendfile support for the NIO connector
    Currently the sending is done on the poller thread, could dispatch to the thread pool as well
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@521487 13f79535-47bb-0310-9956-ffa450edef68

commit c7c8bd647790194ca4aea787c2b20f62d65170ba
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Mar 22 16:54:26 2007 +0000

    Fix NPE when using Executor
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@521342 13f79535-47bb-0310-9956-ffa450edef68

commit d2a1c2df5ecbaf7fb720a7f74cfb336a63247c7f
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Mar 22 14:22:00 2007 +0000

    same fix as for APR, always try to do a non blocking read for the 2nd request, busy threads return 0 with the executor
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@521284 13f79535-47bb-0310-9956-ffa450edef68

commit a041e4e477c957343aa25ce06798c8e538cb0b22
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Mar 22 13:29:30 2007 +0000

    - Expose executors in JMX (shouldn't hurt).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@521257 13f79535-47bb-0310-9956-ffa450edef68

commit ba30dca179991f843aa6f523f132069ebcea7932
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Mar 22 12:58:07 2007 +0000

    - Fix problem with blocking reads for keepalive when using an executor (the number of busy threads is always 0).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@521246 13f79535-47bb-0310-9956-ffa450edef68

commit f8978a3402fe92428545775086d3f040145bf72b
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Mar 22 02:20:42 2007 +0000

    small comment added
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@521085 13f79535-47bb-0310-9956-ffa450edef68

commit cd8a68583d8332c6cee81ca43ebdc07c3b7934d6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Mar 22 01:39:00 2007 +0000

    Use the 2.5 schema
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@521076 13f79535-47bb-0310-9956-ffa450edef68

commit 6671933df6f31cecf5799ca1b14b334d8898fe5f
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Mar 22 01:21:25 2007 +0000

    Make sure that we don't need to use any locks or synchronized statements to get our executor to work properly.
    If the task gets executed, means that the threadpool just reached max threads when we were about to add this one in.
    a simple race condition that we can take care of easily
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@521068 13f79535-47bb-0310-9956-ffa450edef68

commit d846a35d1dacc83fe87391fd62af7ca18934c0bf
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Mar 22 01:00:01 2007 +0000

    Documented the Executor element
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@521062 13f79535-47bb-0310-9956-ffa450edef68

commit ae1af956306d7f230e6b2093698a469a5aa2e066
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Mar 21 18:00:39 2007 +0000

    Added in the Executor skeleton. the executor gets created in the service, so that the connectors can reference it.
    Feel free to hack away on improvements or yell at me if this is completely not what was intended and I will pull it out
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@520968 13f79535-47bb-0310-9956-ffa450edef68

commit 39c6621d3377e69118cbfa468c6c85a31efd63d4
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Mar 21 01:34:07 2007 +0000

    don't give the selector infinite time to shutdown
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@520693 13f79535-47bb-0310-9956-ffa450edef68

commit 080659ec55e8cb6fcd32639e5caef148fbca450e
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Mar 19 23:35:42 2007 +0000

    Make sure the connection always closes, no matter what
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@520176 13f79535-47bb-0310-9956-ffa450edef68

commit 3405f118fb307b0bf38d96c06e3314fd47b1f6fb
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Mar 19 23:35:09 2007 +0000

    Added in support for calling CometEvent.END although the container itself doesn't support it yet.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@520175 13f79535-47bb-0310-9956-ffa450edef68

commit 133ceb42dfce6491ede98cbf3df14658bf4583a3
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Mar 19 22:42:30 2007 +0000

    forgot to document the other way to set the individual timeout
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@520146 13f79535-47bb-0310-9956-ffa450edef68

commit 16acd311bfef8922b4fc0df0ccafaf19a2cbceb8
Author: Mladen Turk <mturk@apache.org>
Date:   Sun Mar 18 15:08:53 2007 +0000

    Update latest binaries with fix for DAEMON-34.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@519624 13f79535-47bb-0310-9956-ffa450edef68

commit 6f63513c4ae8ce3c2389783f35ab591156c387a9
Author: Mladen Turk <mturk@apache.org>
Date:   Sun Mar 18 14:29:38 2007 +0000

    Update latest binaries with fix for DAEMON-87.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@519617 13f79535-47bb-0310-9956-ffa450edef68

commit 9b5dac54d2ce4091fe78010481674725d58c7067
Author: Mladen Turk <mturk@apache.org>
Date:   Sun Mar 18 12:24:11 2007 +0000

    Update latest binaries
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@519604 13f79535-47bb-0310-9956-ffa450edef68

commit f3ad39cdf6c4562e90e87b92e894b5754e66848c
Author: Mladen Turk <mturk@apache.org>
Date:   Sun Mar 18 10:58:42 2007 +0000

    Update binaries to version 2.0.3.0
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@519592 13f79535-47bb-0310-9956-ffa450edef68

commit 0c86453c146d65d0152647e050e41c3f8c81a780
Author: Filip Hanik <fhanik@apache.org>
Date:   Sun Mar 18 01:59:31 2007 +0000

    added note about timeouts
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@519518 13f79535-47bb-0310-9956-ffa450edef68

commit d699cc748b52b125ed3c63d2375e1a046a3a211f
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Mar 16 22:38:19 2007 +0000

    fixed minor bug introduced recently
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@519168 13f79535-47bb-0310-9956-ffa450edef68

commit 59edb1210429865a2c99af31a9dd70948ed5f46a
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Mar 16 19:56:05 2007 +0000

    minor tweaks
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@519115 13f79535-47bb-0310-9956-ffa450edef68

commit a7586e1ea2396dd113d5fc602512005a803b35ff
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Mar 16 19:48:21 2007 +0000

    Being able to balance thread priorities for all kinds of threads
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@519111 13f79535-47bb-0310-9956-ffa450edef68

commit f1d775b92da69aba9bef09b75e4ec94338fdf8ff
Author: Mladen Turk <mturk@apache.org>
Date:   Fri Mar 16 10:22:17 2007 +0000

    Update latest binaries and add targets for amd64 and ia64 cpus.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@518920 13f79535-47bb-0310-9956-ffa450edef68

commit 68cbd50d661a655840a108e29d45513e4363b8b6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 16 01:41:51 2007 +0000

    Update host doc now directories in appBase without WEB-INF are auto-deployed.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@518828 13f79535-47bb-0310-9956-ffa450edef68

commit afb4505aeb91158abc1a18bbf831b6711227aa4a
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Mar 15 01:31:26 2007 +0000

    - When the platform does not support deferred accept, put accepted sockets in the poller (there's a performance penalty,
      of course, but mostly visible for non keep alive connections).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@518430 13f79535-47bb-0310-9956-ffa450edef68

commit 652d5fab302e2383eee8cf10297f9e835c1d8e93
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Mar 14 23:12:56 2007 +0000

    - Add logging to display APR capabilities on the platform.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@518378 13f79535-47bb-0310-9956-ffa450edef68

commit d66e6511a2ada6ea90d66578de05906830d2497d
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Mar 14 02:48:39 2007 +0000

    Implemented the cache properly with its own attribute, removed one processor that is not needed
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@517977 13f79535-47bb-0310-9956-ffa450edef68

commit cb884592797a55a05504baf905c265ccc88a7437
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Mar 13 23:54:03 2007 +0000

    Implement the use of a useful executor, this executor will increase threads until it reaches max threads, then it starts queueing the connections. This yields in much better fairness.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@517941 13f79535-47bb-0310-9956-ffa450edef68

commit 4b78cb4e6899d9aba943155124fd0a5aa2a3f7ed
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Mar 13 22:28:33 2007 +0000

    Use a thread pool executor by default. This makes tomcat a little bit slower, but it handles load distribution a lot better than the current thread pool
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@517913 13f79535-47bb-0310-9956-ffa450edef68

commit 2685e19775d0b4533d460852bb667d3e919fe87e
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Mar 13 21:16:47 2007 +0000

    cleaned up code a little bit, still haven't figured out a good fairness algorithm
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@517873 13f79535-47bb-0310-9956-ffa450edef68

commit 0951b801ccb86dbd758e4e436a819576d9e8a830
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Mar 12 20:37:22 2007 +0000

    Added in the skeleton for fairness logic, currently the tests for fairness are coming out extremely fair, could it  be that the Selector.selectedKeys() sorts the keys properly?
    Anyway, to implement a scheduler, I can use the "fairness" numbers added in here. Won't do it until I deem it necessary.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@517384 13f79535-47bb-0310-9956-ffa450edef68

commit 8fd0a757b4a304f77b12cd91745813ee7690dc6a
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Mar 12 16:31:02 2007 +0000

    - Cleanup of the message that is displayed (forgot resource).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@517274 13f79535-47bb-0310-9956-ffa450edef68

commit 3287c3afcc81d75d08782615de2072c38e663d91
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Mar 12 14:34:39 2007 +0000

    - Cleanup of the message that is displayed.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@517231 13f79535-47bb-0310-9956-ffa450edef68

commit 2568681b3115ebe35493b4a96ec9ab49fc55b278
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Mar 12 14:24:55 2007 +0000

    - Remove try/catch usage for annotation processing in classic tags. The usage of the log method might have been
      questionable as well.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@517227 13f79535-47bb-0310-9956-ffa450edef68

commit 2da11fa88db079ce4b89fdfb1f9bc58462ad82ab
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Mar 12 14:04:34 2007 +0000

    - Fix reporting of errors which do not correspond to a portion of the JSP source.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@517224 13f79535-47bb-0310-9956-ffa450edef68

commit d881b412986231772c5177dccce5e6d6d72a628e
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Mar 9 23:38:29 2007 +0000

    added fairness counter, using this counter, I will be able to make sure that connections are treated evenly in my next revision of the NioEndpoint. No point in having 20k connections if only half get love.
    
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@516602 13f79535-47bb-0310-9956-ffa450edef68

commit 590b7bd1adda24b20f618dac061e7b09681d7e89
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Mar 9 16:45:15 2007 +0000

    Added in the ASF main repository, need to figure out how to get .asc signatures attached to the jars as they get deployed
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@516457 13f79535-47bb-0310-9956-ffa450edef68

commit 419f0f20c94272611682aaf5b558e81307c03fae
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Mar 9 15:46:20 2007 +0000

    Took care of JMX error upon startup, component still not working, but at least its not spitting out ugly messages
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@516438 13f79535-47bb-0310-9956-ffa450edef68

commit 7bdffbf2558a84d7bd0297699f47c459fdf1de0b
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Mar 8 21:45:11 2007 +0000

    just added some notes
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@516190 13f79535-47bb-0310-9956-ffa450edef68

commit 1ef03f2bad07fafd6b958f7dd6bb62ec6b273566
Author: Jim Jagielski <jim@apache.org>
Date:   Thu Mar 8 17:26:05 2007 +0000

    foo2
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@516111 13f79535-47bb-0310-9956-ffa450edef68

commit 455b6f8532fa673acc06b57b61279d5a2c4b6887
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Mar 8 16:02:35 2007 +0000

    - 41790: close file stream.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@516086 13f79535-47bb-0310-9956-ffa450edef68

commit 58f2365d1caceb36f38df5123176378359cfd9d9
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Mar 8 15:52:15 2007 +0000

    - Use the trim property and trim directive, which should be equivalent to Jasper's own attribute.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@516081 13f79535-47bb-0310-9956-ffa450edef68

commit e4569e6fa65a074e416e0ad1452f522b7701a919
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Mar 5 03:05:49 2007 +0000

    Port fix for bug 41747. Correct minor error in ant script example for deploy.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@514532 13f79535-47bb-0310-9956-ffa450edef68

commit 6728bd919aae1995ef632f45fcb299db36a394b9
Author: Remy Maucherat <remm@apache.org>
Date:   Sun Mar 4 20:38:54 2007 +0000

    - Minor optimization
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@514468 13f79535-47bb-0310-9956-ffa450edef68

commit e33b67a7e68b0f593ac1687518a5076e075ef448
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 3 16:24:08 2007 +0000

    Port fix for bug 41752. Correct error message on exception in MemoryRealm. Patch provided by Ales Milan.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@514183 13f79535-47bb-0310-9956-ffa450edef68

commit bde4e7e8487d85a626aee985eb0ab9f32266229a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 3 16:18:50 2007 +0000

    Code clean-up. No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@514181 13f79535-47bb-0310-9956-ffa450edef68

commit 4d3f6a8c74e1210465efe691ab01830016c60a78
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 3 16:12:41 2007 +0000

    Port partial fix for bug 41655. Update some of the translations and fix a few obvious typos.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@514180 13f79535-47bb-0310-9956-ffa450edef68

commit 9ac342840c0a7931273ddaf6ca72abb6b2ef3bc2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 3 16:03:11 2007 +0000

    Port fix for bug 41666. Correct handling of boundary conditions for If-Unmodified-Since and If-Modified-Since headers. Patch provided by Suzuki Yuichiro.
    
    Update changelog.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@514179 13f79535-47bb-0310-9956-ffa450edef68

commit bf03f0f10b77b8f506cacac85b4731091a7c39e7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 3 15:56:14 2007 +0000

    Port fix from TC5. As per RFC2616, requests with multiple content-length headers are invalid.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@514176 13f79535-47bb-0310-9956-ffa450edef68

commit 0bd693016d5eea296e2c7f6153c605801ae565a6
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Mar 3 15:48:33 2007 +0000

    Tabs -> 8 spaces. No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@514174 13f79535-47bb-0310-9956-ffa450edef68

commit 5472c9f1fdcc6c4977bd30c92b611d4e79a622a3
Author: Timothy A. Funk <funkman@apache.org>
Date:   Fri Mar 2 13:37:24 2007 +0000

    fix gump complaint for xsl
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@513752 13f79535-47bb-0310-9956-ffa450edef68

commit c809d2fb9a1772e210549f13231ef1324d878cab
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 2 12:10:05 2007 +0000

    Put change in right section.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@513721 13f79535-47bb-0310-9956-ffa450edef68

commit 01d38a5311f96a316d74d4a0318bd44ae8e64ebb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Mar 2 02:38:26 2007 +0000

    Port fix for bug 41739. Servlets with a load-on-startup value of zero should be loaded first.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@513601 13f79535-47bb-0310-9956-ffa450edef68

commit 376f612f7723e9674f29c77e2949b0f613a08d53
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Mar 1 14:33:06 2007 +0000

    - Add plumbing code for supporting web services references.
    - No factory implementations at this time.
    - Submitted by Fabien Carrion.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@513349 13f79535-47bb-0310-9956-ffa450edef68

commit af6876bb394fb3bf0aaa329f70ddaa2cda5881e9
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Feb 28 23:28:35 2007 +0000

    By default dont use direct buffers, in a situation where a very large number of connections, direct buffers are much slower
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@513060 13f79535-47bb-0310-9956-ffa450edef68

commit cb63b1218a3a5f2ffcbd12f535ce6b8b9c64776e
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Feb 28 01:06:46 2007 +0000

    Sized the app buffers more appropriately
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@512535 13f79535-47bb-0310-9956-ffa450edef68

commit 72a845d44e9744d79d09e862f0b2151df4395081
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Feb 27 16:43:33 2007 +0000

    Add and correct documentation
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@512313 13f79535-47bb-0310-9956-ffa450edef68

commit 9e7380b96bfd8f5347e5c773f0729faed2b96407
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Feb 26 15:30:34 2007 +0000

    properties are getting stuck in the attributes list, and not making it down to the endpoint
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@511854 13f79535-47bb-0310-9956-ffa450edef68

commit 6b5f56c47d9e4cc32b22b90aae9898744b9dffef
Author: Filip Hanik <fhanik@apache.org>
Date:   Sun Feb 25 23:27:00 2007 +0000

    More documentation, added acceptorThreadCount as a selection
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@511657 13f79535-47bb-0310-9956-ffa450edef68

commit 1925969770cd85812d4ac4bd85743a89b8fe9b3e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Feb 24 16:20:30 2007 +0000

    Use correct definition for servlet 2.5 xsd.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@511294 13f79535-47bb-0310-9956-ffa450edef68

commit 1f258787fe0e66e7595620558e21b5552cb174ca
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Feb 23 12:58:49 2007 +0000

    When a read or write times out, make sure the key is deregistered with the poller
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@510933 13f79535-47bb-0310-9956-ffa450edef68

commit a869f1a8bcac3f0cd7b2fa7ffa7199f7a23654dc
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Feb 22 20:11:50 2007 +0000

    Add in configuration options to control the application buffers associated with a NioChannel
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@510639 13f79535-47bb-0310-9956-ffa450edef68

commit 65c882db77a019467230c6e4ae52907bf7f57928
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Feb 22 12:34:36 2007 +0000

    - Remove sync + clone to be consistent.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@510482 13f79535-47bb-0310-9956-ffa450edef68

commit dbe24997a59a77a185510af743368272c8197866
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Feb 22 12:24:04 2007 +0000

    - Remove sync + clone from InstanceSupport.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@510474 13f79535-47bb-0310-9956-ffa450edef68

commit 41971631859dda7c3db55593ca8249897a15dfdf
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Feb 21 17:28:24 2007 +0000

    Added in remainder of docs
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@510111 13f79535-47bb-0310-9956-ffa450edef68

commit 900cf4fb42a6a66a4358ebdb275d08f0b5064b6f
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Feb 21 16:52:22 2007 +0000

    Accept doesn't need a worker thread, the operations are non blocking
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@510098 13f79535-47bb-0310-9956-ffa450edef68

commit 22fd679e70c1f85debeb3a3e57aae973e85c7e61
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Feb 21 16:37:04 2007 +0000

    Fixed latch behavior, still could be improved upon. In the next revision, I'll probably have the blocking read/write selector to use its own thread so that it doesn't content with the poller thread
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@510092 13f79535-47bb-0310-9956-ffa450edef68

commit afa3ee764dafead3aad29167d882dfba86accf4f
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Feb 21 14:48:39 2007 +0000

    - (quick fix) findClassInternal may loop so the fancy syncing probably cannot work.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@510041 13f79535-47bb-0310-9956-ffa450edef68

commit 7fe3749c050a81c69624cfd3ad447635ea70161b
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Feb 21 03:47:05 2007 +0000

    added in notes to myself about blocking the poller thread, that should be prohibited
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@509880 13f79535-47bb-0310-9956-ffa450edef68

commit 977e3ebb204875095bc5993e94c02d3273b1096a
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Feb 20 23:59:05 2007 +0000

    Fix (may not be complete yet) to the memory leak in the NIO connector.
    The caches where holding references they aren't supposed to hold.
    Added in the ability to use the pollers selector (share a selector) instead of each thread
    using one from the selector pool. Selector pools can be very resource intensive.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@509820 13f79535-47bb-0310-9956-ffa450edef68

commit 9e53b887d55746cb2250f4bfe682679e64a69e62
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Feb 19 12:19:08 2007 +0000

    - Refactoring of ExtendedAccessLogValve, which now extends AccessLogValve.
    - Submitted by Takayuki Kaneko.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@509179 13f79535-47bb-0310-9956-ffa450edef68

commit 8ba833433e36483b8c90a239ee94826c168fd93e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Feb 16 03:09:39 2007 +0000

    Port fix bug 41608. Make log levels consistent.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@508295 13f79535-47bb-0310-9956-ffa450edef68

commit 49c8420cc3a1e01822865a16875a49c9f643c442
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Feb 15 01:18:54 2007 +0000

    set APR to have unlimited poll set
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@507767 13f79535-47bb-0310-9956-ffa450edef68

commit d932bd547e4aef01729e3528fa91fab84feea956
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Feb 15 00:23:18 2007 +0000

    - Remove dead code.
    - Move the special purpose sys.out capture to an inner class of the Ant compiler.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@507751 13f79535-47bb-0310-9956-ffa450edef68

commit 01f2a3702440f6bab8b0f9c80568d598788b66a8
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Feb 14 23:44:27 2007 +0000

    Added in documentation specific to the NIO connector and a small connector comparison chart
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@507744 13f79535-47bb-0310-9956-ffa450edef68

commit 14dcdd19782de16dc02ed7df2c0613c6ac109979
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Feb 13 01:00:51 2007 +0000

    - Changelog update.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@506784 13f79535-47bb-0310-9956-ffa450edef68

commit e386a58bb8b132c87d144e5c42190073589affe5
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Feb 12 12:18:34 2007 +0000

    - Fix minor glitch, submitted by Anil Saldhana.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@506431 13f79535-47bb-0310-9956-ffa450edef68

commit 1735d7f55094c3775c7d94e4f8568336dbe1a738
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Feb 12 01:02:03 2007 +0000

    - Add some options for handling URL chars.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@506200 13f79535-47bb-0310-9956-ffa450edef68

commit 820f6fba24b5b35e5ef41b12bdbbd7eeefc9784c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Feb 10 18:55:08 2007 +0000

    Port SCRIPT_NAME fix
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@505743 13f79535-47bb-0310-9956-ffa450edef68

commit 373f9ac40f4d61ef3d444f0aebcc6edaba6efd67
Author: Remy Maucherat <remm@apache.org>
Date:   Sat Feb 10 02:30:04 2007 +0000

    - Set of minor optimizations.
    - getServletContext is used often.
    - Submitted by Arvind Srinivasan.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@505618 13f79535-47bb-0310-9956-ffa450edef68

commit 4612c8ab909213a90ebdb2a2f653f93ec2112ae7
Author: Remy Maucherat <remm@apache.org>
Date:   Sat Feb 10 02:19:57 2007 +0000

    - As suggested in 41578, experiment with a thread local pool, but in a simpler way (and with an upper bound).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@505617 13f79535-47bb-0310-9956-ffa450edef68

commit 066d217bf84861072f6455ea6851fa85d401b674
Author: Remy Maucherat <remm@apache.org>
Date:   Sat Feb 10 02:18:19 2007 +0000

    - Missing from patch.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@505616 13f79535-47bb-0310-9956-ffa450edef68

commit e1c2e12e1babbd5ad409eec780124a98a06c4d8d
Author: Remy Maucherat <remm@apache.org>
Date:   Sat Feb 10 01:53:06 2007 +0000

    - Indent (sorry, the class was too hard to work with).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@505610 13f79535-47bb-0310-9956-ffa450edef68

commit 4b7c3259e7ac0c0fb4a647cc08b34c277ed63c3d
Author: Remy Maucherat <remm@apache.org>
Date:   Sat Feb 10 01:32:10 2007 +0000

    - Set of minor optimizations.
    - Use getLength() less often.
    - Submitted by Arvind Srinivasan.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@505604 13f79535-47bb-0310-9956-ffa450edef68

commit dbfe39dce70949f609f8173194fab9ea52ca2c5b
Author: Remy Maucherat <remm@apache.org>
Date:   Sat Feb 10 00:54:56 2007 +0000

    - Set of minor optimizations.
    - Unify usage of the security manager flag.
    - Submitted by Arvind Srinivasan.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@505593 13f79535-47bb-0310-9956-ffa450edef68

commit 403799109c4a146908d93c54bc60576ae584fa60
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Fri Feb 9 10:33:43 2007 +0000

    Don't add tools.jar if it is not existing.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@505244 13f79535-47bb-0310-9956-ffa450edef68

commit cdfd9adcf3198e11b3cec9db93abd784de4a2664
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Fri Feb 9 10:22:58 2007 +0000

    Don add tools.jar if it doesn exist.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@505241 13f79535-47bb-0310-9956-ffa450edef68

commit 1a8c4922fc586956898cbaa986d0ea93ccedf633
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Feb 7 22:55:21 2007 +0000

    - 41558: Don't call synced method on every request, submitted by Arvind Srinivasan.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@504727 13f79535-47bb-0310-9956-ffa450edef68

commit 8b0d130abe83fd281b5ac619f9226390c489a777
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Feb 7 22:53:07 2007 +0000

    - 41521: Support * for servlet-name, submitted by Paul McMahan.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@504726 13f79535-47bb-0310-9956-ffa450edef68

commit 26e8eec7e0ec921c8f3d3b2d1672f3d4efb67b64
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Jan 31 23:45:03 2007 +0000

    - Changelog update.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@502046 13f79535-47bb-0310-9956-ffa450edef68

commit dfac8de2e6f94d5a091cad18f8252564d5fa7a16
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Jan 31 23:31:39 2007 +0000

    - No functional change: deferred is always true when elExpression is true.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@502042 13f79535-47bb-0310-9956-ffa450edef68

commit 42a5b8b9d787e74d32d5fd8605537d4260cd3e15
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Jan 30 00:02:30 2007 +0000

    Complete previous patch.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@501241 13f79535-47bb-0310-9956-ffa450edef68

commit 4fcdec3dc77881700a7a6f937be6ce7eadbaf734
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 29 01:45:06 2007 +0000

    Revert port of 39088 as per discussion on dev list.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@500918 13f79535-47bb-0310-9956-ffa450edef68

commit fce171f5590a81e91d7a358ba30360a2b216c89a
Author: Filip Hanik <fhanik@apache.org>
Date:   Sun Jan 28 21:35:53 2007 +0000

    Fix for bugzilla 41466
    When using the NioChannel and SecureNioChannel its important to use the channels buffers
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@500892 13f79535-47bb-0310-9956-ffa450edef68

commit 92c442ba12dbf092d203b0d032130f2212107a31
Author: Filip Hanik <fhanik@apache.org>
Date:   Sun Jan 28 21:34:21 2007 +0000

    minor change
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@500890 13f79535-47bb-0310-9956-ffa450edef68

commit 0067f91d4edb39f697709ce0ba51cef39497aa4d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 28 17:28:36 2007 +0000

    Update JspException to align with the JSP 2.1 spec.
    Update root cause finding to take advantage of being able to use getCause
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@500843 13f79535-47bb-0310-9956-ffa450edef68

commit 40197c19ee426df84c4d41f3255b2512ecc1fe90
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 28 16:39:42 2007 +0000

    Replace tabs with 8 spaces and tidy up the javadocs afterwards. No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@500824 13f79535-47bb-0310-9956-ffa450edef68

commit 54e894f77e0f3aba1500c77e41e79e3afb68f678
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 28 15:28:23 2007 +0000

    Simplify code since ServletException now uses standard exception chaining.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@500812 13f79535-47bb-0310-9956-ffa450edef68

commit 87e0634c01ad4e5f33f81de22a37ebc704c85150
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 28 15:25:04 2007 +0000

    Correct change log. The infinite loop issue had already been resolved.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@500810 13f79535-47bb-0310-9956-ffa450edef68

commit 20f7a874337f063ee0376e9d9734a24f0803bafc
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 28 00:55:24 2007 +0000

    Port fix bug 39088 that prevents infinite loops when an exception is thrown the returns itself for getRootCause(). Also port changes that enable the root cause to be found when the nesting is particularly extreme.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@500716 13f79535-47bb-0310-9956-ffa450edef68

commit 67fb3ca47d50c85d67892e71f3c779e465f54ac7
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jan 28 00:24:33 2007 +0000

    Fix paste error
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@500710 13f79535-47bb-0310-9956-ffa450edef68

commit 2fe85b9284e7daacb5ba5a72a75b06852dfb2a02
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 27 23:27:18 2007 +0000

    Clean up unused imports for the tc6 source tree
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@500684 13f79535-47bb-0310-9956-ffa450edef68

commit 232d286fca829d4daa698b3cc569ab14ab39650c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 27 23:15:00 2007 +0000

    Code clean up in the examples. Removed unused imports and unused code.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@500674 13f79535-47bb-0310-9956-ffa450edef68

commit 723a370ccab1f633d92af60a7b60ce7ac0943313
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 27 23:08:13 2007 +0000

    Add source for examples to Eclipse project
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@500669 13f79535-47bb-0310-9956-ffa450edef68

commit f06d41f967ca029538fb491d6561bb376fb5a5af
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 27 23:07:51 2007 +0000

    Port fix bug 39572. Improvements to CompressionFilter provided by Eric Hedström. Also cleaned up unused imports and methods.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@500668 13f79535-47bb-0310-9956-ffa450edef68

commit 39fe247dd20a63b8167ba7484985d41b995bdcae
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 27 22:56:47 2007 +0000

    Port fix bug 41265 by removing the code that resets checkInterval values of zero to 300. If checkInterval is not specified it defaults to zero anyway and removing the code was easier than trying to explain in the documentation why the stated default could not be explicitly set.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@500660 13f79535-47bb-0310-9956-ffa450edef68

commit c7f8e4947538a34e6b6721ab8cac2111477bc776
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 27 22:49:37 2007 +0000

    Javadocs are no longer included by default and the pages are not pre-compiled.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@500656 13f79535-47bb-0310-9956-ffa450edef68

commit 815e19e5e3d34fc16ba06034af2636923c86d930
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 27 22:45:06 2007 +0000

    Port fix bug 40526. Return support for JPDA_OPTS to catalina.bat and add a new option JPDA_SUSPEND. Patch provided by Kurt Roy.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@500651 13f79535-47bb-0310-9956-ffa450edef68

commit 2a94508e93b9c55de5605a1ee2f30ad88d6533d8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 27 22:35:35 2007 +0000

    Update all webapps to use the servlet 2.5 xsd
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@500644 13f79535-47bb-0310-9956-ffa450edef68

commit dc33554f351cf661df5addb8c1a168bdaba6abfa
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 27 21:32:52 2007 +0000

    Port fix bug 40524. request.getAuthType() now returns CLIENT_CERT rather than CLIENT-CERT as per the spec. Now only web.xml, o.a.c.deploy.LoginConfig and Authenticators.properties use CLIENT-CERT.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@500629 13f79535-47bb-0310-9956-ffa450edef68

commit 11b9c92c5e21a4d7fda102992ec7635f933ccdfb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 27 21:25:41 2007 +0000

    Port fox for bug 41217. Set secure attribute on SSO cookie when cookie is created during a secure request. Patch provided by Chris Halstead.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@500626 13f79535-47bb-0310-9956-ffa450edef68

commit 3a6225ae28a721a5c74c9bb3f1061dfd65b63043
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 27 21:14:06 2007 +0000

    Port fix for bug 41327. Show full URI for a 404.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@500622 13f79535-47bb-0310-9956-ffa450edef68

commit 5373f2cd5104d7d18718c7a59a626fd1fd2c083c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jan 27 21:00:07 2007 +0000

    Correct error messages. Should be context.xml not web.xml
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@500616 13f79535-47bb-0310-9956-ffa450edef68

commit c45690b02fff7a865f237b5a9eb36ec42d8a648e
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Jan 23 15:12:15 2007 +0000

    - Tags have specific version numbers, so the regular getJspAttribute method shouldn't be used. Another benefit is
      that it avoids parsing EL twice.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@499048 13f79535-47bb-0310-9956-ffa450edef68

commit a74181e4b96eabec20fd18b37e12ebf477929eb0
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Jan 22 20:49:02 2007 +0000

    - isELEnabled may return true for a variety of reasons, so the actual value should be checked.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@498793 13f79535-47bb-0310-9956-ffa450edef68

commit e45df5f4d4b0eaed2ad65e14343a48976bcc4b87
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Jan 18 18:24:34 2007 +0000

    - Port patch to return connector names.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@497522 13f79535-47bb-0310-9956-ffa450edef68

commit 27fea734e1502d23a77e3fce4a1af53c47fafde2
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Jan 18 18:24:17 2007 +0000

    - Decrease logging level.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@497521 13f79535-47bb-0310-9956-ffa450edef68

commit 2257ea50503e413d43e48b9a9fada5a2cb8208e1
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Jan 18 17:58:17 2007 +0000

    - 37869: Refix getting certificates.
    - 40960: Throw a timeout exception when getting a timeout.
    - Submitted by Christophe Pierret.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@497516 13f79535-47bb-0310-9956-ffa450edef68

commit 0687022317eafd2c364ec6bb81cf329ddae1c148
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Jan 17 15:26:35 2007 +0000

    Added a short document about the Tomcat libraries in a maven repository.
    Modified the snapshot version for 6 to be 6.0.x-SNAPSHOT
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@497044 13f79535-47bb-0310-9956-ffa450edef68

commit 2d6f280f0f1076017e01b49e334ba6127728c7af
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jan 16 19:46:29 2007 +0000

    Added release deployment
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@496836 13f79535-47bb-0310-9956-ffa450edef68

commit 982966d61ae2484d423997fb3cee94e5eb72e6fc
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Jan 16 00:48:40 2007 +0000

    - Changelog update.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@496553 13f79535-47bb-0310-9956-ffa450edef68

commit c09eb086b98afeb49fbde2f65a2eabce24668b6d
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Jan 15 15:41:36 2007 +0000

    - Simplify the code.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@496373 13f79535-47bb-0310-9956-ffa450edef68

commit 57e5ba2afb7b2c7c110499a307a0a7a96bb281f3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jan 12 23:21:05 2007 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@495785 13f79535-47bb-0310-9956-ffa450edef68

commit 36eedabeaa6995bed85ebf86708091aed7eb5de5
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Jan 12 01:09:46 2007 +0000

    - Same here.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@495459 13f79535-47bb-0310-9956-ffa450edef68

commit 50f2397183613c0e9b272506a62ae58e987d0d5c
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Jan 11 22:43:03 2007 +0000

    - Revert change: the default version for the implicit taglib is 2.0.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@495418 13f79535-47bb-0310-9956-ffa450edef68

commit 0b76555934fcb21c6223c798540400a3a1d49a29
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jan 11 15:47:10 2007 +0000

    set better defaults
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@495262 13f79535-47bb-0310-9956-ffa450edef68

commit cb6c252c9818261d822e0ec80b6fd17e700bbe78
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jan 11 00:04:10 2007 +0000

    Extras deployment
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@495052 13f79535-47bb-0310-9956-ffa450edef68

commit 886a9635503120c2b8fa5887af33183803b41553
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Jan 10 23:55:41 2007 +0000

    Fix minor issues with logging doc reported by Erik Bertelsen
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@495046 13f79535-47bb-0310-9956-ffa450edef68

commit 863719598fc0b9df11782df34ad24d0b97f6575c
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jan 9 17:31:31 2007 +0000

    remove circular dependency as maven doesn't support it
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@494497 13f79535-47bb-0310-9956-ffa450edef68

commit 708e63e5faa2c2ded918bbf24cf4c1c73a57db5a
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jan 9 15:24:21 2007 +0000

    remove SCP executable property, its not used by the plugin anymore
    remove mistakenly checked in tmp file
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@494433 13f79535-47bb-0310-9956-ffa450edef68

commit e77ec206c07b9bbcb9349e2112dc33b87f0cc0bd
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jan 9 02:32:48 2007 +0000

    read property files in order, not quote working on windows yet
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@494306 13f79535-47bb-0310-9956-ffa450edef68

commit dabcf16df6cd9f57d10a4f3b1dbc01b379511b09
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jan 9 02:27:20 2007 +0000

    fixed xml error
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@494304 13f79535-47bb-0310-9956-ffa450edef68

commit 6e1cae7675f4d89534ae650cd4e8f8e6b82bfad0
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jan 9 01:16:05 2007 +0000

    Tomcat's maven publish script
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@494290 13f79535-47bb-0310-9956-ffa450edef68

commit f622b8f86992abd14ca6ab41d047d9fc26f67ed0
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Jan 8 20:54:24 2007 +0000

    - Use AccessLogValve.
    - Update docs with buffered field.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@494193 13f79535-47bb-0310-9956-ffa450edef68

commit 19b84d45294fa1f3ba3c22d4bb4b80d37ce2e00f
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Jan 8 20:52:40 2007 +0000

    - Add a new buffered field to allow flushing on each request, which should make the behavior equivalent to the
      old AccessLogValve.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@494192 13f79535-47bb-0310-9956-ffa450edef68

commit 7f2b061699ee61c732a8bc22666b4c987fefdd64
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Jan 8 20:51:00 2007 +0000

    - Replace AccessLogValve with the new fast one (since I don't think 3 valves doing the same thing are needed).
    - Remove FastCommon, which has the same optimizations.
    - Add a new buffered field to allow flushing on each request, which should make the behavior equivalent to the
      old AccessLogValve.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@494191 13f79535-47bb-0310-9956-ffa450edef68

commit f92b381e00706323dafac79fa1ce36a72ae3369b
Author: Remy Maucherat <remm@apache.org>
Date:   Sat Jan 6 18:48:18 2007 +0000

    - New AccessLog valve impl, submitted by Takayuki Kaneko.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@493535 13f79535-47bb-0310-9956-ffa450edef68

commit 7f3b1e7c2bd77f0d552643126bb664c0506f7083
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jan 5 16:42:38 2007 +0000

    Completed clustering documentation to a state more understandable.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@493078 13f79535-47bb-0310-9956-ffa450edef68

commit cbb5e358c92f3a72a47a60eed500207c848dc487
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jan 4 18:23:25 2007 +0000

    put in a minor sleep
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@492667 13f79535-47bb-0310-9956-ffa450edef68

commit 50cf0ff9445b85f155feb3d6f1fa976ca97074f5
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Jan 4 17:03:05 2007 +0000

    - More accurate validation of EL. Needs testing.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@492639 13f79535-47bb-0310-9956-ffa450edef68

commit d5c2d036ac879363cd20610cbf7b067449d4f7f8
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Jan 4 15:19:12 2007 +0000

    - Cleanup.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@492596 13f79535-47bb-0310-9956-ffa450edef68

commit d8633d7dbd4c830585d2b1a8789d4a4150e0b70e
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Jan 3 15:33:48 2007 +0000

    - Avoid NPE (quick fix).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@492182 13f79535-47bb-0310-9956-ffa450edef68

commit 8a92701368f746c1fa3b49eecb78236c5335b85c
Author: Timothy A. Funk <funkman@apache.org>
Date:   Wed Jan 3 11:59:32 2007 +0000

    Update on http://issues.apache.org/bugzilla/show_bug.cgi?id=41260
    
    Added warnings this should be for dev IDEs, not production.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@492112 13f79535-47bb-0310-9956-ffa450edef68

commit 2fc968ba67b416c76661edbc149d7a2907f5e539
Author: Timothy A. Funk <funkman@apache.org>
Date:   Wed Jan 3 00:51:31 2007 +0000

    http://issues.apache.org/bugzilla/show_bug.cgi?id=41260
    [Contribution] WebAppLoader and DirContext implementations
    for handling with expanded webapp during development
    
     by Fabrizio Giustina
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@491995 13f79535-47bb-0310-9956-ffa450edef68

commit a1b1bed3abc343886809e06ce78a7bed8b3d8ac2
Author: Timothy A. Funk <funkman@apache.org>
Date:   Wed Jan 3 00:36:57 2007 +0000

    http://issues.apache.org/bugzilla/show_bug.cgi?id=40820
    Default JSP factory not initialized early enough
    
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@491990 13f79535-47bb-0310-9956-ffa450edef68

commit b2512d2c9c5851a17b98bd8aefe3424039b82628
Author: Timothy A. Funk <funkman@apache.org>
Date:   Tue Jan 2 15:16:10 2007 +0000

    doh - missed a '
    
    -This line, and those below, will be ignored--
    
    M    LocalStrings.properties
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@491813 13f79535-47bb-0310-9956-ffa450edef68

commit 2e16163038fbdc1eb15175f2ac98ce66f657920d
Author: Timothy A. Funk <funkman@apache.org>
Date:   Tue Jan 2 14:53:35 2007 +0000

    Formatting bug with javax/el/LocalStrings.properties
    http://issues.apache.org/bugzilla/show_bug.cgi?id=39409
    
    patch by  Jan Bartel janbs a t mortbay com
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@491805 13f79535-47bb-0310-9956-ffa450edef68

commit 515f2bc98d78be464c9bd463c70d6d259520119c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 1 19:42:37 2007 +0000

    Add virtual hosting howto to TC6 docs (copied from TC5)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@491620 13f79535-47bb-0310-9956-ffa450edef68

commit f1ad272fc07042001086e1a8291adeab35ca074b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 1 19:31:29 2007 +0000

    Port RD thread safety patch from TC5
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@491619 13f79535-47bb-0310-9956-ffa450edef68

commit a2970721fa0c62a6d11f806198e386a41d72de7f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 1 18:55:08 2007 +0000

    Port fix from TC5 to display the JSP source when a compilation error occurs
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@491614 13f79535-47bb-0310-9956-ffa450edef68

commit 44849c3057676914c55e5797adcfd4755b9e01a2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Jan 1 17:56:46 2007 +0000

    Port fix from TC5 for displaying JSP source after an exception in an included file
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@491603 13f79535-47bb-0310-9956-ffa450edef68

commit 8c21684fca817dd1330b7f3ae9d7777ff9b4eae9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Dec 31 02:19:07 2006 +0000

    Port doc update for 41182 from TC5
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@491365 13f79535-47bb-0310-9956-ffa450edef68

commit 30bb14228daf2e82790e1a8cca414f727a7da9ca
Author: Yoav Shapira <yoavs@apache.org>
Date:   Mon Dec 25 03:31:57 2006 +0000

    add xml declaration to build.xml
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@490107 13f79535-47bb-0310-9956-ffa450edef68

commit fa5b1ad1659529e4dbf98f8945081b2cf874e1f6
Author: Remy Maucherat <remm@apache.org>
Date:   Sat Dec 23 00:08:09 2006 +0000

    - Changelog update.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@489806 13f79535-47bb-0310-9956-ffa450edef68

commit 377c83813708e5521d40840fe48f1978f10c2a67
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Dec 19 01:44:02 2006 +0000

    - Modify the code so that it doesn't log client disconnects unless debug is on, and make behavior in front of
      runtime exceptions more transparent.
    - Also, if failing to read or parse parameters doesn't throw an ISE, then a post too large shouldn't be an ISE. Or the
      opposite should be done, but IMO this would be excessive logging.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@488498 13f79535-47bb-0310-9956-ffa450edef68

commit efb55eeb407d93f4e1e8a788a76d5cf35403be66
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Dec 18 23:16:46 2006 +0000

    - 37869: Also use the SSL_INFO_CLIENT_CERT field if the chain is empty.
    - Submitted by Grzegorz Grzybek.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@488453 13f79535-47bb-0310-9956-ffa450edef68

commit 2449afb6506a9a9cc748cb07c02eb5042fe1d422
Author: Mladen Turk <mturk@apache.org>
Date:   Sat Dec 16 11:05:57 2006 +0000

    Backport the current connectors trunk.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@487786 13f79535-47bb-0310-9956-ffa450edef68

commit b0acc0dae04881b58a6322b85d5e961730b67f40
Author: Mladen Turk <mturk@apache.org>
Date:   Sat Dec 16 08:38:05 2006 +0000

    Forgot to rotate by 90 degrees CCW.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@487772 13f79535-47bb-0310-9956-ffa450edef68

commit e66e202b20a6f57354f005b075c11a5ac1a8d672
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Dec 15 23:37:33 2006 +0000

    - Changelog update.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@487717 13f79535-47bb-0310-9956-ffa450edef68

commit d43d9f435eb77e4fd6075d035650592e257e46a3
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Dec 15 22:32:11 2006 +0000

    - As decided, update version numbers.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@487695 13f79535-47bb-0310-9956-ffa450edef68

commit 75c7851510a552c5a1fc79ca761ab7dd938df00c
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Dec 15 22:30:51 2006 +0000

    - Ignore client aborts when flushing the buffer.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@487694 13f79535-47bb-0310-9956-ffa450edef68

commit 15d88a9c3ddd3a3cd8a9172b2cb3c8b9c5e05bf2
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Dec 15 01:58:56 2006 +0000

    Make sure we use an unbounded thread pool until we have implemented some sort of rejection policy.
    No need to wake up the selector more than once, it is only serviced by one thread
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@487423 13f79535-47bb-0310-9956-ffa450edef68

commit 58a4d0632809b618e9e373d99caf001315f5cdbc
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Dec 15 01:35:06 2006 +0000

    Implemented the use of an executor, tasks that aren't able to run quite yet, will be added to a pool of events, this pool of events is a zero GC (RxTaskPool) and is bounded.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@487420 13f79535-47bb-0310-9956-ffa450edef68

commit fafa6adcf8cbbf73faf9a74dd25df5e7690c2643
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Dec 15 00:30:53 2006 +0000

    Name change in preparation of pluggable Executors and thread fairness
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@487409 13f79535-47bb-0310-9956-ffa450edef68

commit c297903abadf6f67a316afd3bdd6195f643f0ad6
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Dec 15 00:26:22 2006 +0000

    refactor, name change, in preparation of having a pluggable Executor and more thread fairness on receiving data
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@487408 13f79535-47bb-0310-9956-ffa450edef68

commit 3f70e463c56cc4eb287d4938a2b4d409d4436881
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Dec 15 00:25:17 2006 +0000

    Refactor, name change in preparation to swap in Executor, and to make increase thread fairness when receiving data
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@487407 13f79535-47bb-0310-9956-ffa450edef68

commit d70aac7fb3aa74d96eca27e66a42af3233e96e86
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Dec 14 17:19:24 2006 +0000

    Use a concurrent hashmap as a base class instead
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@487262 13f79535-47bb-0310-9956-ffa450edef68

commit 07d73089219c3cc7ef0813cbbbea85d964498089
Author: Mladen Turk <mturk@apache.org>
Date:   Thu Dec 14 10:42:33 2006 +0000

    More artwork
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@487168 13f79535-47bb-0310-9956-ffa450edef68

commit 3fa841b028ec8a1256df970a9d15052a755d5a4f
Author: Mladen Turk <mturk@apache.org>
Date:   Thu Dec 14 10:32:37 2006 +0000

    Update installer picture with new Tomcat URL.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@487165 13f79535-47bb-0310-9956-ffa450edef68

commit 5a889aa3bc67fa2922644d12ba2ee1439a642aa7
Author: Mladen Turk <mturk@apache.org>
Date:   Thu Dec 14 10:12:12 2006 +0000

    Make few comments on tcnative-1.dll. No functional change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@487157 13f79535-47bb-0310-9956-ffa450edef68

commit 4d4db9bf342d5015605ad539fed4bfe3d3e6c321
Author: Mladen Turk <mturk@apache.org>
Date:   Thu Dec 14 10:00:17 2006 +0000

    Update the tomcat native version to current 1.1.8
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@487155 13f79535-47bb-0310-9956-ffa450edef68

commit 5a827bdbf4ddd951110d1d1ef4aec76341885afc
Author: Mladen Turk <mturk@apache.org>
Date:   Thu Dec 14 09:58:18 2006 +0000

    Change the loaded message.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@487153 13f79535-47bb-0310-9956-ffa450edef68

commit 5b825c66bd579728fd8ff9955b7522a74b5ab1ab
Author: Mladen Turk <mturk@apache.org>
Date:   Thu Dec 14 09:56:05 2006 +0000

    Log the loaded tomcat native version on startup.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@487152 13f79535-47bb-0310-9956-ffa450edef68

commit 752ca3a5bfd5b6ffee0e0be25c0be3b0a7fb1389
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Dec 13 02:36:35 2006 +0000

    remove not used methods
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@486466 13f79535-47bb-0310-9956-ffa450edef68

commit b7471a49ddbbd1ea186ef74a386386f431808b15
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Dec 13 02:34:30 2006 +0000

    Remove methods not needed by this interface. not used in any sub implementations
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@486463 13f79535-47bb-0310-9956-ffa450edef68

commit ff18e0b9934d697b0e21ac65e2e6f142f53fb5ab
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Dec 11 01:32:05 2006 +0000

    - readTimeout should behave how it does for the HTTP connector (this is an optimization), so add support for the
      negative values.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@485456 13f79535-47bb-0310-9956-ffa450edef68

commit b23b029b6de78d60dd6f6190322b188a244e4b74
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 8 03:37:17 2006 +0000

    Port fix for bug 41051.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@483810 13f79535-47bb-0310-9956-ffa450edef68

commit 5f9c18d912191a957f0302a8426e7d3d100134eb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 8 02:34:01 2006 +0000

    Port fix for bug 41074. Make jsp:plugin output XHTML compliant
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@483787 13f79535-47bb-0310-9956-ffa450edef68

commit 54487663d51d25e7bc3aefe0516cfaae3db92818
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 8 02:26:28 2006 +0000

    Port fix for bug 40581. Add note about using symbolic links.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@483785 13f79535-47bb-0310-9956-ffa450edef68

commit c6b3f71ea704e2b9e71acdae7d7131355d6b1355
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 8 02:24:30 2006 +0000

    Port fix for 40585. Fix parametrised constructor so parameters have an effect
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@483782 13f79535-47bb-0310-9956-ffa450edef68

commit 256d3f0d805c0ebf6700a29ff3a6c96298810a9e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Dec 8 01:54:50 2006 +0000

    RFC2616 specifies 1*8ALPHA and ALPHA is a-z or A-Z, it does not include numbers
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@483774 13f79535-47bb-0310-9956-ffa450edef68

commit dcb902b2b17d34a8ba8d77cedad47d5937fbff99
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Dec 8 01:37:24 2006 +0000

    - Based on Mark's patch. Ensure accept-language header conforms to RFC 2616 when accessed through
      getLocale and friends, and ignore it if it doesn't.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@483769 13f79535-47bb-0310-9956-ffa450edef68

commit 51733055bc66a38fc4437930a300c5b85d6c795a
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Dec 6 18:33:45 2006 +0000

    - Add SSLEnabled to the example config.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@483172 13f79535-47bb-0310-9956-ffa450edef68

commit 9344688c817c56b75003cbb9a0d859761ebdba15
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Dec 6 14:25:11 2006 +0000

    - Fix typo in policy file.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@483089 13f79535-47bb-0310-9956-ffa450edef68

commit f4b9652764f848cafef0d45c91c99aaeaf8f38b9
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Dec 6 10:28:10 2006 +0000

    - NSIS 2.22.
    - Changelog update.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@483014 13f79535-47bb-0310-9956-ffa450edef68

commit 5a2f4dc094c5457c9a916da5d12d44bf54fd2109
Author: Mladen Turk <mturk@apache.org>
Date:   Wed Dec 6 07:13:26 2006 +0000

    Fix LOGPATH index.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@482933 13f79535-47bb-0310-9956-ffa450edef68

commit 445a171b99ca27962df68a7934e7f92d100a9436
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Dec 5 22:09:59 2006 +0000

    - Changelog update.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@482805 13f79535-47bb-0310-9956-ffa450edef68

commit 137b0b3711e5708885fb6e757bcaa7dd35fe1a8c
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Dec 5 21:49:09 2006 +0000

    - Add experimental clustered SSO code.
    - Submitted by Fabien Carrion.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@482797 13f79535-47bb-0310-9956-ffa450edef68

commit f3b95cca31d962b103808227e47b3d63d71e6db0
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Tue Dec 5 14:14:29 2006 +0000

    That would create a trustedCertEntry but we need a keyEntry.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@482664 13f79535-47bb-0310-9956-ffa450edef68

commit 436b44adc3b3efafb0771c5482251dfa81e9e32a
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Dec 5 13:53:47 2006 +0000

    - Add a html file in case the user goes to the wrong place in the examples.
    - Changelog update.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@482651 13f79535-47bb-0310-9956-ffa450edef68

commit e854200c56b73f258d74064feabf9b648a547ea4
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Dec 5 13:49:08 2006 +0000

    - Disable TLD cache for now until further refactoring, since I have found it was not consistent with Jasper.
    - Don't mutate keepAliveTimeout value in AprEndpoint.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@482650 13f79535-47bb-0310-9956-ffa450edef68

commit 07aa805ee01a817bdce2d82fa7d7628398b53462
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Dec 5 10:55:38 2006 +0000

    - Add a flag to allow disabling the code which sets references to null when stopping a webapp.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@482586 13f79535-47bb-0310-9956-ffa450edef68

commit a4c1b0b3466e9246995504c29cf7e3f1da7f8146
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Dec 5 01:02:06 2006 +0000

    - Add 1.2 as well.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@482434 13f79535-47bb-0310-9956-ffa450edef68

commit 551617fceaaebc27b221b38a5ef305a1345d5886
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Dec 4 01:48:14 2006 +0000

    - Update jar list in Jasper.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@482011 13f79535-47bb-0310-9956-ffa450edef68

commit 4e501664da12bf35ecbb171a53d568d8fecfe7a7
Author: Mladen Turk <mturk@apache.org>
Date:   Sun Dec 3 12:40:18 2006 +0000

    Backport nonssl patches from tomcat-connectors/trunk
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@481766 13f79535-47bb-0310-9956-ffa450edef68

commit af58f95107ebf7d075ffb226a10bbc0029d96a01
Author: Mladen Turk <mturk@apache.org>
Date:   Sun Dec 3 09:49:40 2006 +0000

    Update binaries with --ServiceUser/ServicePassword option.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@481746 13f79535-47bb-0310-9956-ffa450edef68

commit b2a6bce24842e7a4b4272075b0f6c70c5b7eecdc
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Dec 1 17:02:24 2006 +0000

    - Add xsd for JSP 2.1.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@481296 13f79535-47bb-0310-9956-ffa450edef68

commit 514256e121006ae8dc02097447c4986339f44029
Author: Timothy A. Funk <funkman@apache.org>
Date:   Fri Dec 1 12:14:23 2006 +0000

    Bug 41089 and JSP.6.3.2
    Table JSP.6-2 Attributes for the <jsp:root> standard action
    version (required) The version of the JSP specification used in this
    page. Valid values are "1.2", "2.0", and "2.1". It is a
    translation error if the container does not support the
    specified version.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@481230 13f79535-47bb-0310-9956-ffa450edef68

commit 89f106c0018168e026bb8778ef0066cd4d505899
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Nov 30 21:48:44 2006 +0000

    - Irrelevant fix.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@481091 13f79535-47bb-0310-9956-ffa450edef68

commit b55f2d865c5f40a7777f3f1534489996cbf3c585
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Nov 29 21:10:40 2006 +0000

    - Use a separate method for checking primitives. I'll keep the check for now since I have the impression it's tested.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@480713 13f79535-47bb-0310-9956-ffa450edef68

commit 8cdb9c5fc9d0cf0fe4c18100a4a2ec08219bd784
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Nov 29 16:19:23 2006 +0000

    - For consistency, add keepAliveTimeout to this protocol handler.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@480612 13f79535-47bb-0310-9956-ffa450edef68

commit 0c9fd04a96070ec76bca898b927326f3376c10b6
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Nov 29 15:28:00 2006 +0000

    - Experiment with using soTimeout as the keepAliveTimeout if it's not specified (this way, the configuration behavior
      remains the same as before - by default).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@480598 13f79535-47bb-0310-9956-ffa450edef68

commit 4448de398bb342a5077fa40fe5e5c42a42df4548
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Nov 29 12:59:22 2006 +0000

    - Port back my fixes to this patch.
    - Correctly pass keepalive value to AprEndpoint.
    - Sendfile should use soTimeout (it's a request, not a keepalive).
    - Comet poller is also a request in progress so use soTimeout too (most likely it would need its own timeout value).
    - I will adjust the defaults further, as for example I think keepALiveTimeout should default to soTimeout if not set
      (ie, if it's -1).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@480558 13f79535-47bb-0310-9956-ffa450edef68

commit ebc973cdcdab894fdf06292beea4ba5c0fe8e6b2
Author: Mladen Turk <mturk@apache.org>
Date:   Wed Nov 29 12:28:57 2006 +0000

    Oops. Forgot to commit this file
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@480554 13f79535-47bb-0310-9956-ffa450edef68

commit b0d601f297f4327f2c7d3d60f22c19f6a81ae4a2
Author: Mladen Turk <mturk@apache.org>
Date:   Wed Nov 29 12:26:37 2006 +0000

    Commit the voted keepAliveTimeout patch.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@480552 13f79535-47bb-0310-9956-ffa450edef68

commit 4a5b28da4262a56a01bf57d75aab11297bfb4982
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Nov 29 02:39:45 2006 +0000

    - Update JAR list for no-tld-scan.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@480346 13f79535-47bb-0310-9956-ffa450edef68

commit de5c3b70902a190153621c3bf3760dcb4f0474f8
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Nov 29 00:30:07 2006 +0000

    - 41057: Caching large strings uses too much memory and is a bit pointless, so add an upper bound to the String length.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@480302 13f79535-47bb-0310-9956-ffa450edef68

commit db2cef2f8c7cf40983faa934e65863104c0eaaa0
Author: Mladen Turk <mturk@apache.org>
Date:   Tue Nov 28 11:31:04 2006 +0000

    Avoid initializing APR for each connector.
    Also test the minimum version required.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@480000 13f79535-47bb-0310-9956-ffa450edef68

commit eefda7a4ced07449817024a36518b26490860bd0
Author: Mladen Turk <mturk@apache.org>
Date:   Tue Nov 28 11:21:38 2006 +0000

    Refactor AprLifecycleListener by putting the logic into separate methods.
    1. Do not call terminate in case initialize failed
    2. Call terminate if version is below required.
    3. Do not initialize SSL if APR was not initialized.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@479995 13f79535-47bb-0310-9956-ffa450edef68

commit 82e9ed848a3f3f7e0fd48571a47e5302d5b45373
Author: Mladen Turk <mturk@apache.org>
Date:   Tue Nov 28 08:51:21 2006 +0000

    Fix example AprSLL. We have a new param SSLEnabled.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@479953 13f79535-47bb-0310-9956-ffa450edef68

commit 5caa209504dc27cfaa5918942a47661017bf4613
Author: Mladen Turk <mturk@apache.org>
Date:   Sun Nov 26 11:16:06 2006 +0000

    The header set by Tomcat are always in proper case.
    Skip creating additional lowercase String when getting AJP response index.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@479344 13f79535-47bb-0310-9956-ffa450edef68

commit 085042cb41e366f07df6a0de91b7dbc21dce067e
Author: Mladen Turk <mturk@apache.org>
Date:   Sun Nov 26 09:29:15 2006 +0000

    Compress outgoing response headers according to the
    AJP13 protocol specification.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@479317 13f79535-47bb-0310-9956-ffa450edef68

commit 1c675ba873e7a31900968c409bfdfe8eb3f51559
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 25 00:29:25 2006 +0000

    Port update to SSL docs to include PKCS11 that users have successfully used.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@479059 13f79535-47bb-0310-9956-ffa450edef68

commit b70962fdbc5dab24797085634c591913b1a4da0b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Nov 24 23:58:18 2006 +0000

    Port fix bug 41008. Enable POST to be used with indexed queries. Patch provided by Chris Halstead.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@479052 13f79535-47bb-0310-9956-ffa450edef68

commit 37e186ecd26071a93994f0bbf3d5546d977f1678
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Nov 22 16:05:30 2006 +0000

    - Changelog update (add the changes to the modeler, which I had forgotten about).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@478204 13f79535-47bb-0310-9956-ffa450edef68

commit fa9f7673db699fdb342bf0d86520e769f2b6a075
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Nov 22 15:41:42 2006 +0000

    - Made setString(null) do the same thing it used to do when recycle was called at the beginning of the method.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@478196 13f79535-47bb-0310-9956-ffa450edef68

commit 042f8118c89d2bc44d8cb3b71f6f954aa00fb654
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Nov 21 17:02:55 2006 +0000

    Make the pool impl compile for JDK 1.5 by swapping out the enum keyword.
    Another fix is to simply put source="1.4" for the dbcp javac target.
    Let me know if you prefer one over the other.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@477747 13f79535-47bb-0310-9956-ffa450edef68

commit f9efe9e3d0acabc9fee78d91a536b24139d88e55
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Nov 21 16:35:19 2006 +0000

    Fix the logic of the checkSameObjects method.
    The method did not take into account that the lastServiceRequest/Response could be wrapped themselves.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@477737 13f79535-47bb-0310-9956-ffa450edef68

commit 195daaa36161ece11db7e4f509b5ed49d1e31158
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 20 23:37:43 2006 +0000

    Port relevant parts of fix for bug 40999.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@477409 13f79535-47bb-0310-9956-ffa450edef68

commit 606dd8e24ba5e4b7242199e7bdd98c40e8a11202
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Nov 20 22:31:37 2006 +0000

    - I suppose I can remove the method then.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@477369 13f79535-47bb-0310-9956-ffa450edef68

commit 7517de8db01b84a6fc3462c7d9428454d863d511
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Nov 20 20:19:30 2006 +0000

    Fix output stream to not use the converter in the buffer, but do a simple hard coded conversion.
    This makes the TCK test pass
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@477315 13f79535-47bb-0310-9956-ffa450edef68

commit dcfdcd2e1f240076974086011a821398b66f4666
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Nov 20 18:31:11 2006 +0000

    revert fix until root cause has been found
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@477276 13f79535-47bb-0310-9956-ffa450edef68

commit 63105d4fe3cf8a1ba48cb7d78c02f3df173a99ed
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Nov 20 16:47:03 2006 +0000

    TCK correction, depending on the sequence of the tests, the converter turns out to be null at certain times.
    Added in a check to create the converter even when getting the output stream.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@477251 13f79535-47bb-0310-9956-ffa450edef68

commit 45b245f69a0b6c337a5c5b0fd36b1526f3bc875f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 20 00:27:23 2006 +0000

    Port fix for bug 38198. Improve context name aspect of host documentation.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@476995 13f79535-47bb-0310-9956-ffa450edef68

commit cb2c6556eebe5969a0df882ddee0f7f5562eb4c3
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 20 00:17:55 2006 +0000

    Port fix for bug 40901. Encode directory listing output. Based on a patch by Chris Halstead.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@476992 13f79535-47bb-0310-9956-ffa450edef68

commit 600970211c691d14a41aa010cef2a95a0abac62d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 20 00:13:26 2006 +0000

    Port fix for bug 40929. Update JavaDoc
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@476989 13f79535-47bb-0310-9956-ffa450edef68

commit e713e776e90bf920bf70c75981df5c90abd7b185
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 20 00:10:03 2006 +0000

    Port fix bug 40860. Additional logging if parameter processing fails.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@476988 13f79535-47bb-0310-9956-ffa450edef68

commit 1ced3e475e52816271e706e459c1af2b66a942bb
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 20 00:04:23 2006 +0000

    Tabs to 8 spaces.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@476985 13f79535-47bb-0310-9956-ffa450edef68

commit a6d69627b02b3432e4fbf196dd750636144a55ff
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Nov 20 00:01:37 2006 +0000

    Port fix for bug 37509.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@476983 13f79535-47bb-0310-9956-ffa450edef68

commit be9d523b52231e9c306eb822c550da32dc9a6007
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 19 23:52:52 2006 +0000

    Port fix for bug 40844. Missing syncs.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@476979 13f79535-47bb-0310-9956-ffa450edef68

commit cf014ba95c3645bda8f675100fe92d79ac186bee
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Nov 19 22:14:15 2006 +0000

    Fix Gump. Removing the new class (PoolUtil) that requires the other pool classes causes other failures.
    This fix isn't strictly necessary whilst we still use the current release but once we upgrade to the next release the build will fail.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@476945 13f79535-47bb-0310-9956-ffa450edef68

commit ec31e33ae0103c11240f98bf2acc009173e693f3
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Nov 16 12:32:06 2006 +0000

    - Also filter the release notes that go in the docs.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@475713 13f79535-47bb-0310-9956-ffa450edef68

commit f736ba74c8f06cde4b0593a495408f4cb76eaf88
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Nov 16 11:17:41 2006 +0000

    - Port memory optimizations to the classic HTTP connector.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@475686 13f79535-47bb-0310-9956-ffa450edef68

commit dcf086835b203f5f7e384a3d22cde673ce0c6829
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Nov 15 23:20:19 2006 +0000

    - Changelog update.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@475488 13f79535-47bb-0310-9956-ffa450edef68

commit 98cb71e7f244821ccf0ecc5448d777bce91d44ab
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Nov 15 15:53:27 2006 +0000

    - Sync the installer's config files.
    - Cosmetic fixes.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@475270 13f79535-47bb-0310-9956-ffa450edef68

commit 16192df552329cf22cc4fd92d2f50e60795da8cb
Author: Timothy A. Funk <funkman@apache.org>
Date:   Wed Nov 15 13:51:16 2006 +0000

    Link to the manager howto.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@475237 13f79535-47bb-0310-9956-ffa450edef68

commit d625b49c487c609f02cf88e852413456869d00f0
Author: Timothy A. Funk <funkman@apache.org>
Date:   Wed Nov 15 13:37:51 2006 +0000

    tomcat - s/5.5/6/
    servlet spec s/2.3/2.4/
    jsp verion s/2.0/2.1/
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@475232 13f79535-47bb-0310-9956-ffa450edef68

commit 38778cb671978dbf16551e6be310dd139a71049f
Author: Timothy A. Funk <funkman@apache.org>
Date:   Wed Nov 15 13:31:39 2006 +0000

    Added a 401 page to let the user know what file to change to gain
    access to the manager app in a stock install.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@475229 13f79535-47bb-0310-9956-ffa450edef68

commit 1697952c3e21b8488bedd6bc34554e9e681f1698
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Nov 15 12:58:15 2006 +0000

    - Update version numbers.
    - Update Eclipse to 3.2.1.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@475221 13f79535-47bb-0310-9956-ffa450edef68

commit 6255f1ef26e5615cf14a230243a7b5eff67ced4e
Author: Yoav Shapira <yoavs@apache.org>
Date:   Tue Nov 14 16:00:27 2006 +0000

    add my new key
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@474836 13f79535-47bb-0310-9956-ffa450edef68

commit af6bb7a3a37e89ebd7f47102c77dcb81b88b9de0
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Nov 13 23:35:02 2006 +0000

    password property did not go through
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@474577 13f79535-47bb-0310-9956-ffa450edef68

commit 010ac80792cfc55cc6f9b755bb7450d2ef623162
Author: Mladen Turk <mturk@apache.org>
Date:   Mon Nov 13 12:48:02 2006 +0000

    Use tomcat-native 1.1.7
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@474289 13f79535-47bb-0310-9956-ffa450edef68

commit 85a6c98a26d8ecb66d3241a03b7b9596f96b23a4
Author: Remy Maucherat <remm@apache.org>
Date:   Sat Nov 11 07:41:42 2006 +0000

    - Fix API.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@473661 13f79535-47bb-0310-9956-ffa450edef68

commit be8de51954d4cd6f3ee8f9205df2cb1f7b139f90
Author: Mladen Turk <mturk@apache.org>
Date:   Fri Nov 10 14:45:01 2006 +0000

    Add version info to the build.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@473358 13f79535-47bb-0310-9956-ffa450edef68

commit 7ab23bf4d2027a45581e15a406ad60beca938ef3
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Nov 10 14:36:49 2006 +0000

    - Fix version number.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@473353 13f79535-47bb-0310-9956-ffa450edef68

commit 6ee3fd8312b0d9b12b4151ac3cf908f12c92d0a8
Author: Mladen Turk <mturk@apache.org>
Date:   Fri Nov 10 14:26:11 2006 +0000

    Backport from tomcat-connectors.
    Fix coredump when the client socket is inside read/write
    operation (not closed), and the Tomcat is shutdown.
    The pool was destroyed twice in that case.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@473349 13f79535-47bb-0310-9956-ffa450edef68

commit 7dc95eb2cf109c364437b166bad070814f949a64
Author: Mladen Turk <mturk@apache.org>
Date:   Fri Nov 10 14:23:52 2006 +0000

    Add version control flags like in 5.5
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@473346 13f79535-47bb-0310-9956-ffa450edef68

commit 348a9b0acbf6c7e846dd94af3adff69808f6adb7
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Nov 10 00:08:19 2006 +0000

    - Some more polish.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@473143 13f79535-47bb-0310-9956-ffa450edef68

commit e3df2fbcfc76c0d386caae3b2834826ae514a79f
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Nov 10 00:04:34 2006 +0000

    - Polish, as reported by Yoav.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@473141 13f79535-47bb-0310-9956-ffa450edef68

commit 3cbb0b7a8bd9f5f0aaa975e3eb06c0ee84844626
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Nov 8 12:47:27 2006 +0000

    - Update my key.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@472478 13f79535-47bb-0310-9956-ffa450edef68

commit 991cf9624205034fd0d46780b3af9ddfb4af9c2f
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Nov 7 22:43:41 2006 +0000

    - Changelog update.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@472313 13f79535-47bb-0310-9956-ffa450edef68

commit 145a3bda9ef988439d0ab79f201335a0f6be8d3c
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Nov 7 12:41:29 2006 +0000

    - The page wasn't explicit enough about the requirements, I think.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@472087 13f79535-47bb-0310-9956-ffa450edef68

commit f7ca96df28a7e4d77a2702e724da64c0d4443e57
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Nov 7 10:45:01 2006 +0000

    - 40913: Fix the second test when an expression is used.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@472057 13f79535-47bb-0310-9956-ffa450edef68

commit 22d1ad7f2599f4f6eed090399be58cac65415406
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 4 22:35:15 2006 +0000

    Port fix for bug 34956. Enforce requirements of SRV.8.2 / SRV.14.2.5.1
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@471281 13f79535-47bb-0310-9956-ffa450edef68

commit 6d274b42257093f24a8e066b0085a1f5611f4d60
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 4 21:40:59 2006 +0000

    Port fix for bug 40817.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@471267 13f79535-47bb-0310-9956-ffa450edef68

commit 3c78f46025e5d750295648c72b9582aa10ad7564
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 4 21:37:20 2006 +0000

    Port fix bug 40823. Better context docs.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@471266 13f79535-47bb-0310-9956-ffa450edef68

commit 598f14dc8e94389cec03a4db10188a79bf854c23
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 4 21:24:01 2006 +0000

    Port fix bug 37439. Update engine docs with name uniqueness requirement.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@471264 13f79535-47bb-0310-9956-ffa450edef68

commit 79631bba45a132c8c614355cc11303fc113ffb0e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Nov 4 21:21:07 2006 +0000

    Port fix bug 37458. Remove the possibility of some NPE and IAE issues.
    Note for Remy - you had some ideas to improve this patch.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@471263 13f79535-47bb-0310-9956-ffa450edef68

commit 4d3fffe70980a88c39abd7b9747f9197875bf40a
Author: Remy Maucherat <remm@apache.org>
Date:   Sat Nov 4 02:11:17 2006 +0000

    - Expose the EL type through the Root node to be able to determine the EL type for JspAttribute.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@471096 13f79535-47bb-0310-9956-ffa450edef68

commit 9734c80789a3ff314ff02701f59003259b7a2cc5
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Nov 3 10:56:25 2006 +0000

    - Remove an extra throwable.
    - Add a specific flag for recycling facades (when security is on, recycling will always be done, obviously).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@470756 13f79535-47bb-0310-9956-ffa450edef68

commit 5aa50cd463f5eeaf4aad670fa90859d21c761171
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Nov 3 10:13:00 2006 +0000

    - Add back jsvc in the build. I don't think commons-daemon needs any package renaming.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@470746 13f79535-47bb-0310-9956-ffa450edef68

commit 86b7457b16db2225f695b32234cab4768eccdbf7
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Nov 3 00:05:34 2006 +0000

    - Fix a regression on classic EL expressions inside elements.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@470609 13f79535-47bb-0310-9956-ffa450edef68

commit 51c5030a8a60dbfc489a8b1c0a711e00c3eabd21
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Nov 2 22:56:45 2006 +0000

    - Add translation time type checks for String.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@470584 13f79535-47bb-0310-9956-ffa450edef68

commit 77ec01f3f6a15c8da5ba333d1b1ed31f67a20df6
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Nov 2 14:30:39 2006 +0000

    - Redo the checkXmlAttributes method, as I could not sneak in the type checking for litterals that are passed to
      methods (or values, right ?). Unfortunately, some translation time (rather than runtime) errors are needed for these.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@470373 13f79535-47bb-0310-9956-ffa450edef68

commit 6742cb8e2facefed0a144762d397571cc17eb04d
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Nov 2 11:06:03 2006 +0000

    - Indentation.
    - Fix a woops which led to ignoring the jsp config for the encoding.
    - Send an error for a 2.0 version for the 2.1 tag attributes.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@470325 13f79535-47bb-0310-9956-ffa450edef68

commit 7e55d59e7a32637ca63b2cec65835a56dd760a98
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Nov 2 03:50:14 2006 +0000

    - i18n handling fixes (according to what the spec authors think is what should be done, at least).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@470216 13f79535-47bb-0310-9956-ffa450edef68

commit 9dbc049a5afd0251c25d304ad8f61d1024dd4231
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Nov 1 12:56:33 2006 +0000

    - Fix woops.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@469893 13f79535-47bb-0310-9956-ffa450edef68

commit 61556deecd16f8b8383ae3e465d43a6a63d2cc91
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Nov 1 12:42:53 2006 +0000

    - Check for some of the errors.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@469890 13f79535-47bb-0310-9956-ffa450edef68

commit b8d2aed8c7f99c485ff5f651788f4c32f569b46a
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Nov 1 10:59:20 2006 +0000

    - For tag files, also put attributes in the wrapped jspContext.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@469855 13f79535-47bb-0310-9956-ffa450edef68

commit f2b2119ee3d7dfce89ffe260fabf9b435654ee70
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Nov 1 10:04:21 2006 +0000

    - Always call jspInit (some work in always done there, now).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@469842 13f79535-47bb-0310-9956-ffa450edef68

commit d54d6f3c5277f3564e31987b3ee54f674e97a88b
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Nov 1 01:20:18 2006 +0000

    - Adjust the tests for deferred expressions evaluation.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@469739 13f79535-47bb-0310-9956-ffa450edef68

commit 0de513d9702f8f9dc73f4009f37ddb81525cda32
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Oct 31 21:47:45 2006 +0000

    - Better impl of JSP id consumer: actually this was implemented for regular custom tags, but not for simple tags.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@469669 13f79535-47bb-0310-9956-ffa450edef68

commit 03c120f70495012a3482fc74879608e44bd73c94
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Oct 31 16:28:55 2006 +0000

    - Add parsing of implicit.tld for tag files.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@469542 13f79535-47bb-0310-9956-ffa450edef68

commit 315694b534c0bac68e5d9b4ffe6bc7f88eecf897
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Oct 31 14:27:22 2006 +0000

    - Taglibs have their own version number, so isExpression gets an adjustment allowing not checking for deferred
      expressions.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@469498 13f79535-47bb-0310-9956-ffa450edef68

commit aa3fabec78ccf349c0e3f87147bcfc83a75ae934
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Oct 31 12:53:43 2006 +0000

    - Add two allowed directives.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@469468 13f79535-47bb-0310-9956-ffa450edef68

commit 50e8a50ee7b3b80b96a5a6d484f7f248f7f4b345
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Oct 30 18:09:38 2006 +0000

    after close has been called we are no longer a comet thingy
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@469213 13f79535-47bb-0310-9956-ffa450edef68

commit 038c12ad1417c9a2de57d3e0a1253b33d11f4c87
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Oct 30 18:07:22 2006 +0000

    cancel the keys
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@469212 13f79535-47bb-0310-9956-ffa450edef68

commit 8f23fcc7576838da37dd3b53bc37a02792617afb
Author: Peter Rossbach <pero@apache.org>
Date:   Mon Oct 30 18:06:52 2006 +0000

    Fix some html smells
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@469211 13f79535-47bb-0310-9956-ffa450edef68

commit 85defba50be4298edeb86e6cd45728f1b17cda6a
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Oct 30 17:47:26 2006 +0000

    Fixed null pointer exception on comet socket timeout
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@469207 13f79535-47bb-0310-9956-ffa450edef68

commit bc1a410c10736a3c2359dec8c13386c69f487da8
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Oct 30 16:47:10 2006 +0000

    Fixed bug where OP interest is different for the first time the key is used, hence a key that never has been read would never timeout.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@469189 13f79535-47bb-0310-9956-ffa450edef68

commit 6b40b2d8eec434a85e28eea8623479192095cdaa
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Oct 30 16:15:35 2006 +0000

    Revert fix, suggestion was incorrect and can lead to memory leaks
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@469178 13f79535-47bb-0310-9956-ffa450edef68

commit d714dbfe02e3fe9f067a304500163bac5c6309be
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Oct 30 15:53:19 2006 +0000

    If the key is null, channel is closed,not sure this is the correct fix, since the key potentially had an attachment this could lead to NIO mem leak, must track down how this happens
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@469168 13f79535-47bb-0310-9956-ffa450edef68

commit 760db17f37f39323ecd1fb258b785795d0b0cfd8
Author: Peter Rossbach <pero@apache.org>
Date:   Mon Oct 30 13:10:02 2006 +0000

    fix small html smells
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@469141 13f79535-47bb-0310-9956-ffa450edef68

commit de42c0242fc6378e8288fe3d162118f1ce782e49
Author: Timothy A. Funk <funkman@apache.org>
Date:   Sun Oct 29 19:28:37 2006 +0000

    There is no org.apache.catalina.Logger or setLogger anymore
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@468957 13f79535-47bb-0310-9956-ffa450edef68

commit b28fabef3945736cc3a919f90f4d369f59f6a9c5
Author: Mladen Turk <mturk@apache.org>
Date:   Sun Oct 29 16:50:56 2006 +0000

    On explicit flush, create an empty (8 bytes)
    SEND_BODY_CHUNK message, that can be used by
    web server to flush the packet.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@468937 13f79535-47bb-0310-9956-ffa450edef68

commit d2e23cbee2af38c76431034bd8124a4661d6a45b
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Oct 27 00:24:37 2006 +0000

    - Implement the JspIdConsumer feature.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@468205 13f79535-47bb-0310-9956-ffa450edef68

commit 8834a477de4371b5a39129369c4631f1af2a0917
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Oct 26 23:19:13 2006 +0000

    - Some deferred expressions handling fixes.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@468186 13f79535-47bb-0310-9956-ffa450edef68

commit 1fd6c2fdff49172964fee5afc9e05db4335385e2
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Oct 26 22:04:24 2006 +0000

    Cleaned up imports
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@468166 13f79535-47bb-0310-9956-ffa450edef68

commit 3fc91b5d51ccb5b78c1723943229a2a348d0b387
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Oct 26 20:57:28 2006 +0000

    Ooops, forgot to pass in the double buffered channel to the selector pool for write and read operations
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@468132 13f79535-47bb-0310-9956-ffa450edef68

commit a32b5effd446380059202976286050e86c4639a0
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Oct 26 20:37:40 2006 +0000

    Make sure the socket buffer is not bigger than anticipated header size
    Reuse the key attachment objects properly
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@468124 13f79535-47bb-0310-9956-ffa450edef68

commit 82e990b019b5996a5b64f9eb96820d33fa60d9b9
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Oct 26 15:24:24 2006 +0000

    Reverted the removal of the "socket buffer", writing to a ByteBuffer is extremely slow, so it should only be done in chunks
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@468035 13f79535-47bb-0310-9956-ffa450edef68

commit b4cf474b819498a273590b01a41106088403e6fe
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Oct 26 13:24:22 2006 +0000

    - Also use the parent constructor here.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@467995 13f79535-47bb-0310-9956-ffa450edef68

commit 3ea791f10e2e067922fd2de49ddc9cf295221e6e
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Oct 26 13:08:58 2006 +0000

    - Refactor exception reporting using Throwable.getCause, since TC 6 does not have the restrictions for modifications
      to the API implementation classes.
    - ServletException.getRootCause now calls getCause.
    - Also add some tweaks for robustness to cap recursion.
    - Let me know if I did it wrong.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@467989 13f79535-47bb-0310-9956-ffa450edef68

commit b00d3c5fc243e5e223cc3ac1a296d08236b5ac3b
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Oct 25 23:20:35 2006 +0000

    Zero GC objects. everything gets cached.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@467808 13f79535-47bb-0310-9956-ffa450edef68

commit e84e74ded8cd212ebc483a9d6ccd5cbd8920bc5f
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Oct 25 22:11:10 2006 +0000

    Documented socket properties
    Added in the ability to cache bytebuffers based on number of channels or number of bytes
    Added in nonGC poller events to lower CPU usage during high traffic
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@467787 13f79535-47bb-0310-9956-ffa450edef68

commit 523ee1b1c6ee00168d1d7d163450580884d82a90
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Oct 25 14:31:25 2006 +0000

    Code clean up, last pieces to make is a the KeyAttachment object and the Runnable used for addEvent to be non GC objects, as these events happen very frequently
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@467669 13f79535-47bb-0310-9956-ffa450edef68

commit cc9db74a8d096e79108b58c74c3337d989ceffa9
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Wed Oct 25 10:18:02 2006 +0000

    Allow variable size of AJP message via packetSize=n in <Connector/>.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@467599 13f79535-47bb-0310-9956-ffa450edef68

commit ebb9c521b561d19ae14eb053656cba9cde20f4f8
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Oct 24 22:32:49 2006 +0000

    don't cancel, only do that within the selector thread, as this is a synchronized call
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@467514 13f79535-47bb-0310-9956-ffa450edef68

commit c6773d8f25a75227a5977f6f718a12a7fee5ac39
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Oct 24 22:31:51 2006 +0000

    Make the buffer pool configurable, still need to make it configurable based on size
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@467513 13f79535-47bb-0310-9956-ffa450edef68

commit 5d0d995b018f2044dbd9786e15ac99c72b16bbd2
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Oct 24 19:01:00 2006 +0000

    adjust default properties
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@467441 13f79535-47bb-0310-9956-ffa450edef68

commit 220bff69562c1e35a7cdeac89574dfda5bb6b80e
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Oct 24 14:46:13 2006 +0000

    Add a socket properties class so that we can configure every single socket option, currently only on NIO.
    Remove redundant byte[] buffer in the NIO OutputBuffer, this avoids double copy from byte[] to byte[] to ByteBuffer
    Add in the ability to configure the selector pool, as this be dependent on JVM and OS settings
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@467349 13f79535-47bb-0310-9956-ffa450edef68

commit db5024a4f04a30a22f7ef50d3a5ed643d25117e8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 24 03:17:11 2006 +0000

    Correct props.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@467222 13f79535-47bb-0310-9956-ffa450edef68

commit a2f4b3627efe80d39af172a4f20335c59fe6f28d
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 24 03:16:33 2006 +0000

    Correct props.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@467221 13f79535-47bb-0310-9956-ffa450edef68

commit 70b19adb459d2cdbf1a070a9e53b0f1689d31b71
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 24 03:15:02 2006 +0000

    Correct props.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@467219 13f79535-47bb-0310-9956-ffa450edef68

commit 74ae1efb5684ef9d7bdfe69528d7c3b33de86e3c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 24 03:14:41 2006 +0000

    Correct props.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@467218 13f79535-47bb-0310-9956-ffa450edef68

commit 84d5dfaff9435f5967d5472c3deba4bc8e834aa2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 24 03:14:34 2006 +0000

    Correct props.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@467217 13f79535-47bb-0310-9956-ffa450edef68

commit b258d6c2de427cc7fe9f93cca04c971a14c79842
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 24 03:14:00 2006 +0000

    Correct props.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@467216 13f79535-47bb-0310-9956-ffa450edef68

commit 8df2fb9fc8320c621dd8e77efa5c01a4ae98427f
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 24 03:12:55 2006 +0000

    Correct props.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@467215 13f79535-47bb-0310-9956-ffa450edef68

commit a01fef3ec64b549b9d85c796bfdf815a93fe91ed
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 24 03:11:45 2006 +0000

    Correct props.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@467214 13f79535-47bb-0310-9956-ffa450edef68

commit 4426a9de8c3d771d48894b5777910198766c7d43
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 24 03:11:12 2006 +0000

    Correct props.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@467213 13f79535-47bb-0310-9956-ffa450edef68

commit b205ab6594b23def0933bf440c4ab61d099f42de
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 24 03:10:47 2006 +0000

    Correct props.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@467212 13f79535-47bb-0310-9956-ffa450edef68

commit a8e6a4dca47763f3a285ccca77c2b5a90d107f8e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Oct 23 23:47:06 2006 +0000

    Correct props.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@467182 13f79535-47bb-0310-9956-ffa450edef68

commit 14e928b6f37d45fe180c15970fcff47cdb5c49b9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Oct 23 23:12:17 2006 +0000

    Fix properties.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@467173 13f79535-47bb-0310-9956-ffa450edef68

commit d16e1db30bc81935a0b0aeae06bc37e3d7533e9c
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Oct 23 18:24:59 2006 +0000

    remy is right, lets not sacrifice performance to protect against bad servlet code
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@467065 13f79535-47bb-0310-9956-ffa450edef68

commit 758a00623773f8706529dadab68fc9724c501ba0
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Oct 23 17:39:28 2006 +0000

    Added in blocking logic to the NIO connector. This logic ensures that if there is a slow client, we will not be wasting CPU cycles doing endless spinning.
    Ideas for this implementation can be credited to the Tribes implementation where we have a pool of selectors, so that each sending thread uses its own selector and from Jeanfrancois Arcand's blog about wrapping a NIO channel in a blocking inputstream.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@467044 13f79535-47bb-0310-9956-ffa450edef68

commit a7cb0c0cf6a4ddecb5818e40360a65cdbd2cea3d
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Oct 23 17:20:43 2006 +0000

    added my pee stain :)
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@467036 13f79535-47bb-0310-9956-ffa450edef68

commit decf2088e5ba7afc70c3e1580354c3c133d7ead5
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Oct 23 17:18:17 2006 +0000

    fixed compiler warnings
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@467033 13f79535-47bb-0310-9956-ffa450edef68

commit 668203d4df75b550874fc45c675ef819ab05f71b
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Mon Oct 23 09:15:22 2006 +0000

    Add a packetSize option to match the option on the native side.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@466958 13f79535-47bb-0310-9956-ffa450edef68

commit b30062a246a5c5423862e877d1d22d5a7684ab2a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Oct 22 23:05:45 2006 +0000

    Port fix for 37070 to TC6 along with the changes to remove references to the DefaultContext.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@466891 13f79535-47bb-0310-9956-ffa450edef68

commit 0e360f39c2ab4e39d427f67b3fb024c9e08b633a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Oct 21 23:30:39 2006 +0000

    Update license header in TC6 trunk to comply with:
    http://www.apache.org/legal/src-headers.html#headers
    
    It does compile but I need to check the commit message carefully to ensure the script hasn't changed anything it shouldn't have done.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@466609 13f79535-47bb-0310-9956-ffa450edef68

commit a6b138a03be3983993b2159672343ddab2ae1c74
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Oct 20 23:05:40 2006 +0000

    - Fix logging API.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@466299 13f79535-47bb-0310-9956-ffa450edef68

commit c166907d3678ec98a5c440c6d08ed72deb5ccb70
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Oct 19 23:16:47 2006 +0000

    Port fix bug 39436. Correct MIME type for SVG.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@465927 13f79535-47bb-0310-9956-ffa450edef68

commit 89c878d97a5875e3a6090b67f4702cbeff2f7335
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Oct 19 20:30:41 2006 +0000

    Shame on me
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@465767 13f79535-47bb-0310-9956-ffa450edef68

commit dbe007a1f0576f9e53666c2df8b07c28bad126c7
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Oct 19 16:45:45 2006 +0000

    SSLEngine is an attribute of the APR lifecycle listener to initialize the native SSL layer once per VM.
    All HTTP connectors share an attribute called SSLEnabled with true/false values to turn on SSL at the socket level.
    The scheme and secure attributes simply override the request.getScheme and request.isSecure values.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@465675 13f79535-47bb-0310-9956-ffa450edef68

commit 08bd8789e817f15fe2057b6c909ae328ac63b01b
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Oct 19 10:26:29 2006 +0000

    - I did not fix activity check correctly last time.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@465555 13f79535-47bb-0310-9956-ffa450edef68

commit ebb47b6b1fbec3ae28fec73be084a0e1cafcfa3d
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Oct 18 23:24:52 2006 +0000

    Implement non blocking read on HTTP requests.
    
    A common scalability problem when it comes to HTTP is the fact that there are slow clients, that will block a server resources while sending a HTTP request. Especially when you have larger request headers.
    
    On FreeBSD the kernel has a built in http filter to not wake up the application socket handle until the entire request has been received, however on other platforms this is not available.
    
    With the Tomcat connectors, there is an obvious problem when it comes to slow clients, if the client sends up a partial request, Tomcat will block the thread until the client has finished sending the request. For example, if the client has 10 headers it sends up the first 5 headers, then the next 5 in a sequential batch, the tomcat thread is locked in a blocking read
    I've tried to fix that problem by making the NIO connector be non blocking. The only time the NIO connector will block now is when the servlet asks for data, usually the request body, as we don't have a way to suspend a thread, like continuations.
    Once we have continuations(that can truly remember thread stack data), we can have a truly non blocking server, but we are not there yet.
    
    I believe this code could be easily ported to APR connector with very little effort.
    When you review this code, please note that I have not attemtped to rewrite the header parse logic, I might do that in a later stage as this got a little messy, but I wanted the proof of concept done first and reuse as much code as possible.
    
    Please feel free to review and even flame me if needed, at least that means this got some attention :)
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@465417 13f79535-47bb-0310-9956-ffa450edef68

commit bfb10f659c859d646eaa1c0bf47f1771924c5c89
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Oct 18 17:30:57 2006 +0000

    added new changes
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@465308 13f79535-47bb-0310-9956-ffa450edef68

commit bac352411cf9219cd85c6c7688c5094e408af8a5
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Oct 18 17:10:44 2006 +0000

    Implemented SSLEngine attribute on the Java HTTP connectors.
    This allows one to specify secure=true and scheme=https to prevent tomcat from redirecting
    when using a SSL accelerator in front of tomcat
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@465303 13f79535-47bb-0310-9956-ffa450edef68

commit 32cf7af578404323a3858ecfda8e32d7dcc8c14b
Author: Mladen Turk <mturk@apache.org>
Date:   Wed Oct 18 11:30:36 2006 +0000

    Add srclib build repository.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@465217 13f79535-47bb-0310-9956-ffa450edef68

commit 3da0d20eb28fbd1ad49b4f532cc6496a1fa23423
Author: Mladen Turk <mturk@apache.org>
Date:   Wed Oct 18 11:09:50 2006 +0000

    Copy the tomcat-connector/jni/native to the native/connector.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@465208 13f79535-47bb-0310-9956-ffa450edef68

commit 9c6f1b7af968648eaa8f69312521d0fcc42ccaa2
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Oct 18 10:13:28 2006 +0000

    - Fix NPE on isValid for an expired session when activity check is enabled.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@465195 13f79535-47bb-0310-9956-ffa450edef68

commit 9cb5aff441ce67c3bd907c62ddd93b9348477e75
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 18 02:37:58 2006 +0000

    Port fix 40723. Correct javadoc for JDBCAccessLogValve.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@465129 13f79535-47bb-0310-9956-ffa450edef68

commit 17eecdb631c356af5756a53a05a42d9905aebac5
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Wed Oct 18 02:26:48 2006 +0000

    Port fix bug 40771. Correct doRead method so Filters and Valves can read POST data. patch provided by Michael Dufel.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@465126 13f79535-47bb-0310-9956-ffa450edef68

commit 45b7d69438aed1cb4bebba5154af6cc4358ad1cb
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Oct 17 20:50:56 2006 +0000

    - Also copy the policy file.
    - server.xml tweaks.
    - Remove the minimal server.xml, which isn't that helpful anymore.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@465044 13f79535-47bb-0310-9956-ffa450edef68

commit 509fabfa69d66e99b416fd9d827cf2a7814375ee
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Oct 17 20:36:13 2006 +0000

    Fix NPE on session state transfer
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@465031 13f79535-47bb-0310-9956-ffa450edef68

commit d9ba113a3efcbb1f4afa171c4bc349336b7cba3d
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Oct 17 16:49:59 2006 +0000

    Cleaned up server.xml, added in documentation references so that a user can navigate from an element in server.xml to the correct location in the online documentation.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@464958 13f79535-47bb-0310-9956-ffa450edef68

commit ade8f2757e58826ebfe508e92f2b18ad92e7026b
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Oct 17 14:05:50 2006 +0000

    Fixed startup exception
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@464928 13f79535-47bb-0310-9956-ffa450edef68

commit 4d63907511f975654666111cf11627ca23937c7c
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Oct 17 10:22:35 2006 +0000

    - Update to the new packages.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@464892 13f79535-47bb-0310-9956-ffa450edef68

commit 4184d95334953354b2e39326a60e82aea6792d7f
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Oct 17 00:52:16 2006 +0000

    - At the moment, I prefer version 1.1.3.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@464761 13f79535-47bb-0310-9956-ffa450edef68

commit 295e4e1ea9da0b0a0a3f37edf4d7dcd36bbc7c0f
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Oct 17 00:30:04 2006 +0000

    - Small tweaks.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@464758 13f79535-47bb-0310-9956-ffa450edef68

commit 66210a9e79bb2d2726a924edb042788d3451991c
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Oct 17 00:27:49 2006 +0000

    - Add a !null as with the other servlets for the debug flag.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@464757 13f79535-47bb-0310-9956-ffa450edef68

commit e65f7efbbc866975eca4040ab8876729f30595dc
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Oct 16 22:46:39 2006 +0000

    Make server.xml nice and pretty without including a giant blob about clustering
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@464705 13f79535-47bb-0310-9956-ffa450edef68

commit 81e28adfefe2ad1ea38822b49c1a236bd139470f
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Oct 16 22:32:13 2006 +0000

    - Restructure a little.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@464700 13f79535-47bb-0310-9956-ffa450edef68

commit d7d561d8901ae4495f7a4fdfab1b9a117db5f3af
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Oct 16 22:24:41 2006 +0000

    corrected defaults
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@464699 13f79535-47bb-0310-9956-ffa450edef68

commit 8dc174d4a38f7f91bcf517645ecb7b513fdf5b47
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Oct 16 19:56:30 2006 +0000

    more updates, restructure a little bit
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@464645 13f79535-47bb-0310-9956-ffa450edef68

commit be449d8f0423ca0f26303521a57ef51952a16b01
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Oct 16 19:39:48 2006 +0000

    oops, wrong manager as default
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@464637 13f79535-47bb-0310-9956-ffa450edef68

commit d89b744ef67fe27f2a5cc3f93c56f4940dbe6c52
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Oct 16 19:38:54 2006 +0000

    corrected default value
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@464636 13f79535-47bb-0310-9956-ffa450edef68

commit e1002b1083c3ca48fb6d20f5bedf66dc7509d5a1
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Oct 16 19:35:42 2006 +0000

    more cleanup, need to add correct documentation
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@464635 13f79535-47bb-0310-9956-ffa450edef68

commit cf80d8cfa1a69b9506c78a104cb78bfa5d5a6da0
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Oct 16 19:23:34 2006 +0000

    Fixed manager registration and how manager names are handled. Make sure the manager has a reference to its container before its registered
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@464632 13f79535-47bb-0310-9956-ffa450edef68

commit 77e93af823e2ba829ac4833af1d6e9ed3e546432
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Oct 16 18:11:19 2006 +0000

    removed 5.5 from 6.0 changelog.xml
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@464601 13f79535-47bb-0310-9956-ffa450edef68

commit 4a3a24caf728cc2b39c24bb726ba4f2583c52a9e
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Oct 16 16:37:32 2006 +0000

    - Thanks for adding in the other important features to the list.
    - Do we remove the 5.5 changelog or not ?
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@464554 13f79535-47bb-0310-9956-ffa450edef68

commit 5837307091494a6f33181163d67603c37a46e4f8
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Oct 16 16:30:46 2006 +0000

    - Code cleanup.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@464549 13f79535-47bb-0310-9956-ffa450edef68

commit a1a6b8e5839f4c25432568f722acf5938e608ee2
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Oct 16 16:17:28 2006 +0000

    - Fix deployer packaging (the tasks defs were not included).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@464547 13f79535-47bb-0310-9956-ffa450edef68

commit 177901a767e076de49ccfbd108ea247698fcca8d
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Oct 16 15:34:23 2006 +0000

    Made a larger autoBind property
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@464520 13f79535-47bb-0310-9956-ffa450edef68

commit 1026dba18f55157440ec098e97b71b557790666a
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Oct 16 13:57:32 2006 +0000

    - Add a draft release plan. Things should be expanded as needed, I probably forgot some things.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@464497 13f79535-47bb-0310-9956-ffa450edef68

commit 5f4c3549e730b3aedda4823652ca4ac6dd7d85a5
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Oct 16 13:45:11 2006 +0000

    - Tweaks.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@464491 13f79535-47bb-0310-9956-ffa450edef68

commit 09ea9f08336adb0fa8fd0bdbe224c9fc989b8751
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Oct 16 13:27:30 2006 +0000

    - Various docs fixes.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@464483 13f79535-47bb-0310-9956-ffa450edef68

commit 4ff8cf6fc90470b5094583912dbdc0963d0a7df5
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Oct 16 13:06:09 2006 +0000

    - Add a privileged filter list (I had forgotten about the SSI filter ...).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@464474 13f79535-47bb-0310-9956-ffa450edef68

commit 4366eae8e7d3bc4f091ba40d1e430eb292f0e22c
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Oct 13 22:52:19 2006 +0000

    - Port patch.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@463861 13f79535-47bb-0310-9956-ffa450edef68

commit ee143e237ff39a2d2ee900a406ec1fbc25494fbd
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Oct 13 19:23:54 2006 +0000

    Listener documentation
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@463790 13f79535-47bb-0310-9956-ffa450edef68

commit ed42cc3ede3b004214d6a03b0319971bb16dec40
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Oct 13 19:07:44 2006 +0000

    complete valve documentation
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@463780 13f79535-47bb-0310-9956-ffa450edef68

commit bcc7a9324f75101db6c322c8c97faa6541e83990
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Oct 13 18:21:47 2006 +0000

    slow progress, but moving forward with documentation
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@463768 13f79535-47bb-0310-9956-ffa450edef68

commit 083e2064514dc5a82b35e275f3b2425be766437c
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Oct 13 15:13:57 2006 +0000

    - Add a build script to build extras.
    - Update the logging documentation.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@463702 13f79535-47bb-0310-9956-ffa450edef68

commit 22494d3b5e82714383a286f145ce881e61cd48e5
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Oct 13 11:39:30 2006 +0000

    - Packet must be ended before sending.
    - Fix off by one check bug in AjpMessage.
    - Fix recycling bug (setting streams to null when doing keepalive is not a good idea).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@463652 13f79535-47bb-0310-9956-ffa450edef68

commit adf2f5e0cd1b952d57d1325f1457e7440f339af0
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Oct 13 00:26:52 2006 +0000

    more documentation for the manager element
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@463526 13f79535-47bb-0310-9956-ffa450edef68

commit fdd0be321634fc60ac60903e9f062323014811b5
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Oct 12 23:21:21 2006 +0000

    Document more manager options, far from complete
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@463510 13f79535-47bb-0310-9956-ffa450edef68

commit 5a1a8a7e24f04bd61c9765efc8038e13794cad5c
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Oct 12 20:42:15 2006 +0000

    finishing touches
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@463422 13f79535-47bb-0310-9956-ffa450edef68

commit e914a570dd069071202b663f784039165d042ee1
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Oct 12 20:30:41 2006 +0000

    Documented static members
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@463416 13f79535-47bb-0310-9956-ffa450edef68

commit 98d6527b71b39776d75beec33cc1eaf31cb1f1ee
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Oct 12 20:21:01 2006 +0000

    Support to add in static members and to have those parse data arrays in the server.xml file
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@463412 13f79535-47bb-0310-9956-ffa450edef68

commit b32543df8a4f0bf14b0dfb2948425761f1be86a7
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Oct 12 16:45:43 2006 +0000

    Little more text
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@463315 13f79535-47bb-0310-9956-ffa450edef68

commit 411d8c689cf6ef89b214450adb90e4c97db62ed3
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Oct 12 16:32:38 2006 +0000

    more interceptor doc, not yet complete, need to figure out if the digester works with
    setSomeProperty(byte[] data) when parsing XML
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@463308 13f79535-47bb-0310-9956-ffa450edef68

commit 0b9186f9683c3a7565527ba45426ab28923b9381
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Oct 12 15:33:02 2006 +0000

    Added in ack attribute
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@463281 13f79535-47bb-0310-9956-ffa450edef68

commit 7fb3fc9b2e80aea757e2a604ae6fee6da2d2215b
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Oct 11 23:31:46 2006 +0000

    More documentation, this time for the sender
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@463064 13f79535-47bb-0310-9956-ffa450edef68

commit ce02754cb79bf78b0630007ea778cb50b71e6ff8
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Oct 11 19:36:55 2006 +0000

    Documented all the receiver options
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@462913 13f79535-47bb-0310-9956-ffa450edef68

commit f3f45f946476abf1f004611fbe6780dc505df691
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Oct 11 17:32:35 2006 +0000

    Cleaned up config
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@462870 13f79535-47bb-0310-9956-ffa450edef68

commit ee6e697ec967df545e80fb66ef6b63902bd6344c
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Oct 11 17:16:44 2006 +0000

    Update documentation
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@462865 13f79535-47bb-0310-9956-ffa450edef68

commit c452fb1a85487ae4f654e6264754a9ea440fe0a1
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Oct 11 17:16:31 2006 +0000

    Cleaned up setters to more consistent names with the rest of the code base
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@462864 13f79535-47bb-0310-9956-ffa450edef68

commit b416d4819b6574de922413a35ab2880a75e21bdf
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Oct 10 21:51:00 2006 +0000

    Updates to documentation,
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@462593 13f79535-47bb-0310-9956-ffa450edef68

commit 32732d93d363d20a71f243fb47dd0d3ad608e0d3
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Oct 10 21:50:43 2006 +0000

    Fixes and improvements
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@462592 13f79535-47bb-0310-9956-ffa450edef68

commit 9e473bad4348997bc270c123b506cf73dc3d92e0
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Oct 10 16:03:36 2006 +0000

    Added in documentation
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@454797 13f79535-47bb-0310-9956-ffa450edef68

commit fa9368ef5aebb34dd7ab0a9bcf85325678aa6f2f
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Oct 10 14:47:00 2006 +0000

    Make sure that setIdInternal doesn't try to modify the hashmap
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@454760 13f79535-47bb-0310-9956-ffa450edef68

commit cbaf513954e036b58edf8941c9b2163df685ab5c
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Oct 10 02:50:04 2006 +0000

    Added in toString method
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@454587 13f79535-47bb-0310-9956-ffa450edef68

commit 5ee499c417aa594cc7c2572dfbf1d9864ad0e1c7
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Oct 9 18:56:06 2006 +0000

    Fix modification logic, still busted though
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@454457 13f79535-47bb-0310-9956-ffa450edef68

commit a7f55b18612a63bf24258f32487d2d2a4319759e
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Oct 9 18:28:21 2006 +0000

    Corrected the use of the ACTIVITY_CHECK flag
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@454450 13f79535-47bb-0310-9956-ffa450edef68

commit 57fe76dd533197af8de2883c3207b4d3536df658
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Oct 9 14:53:07 2006 +0000

    - Also catch no class def found here, to fix usage of Ant/javac without the need to use the compilerClassName init param.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@454397 13f79535-47bb-0310-9956-ffa450edef68

commit b1d624a3fc78dcc74c90849fd0a7ff5cfc4fec94
Author: Remy Maucherat <remm@apache.org>
Date:   Sun Oct 8 15:55:22 2006 +0000

    - Update packaging a bit.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@454166 13f79535-47bb-0310-9956-ffa450edef68

commit 8d56e2221c36f8cc72ce22ab5ef44aac5909ca87
Author: Remy Maucherat <remm@apache.org>
Date:   Sun Oct 8 15:27:16 2006 +0000

    - Package rename the commons-logging impl that was in sandbox.
    - Thanks to the package renaming feature of IDEs, it's possible to revert that in 2 minutes :)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@454158 13f79535-47bb-0310-9956-ffa450edef68

commit 20dfd5010870d7a1aa8744e8a5f32d9645ec5a9e
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Oct 6 21:17:50 2006 +0000

    Fixes to the clustering code, some changes in StandardSession broke func, this has been fixed.
    consolidated the use of a nested <Manager> element
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@453771 13f79535-47bb-0310-9956-ffa450edef68

commit 75a9398c78e2a691d39ec622303f9febccf659ed
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Oct 6 21:17:02 2006 +0000

    Must read web.xml before we create the manager, otherwise we don't know if we need a distributable manager or not.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@453769 13f79535-47bb-0310-9956-ffa450edef68

commit d5298d54103a98f76428ab02111c11d56e3c267a
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Oct 4 21:02:16 2006 +0000

    - Fix non deferred attributes evaluation.
    - Headache inducing patch submitted by Stan Silvert.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@453023 13f79535-47bb-0310-9956-ffa450edef68

commit b18c29ed5e9dfc166a5f0714f5f895243cd95d5c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Tue Oct 3 01:08:32 2006 +0000

    Port fix for bug 39724. Removing the only valve from a pipeline did not return the pipeline to its original state. Patched provided by David Gagnon.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@452288 13f79535-47bb-0310-9956-ffa450edef68

commit 2570c66afcd86338345ea9297a609b360aa2b9db
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Oct 3 00:17:20 2006 +0000

    - First pass at docs.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@452281 13f79535-47bb-0310-9956-ffa450edef68

commit 6f6a5e852446c985e137e16e515acc99ce07ff4e
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Oct 2 15:52:29 2006 +0000

    - Doc updates.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@452091 13f79535-47bb-0310-9956-ffa450edef68

commit d3f8ad36fdd29062e7efa75a245637de0ac872ab
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Oct 2 01:03:00 2006 +0000

    Port fix for bug 40528. Add missing messages.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@451849 13f79535-47bb-0310-9956-ffa450edef68

commit 1a5e6e7bd134059186b76f6b129dc89320c253b4
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Mon Oct 2 00:38:42 2006 +0000

    Port fix bug 29727. Changes to env-entry values should take effect on web-app reload.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@451846 13f79535-47bb-0310-9956-ffa450edef68

commit bbb8fe17a42ce52198d02375c9437024b4c7f9f1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Sep 29 23:45:02 2006 +0000

    Port patch for 40625.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@451495 13f79535-47bb-0310-9956-ffa450edef68

commit 9c5864b46908e71be8c1593016518a124800f9e2
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Sep 29 22:42:21 2006 +0000

    - Update the release notes.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@451485 13f79535-47bb-0310-9956-ffa450edef68

commit 1fe8ed8746df14d6b2857276351a326e60b25ad6
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Sep 29 22:38:04 2006 +0000

    Started documenting the cluster configuration. On to the sub components
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@451480 13f79535-47bb-0310-9956-ffa450edef68

commit 88ece71ffd28b39c6a38151d42285dc3d53013d4
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Sep 29 18:09:25 2006 +0000

    Add in skeleton documentation for clustering, so that we can document in accordance to all the other elements in server.xml
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@451370 13f79535-47bb-0310-9956-ffa450edef68

commit f4e57b254fa57f4b3b8f6921ab3b96f912c812d5
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Sep 29 16:45:17 2006 +0000

    - Add back two reverted patches.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@451345 13f79535-47bb-0310-9956-ffa450edef68

commit b91d384dca2c4c5cb2bb31b2924f9eb721d9c081
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Sep 29 16:32:32 2006 +0000

    Update configurations options, this new feature allows a specific <Context> to overwrite what cluster manager is used by specifying a <Manager> element inside the context element and the cluster will be notified of it.
    This allows for a cleaner config, as the cluster does no longer have to forward all manager settings, and allows documentation to be much clearer on what settings are available.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@451343 13f79535-47bb-0310-9956-ffa450edef68

commit ee87f21354749f300a7eaafe398f1efb934e9be9
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Sep 29 16:21:26 2006 +0000

    increased tolerance on the test
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@451339 13f79535-47bb-0310-9956-ffa450edef68

commit 9cdd9a9f7a5307b95967486d15788ac6e9cb321d
Author: Mladen Turk <mturk@apache.org>
Date:   Fri Sep 29 14:58:32 2006 +0000

    Revert Keep-Alive patch.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@451318 13f79535-47bb-0310-9956-ffa450edef68

commit 6e11029796c73ca5819eeaf878a37351c617f5db
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Sep 29 11:09:42 2006 +0000

    - Try/catch around the clear buffer, as if the writer was closed the original exception will not be displayed.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@451231 13f79535-47bb-0310-9956-ffa450edef68

commit 228bca1c73d216fb1d1262ed583d851803d8ecf3
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Sep 29 09:57:41 2006 +0000

    - The keep alive value is actually in the endpoint.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@451207 13f79535-47bb-0310-9956-ffa450edef68

commit 19d047f94ba8ea4fb318b8894701183ec8632380
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Sep 29 09:42:56 2006 +0000

    - The addition of keepAliveTimeout is useless for the regular connector, as it already has two different timeouts as an
      option.
    - Make it default to soTimeout in the other cases.
    - Sendfile should not use keepAliveTimeout, but soTimeout.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@451202 13f79535-47bb-0310-9956-ffa450edef68

commit a94387b95bc062a02170f03f3abddd4014a6b80c
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Sep 29 09:38:35 2006 +0000

    - Also watch conf/web.xml.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@451198 13f79535-47bb-0310-9956-ffa450edef68

commit 05317b0354d93c930dee5e2f213c4cb4980d4f63
Author: Mladen Turk <mturk@apache.org>
Date:   Fri Sep 29 08:23:37 2006 +0000

    Introduce keepAliveTimeout to be able to separate
    the Keep-Alive and Socket timeout.
    The patch enables to have infinite socket timeouts
    while still having correct keep alive.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@451157 13f79535-47bb-0310-9956-ffa450edef68

commit 7ce1c9c3c3a17e539ea59273cf427024954bb6f6
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Sep 28 22:29:40 2006 +0000

    - Add the new packetSize attribute.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@451049 13f79535-47bb-0310-9956-ffa450edef68

commit ab32ae60d3e466b6009917d9f075bf7833035a20
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Sep 28 22:00:56 2006 +0000

    - Exception processing cleanup, as suggested by one guy in the past.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@451035 13f79535-47bb-0310-9956-ffa450edef68

commit 3443d940917668b1c403e3a419a0c3a8c8356555
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Sep 28 19:24:24 2006 +0000

    - Add building instructions.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@450977 13f79535-47bb-0310-9956-ffa450edef68

commit f4e663c41a5020f9c0eba3cf34f23e421b419ba6
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Sep 28 18:51:22 2006 +0000

    - Javadoc update.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@450967 13f79535-47bb-0310-9956-ffa450edef68

commit c5ef6282a6134d598ddca6398397aa8acc49fdac
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Sep 28 15:28:05 2006 +0000

    - Add a new init param for controlling display of source fragments.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@450897 13f79535-47bb-0310-9956-ffa450edef68

commit 8cf2b0adc9443176781795db58b16e6c16b9602b
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Sep 27 18:10:09 2006 +0000

    - Take advantage of the compliance flag to add back forceful appending of the charset (for people who really wish to get
      in trouble).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@450530 13f79535-47bb-0310-9956-ffa450edef68

commit e69b89d73d5724dc7850d3fe441f0d237a6db8c5
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Sep 27 13:05:35 2006 +0000

    - Add a periodic tick for Jasper (other servlets could use it).
    - Remove the dedicated thread that was used by each Jasper instance for checking for recompilation.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@450424 13f79535-47bb-0310-9956-ffa450edef68

commit aeda410a3d2c78ca0f5d839d4527d300a1bfecce
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Sep 27 12:46:00 2006 +0000

    - Include any classes which are in org.apache.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@450422 13f79535-47bb-0310-9956-ffa450edef68

commit 2ab3fc467ffc1b56aaa4a4d3149eac056a8aa46e
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Sep 27 00:21:36 2006 +0000

    - No admin for now.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@450262 13f79535-47bb-0310-9956-ffa450edef68

commit 5dfbd43b8186b499642d07fbec87af2c6098ade1
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Sep 26 13:18:43 2006 +0000

    - Use the interface rather than the type (which is apparently null here).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@450040 13f79535-47bb-0310-9956-ffa450edef68

commit ede128c88af89b3a168bd51c6fa9396fe5418ef0
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Sep 25 21:33:34 2006 +0000

    - Fix isReadOnly method.
    - Submitted by Stan Silvert.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@449820 13f79535-47bb-0310-9956-ffa450edef68

commit f80133a1eae5ec4844c8413a270e821b1972e55c
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Sep 25 12:53:14 2006 +0000

    - Fix a design issue: when stop is run, the servlet will have been deallocated already (so only basic cleanup may be
      done at this point).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@449669 13f79535-47bb-0310-9956-ffa450edef68

commit 325a09eaa94cab32468e22570a6c92b5664a8e71
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Sep 25 10:42:27 2006 +0000

    - Support equals for strings.
    - Submitted by Stan Silvert.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@449639 13f79535-47bb-0310-9956-ffa450edef68

commit 20734bf835120828793adf6ae07012418112a2ff
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Sep 25 10:41:38 2006 +0000

    - Correctly do the lookup in the request scope.
    - Submitted by Stan Silvert.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@449638 13f79535-47bb-0310-9956-ffa450edef68

commit 3ffeafcee2cd2ecbe8b586d36321d184d9804363
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Sep 25 10:40:51 2006 +0000

    - Default readOnly to false.
    - Submitted by Stan Silvert.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@449637 13f79535-47bb-0310-9956-ffa450edef68

commit bf5afe04c368a6e5703f4db2272a26a13053ceed
Author: Remy Maucherat <remm@apache.org>
Date:   Sun Sep 24 11:54:53 2006 +0000

    - Experiment with stopping the manager a bit earlier.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@449395 13f79535-47bb-0310-9956-ffa450edef68

commit a3f894b0c2efc43cc497a92ecfedf355ee5543d2
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Sep 22 10:04:40 2006 +0000

    - Pass along a status code when there's an error. This allows sending the appropriate event to the servlet, and far
      more flexible handling (for example, for timeouts, where the servlet gets to decide if the connection is done - or not).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@448883 13f79535-47bb-0310-9956-ffa450edef68

commit 6cd285d4615dd359b687e71b61efd673b0a1e766
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Sep 22 00:41:49 2006 +0000

    - Add a connection tracking valve for Comet, which I did not test, but should implement the general concept.
    - Next would be changing the Adapter.event to pass an int or an enum instead of the boolean to differentiate timeout,
      disconnect errors, etc. I will try to check handling of the timeout, and treat it like a periodic event,
      where the servlet has the opportunity to close the connection (by calling event.close) but may choose
      to keep the connection open event if there was no client activity (in which case, the connection will timeout
      again after the usual amount of time).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@448753 13f79535-47bb-0310-9956-ffa450edef68

commit 3b92cf0a962cbfd6033f810051c14214591cd97a
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Sep 22 00:34:29 2006 +0000

    - Import cleanup.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@448750 13f79535-47bb-0310-9956-ffa450edef68

commit fda223a9a48e6c58fd5f57a71743f648728ca33b
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 21 02:32:25 2006 +0000

    Port fix for bug 40518. Use correct message.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@448437 13f79535-47bb-0310-9956-ffa450edef68

commit 9dd8a239bf634dcf8e5160ddbdfcf1c493681729
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Sep 21 02:21:19 2006 +0000

    Port fix for bug 34399 - disable the undeploy option if the webapp has not been 'deployed'
    This occurs, for example, if the webapp is defined in server.xml
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@448434 13f79535-47bb-0310-9956-ffa450edef68

commit 0a8242f5959926c481f05c105c1e998aef5caa8b
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Sep 20 11:54:21 2006 +0000

    - Port fix.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@448174 13f79535-47bb-0310-9956-ffa450edef68

commit 08962524a5441b402fb7c68f1332efb009917ca2
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Sep 20 01:18:29 2006 +0000

    - Similar change.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@448023 13f79535-47bb-0310-9956-ffa450edef68

commit 62e73d0c27f9419282ad8277364749a5eca2c95e
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Sep 20 01:15:32 2006 +0000

    - Remove apparently useless fields from the page context.
    - Attributes are now a HashMap, since the page context is a per request object.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@448022 13f79535-47bb-0310-9956-ffa450edef68

commit 33ef27b8445abf35864daf1b5692dc29b666a5ed
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Sep 20 00:43:26 2006 +0000

    - Imports cleanup.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@448020 13f79535-47bb-0310-9956-ffa450edef68

commit 867d19e9cbd30950876d8e60824196e82eeeaf0a
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Sep 19 14:37:49 2006 +0000

    - Ok, I'm not too sure about that one.
    - Reset properly the ELContext associated JspContext when dealing with tag files.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@447864 13f79535-47bb-0310-9956-ffa450edef68

commit 3b12cfe5e5c0c990e7cd3faaa08fbb040d0292b7
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Sep 19 14:36:34 2006 +0000

    - Fix type.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@447863 13f79535-47bb-0310-9956-ffa450edef68

commit e7599afc70ab31d6ffbd1cb31f94123174dfe067
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Sep 19 14:32:28 2006 +0000

    Grrrrr++.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@447859 13f79535-47bb-0310-9956-ffa450edef68

commit d3fa001bcf4f58a26f24b325d3035d77c13fc6d4
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Sep 19 10:53:40 2006 +0000

    Grrr.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@447813 13f79535-47bb-0310-9956-ffa450edef68

commit 3a345be28724a8b2ff27c65160cea3d17d8a74a9
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Sep 19 10:43:54 2006 +0000

    - Fix spelling.
    - Fix getVersion method.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@447804 13f79535-47bb-0310-9956-ffa450edef68

commit b584921292dafeb99f00f96b679ba18c67ff8f47
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Sep 19 09:47:32 2006 +0000

    - Pass the two new values to the PageInfo instance.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@447793 13f79535-47bb-0310-9956-ffa450edef68

commit f0f100b6d8c24a65d8d2f3228e750e614ab96375
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Sep 19 09:41:41 2006 +0000

    - Add parsing of the two new elements for property groups.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@447792 13f79535-47bb-0310-9956-ffa450edef68

commit 0ea770e04004528fa2fa1b6ebf46236d5221a635
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Sep 18 20:10:04 2006 +0000

    - When EL is ignored, restore '#' correctly in template text.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@447535 13f79535-47bb-0310-9956-ffa450edef68

commit 7107ffe9e59810dffe21fca5b6a7bcb86570735a
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Sep 18 19:59:59 2006 +0000

    - Fix cut & paste error.
    - Fix validation for the two new page directives.
    - I will next add support for the two new jsp-property-group elements.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@447527 13f79535-47bb-0310-9956-ffa450edef68

commit 501bb2d78394458afd652458d475af3bd6479996
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Sep 18 17:06:57 2006 +0000

    - For whatever reason, getValue is different, and must return null if the index given is totally bogus.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@447473 13f79535-47bb-0310-9956-ffa450edef68

commit 823101da17baeb59bf7a262d7ae33e59a809dc61
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 16 01:14:21 2006 +0000

    port fix for bug 34509. Allow tag names to use full range of characters as defined by the spec.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@446801 13f79535-47bb-0310-9956-ffa450edef68

commit 8957262884b7a959b0908303077565fcb6a3781f
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Sep 13 14:44:41 2006 +0000

    adjustment according to APR fix
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@442995 13f79535-47bb-0310-9956-ffa450edef68

commit 7814423806dab19739d8f420e322406f505797aa
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Sep 13 13:49:28 2006 +0000

    Completed author tags
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@442987 13f79535-47bb-0310-9956-ffa450edef68

commit 4634d74c2cddef844438b6be2910b87462b5c5c0
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Sep 13 13:48:30 2006 +0000

    Fixed method name
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@442986 13f79535-47bb-0310-9956-ffa450edef68

commit d95763c0c05d03dbba62c8789a5133478aba4e30
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Sep 13 13:43:53 2006 +0000

    - Add two missing license headers.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@442985 13f79535-47bb-0310-9956-ffa450edef68

commit ce50cb82435c51e8a0fa4bdb1b9083b2487ecc69
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Sep 13 13:38:25 2006 +0000

    - Fix ArrayELResolver.coerce when using a String.
    - Some cleanups.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@442983 13f79535-47bb-0310-9956-ffa450edef68

commit 24cad3739875133718023569f0b0e008c063af8b
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Sep 13 11:43:58 2006 +0000

    - Fix the mapping (?).
    - Copy some txt files to the right place.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@442952 13f79535-47bb-0310-9956-ffa450edef68

commit 4d47722dda0aa131d8707efe0d3d9352fc2fa04e
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Sep 13 00:55:15 2006 +0000

    - Redo Comet processing using events.
    - Add Valve.event (most regular valves do not do anything, but standard valves need to call the next pipeline).
    - Add a new Filter interface that filters can implement to intercept the events (I didn't test it yet).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@442778 13f79535-47bb-0310-9956-ffa450edef68

commit ff4ff68a55ffdfa5f78e615ea847d65d4ae0d664
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Sep 13 00:48:21 2006 +0000

    - Chat example using the new API.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@442776 13f79535-47bb-0310-9956-ffa450edef68

commit 6a2951123d4b41c8718375b9bf694b08cfe53190
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Sep 13 00:31:09 2006 +0000

    - Fix oops when keeping alive a gracefully closed Comet connection.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@442770 13f79535-47bb-0310-9956-ffa450edef68

commit b03d7122fd278b5bfa21b10cd47eda7876809ecf
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Sep 11 18:38:36 2006 +0000

    documentation for the groupcom module
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@442283 13f79535-47bb-0310-9956-ffa450edef68

commit 2e619f5f131b5720d96e71da1693fbf87e1e82d6
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Sep 11 14:49:04 2006 +0000

    added missing author tag
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@442236 13f79535-47bb-0310-9956-ffa450edef68

commit 58f8dd1cc2593aaeeba7cb1b36e7ce0b4e0cd7ab
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Sep 11 14:47:47 2006 +0000

    Added demos/simple use cases for the group com module
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@442235 13f79535-47bb-0310-9956-ffa450edef68

commit b55e9c23c1fd99f0beaecd43b1cc9488f9dc94b2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Sep 10 03:53:42 2006 +0000

    Port fix for bug 33356 from TC5
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@441899 13f79535-47bb-0310-9956-ffa450edef68

commit d2637f1d5d3ce0e656b40a2cfec9649e09b4d2a8
Author: Remy Maucherat <remm@apache.org>
Date:   Sat Sep 9 23:22:05 2006 +0000

    - Always check the output folder when going in the compile method, to make sure it exists.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@441879 13f79535-47bb-0310-9956-ffa450edef68

commit 6947f7ebd2bce374018efd792568e17dd2435fdb
Author: Remy Maucherat <remm@apache.org>
Date:   Sat Sep 9 22:41:19 2006 +0000

    - Fix makeOutputDir method.
    - Submitted by Scott Johnson.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@441866 13f79535-47bb-0310-9956-ffa450edef68

commit 0d09809df4d0b09584a018d015bbe9b83b45e89c
Author: Remy Maucherat <remm@apache.org>
Date:   Sat Sep 9 21:18:08 2006 +0000

    - Add the new CometEvent interface, as discussed.
    - Merge my comments from CometProcessor.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@441860 13f79535-47bb-0310-9956-ffa450edef68

commit 2d6d717033f50647054d6b3a1bf00ecedd604668
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 9 21:14:49 2006 +0000

    Port fix for bug 31804 from TC5. Set the parent of unnested tags within a tag file to be the tag represented by the tag file.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@441858 13f79535-47bb-0310-9956-ffa450edef68

commit 7f82d2d565b6ad01e389a7eddca7211a085e64c5
Author: Remy Maucherat <remm@apache.org>
Date:   Sat Sep 9 21:14:11 2006 +0000

    - Port patch.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@441857 13f79535-47bb-0310-9956-ffa450edef68

commit 94df67a429ebc6848ef2aa2bee3e4bb367a113ed
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Sep 9 21:10:42 2006 +0000

    Port logic error fix from TC5.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@441856 13f79535-47bb-0310-9956-ffa450edef68

commit 5169aa86ba3123e13b95b1f7d21cb39d5bb1313f
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Sep 8 15:42:08 2006 +0000

    Adding in unit tests, yell at me if the location should be elsewhere
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@441543 13f79535-47bb-0310-9956-ffa450edef68

commit c368ce1a3cb619b572a6a299dbbb7bc8a4292aba
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Sep 8 14:14:35 2006 +0000

    - More cleanup (incl small API tweaks, parametrization, etc).
    - Slash away most of BeanRepository. Most of it wasn't being used or did anything of value (other than doing tons of
      lookups in Vectors). Weird. Did I miss something ?
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@441504 13f79535-47bb-0310-9956-ffa450edef68

commit 54f29e8cad64a33219d34a41f278d28ec0c69b15
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Sep 7 15:03:06 2006 +0000

    - Starting on a Jasper cleanup.
    - Make some classes extensible.
    - Add some options (like a compiler class name parameter).
    - Clean up exception processing.
    - Remove fields which are not used.
    - Externalize missing strings.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@441109 13f79535-47bb-0310-9956-ffa450edef68

commit 704d9fa4bd49acb9df9a8c2304ed633a0921d875
Author: Mladen Turk <mturk@apache.org>
Date:   Thu Sep 7 08:36:15 2006 +0000

    Require at least native 1.1.4 version
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@441022 13f79535-47bb-0310-9956-ffa450edef68

commit cfb76d490d980b354b63812d2fd8df12873be4e3
Author: Mladen Turk <mturk@apache.org>
Date:   Thu Sep 7 08:33:20 2006 +0000

    Use native 1.1.4 version
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@441020 13f79535-47bb-0310-9956-ffa450edef68

commit 2d5861b6d23519374c17a9d7beeadd8b94491b24
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Sep 6 10:43:19 2006 +0000

    - Add support for String type.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@440681 13f79535-47bb-0310-9956-ffa450edef68

commit f551c2681057c527e53af9d67d29a8bac90ee70f
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Sep 5 17:24:10 2006 +0000

    Still prepping for cluster integration.
    To dos:
     - documentation
     - integrate test cases
     - sample webapp
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@440412 13f79535-47bb-0310-9956-ffa450edef68

commit 8c48bc7be69826fd7a6f730004a6e2420622eeab
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Sep 5 11:55:59 2006 +0000

    - Add a master flag for compliance issues, for ease of use.
    - Add back session access on all requests.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@440328 13f79535-47bb-0310-9956-ffa450edef68

commit c7f0f60de6788a976486db774cc70571166022de
Author: Remy Maucherat <remm@apache.org>
Date:   Sat Sep 2 09:28:35 2006 +0000

    - Separate processing of exceptions from the servlet (so that IOE doesn't cause problems anymore: bug 38713).
    - Only Compiler will attempt to remove the files (before the compilation), otherwise multiple things can happen
      in parallel.
    - Code cleanup (I suppose I'll have to do a big cleanup soon ...).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@439565 13f79535-47bb-0310-9956-ffa450edef68

commit 651c5cb8e5113f58f53177eea26f66e391d281ec
Author: Costin Manolache <costin@apache.org>
Date:   Sat Sep 2 04:37:51 2006 +0000

    A tiny change to allow the JspServlet to be implemented differently ( and in a different package )
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@439530 13f79535-47bb-0310-9956-ffa450edef68

commit 9930eadc51a8500a0a381fda5cd8f83673410a82
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Sep 1 23:06:02 2006 +0000

    - API change for the constructor of Loader: if not specified, the loader will get the parent CL from the context,
      avoiding the problems of ignoring the privileged flag in some cases as seen in bug 39704.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@439501 13f79535-47bb-0310-9956-ffa450edef68

commit d79e61ef57cc3f664f99c8cd2d9f771c0e3f0d39
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Sep 1 22:37:38 2006 +0000

    - Reset the elContext field after use.
    - Submitted by Scott Johnson and Stan Silvert.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@439494 13f79535-47bb-0310-9956-ffa450edef68

commit a8a6aca428ba85c9c9b532c442dcb27ef42aaa6e
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Sep 1 14:20:48 2006 +0000

    - Since I was looking at the class ... use more modern collections.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@439332 13f79535-47bb-0310-9956-ffa450edef68

commit ab6eb213848037a4f9e4467ff74fdf7b58b1e543
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Sep 1 14:17:58 2006 +0000

    - Patch submitted by Bill Burke (who thinks annotations should occur for JSPs) to do JSP annotation processing.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@439330 13f79535-47bb-0310-9956-ffa450edef68

commit 17aef9121d4e1ad2c465c9d2f125f77ef54bd98c
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Sep 1 13:59:55 2006 +0000

    - Port patch so that getParentCL returns something consistent with the privileged flag.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@439324 13f79535-47bb-0310-9956-ffa450edef68

commit d3db5371b8d7328b883e5373519299ed2f3e134f
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Aug 30 13:14:51 2006 +0000

    - Fix a woops I saw while checking if the javadoc was correctly generated.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@438479 13f79535-47bb-0310-9956-ffa450edef68

commit 0142ac01eb4f8c73590a7b34c6e974d1ef984913
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Aug 30 09:27:53 2006 +0000

    - Fix major performance issue when building the dist, as javadoc needs more memory.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@438433 13f79535-47bb-0310-9956-ffa450edef68

commit ad3d3b67758c765922bc4c9567e1ce4c4561caa7
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Aug 30 09:05:08 2006 +0000

    - Use getInstance rather than create something with a different key. Submitted by Stan Silvert.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@438428 13f79535-47bb-0310-9956-ffa450edef68

commit 2d102b8fc988f0bc5cc7b8e26ae811da7162cb65
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Aug 28 09:26:51 2006 +0000

    - Adjust content length fix so that it does the same as for the HTTP connector.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@437620 13f79535-47bb-0310-9956-ffa450edef68

commit a91b95efc9c1ca7c30946ecc9e0dc111f5ccebee
Author: William Barker <billbarker@apache.org>
Date:   Mon Aug 28 04:49:31 2006 +0000

    Porting fix for BZ #40306
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@437530 13f79535-47bb-0310-9956-ffa450edef68

commit bba16653d1be84544236f59e620c31fa99953906
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Aug 22 17:28:09 2006 +0000

    First step in cluster integration
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@433703 13f79535-47bb-0310-9956-ffa450edef68

commit 34f45b3705441b18d2f9ca8bd46ea94d52708df6
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Aug 22 16:52:29 2006 +0000

    Prepare for cluster integration
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@433689 13f79535-47bb-0310-9956-ffa450edef68

commit edc20fa71abbc8dfc898ec793903f22caec9c6ef
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Aug 18 14:32:34 2006 +0000

    - Add two lost Jasper patches (which were applied to the old Jasper/TC6 repository).
    - 38676
    - 39803 (not sure if the fix is complete)
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@432604 13f79535-47bb-0310-9956-ffa450edef68

commit bcbfbe89fc649c69f14610dea7dace80654f14ec
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Aug 18 13:44:04 2006 +0000

    - Add the Jasper listener in the config.
    - Fix (harmless) NPE when request processing doesn't proceed (ex: empty path).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@432584 13f79535-47bb-0310-9956-ffa450edef68

commit 7cebaf4bd0856432505c81959424db3a3fec94cf
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Aug 18 13:41:19 2006 +0000

    - Fix version number.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@432581 13f79535-47bb-0310-9956-ffa450edef68

commit e835468961bc17d8c6c7b51c85e3662c7cdfd244
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Aug 18 12:57:28 2006 +0000

    - Fix links.
    - Endorsed folder is now "endorsed".
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@432565 13f79535-47bb-0310-9956-ffa450edef68

commit ddad1fad1b18d093ee7abed31d58d33e7aa3d1ed
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Aug 18 11:33:12 2006 +0000

    - Also check the support attribute.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@432556 13f79535-47bb-0310-9956-ffa450edef68

commit 156775cc169f6c8444469faa7057351ae4172aba
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Aug 17 13:52:29 2006 +0000

    - Redo the class with a concurrent hash map (note: no idea at this point if it's going to be faster) and generics.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@432240 13f79535-47bb-0310-9956-ffa450edef68

commit 66d5f395e3315a7282d13999da9990f16895d3d9
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Aug 17 13:38:32 2006 +0000

    - Port docs updates.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@432237 13f79535-47bb-0310-9956-ffa450edef68

commit cf2686e2874d5eb5d97e2825da17e5defb2a7917
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Aug 17 13:26:48 2006 +0000

    - Remove the bug number.
    - Add a temp folder in build.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@432232 13f79535-47bb-0310-9956-ffa450edef68

commit a031d49fbf2817db5687aec0e5028efc940c754b
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Aug 17 13:23:08 2006 +0000

    - Fix nearly all the servlet links.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@432231 13f79535-47bb-0310-9956-ffa450edef68

commit 826cb64e6e59b1446610dc984eade988068a9663
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Aug 17 13:22:44 2006 +0000

    - Calling allocate for no reason was not a very good idea (adding an accessor instead for now, bleh).
    - Simplify the event method.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@432230 13f79535-47bb-0310-9956-ffa450edef68

commit e56fee93d9fb2ce87cbf7fd940a94e544f798ab9
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Aug 17 12:00:04 2006 +0000

    - Update the other connector.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@432215 13f79535-47bb-0310-9956-ffa450edef68

commit 5caad4c0595e5c3a59073c4c1d35d921c83278a2
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Aug 17 11:41:43 2006 +0000

    - Update to use two action code.
    - The attribute to advertise comet support remains for now.
    - No update to the comet interface at this time.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@432214 13f79535-47bb-0310-9956-ffa450edef68

commit e6937d3ddcd2a019049c33a6e56c99f2e99ce8f7
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Aug 16 22:29:09 2006 +0000

    - Expose the closed flag.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@432054 13f79535-47bb-0310-9956-ffa450edef68

commit 0e2b6000ba057fd7c778da304cb2e542fcf56195
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Aug 16 12:57:57 2006 +0000

    - Build the examples classes.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@431891 13f79535-47bb-0310-9956-ffa450edef68

commit f5ee6fabad370826b254fafdd0b9cd265678de30
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Aug 16 12:57:35 2006 +0000

    - Note: the paths are not completely correct.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@431890 13f79535-47bb-0310-9956-ffa450edef68

commit a420e18e35df18aab7cbc11b121a01df40ee8e18
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Aug 11 16:25:18 2006 +0000

    Fixed the poller destroy method
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@430819 13f79535-47bb-0310-9956-ffa450edef68

commit 3d3bb057f052827577c9234a08bbaa8791c77f02
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Aug 11 16:22:52 2006 +0000

    Make sure we don't fill up the cache after pause has been initated
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@430816 13f79535-47bb-0310-9956-ffa450edef68

commit 1f7cc0ee7872be6dd98b3022c77e3cbd7c43f6f8
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Aug 10 20:54:37 2006 +0000

    fixed imports and removed not needed log message
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@430526 13f79535-47bb-0310-9956-ffa450edef68

commit 77d61bfa37059022dc78286af8d576de881c8675
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Aug 9 21:22:24 2006 +0000

    Fixed close down, and degraded a message to debug
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@430148 13f79535-47bb-0310-9956-ffa450edef68

commit e6d99af12f6ed23d0044d19b66457266dffb97cb
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Aug 9 19:41:02 2006 +0000

    SSL byte buffers are cached as well
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@430130 13f79535-47bb-0310-9956-ffa450edef68

commit 0c5927bd771d9a7d9c915ef91d7f5d08cbb9fccb
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Aug 9 17:12:37 2006 +0000

    Added in a cache for byte buffers
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@430097 13f79535-47bb-0310-9956-ffa450edef68

commit 34bd7ef64c1a15df45f14afc90e61f67e469c819
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Aug 9 14:44:50 2006 +0000

    Fixed deadlock issue with thread pool
    Fixed error catches for a known JDK bug on windows #5076772
    Added in the ability to have more than one poller, although performance actually gets worse
    Next steps: hand off setting socket options etc to the worker thread for faster acceptance of new socket
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@430064 13f79535-47bb-0310-9956-ffa450edef68

commit 25522ad3e1c7c5338a0d0876faceceb84a2889dd
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Aug 9 12:26:11 2006 +0000

    Tune the connector, next step is to add the ability to have more than one poller, this is achievable by simply having each poller have its own selector, exactly like it is done today
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@430043 13f79535-47bb-0310-9956-ffa450edef68

commit 8acfd51448c782d20852a96ecda285ea19a01fd6
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Aug 8 17:55:27 2006 +0000

    Still some work needed on when to block and when to not block, SSL works well
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@429754 13f79535-47bb-0310-9956-ffa450edef68

commit f89d5ae7aa33bd8c505d3f9f1ead0012b6aef2c1
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Aug 7 18:55:41 2006 +0000

    Fixed the socket flush, since NIO SSL uses dual sockets, we need to be considerate of when the data is actually sent on the OS buffer
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@429431 13f79535-47bb-0310-9956-ffa450edef68

commit ad54f5c0665028bc8f9c735bcb8516cad6422a23
Author: Jacob John Hookom <jhook@apache.org>
Date:   Sun Aug 6 23:35:29 2006 +0000

    support for full xml namespaces according to spec, (<IDENTITY> (<IDENTITY>|<DOT>|<MINUS>)*)
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@429210 13f79535-47bb-0310-9956-ffa450edef68

commit 80320af61d3dc5c5b7249bde8eec396ca8bb162b
Author: Remy Maucherat <remm@apache.org>
Date:   Sat Aug 5 13:57:54 2006 +0000

    - Fix the accept algorithm, that I had translated inaccurately in the new endpoints.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@429001 13f79535-47bb-0310-9956-ffa450edef68

commit ba89b11a482148a53815508b3d021b912c1c7111
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Aug 4 22:19:38 2006 +0000

    Fixed unwrap
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@428907 13f79535-47bb-0310-9956-ffa450edef68

commit 8dcb2408b7db31b732fa0e407a961c7b4bd13dbc
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Aug 4 21:52:51 2006 +0000

    Correct close down, now the close can be limited to 2 files if it needs to change
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@428896 13f79535-47bb-0310-9956-ffa450edef68

commit f74febfe4c803f3cf0bbe6867c531ffd506ed596
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Aug 4 21:38:22 2006 +0000

    Added documentation about the NIO connector and clarified how the protocol attribute is read.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@428895 13f79535-47bb-0310-9956-ffa450edef68

commit 8d339d077f3b20175e639bd0f5f1f84fe940afed
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Aug 4 21:13:05 2006 +0000

    Added HTTPS support to the NIO connector. Works exactly like the Http11Protocol does, but uses JDK1.5 JSSE implementation.
    
    Rollback info if this breaks something else, it should all be backwards compatible
    revision:428882
    Files:
      java/org/apache/coyote/http11/Http11NioProtocol.java
      java/org/apache/coyote/http11/Http11NioProcessor.java
      java/org/apache/coyote/http11/InternalNioInputBuffer.java
      java/org/apache/coyote/http11/InternalNioOutputBuffer.java
      java/org/apache/tomcat/util/net/SSLImplementation.java
      java/org/apache/tomcat/util/net/NioChannel.java
      java/org/apache/tomcat/util/net/jsse/JSSESupport.java
      java/org/apache/tomcat/util/net/jsse/JSSEImplementation.java
      java/org/apache/tomcat/util/net/jsse/JSSEFactory.java
      java/org/apache/tomcat/util/net/SecureNioChannel.java
      java/org/apache/tomcat/util/net/NioEndpoint.java
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@428884 13f79535-47bb-0310-9956-ffa450edef68

commit f20929c26714f5535a17bdb94fb5d48df8458153
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Aug 4 14:04:42 2006 +0000

    - Use the classname as the servlet context attribute name for the annotation processor.
    - Fix init of the naming context used by the annotation processor.
    - Jasper will now use the annotation processor from the servlet context.
    - Remove the ignore annotation compile time parameter for Jasper, which was a temporary hack.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@428729 13f79535-47bb-0310-9956-ffa450edef68

commit 31f5bed0d07e9e31471bda9a0ab4639abdb310b6
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Aug 3 23:30:17 2006 +0000

    - Cleanup the configuration (and fix the one used for the installer).
    - Tweak a bit the installer packaging.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@428563 13f79535-47bb-0310-9956-ffa450edef68

commit 2ea3e25d8efae61a70cd77f9c6d75f81aa68ff5c
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Aug 3 13:18:30 2006 +0000

    - Build the docs webapp.
    - Docs webapps fixes.
    - Small NSIS update to version 2.18.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@428400 13f79535-47bb-0310-9956-ffa450edef68

commit 3df0a0dfccfe1285c71cb7f3bdcd6fa48684a8a4
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Aug 3 08:34:21 2006 +0000

    - Unfortunately, the JMX removal does not work (parent is null if used from JMX), so I'm reverting to using JMX for now.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@428282 13f79535-47bb-0310-9956-ffa450edef68

commit 86f55fb4f8725cbec4c8ba1791dfe61d0df18148
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Aug 2 19:34:39 2006 +0000

    optimized imports
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@428108 13f79535-47bb-0310-9956-ffa450edef68

commit 8d755473686ed1e6d2c72b235671bef47128c6a1
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Aug 2 11:21:46 2006 +0000

    - Now use an interface and a pluggable mechanism for annotation processing.
    - I'm using the org.apache package due to the need to use this stuff in Jasper ...
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@427955 13f79535-47bb-0310-9956-ffa450edef68

commit a21cf7e9826ba5937bbcf91600c7f022e7ab9e64
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Aug 2 00:39:28 2006 +0000

    - Use a single reference to the cache during lookup (the cache array could be concurrently replaced).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@427821 13f79535-47bb-0310-9956-ffa450edef68

commit 5af08d31e5dd4424867768cd53eeb7da979a944c
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Aug 1 11:57:41 2006 +0000

    - Stop wrappers a bit earlier.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@427546 13f79535-47bb-0310-9956-ffa450edef68

commit 423b950886cf6e10fa1f9b4e3acf983689d7d1f5
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Jul 28 13:57:53 2006 +0000

    - JSP 2.1 API fixes.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@426537 13f79535-47bb-0310-9956-ffa450edef68

commit 0f9844c5f248862e8a99f194596da0fdc302ffd8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 27 00:34:35 2006 +0000

    Port of fix for bug 39592. Stop stack traces for HEAD requests.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@425918 13f79535-47bb-0310-9956-ffa450edef68

commit e704bc8b1ffafe43e1f9caf974058d79e7c647fe
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Jul 25 14:19:32 2006 +0000

    - Experiment with using concurrent maps in places which may be concurrently accessed.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@425399 13f79535-47bb-0310-9956-ffa450edef68

commit df639cb7dde549b92936325e8ff9d690a6e9ea7a
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 22 22:04:22 2006 +0000

    Port fix for bug 40053. Correct app deployment doc with respect to shared lib and CATALINA_BASE.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@424639 13f79535-47bb-0310-9956-ffa450edef68

commit 8ed77be99141f5ec060d6e9b21ce5278519e666c
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 22 21:48:51 2006 +0000

    Port fix bug 39689. Allow same quoting for SSI attribute values as httpd.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@424635 13f79535-47bb-0310-9956-ffa450edef68

commit c30afec80deea72708dbf00f1cb692025860147e
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 22 00:19:59 2006 +0000

    Port partial fix for 34801
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@424504 13f79535-47bb-0310-9956-ffa450edef68

commit c7f1aec0934c1c11cc881b9f11398b24a2745e2b
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 21 20:15:35 2006 +0000

    Remove old APR references
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@424441 13f79535-47bb-0310-9956-ffa450edef68

commit 06260b035678cd9aa86a598e19baf65eafbb8a8f
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 21 19:30:31 2006 +0000

    Make sure the key is valid before processing it
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@424429 13f79535-47bb-0310-9956-ffa450edef68

commit c2e6ded9afba7701e13f4639a370ee661a5acc80
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 21 16:27:42 2006 +0000

    Dereference socket after its been used
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@424374 13f79535-47bb-0310-9956-ffa450edef68

commit 9d78207fabd9ce638ca63255e6a084723c6086a4
Author: Mladen Turk <mturk@apache.org>
Date:   Fri Jul 21 06:22:30 2006 +0000

    Add eol-style property for non-common extensions
    that were not set by script.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@424195 13f79535-47bb-0310-9956-ffa450edef68

commit f44092adfc86049b12c435e5b5ab71fb1c264639
Author: Mladen Turk <mturk@apache.org>
Date:   Fri Jul 21 06:17:16 2006 +0000

    Add missing executable properties.
    This time without lock/unlock.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@424194 13f79535-47bb-0310-9956-ffa450edef68

commit f34f2f526ba73b1b23f832e64d47d9825d1a6770
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Jul 20 16:01:41 2006 +0000

    - Changes to session id parsing so that it is done (as well as ";" path parameter stripping) before
      decoding, making it possible to %xx encode ";" in the URL.
    - This can probably be backported to 5.5.x.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@423967 13f79535-47bb-0310-9956-ffa450edef68

commit eae54419c6e196933998f63358367040edaa4a8c
Author: Mladen Turk <mturk@apache.org>
Date:   Thu Jul 20 12:50:34 2006 +0000

    Phase 1: Setting eol and mime types
    @echo off
    if "%OS%" == "Windows_NT" setlocal
    
    if "%1" == "" (
    set SCRIPT_NAME=%~f0
    ) else (
    set SCRIPT_NAME=%~f1
    )
    
    for /D %%i in (*) do (
    cd %%i
    svn propset svn:eol-style native *.java
    svn propset svn:eol-style native *.properties
    svn propset svn:eol-style native *.xml
    svn propset svn:eol-style native *.xsd
    svn propset svn:eol-style native *.xsl
    svn propset svn:eol-style native *.dtd
    svn propset svn:eol-style native *.tld
    svn propset svn:eol-style native *.html
    svn propset svn:eol-style native *.txt
    svn propset svn:eol-style native *.jsp
    svn propset svn:eol-style native *.jspx
    svn propset svn:eol-style native *.jspf
    svn propset svn:eol-style native *.sh
    svn propset svn:eol-style native *.bat
    svn propset svn:eol-style native *.svg
    svn propset svn:mime-type image/gif *.gif
    svn propset svn:mime-type image/jpeg *.jpg
    svn propset svn:mime-type image/bmp *.bmp
    svn propset svn:mime-type application/pdf *.pdf
    svn propset svn:mime-type application/pdf *.pdf
    svn propset svn:mime-type image/x-icon *.ico
    
    call %SCRIPT_NAME% %SCRIPT_NAME%
    cd ..
    )
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@423920 13f79535-47bb-0310-9956-ffa450edef68

commit c705e291c22dbbe2c8e25822fd1911a4481ef618
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Jul 19 18:03:23 2006 +0000

    Adjusted comment
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@423548 13f79535-47bb-0310-9956-ffa450edef68

commit c7389bdcdaff4a2e9dcafc2246b66377b49dd075
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Jul 19 17:49:47 2006 +0000

    Comet connection handling. When the response.getWriter().close() method has been called,
    the comet connection is setup for closure instead of waiting for a timeout.
    This is necessary since the servlet could have set a long timeout.
    Also, improve on timeout checking. Only use the optimization for how frequently we need to check the keys if there has been no activity on the selector. During heavy activity, the optimization takes into effect.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@423544 13f79535-47bb-0310-9956-ffa450edef68

commit 0ff402cac0e146f602ab4d5b6f4996f425336f45
Author: Mladen Turk <mturk@apache.org>
Date:   Wed Jul 19 16:53:59 2006 +0000

    Thumbs.db is not part of the servlet spec
    I suppose. Seems someone committed that from the
    Windows with folder image thumbnail cache.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@423523 13f79535-47bb-0310-9956-ffa450edef68

commit 510e33b712a5b3d82c60fbdfbbbd84ed444f3757
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Jul 19 13:00:42 2006 +0000

    Fixed chunked input filter to parse the header correctly. Performs strict parsing according to the RFC2616, so if the header is invalid it bails out.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@423453 13f79535-47bb-0310-9956-ffa450edef68

commit b9b21507f27479d8e07da5c4cb27e4c26708bdc7
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Jul 19 07:05:45 2006 +0000

    - get/setProperty are used by IntrospectionUtils. Oops.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@423388 13f79535-47bb-0310-9956-ffa450edef68

commit 843789ce33b5aa6d10bbfdd52cab659685f98c76
Author: Mladen Turk <mturk@apache.org>
Date:   Tue Jul 18 15:38:14 2006 +0000

    Add svn:eol-style:native.
    We'll probably need to do that for the entire repository.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@423119 13f79535-47bb-0310-9956-ffa450edef68

commit 0cf9b74e40614407f9bab2906cd218639236753a
Author: Mladen Turk <mturk@apache.org>
Date:   Tue Jul 18 15:16:38 2006 +0000

    Add svn:eol-style:native
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@423110 13f79535-47bb-0310-9956-ffa450edef68

commit c94953af1cf48c0f4d9f63241d07e81e885efcf5
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 14 05:14:31 2006 +0000

    While this change made my linux box go faster, I could constantly crash my windows VM, so it will have to wait
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@421808 13f79535-47bb-0310-9956-ffa450edef68

commit 9051683b68f2fd5ad91b4210d0678eb2058ee328
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 14 04:49:46 2006 +0000

    Take advantage of Java 5 concurrent classes
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@421806 13f79535-47bb-0310-9956-ffa450edef68

commit 8c86b5bc6cb4a41bb935d2785b5b7118a22f4d2e
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jul 14 03:27:06 2006 +0000

    Optimize timeout handling, thanks to a suggestion from Jeanfrancois.Arcand@Sun.COM,
    although this does put a gap in the timeout check, even in those cases where there shouldn't be, ie, a socket can be closed immediately
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@421791 13f79535-47bb-0310-9956-ffa450edef68

commit dd7e5db5f665b3b3db7cb941f7f6e5c6d47751fc
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jul 13 19:51:56 2006 +0000

    Set a per connection timeout
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@421694 13f79535-47bb-0310-9956-ffa450edef68

commit cc4bd33fd1fad0d13f8ae29f15573ee0bc454322
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jul 13 15:12:56 2006 +0000

    Add optional comet timeout support
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@421645 13f79535-47bb-0310-9956-ffa450edef68

commit 5d75d932197c2614bdfda0b2bd84616c45a7489d
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Jul 13 14:00:17 2006 +0000

    - Comment out storeconfig for now.
    - Port patch.
    - Add logging.properties.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@421634 13f79535-47bb-0310-9956-ffa450edef68

commit 95afc9f28f24c2135dcad490a548b455dee0d7e3
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Jul 13 12:48:04 2006 +0000

    - Add the set of scripts.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@421606 13f79535-47bb-0310-9956-ffa450edef68

commit 94400a237d15768ca227dd8c0f4dd5716b48e388
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Jul 13 12:46:40 2006 +0000

    - Add the set of scripts.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@421604 13f79535-47bb-0310-9956-ffa450edef68

commit db8f5f389faadeb02b41732bb0b92b5bec4a4ec8
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 13 02:36:06 2006 +0000

    Delete unused classes deprecated in TC5.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@421482 13f79535-47bb-0310-9956-ffa450edef68

commit 96f8cc2ce0d4824c28d7fd2ad7a813d15bb9e2c1
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Thu Jul 13 02:12:34 2006 +0000

    Port CGI parameter and POST fixes from TC5
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@421478 13f79535-47bb-0310-9956-ffa450edef68

commit ba9197592ce97701c41ece1a5434f85eaa618942
Author: Filip Hanik <fhanik@apache.org>
Date:   Wed Jul 12 23:29:52 2006 +0000

    The NIO connector uses only one poller, so the poller doesn't need to be comet or non comet.
    Instead the comet status is kept with the key/socket for future reference.
    This can enable us to end the comet request on the server side in the future, yet maintain the keep alive.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@421461 13f79535-47bb-0310-9956-ffa450edef68

commit 72a0280074c2a7d01bbd7e63c4b2c156ba70d076
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Jul 12 21:39:49 2006 +0000

    - Fix src packaging.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@421424 13f79535-47bb-0310-9956-ffa450edef68

commit 7f6d0018bbb36b63f4651e453be61ab298993297
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Jul 12 17:18:35 2006 +0000

    - More release scripts work.
    - Note: webapps are not built yet (I think I will give up on precompilation, though, since the
      benefits are a bit small).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@421328 13f79535-47bb-0310-9956-ffa450edef68

commit 01a9b59984cbfb2c6af048ff19d8228334b6af7f
Author: Timothy A. Funk <funkman@apache.org>
Date:   Tue Jul 11 17:51:14 2006 +0000

    40012 - Legacy EL Support not resolving variables correctly
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@420935 13f79535-47bb-0310-9956-ffa450edef68

commit 2ce8dad75b644e552e0f07622ab70f27786d26b6
Author: Filip Hanik <fhanik@apache.org>
Date:   Tue Jul 11 14:57:16 2006 +0000

    Remove sendfile support, this is a native called, this will be a pure java connector
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@420881 13f79535-47bb-0310-9956-ffa450edef68

commit 5940d8961242a9a190ca45b0f0eaa8350911be85
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Jul 11 14:13:13 2006 +0000

    - Fix some obvious problems with the packaging.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@420860 13f79535-47bb-0310-9956-ffa450edef68

commit 16255284d6351f2f3b249a3ad33410c60d74381f
Author: Filip Hanik <fhanik@apache.org>
Date:   Mon Jul 10 14:20:00 2006 +0000

    since we are writing on a piggy back thread, better make it thread safe in case there are multiple backend threads writing (async or comet)
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@420538 13f79535-47bb-0310-9956-ffa450edef68

commit 2ba5e6a9c5a2cf3e504f33ecf45aa7b0ad531428
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sat Jul 8 22:55:15 2006 +0000

    Add open office mime-types. Port of fix for bug 39865 from TC5.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@420212 13f79535-47bb-0310-9956-ffa450edef68

commit bfa41ea3e3ce0b6679f5d035988a5eb651b7d8de
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Jul 7 22:42:46 2006 +0000

    - Should improve handling of the root logger (sorry, I don't know who submitted this, it was a while
      ago).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@420008 13f79535-47bb-0310-9956-ffa450edef68

commit 74609bd2aef7633e9f8cfe6d21fa3b1f65f1f14d
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Jul 7 22:40:04 2006 +0000

    - Add the base webapps and stuff, so they're there (not built yet).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@420006 13f79535-47bb-0310-9956-ffa450edef68

commit d2786e2fce3d827e0b3878239e0e14fecfb88034
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Jul 7 22:37:03 2006 +0000

    - Start work on a dist script (that I will keep separate to avoid having a bloated main script).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@420004 13f79535-47bb-0310-9956-ffa450edef68

commit 598e2d01af132c6a974dc2654557ca909ac10e5e
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Jul 7 22:35:57 2006 +0000

    - Remove the spare threads attributes.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@420003 13f79535-47bb-0310-9956-ffa450edef68

commit 574ec61724b26e610b8727603473d3c23ce4d474
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Jul 7 22:35:25 2006 +0000

    - If there is a security manager, the map should be reset (otherwise, references could be kept).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@420002 13f79535-47bb-0310-9956-ffa450edef68

commit 51133e745ccc2b4ec434def1c4fba45faa978d06
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Jul 4 15:43:28 2006 +0000

    - Update to JDT 3.2 (I think TC 5.5 should be updated too).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@419040 13f79535-47bb-0310-9956-ffa450edef68

commit 5638661fd2a06b148f041147be8726c03be529a9
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Jun 29 11:37:30 2006 +0000

    - Redo the session activity check (which prevents expiring a session if there is an extremely
      long request and a short timeout) as optional, and using an atomic integer.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@418016 13f79535-47bb-0310-9956-ffa450edef68

commit 10933885a4a5ae39e98287320bb5db025f6cf687
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Jun 27 13:48:36 2006 +0000

    - As redoing the encoders and decoders won't happen immediately, save some memory by cleaning the
      cache when starting a Comet request (which is supposed to last for a while).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@417457 13f79535-47bb-0310-9956-ffa450edef68

commit a554696ad5bf965d052136ed61f8245cf14f0d1c
Author: Jean-Frederic Clere <jfclere@apache.org>
Date:   Mon Jun 26 18:25:51 2006 +0000

    Change the compiler to the lastest version.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@417271 13f79535-47bb-0310-9956-ffa450edef68

commit 3796f4a335094570dd2661fd4459408244bf8a2c
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Jun 26 17:48:32 2006 +0000

    - Catch everything, as any unexpected exception would kill the server.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@417257 13f79535-47bb-0310-9956-ffa450edef68

commit 99492278e77ea199144b4613fea428fe7c34fcc0
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jun 22 22:02:23 2006 +0000

    Dont do the not needed operations, if they are not needed.
    Performance is just a tad under java.io, which is expected as we need to poll, as opposed to constantly wait for data.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@416481 13f79535-47bb-0310-9956-ffa450edef68

commit 22702a97ea1c85017520140aa84bada0d1ff1813
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jun 22 20:28:27 2006 +0000

    Two fixes,
    process timeouts last, no need to check a timeout on a valid read. hence we do it after we process the actual operations
    Throw an IO exception if we reach end of stream so that the sockets can get properly closed down
    Speed is the same for nio and io right now, nio seems just a tad faster without keep alives
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@416461 13f79535-47bb-0310-9956-ffa450edef68

commit 2358bb7e5b225b20232d788428ea6bf7ee8ad9c1
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jun 22 19:59:39 2006 +0000

    Catch the cancelled key exceptions and act appropriately
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@416456 13f79535-47bb-0310-9956-ffa450edef68

commit bd8122700c2e70e5adbaddcd289fb1a974f981fe
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jun 22 19:05:02 2006 +0000

    Fix so that we don't do a busy read, instead we are properly doing a NIO poller wait
    This way, we can achieve blocking read, without wasting CPU cycles.
    Since we are using Java 5, I will be changing this implementation from using synchronized to using the Exchanger, this is also to avoid anyi locks that can happen. For example, in the current implementation the poller can call notify before we have had a chance to call wait
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@416444 13f79535-47bb-0310-9956-ffa450edef68

commit f035729514dce87f90b56c40ac9459f797182e0b
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jun 22 17:09:14 2006 +0000

    must come up with a better sleep, this brings the nio connector up to the same speed as the io connector however, there is a risk for cpu contention on slow clients, fix will be coming
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@416423 13f79535-47bb-0310-9956-ffa450edef68

commit b85225634e2e33292e552e0f63256b46e6684cdc
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jun 22 16:10:17 2006 +0000

    Reverted last nights checkin, until I fix the line ending story, and this also makes the connector work again
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@416409 13f79535-47bb-0310-9956-ffa450edef68

commit bace5da45a251fde040639aef0e432740915e10b
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jun 22 16:03:32 2006 +0000

    Reverted checkin, we can use a fully qualified class name inside of the protocol
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@416408 13f79535-47bb-0310-9956-ffa450edef68

commit dbbcc3766f9104cb099433230dc45a7fe66a1983
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Jun 22 10:11:41 2006 +0000

    - Add new files.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@416314 13f79535-47bb-0310-9956-ffa450edef68

commit 3355e49ca49775133306cd8d6b399fa1ed15c463
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jun 22 01:45:58 2006 +0000

    Keep track of whether the socket is in use or not. The same can of course be done using
    key.interestOps() as a socket in use would not be returning OP_READ
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@416193 13f79535-47bb-0310-9956-ffa450edef68

commit 1b97f8c3b030cbf2366cdf3f51fe2f9d3256d249
Author: Filip Hanik <fhanik@apache.org>
Date:   Thu Jun 22 00:48:53 2006 +0000

    Non blocking polling information.
    This implementation in pure Java NIO is almost a mimic of the APR implementation. It blocks on read and write, but has non blocking polling capabilities. Currently the read/write blocking is "busy" blocking, but I will see if I can simply configure blocking for the socket and if that would still allow the poller to work as expected.
    This makes it a suitable connector for comet style protocols and where APR is not desired or available.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@416187 13f79535-47bb-0310-9956-ffa450edef68

commit d819f02faff43c0530b2b49d045bf5ac2ff6ef54
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Jun 21 09:21:32 2006 +0000

    - Fix annotation names.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@415948 13f79535-47bb-0310-9956-ffa450edef68

commit 1823a9e9dd1bcb51dea24f5f764de70dae2da2dd
Author: Costin Manolache <costin@apache.org>
Date:   Tue Jun 20 21:31:42 2006 +0000

    Update the modeler with the sandbox version, using dynamic mbeans instead of model mbeans.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@415811 13f79535-47bb-0310-9956-ffa450edef68

commit 592b953ffcb362f53ebc4fb45b2b36dc02cfa30a
Author: Costin Manolache <costin@apache.org>
Date:   Tue Jun 20 20:46:23 2006 +0000

    Add a quick comment.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@415797 13f79535-47bb-0310-9956-ffa450edef68

commit 7bccd08a7ae5c3db385f20e073221bf1f15d30a0
Author: Costin Manolache <costin@apache.org>
Date:   Tue Jun 20 20:45:36 2006 +0000

    Dead code, nobody seems to be using it.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@415796 13f79535-47bb-0310-9956-ffa450edef68

commit 69b2209da55c80155568ad2089f7afa86392f187
Author: Costin Manolache <costin@apache.org>
Date:   Tue Jun 20 20:43:37 2006 +0000

    Direct calls instead of introspection via JMX
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@415794 13f79535-47bb-0310-9956-ffa450edef68

commit f9ae329864bb8306e1f7cb4e1ba5f29dd471ef09
Author: Timothy A. Funk <funkman@apache.org>
Date:   Tue Jun 20 11:12:30 2006 +0000

    Remove JMX warning message since java5 is required
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@415610 13f79535-47bb-0310-9956-ffa450edef68

commit f019587ce19478dc4f55d122295121f229e36713
Author: Filip Hanik <fhanik@apache.org>
Date:   Sat Jun 17 00:12:20 2006 +0000

    Revert, if Content-Length: <some large value> is an acceptable work around
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@414965 13f79535-47bb-0310-9956-ffa450edef68

commit ef69911cfeb49cf6cf53d10f77e980fae031a83f
Author: Filip Hanik <fhanik@apache.org>
Date:   Fri Jun 16 20:55:06 2006 +0000

    Fixed comet processing.
    The following bug was existing:
    When a comet request had begun, and the browser sent some more data, the Tomcat APR component was never reading the data from the socket and lead to two kinds of failures
    1. The CometServlet.read returned false, cause no data was read, and the socket closed
    2. If the CometServlet.read was overwritten and return true, the thread got stuck in a loop, forever hanging.
    
    The solution was to read the incoming data from the socket, update the content length of the request, and make sure that the input filters would still allow to read the data.
    
    I think the following features still need to be fixed:
    1. If CometServlet.read return false, the adapter should call CometServlet.end, not CometServlet.error
    2. If CometServlet.read throws an error, then the adapter should call CometServlet.error
    3. When CometServlet.read returns false, don't close the socket, keep alive should still work and we should still be able to process more HTTP requests on that connection
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@414906 13f79535-47bb-0310-9956-ffa450edef68

commit 276e5acca8d80e7a1e02280bd8376799151e6aa2
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Sun Jun 11 21:53:53 2006 +0000

    Port fix for bug 39769. Remove the classloader switching from unload. It was removed from load some time ago. Patch provided by David Gagnon.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@413540 13f79535-47bb-0310-9956-ffa450edef68

commit 914932000311c8de5b8d7f7386988f9fd5b63180
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 9 23:09:40 2006 +0000

    Port fix for bug 39752 from 5.5.x.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@413189 13f79535-47bb-0310-9956-ffa450edef68

commit 7d5c25c6136d39b5bf521dfc0405150f1c598ac9
Author: Mark Emlyn David Thomas <markt@apache.org>
Date:   Fri Jun 9 23:06:52 2006 +0000

    Set line endings to native
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@413187 13f79535-47bb-0310-9956-ffa450edef68

commit f1911d8c5f0dc3774fe731ae27d4a9a9b39197c3
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Jun 8 15:35:56 2006 +0000

    - Add the manager classes and a package renamed fileupload.
    - I think there should be basic multipart handling in the core, although maybe the manager doesn't
      belong here (so I would remove it later on).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@412780 13f79535-47bb-0310-9956-ffa450edef68

commit 7d015385ab54fd2273a871589c3dc05d4d26d59d
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Jun 8 15:00:12 2006 +0000

    - While it wouldn't be a completely bad idea to switch to an executor, the black box behavior of an
      executor makes it a bit bad to be used with a default lame implementation, while the fancy
      implementations are more "big server" ready with far more overhead and complexity.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@412766 13f79535-47bb-0310-9956-ffa450edef68

commit 7b870a495d1d9fcf7bf6602f197ae3998ac6499c
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Jun 8 14:50:07 2006 +0000

    - Create clustered managers with the Catalina CL set as the context CL (as classloading may occur).
    - Should fix 39699.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@412764 13f79535-47bb-0310-9956-ffa450edef68

commit 29b34d6fbbab2b63491108e114fd2093d2545d33
Author: William Barker <billbarker@apache.org>
Date:   Thu Jun 8 05:06:37 2006 +0000

    Add missing method to stop Gump from nagging
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@412661 13f79535-47bb-0310-9956-ffa450edef68

commit 3b9739bcac7f0a447f11d4908d15e27ab453463e
Author: Remy Maucherat <remm@apache.org>
Date:   Sun Jun 4 15:05:19 2006 +0000

    - Remove usage of the CharChunk buffer (converters already use buffers). C2B converters could most
      likely be optimized (since they should probably rely on the byte chunk that they are writing to).
      This does not seem to reduce performance in a noticeable way, but I did not benchmark that much.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@411577 13f79535-47bb-0310-9956-ffa450edef68

commit 269eeac4907aca21cfb820c9b18a425f6cb2c0f5
Author: Remy Maucherat <remm@apache.org>
Date:   Sun Jun 4 15:01:39 2006 +0000

    - With Comet support, it is necessary to optimize the amount of memory used by individual
      processors. This removes most of the buffers that are being used, without reducing performance
      in many cases.
    - Note: I'm not sure the algorithm in InternalAprInputBuffer.nextRequest, which is used when
      pipelining, is correct. It also could use free space in the buffer more efficiently when trimming
      it.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@411576 13f79535-47bb-0310-9956-ffa450edef68

commit 4ebbc070f40de9c0789f7b136aa4bed7ab0b57e6
Author: Remy Maucherat <remm@apache.org>
Date:   Tue May 30 09:58:41 2006 +0000

    - Add a brain dead executor.
    - Submitted by Vincenc Beltran Querol.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@410234 13f79535-47bb-0310-9956-ffa450edef68

commit 919e446848f993c3678bb3adc292f992dd8fd997
Author: Remy Maucherat <remm@apache.org>
Date:   Mon May 29 16:17:01 2006 +0000

    - Port root webapp.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@410115 13f79535-47bb-0310-9956-ffa450edef68

commit 2f1af894689ca5137ba443d4e124a6adbf8e9708
Author: Remy Maucherat <remm@apache.org>
Date:   Mon May 29 16:02:14 2006 +0000

    - Add trivial exclude.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@410114 13f79535-47bb-0310-9956-ffa450edef68

commit 487f57db342d80ead1dd84488728514de0fe4f3e
Author: Remy Maucherat <remm@apache.org>
Date:   Mon May 29 14:09:13 2006 +0000

    - I had some problems when shutting down pollers which had active connections in them. I can't
      reproduce any problem anymore, unfortunately, but I think it was because there was a poll going
      on while the sockets in the poller were being destroyed, which could then lead to these sockets
      being destroyed again. So I'm adding code to wait until the poll call is done before doing the
      poller stop.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@410095 13f79535-47bb-0310-9956-ffa450edef68

commit f20cfff33f04e97c307398e93354ffb5a8d496a4
Author: Remy Maucherat <remm@apache.org>
Date:   Mon May 29 11:51:34 2006 +0000

    - Add examples webapp.
    - New chat example, which doesn't work properly yet (I suck at HTML). For some reason, it works with
      a telnet, but not with a browser, which doesn't do any rendering until the whole page is received.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@410080 13f79535-47bb-0310-9956-ffa450edef68

commit 33772dbad8e7521a0b4845b24fd3293da43690a9
Author: Remy Maucherat <remm@apache.org>
Date:   Fri May 26 16:39:08 2006 +0000

    - Some small comet fixes.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@409696 13f79535-47bb-0310-9956-ffa450edef68

commit d8ee711000a26fc2cf098bc1dfd414948b4411fa
Author: Remy Maucherat <remm@apache.org>
Date:   Fri May 26 16:38:24 2006 +0000

    - Fix some bugs with annotation support.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@409695 13f79535-47bb-0310-9956-ffa450edef68

commit 400e51ac3a86812f80e6a4df5fce62cb8f9e7177
Author: William Barker <billbarker@apache.org>
Date:   Thu May 25 04:07:25 2006 +0000

    Port the fix for MODELER-3 from [modeler] (minus some of the fluff :).
    
    It's mostly non-critical path stuff, so it shouldn't be that much of a performance hit.
    
    Also throw in some Generics cleanups.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@409298 13f79535-47bb-0310-9956-ffa450edef68

commit 474d402a0766d2cd5814ac27516696482cb219be
Author: William Barker <billbarker@apache.org>
Date:   Wed May 24 05:04:20 2006 +0000

    Port RMI fix from 5.5
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@409072 13f79535-47bb-0310-9956-ffa450edef68

commit 9a18a49830ad16c60d99111e554e64680fc50ebd
Author: Remy Maucherat <remm@apache.org>
Date:   Mon May 22 23:37:24 2006 +0000

    - Use getDeclaredMethods/Fields here.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@408790 13f79535-47bb-0310-9956-ffa450edef68

commit ab25d957ccd7e6a888dccc3cdc660c89cb22df93
Author: Remy Maucherat <remm@apache.org>
Date:   Sat May 20 00:04:55 2006 +0000

    - Fix cut & paste bug, submitted by Stan Silvert.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@407933 13f79535-47bb-0310-9956-ffa450edef68

commit 30f072bdc088e0b4f353febe484af0ec5ae0363f
Author: Remy Maucherat <remm@apache.org>
Date:   Sat May 20 00:04:08 2006 +0000

    - Some javadoc.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@407932 13f79535-47bb-0310-9956-ffa450edef68

commit da3c892aad058a262c672c17e7c5940cb9e31ebe
Author: William Barker <billbarker@apache.org>
Date:   Fri May 19 07:33:35 2006 +0000

    Suppress deprecation warnings on the implementation classes.
    
    Sun's brain-dead compiler seems to require that I put these at Class level instead of method level.  I'm more than happy to change it if they ever manage to pull their collective heads out of their collective a**s.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@407740 13f79535-47bb-0310-9956-ffa450edef68

commit 574ff58c8d3fab970fa298630f8902cf2cf54080
Author: Costin Manolache <costin@apache.org>
Date:   Fri May 19 00:57:15 2006 +0000

    AFAIK mod_jk2 is deprecated - and I doubt anyone is using this. If they do - can be
    reverted.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@407673 13f79535-47bb-0310-9956-ffa450edef68

commit 6c73b59019e8b47422337103a2bdcd7ef7eb1952
Author: Costin Manolache <costin@apache.org>
Date:   Fri May 19 00:56:28 2006 +0000

    Downgrade to DynamicMBeans in method signatures - there is no need to use Model here,
    the mbean server doesn't care.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@407672 13f79535-47bb-0310-9956-ffa450edef68

commit 1e8b770e9990539a860203abd1d5633818daeab6
Author: Remy Maucherat <remm@apache.org>
Date:   Fri May 19 00:44:04 2006 +0000

    - Add example read method.
    - Return value for read errors (as an option compared with throwing an exception).
    - Add some javadocs.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@407671 13f79535-47bb-0310-9956-ffa450edef68

commit 866474163a36185214428829def3fc31d2c30087
Author: Remy Maucherat <remm@apache.org>
Date:   Thu May 18 18:29:07 2006 +0000

    - Ok, it seems to work at least a little bit (hopefully, nobody tried it before this). Overall, the
      changes are fairly limited.
    - In the end, I prefer adding a new method in Adapter, although it is easy to change back.
    - I'll try to add the examples webapp back, and add the obligatory chat servlet (so lame ...).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@407605 13f79535-47bb-0310-9956-ffa450edef68

commit 62d01f2c3caae42b60161c8566015aee48648949
Author: Remy Maucherat <remm@apache.org>
Date:   Wed May 17 12:55:39 2006 +0000

    - Start work on comet support. Note: it doesn't work yet, I think (I didn't test), and most of this
      is very preliminary. It is relatively straightforward, though.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@407241 13f79535-47bb-0310-9956-ffa450edef68

commit 4934e296c619bec8b74041da8f1c6bbdfcc65b6d
Author: Remy Maucherat <remm@apache.org>
Date:   Wed May 17 12:51:41 2006 +0000

    - Use Integer.valueOf.
    - Update restricted list a bit.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@407240 13f79535-47bb-0310-9956-ffa450edef68

commit 044183003d32599bd56f5581bb3a98a709e83b0c
Author: Mladen Turk <mturk@apache.org>
Date:   Wed May 17 06:33:41 2006 +0000

    Use APR_UNSPEC for IPv6 and address=null. Backport from 5.5 branch.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@407176 13f79535-47bb-0310-9956-ffa450edef68

commit 356ca346688be0c7fc8db1b98588649559f6251e
Author: Mladen Turk <mturk@apache.org>
Date:   Tue May 16 07:14:46 2006 +0000

    Use APR_UNSPEC only if the provided address
    actually is the IPV6 address.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@406860 13f79535-47bb-0310-9956-ffa450edef68

commit dcb32b15f1b762fcf067dc5332d7b7daca92e2f0
Author: Remy Maucherat <remm@apache.org>
Date:   Tue May 9 14:05:23 2006 +0000

    - Use the ignore annotation flag.
    - It needs recompilation in case the value is changed. It could do without, but would need
      additional code in the generated servlets (a field, read a servlet context param), so
      it would generally be (even) more intrusive :(
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@405437 13f79535-47bb-0310-9956-ffa450edef68

commit 7fc9baa3c70901bba0c0281a5e91240dd9a8035d
Author: Remy Maucherat <remm@apache.org>
Date:   Tue May 9 14:02:01 2006 +0000

    - Pass the ignore annotation flag to Jasper.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@405436 13f79535-47bb-0310-9956-ffa450edef68

commit ca0c56bd6a36c8b4de379c0cfe21a458f5027117
Author: Remy Maucherat <remm@apache.org>
Date:   Fri May 5 13:50:29 2006 +0000

    - Fix indentation.
    - jspDestroy didn't need any modification (the instances are tag handler instances, not tag
      instances).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@400078 13f79535-47bb-0310-9956-ffa450edef68

commit b7e3ab9d31007f55ea0dfcdd3fe53d33b822d3b2
Author: Remy Maucherat <remm@apache.org>
Date:   Thu May 4 14:39:23 2006 +0000

    - Use separate build folders for the dependencies.
    - Update to Eclipse 3.2 (RC 2 right now).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@399714 13f79535-47bb-0310-9956-ffa450edef68

commit a955206bfec222de6cd8c537d303a879dd267425
Author: William Barker <billbarker@apache.org>
Date:   Thu May 4 04:49:09 2006 +0000

    Enable Annotation processing for Tags even when pooling is disabled.
    
    Of course, this will be horrible slow at least until Jasper looks for metadata-complete.
    
    Also style fixes on the tagPoolHandler Vector.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@399545 13f79535-47bb-0310-9956-ffa450edef68

commit 97bf6bba5a6ba36a4a1ef13210e70ee1c93ddb1c
Author: Remy Maucherat <remm@apache.org>
Date:   Wed May 3 20:26:35 2006 +0000

    - Injection should occur before the setters (BTW, since simple tags are not pooled, performance
      will be bad; most likely some sort of caching is needed).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@399406 13f79535-47bb-0310-9956-ffa450edef68

commit 618c4d9614fe0fb592aa63f283e25c666226ddef
Author: Remy Maucherat <remm@apache.org>
Date:   Wed May 3 09:11:13 2006 +0000

    - Add resource injection for tags (listeners are being handled in the servlet container).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@399216 13f79535-47bb-0310-9956-ffa450edef68

commit 4c7d6f18c4d56ca4ca2dae4f1b57caa2d4cfb19c
Author: Remy Maucherat <remm@apache.org>
Date:   Wed May 3 08:07:02 2006 +0000

    - As suggested by Mladen, add a more robust mechanism for restricted servlets.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@399196 13f79535-47bb-0310-9956-ffa450edef68

commit f22d65a36dedc087c1c502228a3ca9f185c10958
Author: Remy Maucherat <remm@apache.org>
Date:   Wed May 3 06:21:27 2006 +0000

    - Change some locations.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@399165 13f79535-47bb-0310-9956-ffa450edef68

commit 514cd30b4b6bf37bd6897d9a01068e6b971ddeea
Author: Remy Maucherat <remm@apache.org>
Date:   Sat Apr 29 00:23:12 2006 +0000

    - Remove usage of TWA (otherwise, executor support cannot work).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@398045 13f79535-47bb-0310-9956-ffa450edef68

commit 6236c1dc82b390b7fbff38e3e54c9d77d03acff0
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Apr 28 13:22:08 2006 +0000

    - Port (not tested yet) the APR AJP code to java.io. I don't think it will be used in Tomcat unless
      people configure it explicitly.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@397895 13f79535-47bb-0310-9956-ffa450edef68

commit 8c3e00a6942d97924d246510fd003db81e9056e7
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Apr 28 13:19:23 2006 +0000

    - Harmonize a bit more (the java.io HTTP 1.1 is the template: in the comments for the methods,
      "*" means this method should be common to all protocols, and "HTTP" means the method should be
      common to all HTTP protocols).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@397894 13f79535-47bb-0310-9956-ffa450edef68

commit f625d7ccb9051c2533a29ba99e61f9cc76b4fe47
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Apr 28 13:07:54 2006 +0000

    - Experiment with an endpoint superclass (which will only hold common fields, though).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@397888 13f79535-47bb-0310-9956-ffa450edef68

commit 675917dfc1eab89fa3852ace05819dbc940fb4b0
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Apr 27 13:33:39 2006 +0000

    - Remove JSP related resources.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@397540 13f79535-47bb-0310-9956-ffa450edef68

commit 64afe2cd01e39ef2937f3553f99bab27ff41499a
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Apr 27 13:30:58 2006 +0000

    - Update to descriptors.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@397539 13f79535-47bb-0310-9956-ffa450edef68

commit ee8c92e62c8a0cae8e3090aa2ab23c69612a17da
Author: Peter Rossbach <pero@apache.org>
Date:   Wed Apr 26 06:10:53 2006 +0000

    Fix that StandardSession#getLastAccessedTime() uses correct exception message
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@397098 13f79535-47bb-0310-9956-ffa450edef68

commit 3a5b29cbef413b03f277393c76ee3dfefdb7603f
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Apr 24 15:32:40 2006 +0000

    - Refactor using the new java.io endpoint. Hopefully, I did not make any mistake.
    - I will now test a bit, and will attempt to extract superclasses (most likely BaseEndpoint,
      BaseProtocol, BaseHttpProtocol).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@396579 13f79535-47bb-0310-9956-ffa450edef68

commit e604ae1ae35a873050a8cc4ebe4f3b4d00630715
Author: William Barker <billbarker@apache.org>
Date:   Mon Apr 24 00:37:32 2006 +0000

    Clean up the default algorithm handling, now that JSSE 1.0 is no longer supported.
    
    At least now, you should be able to run SSL on a non-Sun JVM out of the box :).
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@396357 13f79535-47bb-0310-9956-ffa450edef68

commit b7bd756e058fef661088498e89b472f54907f9d3
Author: Remy Maucherat <remm@apache.org>
Date:   Sun Apr 23 21:37:32 2006 +0000

    - Further sync the two endpoints.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@396324 13f79535-47bb-0310-9956-ffa450edef68

commit 533332d7494b3be48c516d10c92b0c7353cc63e3
Author: Remy Maucherat <remm@apache.org>
Date:   Sun Apr 23 21:33:58 2006 +0000

    - Port Peter's patch which prevents double incrementation of the expiredSessions stats flag.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@396323 13f79535-47bb-0310-9956-ffa450edef68

commit 7c6944b1eee61e871c5e1827bbe41eeec327e21a
Author: Remy Maucherat <remm@apache.org>
Date:   Sun Apr 23 21:33:02 2006 +0000

    - Add compile.debug flag.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@396322 13f79535-47bb-0310-9956-ffa450edef68

commit 060c4e45c290b5f920cd2dc958f9d1750096e137
Author: Remy Maucherat <remm@apache.org>
Date:   Sun Apr 23 00:18:56 2006 +0000

    - Add support for using an Executor (the idea in that case is to define one executor for the whole
      server, with an appropriate queue, etc). By default, I think it is good to continue using the
      dumb stack, though.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@396185 13f79535-47bb-0310-9956-ffa450edef68

commit 2b1b754b251e0e14b57d33a3e9a2c1c0972a9795
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Apr 21 14:39:26 2006 +0000

    - Add the refactored java.io endpoint that I talked about earlier.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@395901 13f79535-47bb-0310-9956-ffa450edef68

commit 5959268bd56da00377468dd5332042e14b7c6bce
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Apr 21 11:04:05 2006 +0000

    - Remove pre 1.5 compatibility code, which is not used anymore as the new APIs require and use
      JDK 1.5+. I hope I didn't make any mistake merging the SSL code.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@395849 13f79535-47bb-0310-9956-ffa450edef68

commit 1b6fc179b8f76d504d5d54311dd9aceafe311bce
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Apr 20 22:01:33 2006 +0000

    - Remove leftover useless code.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@395707 13f79535-47bb-0310-9956-ffa450edef68

commit 4cbc1b5abba628b155876d08bfad6c7775c77bb2
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Apr 20 12:46:25 2006 +0000

    - Fix improper caching by checking the class definition.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@395575 13f79535-47bb-0310-9956-ffa450edef68

commit 093796afbdf5ceae4343d2ff084517472c983901
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Apr 19 15:18:53 2006 +0000

    - Add a Jasper server listener to setup the JspFactory before any component related to a webapp is
      started.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@395266 13f79535-47bb-0310-9956-ffa450edef68

commit 9ccc29c51c2ee50ae784d4d0329172e638a9f7a7
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Apr 19 14:51:10 2006 +0000

    - Add annotation processor to Jasper too (tags need injection too).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@395258 13f79535-47bb-0310-9956-ffa450edef68

commit 36e10013eb67a6c480596aa87e86d2d2d61882e7
Author: William Barker <billbarker@apache.org>
Date:   Tue Apr 18 15:16:33 2006 +0000

    And one more
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@394963 13f79535-47bb-0310-9956-ffa450edef68

commit da2d6a696d37f19d2b79739f5dd74bfe1db246dd
Author: William Barker <billbarker@apache.org>
Date:   Tue Apr 18 02:07:25 2006 +0000

    Fix typo
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@394824 13f79535-47bb-0310-9956-ffa450edef68

commit e029bbae4da36ed24c22f051493933158f19fe6d
Author: Remy Maucherat <remm@apache.org>
Date:   Fri Apr 14 21:30:28 2006 +0000

    - Port patches.
    - Change to session: it doesn't make sense to me that getAttribute is a good place to
      synchronously make a check for session expiration (of course, with accessCount, this is
      not going to happen anyway, but still).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@394202 13f79535-47bb-0310-9956-ffa450edef68

commit a072883bc59691a1efd78e9863bb7ef9b90b81e9
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Apr 13 21:51:35 2006 +0000

    - Port patches.
    - verifyIfValid in Session.access seems useless.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@393953 13f79535-47bb-0310-9956-ffa450edef68

commit a6bec0e60d9d34c5f325d0664fdfee8de070dd9f
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Apr 13 13:56:50 2006 +0000

    - Add missing patch for 1.5 compatibility.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@393808 13f79535-47bb-0310-9956-ffa450edef68

commit 1146103c385656e64ff4f22941c34e6c0011b9c3
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Apr 13 13:54:07 2006 +0000

    - Compatibility with Eclipse 3.2 (sort of, the flag doesn't mean the same thing, with the new one
      doing some new unknown stuff).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@393807 13f79535-47bb-0310-9956-ffa450edef68

commit e7f8e0684f451d3f89c6e154d892761191b67509
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Apr 13 11:18:26 2006 +0000

    - Switch to ArrayList.
    - private -> protected.
    - Use a marker constant for full range, because null indicates an error or no content.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@393783 13f79535-47bb-0310-9956-ffa450edef68

commit 2132ede3794719de3d00cc8cd20e0abbec2f1428
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Apr 12 16:01:42 2006 +0000

    - Add the usual download target (including building JDT and DBCP).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@393491 13f79535-47bb-0310-9956-ffa450edef68

commit ec3d8efe304c05593295791213029a23454337ed
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Apr 12 13:34:17 2006 +0000

    - Update JAR packaging.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@393458 13f79535-47bb-0310-9956-ffa450edef68

commit eed3e554ffa41c5918faa1ecac3e1627b5a61022
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Apr 12 13:32:02 2006 +0000

    - Add resource injection for all annotations that are supposed to be supported by the web tier.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@393457 13f79535-47bb-0310-9956-ffa450edef68

commit d4ccf0fc345232b7aede445d532da176688b9963
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Apr 12 13:18:19 2006 +0000

    - Update APIs and annotations.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@393454 13f79535-47bb-0310-9956-ffa450edef68

commit f6e85aeecbbe539f8cd099315ba645c411a9eb6a
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Apr 12 10:54:41 2006 +0000

    - Improve the algorithm used when constructing classloaders, in particular to respect order.
    - Submitted by Rainer Jung.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@393433 13f79535-47bb-0310-9956-ffa450edef68

commit ad2406feae7edbff5588f1032ef186816fb77da8
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Apr 11 15:36:04 2006 +0000

    - Add a few naming related cleanups.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@393248 13f79535-47bb-0310-9956-ffa450edef68

commit 0aabe84a1101a11f284d35d7253210a32f053982
Author: William Barker <billbarker@apache.org>
Date:   Mon Apr 10 02:01:18 2006 +0000

    Realized that the previous patch was too Gump-centric
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@392875 13f79535-47bb-0310-9956-ffa450edef68

commit 92991952976ba86cfd06ece3c2a440d7c886beaf
Author: William Barker <billbarker@apache.org>
Date:   Mon Apr 10 01:36:19 2006 +0000

    Restore the ability to build with the Mail Resources
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@392872 13f79535-47bb-0310-9956-ffa450edef68

commit 4d00c5deebe9193ce7af121dd2f232431353a0e1
Author: Remy Maucherat <remm@apache.org>
Date:   Sun Apr 9 16:38:09 2006 +0000

    - Add resource injection (note: most annotations are not supported, including web services,
      JPA, EJB, etc), as well as PostCreate and PreDestroy.
    - If I understand the spec correctly, if using metadata-complete = true, then even PostCreate and
      PreDestroy must be ignored.
    - Not tested yet (but it doesn't break when not using annotations).
    - Based on a patch submitted by Fabien Carrion.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@392775 13f79535-47bb-0310-9956-ffa450edef68

commit efc3fe0900a3f0d2322b3e24abb398cb00d5f04c
Author: Remy Maucherat <remm@apache.org>
Date:   Sat Apr 8 00:12:36 2006 +0000

    - Add default value, submitted by Bill Barker.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@392461 13f79535-47bb-0310-9956-ffa450edef68

commit 10c7942700b1c57f79dbf482a3717f656ecba8a4
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Apr 6 23:47:05 2006 +0000

    - Add web.xml style annotations (run as, roles declarations, etc).
    - Note: commented out EJB and web services (similarly, the Persistence* annotations were not there).
    - Submitted by Fabien Carrion.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@392123 13f79535-47bb-0310-9956-ffa450edef68

commit 04588ed637780b3e65803aab21538f59decc55bb
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Apr 6 23:44:36 2006 +0000

    - I don't know if this field is legitimate or not, but it's used by the rest of the patch. I'll
      check it.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@392122 13f79535-47bb-0310-9956-ffa450edef68

commit dc178941d357dbddfda3a4cbb177d594e5922c80
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Apr 6 14:29:14 2006 +0000

    - Add annotations JAR.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@391995 13f79535-47bb-0310-9956-ffa450edef68

commit 4e45752f90afa7adf438a4bef8c894eb5a19989d
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Apr 6 14:13:54 2006 +0000

    - Add "support" (note: not in NamingContextListener yet) for service-ref (after all, there's support
      for all other elements, so ...).
    - Submitted by Fabien Carrion.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@391991 13f79535-47bb-0310-9956-ffa450edef68

commit 2271a3a2f3a3a2b7a3ccf11e99522f16d5e2859c
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Apr 6 14:09:45 2006 +0000

    - Add common annotations interfaces.
    - The latest docs seem to indicate that it's Declare*s*Roles.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@391990 13f79535-47bb-0310-9956-ffa450edef68

commit c38b7baaa710a7c876aef47a27b97614ad9efe60
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Apr 4 22:34:09 2006 +0000

    - Add support for multiple servlet and filter mappings.
    - Fix a bug I found by accident where application listeners are not reinitialized when reloading.
    - That's all folks, all the useful Servlet 2.5 features are done. Now the annotations ... (sigh)
    - Reuse the ignoreAnnotations field name from the patch submitted by Fabien Carrion.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@391432 13f79535-47bb-0310-9956-ffa450edef68

commit 4107ef876baf8f0087507f812fca461df3afc238
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Apr 4 17:19:42 2006 +0000

    - Update poweredby.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@391370 13f79535-47bb-0310-9956-ffa450edef68

commit 073e6b9b76c1c668023a9a350b1230eedec1bf38
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Apr 4 00:03:50 2006 +0000

    - Add new method (dummy).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@391185 13f79535-47bb-0310-9956-ffa450edef68

commit 45b5cb87388027ef33a90403ac995fdcfa752970
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Apr 4 00:03:14 2006 +0000

    - Add support for the new "*" special URL pattern for filters.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@391184 13f79535-47bb-0310-9956-ffa450edef68

commit 1c83d3ad6a5bcad785f3a56cb1dc80a1a9d30cee
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Apr 4 00:01:51 2006 +0000

    - Slightly updated behavior for setCharEnc, and allow setting a session cookie from an included
      resource in some cases.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@391183 13f79535-47bb-0310-9956-ffa450edef68

commit f1e7d1820b043e581826b98cab62c9082c088086
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Apr 4 00:00:33 2006 +0000

    - Add getContextPath.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@391182 13f79535-47bb-0310-9956-ffa450edef68

commit ff8fd053b613adcfbfe4bea5d5cd37fb80091594
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Mar 30 17:42:06 2006 +0000

    - Copy the XML descriptors.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@390189 13f79535-47bb-0310-9956-ffa450edef68

commit 5675009328b1418c9a418652f2979e010e36a759
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Mar 30 17:41:19 2006 +0000

    - Revert fix for 38113, which doesn't seem to be a bug, and appears to be causing regressions.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@390188 13f79535-47bb-0310-9956-ffa450edef68

commit 3d855ace74a03dca765fe04427ca9c1fb04c7a2c
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Mar 30 15:10:13 2006 +0000

    - Standardize on the digester (which is apparently a bit faster than using DOM). This way, digester
      now handles all XML parsing in Catalina.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@390157 13f79535-47bb-0310-9956-ffa450edef68

commit d9c6580fca2a3554a66b5c2904d8f8513eac1a50
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Mar 30 15:08:31 2006 +0000

    - Clean up a bit.
    - For some reason, trying to recycle a static digester doesn't improve performance.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@390155 13f79535-47bb-0310-9956-ffa450edef68

commit 28cdfe1049ed847fca1d4e3a04f5afe92f62646f
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Mar 30 13:32:04 2006 +0000

    - Move output so that Eclipse doesn't pollute the useful classes folder with his junk.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@390124 13f79535-47bb-0310-9956-ffa450edef68

commit c028cc5dde748073b6a01990b7c4ef02c6832682
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Mar 30 13:27:59 2006 +0000

    - Remove modeler.
    - Fix CRLF.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@390120 13f79535-47bb-0310-9956-ffa450edef68

commit e9ac952390cb23116502c6621f776f1304d2dbdd
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Mar 30 10:00:57 2006 +0000

    - Add missing patch (I didn't update from sources before merging).
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@390055 13f79535-47bb-0310-9956-ffa450edef68

commit 550f6379d2e184ba218895d6d8c6760c61805214
Author: Remy Maucherat <remm@apache.org>
Date:   Thu Mar 30 00:55:22 2006 +0000

    - Reduce the number of JARs.
    - Is it me, or are the JARs magically smaller ? There must be something related to JDK 1.5.
    - bootstrap.jar is really needed.
    - Import modeler. I think there are some serious possibilities to enhance XML processing,
      as everything (or almost everything, as I don't think the modeler does at the moment)
      goes through digester.
    - I suppose the webapps could be added now.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@389946 13f79535-47bb-0310-9956-ffa450edef68

commit d3db3d941f5b2dab145d20bd2d7cd8eba33e07af
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Mar 29 14:39:52 2006 +0000

    - Fixes according to the directory structure.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@389806 13f79535-47bb-0310-9956-ffa450edef68

commit ffda5ac7a61f60099b0d2917e2f3e76a37b74752
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Mar 29 14:00:01 2006 +0000

    - Clear obsolete content.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@389796 13f79535-47bb-0310-9956-ffa450edef68

commit 9dd26271184af6eb2ebe85852e25d7e14aac746e
Author: Remy Maucherat <remm@apache.org>
Date:   Wed Mar 29 13:58:04 2006 +0000

    - Add the usual set of JARs.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@389795 13f79535-47bb-0310-9956-ffa450edef68

commit 205db71fa2d906b0c3ab315c7baf7444d8256876
Author: Costin Manolache <costin@apache.org>
Date:   Tue Mar 28 16:55:00 2006 +0000

    A minimal set of files to debug and launch tomcat inside eclipse.
    
    server.xml is based on server-minimal.jar
    
    I assume the 'real' config files will be in the /res or in some /share directory,
    so it should be possible to leave /conf for ide debugging.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@389541 13f79535-47bb-0310-9956-ffa450edef68

commit f65f474b1ac2465af2424155750bf7fd944cb106
Author: Costin Manolache <costin@apache.org>
Date:   Tue Mar 28 16:53:21 2006 +0000

    Small fixes and adjustments to build.xml.
    
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@389540 13f79535-47bb-0310-9956-ffa450edef68

commit 6d48eebb39ff3e577af77cb67459d9d3ee27738c
Author: Remy Maucherat <remm@apache.org>
Date:   Tue Mar 28 16:17:54 2006 +0000

    - Add building some JARs.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@389531 13f79535-47bb-0310-9956-ffa450edef68

commit b0d89af95649ac5c469d5c8f73374693b78ad268
Author: Costin Manolache <costin@apache.org>
Date:   Tue Mar 28 06:49:35 2006 +0000

    Seems to be required as well, someone is looking for it.
    
    Could someone confirm this is where it should be - I get
    
    WARNING: Could not get url for /javax/servlet/resources/web-jsptaglibrary_2_0.xsd
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@389423 13f79535-47bb-0310-9956-ffa450edef68

commit b5708bd64206dc31a6b44bcd2cdedf14f8a04e32
Author: Costin Manolache <costin@apache.org>
Date:   Tue Mar 28 06:45:43 2006 +0000

    Add eclipse files
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@389421 13f79535-47bb-0310-9956-ffa450edef68

commit 6731a27a555f74e302286f62705f1fe514155e03
Author: Costin Manolache <costin@apache.org>
Date:   Tue Mar 28 06:40:58 2006 +0000

    Missing files. Not sure if that's the right version, I took it from servlet2.4.
    
    
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@389418 13f79535-47bb-0310-9956-ffa450edef68

commit fb19455f8b58952ad06ed92e3352f1631f812548
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Mar 27 19:51:18 2006 +0000

    - Add missing patch.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@389238 13f79535-47bb-0310-9956-ffa450edef68

commit a84fabcbc6fee8a69253ad92a304b4718e96a7c9
Author: Remy Maucherat <remm@apache.org>
Date:   Mon Mar 27 13:53:46 2006 +0000

    - Attempt to create a new repository according to the earlier thread.
    - No modules right now.
    - Dependencies on c-logging, c-modeler (which I think I will merge/simplify to util, as done with
      digester earlier), Ant, JDT, PureTLS and JavaMail. Maybe it is possible to add dummy sources
      for JavaMail to build without having to get the JAR, don't know about PureTLS.
    - Will require Java 5.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk@389146 13f79535-47bb-0310-9956-ffa450edef68
